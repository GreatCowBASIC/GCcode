/*! For license information please see extension.web.bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={47542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const r=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new r.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,r.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},79622:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(47542),t),o(n(92086),t),o(n(47390),t),o(n(99458),t),o(n(20176),t),o(n(47846),t),o(n(32533),t),o(n(57319),t)},92086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},47390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const r=t.split("\n"),o=[];let i=null;for(let t=0;t<r.length;t++){const s=r[t],a=0===s.indexOf(e.CODE_BLOCK_MARKER),c=null!=i;if(a||c)if(c)i&&(a?(i.endLine=t-1,o.push(i),i=null):i.code+=s+"\n");else{i=new n(t);const r=s.indexOf(e.CODE_BLOCK_MARKER),a=s.lastIndexOf(e.CODE_BLOCK_MARKER);r!==a&&(i.code=s.substring(r+e.CODE_BLOCK_MARKER.length,a),i.endLine=t,o.push(i),i=null)}}return o}}(t.MarkdownCodeBlocks||(t.MarkdownCodeBlocks={}))},99458:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var process=__webpack_require__(34155),__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(57319);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&process.argv)try{const cli=minimist_1.default(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const e in configData)"string"!=typeof configData[e]&&(configData[e]=JSON.stringify(configData[e]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,r;let o=getOption("baseUrl")||"/";const i=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),s=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),a="multiple-document"===i?"lab":"doc";o=url_1.URLExt.join(o,a),s!==PageConfig.defaultWorkspace&&(o=url_1.URLExt.join(o,"workspaces",encodeURIComponent(getOption("workspace"))));const c=null!==(r=e.treePath)&&void 0!==r?r:getOption("treePath");return c&&(o=url_1.URLExt.join(o,"tree",url_1.URLExt.encodeParts(c))),o}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const r=url_1.URLExt.encodeParts(e),o=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,r);return n?o+"?download=true":o}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let r="";return-1!==n&&(r=t.slice(0,n)),e.deferred.some((e=>e===t||r&&e===r))},e.isDisabled=function(t){const n=t.indexOf(":");let r="";return-1!==n&&(r=t.slice(0,n)),e.disabled.some((e=>e===t||r&&e===r))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig=exports.PageConfig||(exports.PageConfig={}))},20176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const r=n(26470);!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=r.posix.join(...e);return"."===n?"":t(n)},e.basename=function(e,t){return r.posix.basename(e,t)},e.dirname=function(e){const n=t(r.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return r.posix.extname(e)},e.normalize=function(e){return""===e?"":t(r.posix.normalize(e))},e.resolve=function(...e){return t(r.posix.resolve(...e))},e.relative=function(e,n){return t(r.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(t.PathExt||(t.PathExt={}))},47846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){const t="𝐚".length>1;e.jsIndexToCharIndex=function(e,n){if(t)return e;let r=e;for(let t=0;t+1<n.length&&t<e;t++){const e=n.charCodeAt(t);if(e>=55296&&e<=56319){const e=n.charCodeAt(t+1);e>=56320&&e<=57343&&(r--,t++)}}return r},e.charIndexToJsIndex=function(e,n){if(t)return e;let r=e;for(let e=0;e+1<n.length&&e<r;e++){const t=n.charCodeAt(e);if(t>=55296&&t<=56319){const t=n.charCodeAt(e+1);t>=56320&&t<=57343&&(r++,e++)}}return r},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,r){return r?r.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(t.Text||(t.Text={}))},32533:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const o=r(n(30381));var i;(i=t.Time||(t.Time={})).formatHuman=function(e){o.default.locale(document.documentElement.lang);let t=o.default(e).fromNow();return t="a few seconds ago"===t?"seconds ago":t,t},i.format=function(e,t="YYYY-MM-DD HH:mm"){return o.default(e).format(t)}},57319:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const o=n(26470),i=r(n(84564));!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return i.default(e)}function n(...e){const t=i.default(e[0],{}),n=`${t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,r=o.posix.join(`${n&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${n}${"."===r?"":r}`}e.parse=t,e.getHostName=function(e){return i.default(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,r]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(r||"")),e}),{})},e.isLocal=function(e){const{protocol:n}=t(e);return(!n||0!==e.toLowerCase().indexOf(n))&&0!==e.indexOf("/")}}(t.URLExt||(t.URLExt={}))},50591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const r=n(4016),o=n(28477);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new r.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._disposed.emit(void 0),r.Signal.clearData(this))}}},33227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const r=n(79622),o=n(28477);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings();const{baseUrl:n,appUrl:i}=this.serverSettings;this._url=r.URLExt.join(n,i,"api/build")}get isAvailable(){return"true"===r.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===r.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return o.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new o.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return o.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new o.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}, please run 'jupyter lab build' on the server for full output`;throw new o.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return o.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new o.ServerConnection.ResponseError(e)}))}}},95077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const r=n(79622),o=n(76240);(t.ConfigSection||(t.ConfigSection={})).create=function(e){const t=new i(e);return t.load().then((()=>t))};class i{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings();this._url=r.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await o.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status)throw await o.ServerConnection.ResponseError.create(e);this._data=await e.json()}async update(e){this._data=Object.assign(Object.assign({},this._data),e);const t={method:"PATCH",body:JSON.stringify(e)},n=await o.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status)throw await o.ServerConnection.ResponseError.create(n);return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},63644:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const s=n(79622),a=n(35259),c=n(4016),l=n(76240),u=i(n(65460));var d,p;(p=t.Contents||(t.Contents={})).validateContentsModel=function(e){u.validateContentsModel(e)},p.validateCheckpointModel=function(e){u.validateCheckpointModel(e)},t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new c.Signal(this);const r=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new h({serverSettings:r}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,c.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getModelDBFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.modelDBFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?s.PathExt.join(n.slice(1).join(":"),...t.slice(1)):s.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?s.PathExt.normalize(e):`${t[0]}:${s.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),r=this.localPath(e),o=s.PathExt.resolve("/",r,t);return n?`${n}:${o}`:o}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,r]=this._driveForPath(e);return n.get(r,t).then((e=>{const t=[];return"directory"===e.type&&e.content?(a.each(e.content,(e=>{t.push(Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,e.path)}))})),Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,r),content:t})):Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,r)})}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,r]=this._driveForPath(t);return n.newUntitled(Object.assign(Object.assign({},e),{path:r})).then((e=>Object.assign(Object.assign({},e),{path:s.PathExt.join(t,e.name)})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,r]=this._driveForPath(e),[o,i]=this._driveForPath(t);if(n!==o)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(r,i).then((e=>Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,i)})))}save(e,t={}){const n=this.normalize(e),[r,o]=this._driveForPath(e);return r.save(o,Object.assign(Object.assign({},t),{path:o})).then((e=>Object.assign(Object.assign({},e),{path:n})))}copy(e,t){const[n,r]=this._driveForPath(e),[o,i]=this._driveForPath(t);if(n===o)return n.copy(r,i).then((e=>Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,e.path)})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,r]=this._driveForPath(e);return n.restoreCheckpoint(r,t)}deleteCheckpoint(e,t){const[n,r]=this._driveForPath(e);return n.deleteCheckpoint(r,t)}_toGlobalPath(e,t){return e===this._defaultDrive?s.PathExt.removeSlash(t):`${e.name}:${s.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,r;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let o=null,i=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(o=Object.assign(Object.assign({},t.newValue),{path:this._toGlobalPath(e,t.newValue.path)})),(null===(r=t.oldValue)||void 0===r?void 0:r.path)&&(i=Object.assign(Object.assign({},t.oldValue),{path:this._toGlobalPath(e,t.oldValue.path)})),this._fileChanged.emit({type:t.type,newValue:o,oldValue:i})}}};class h{constructor(e={}){var t,n,r;this._isDisposed=!1,this._fileChanged=new c.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(r=e.serverSettings)&&void 0!==r?r:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,c.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",r=Object.assign(Object.assign({},t),{content:e});n+=s.URLExt.objectToQueryString(r)}const r=this.serverSettings,o=await l.ServerConnection.makeRequest(n,{},r);if(200!==o.status)throw await l.ServerConnection.ResponseError.create(o);const i=await o.json();return u.validateContentsModel(i),i}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=s.URLExt.join(t,"files",s.URLExt.encodeParts(e));const r=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(r){const e=new URL(n);e.searchParams.append("_xsrf",r[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=d.normalizeExtension(e.ext)),n=JSON.stringify(e));const r=this.serverSettings,o=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),i={method:"POST",body:n},s=await l.ServerConnection.makeRequest(o,i,r);if(201!==s.status)throw await l.ServerConnection.ResponseError.create(s);const a=await s.json();return u.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,r=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==r.status)throw await l.ServerConnection.ResponseError.create(r);this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,r=this._getUrl(e),o={method:"PATCH",body:JSON.stringify({path:t})},i=await l.ServerConnection.makeRequest(r,o,n);if(200!==i.status)throw await l.ServerConnection.ResponseError.create(i);const s=await i.json();return u.validateContentsModel(s),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:s}),s}async save(e,t={}){const n=this.serverSettings,r=this._getUrl(e),o={method:"PUT",body:JSON.stringify(t)},i=await l.ServerConnection.makeRequest(r,o,n);if(200!==i.status&&201!==i.status)throw await l.ServerConnection.ResponseError.create(i);const s=await i.json();return u.validateContentsModel(s),this._fileChanged.emit({type:"save",oldValue:null,newValue:s}),s}async copy(e,t){const n=this.serverSettings,r=this._getUrl(t),o={method:"POST",body:JSON.stringify({copy_from:e})},i=await l.ServerConnection.makeRequest(r,o,n);if(201!==i.status)throw await l.ServerConnection.ResponseError.create(i);const s=await i.json();return u.validateContentsModel(s),this._fileChanged.emit({type:"new",oldValue:null,newValue:s}),s}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status)throw await l.ServerConnection.ResponseError.create(n);const r=await n.json();return u.validateCheckpointModel(r),r}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status)throw await l.ServerConnection.ResponseError.create(n);const r=await n.json();if(!Array.isArray(r))throw new Error("Invalid Checkpoint list");for(let e=0;e<r.length;e++)u.validateCheckpointModel(r[e]);return r}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),r=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==r.status)throw await l.ServerConnection.ResponseError.create(r)}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),r=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==r.status)throw await l.ServerConnection.ResponseError.create(r)}_getUrl(...e){const t=e.map((e=>s.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return s.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=h,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(d||(d={}))},65460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const r=n(46901);t.validateContentsModel=function(e){r.validateProperty(e,"name","string"),r.validateProperty(e,"path","string"),r.validateProperty(e,"type","string"),r.validateProperty(e,"created","string"),r.validateProperty(e,"last_modified","string"),r.validateProperty(e,"mimetype","object"),r.validateProperty(e,"content","object"),r.validateProperty(e,"format","object")},t.validateCheckpointModel=function(e){r.validateProperty(e,"id","string"),r.validateProperty(e,"last_modified","string")}},76240:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(95077),t),o(n(63644),t),o(n(62604),t),o(n(12902),t),o(n(93079),t),o(n(28477),t),o(n(41874),t),o(n(92726),t),o(n(93247),t),o(n(45399),t),o(n(4574),t)},54500:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const s=n(70725),a=i(n(75253));class c extends s.DisposableDelegate{constructor(e,t,n,r){super(r),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const r=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(r,!1,!0)}send(e,t,n=[],r=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const o=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(o,!1,r)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const r=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),o=this._kernel.sendShellMessage(r,!1,!0),i=this._onClose;return i&&i(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n})),this.dispose(),o}}t.CommHandler=c},19883:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const s=n(79622),a=n(95082),c=n(4016),l=n(76240),u=n(54500),d=i(n(75253)),p=n(38707),h=i(n(86002)),f=i(n(96512)),g=n(12902),m=i(n(2183)),y="_RESTARTING_";class v{constructor(e){var t,n,r,o;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this.serverSettings,t=s.URLExt.join(e.wsUrl,m.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),n=t.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${n}`);let r=s.URLExt.join(t,"channels?session_id="+encodeURIComponent(this._clientId));const o=e.token;e.appendToken&&""!==o&&(r+=`&token=${encodeURIComponent(o)}`),this._ws=new e.WebSocket(r),this._ws.binaryType="arraybuffer",this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSOpen=e=>{this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=h.deserialize(e.data),f.validateMessage(t)}catch(e){throw e.message=`Kernel message validation error: ${e.message}`,e}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new c.Signal(this),this._connectionStatusChanged=new c.Signal(this),this._disposed=new c.Signal(this),this._iopubMessage=new c.Signal(this),this._anyMessage=new c.Signal(this),this._unhandledMessage=new c.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(r=e.username)&&void 0!==r?r:"",this.handleComms=null===(o=e.handleComms)||void 0===o||o,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return{id:this.id,name:this.name}}get anyMessage(){return this._anyMessage}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=g.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new v(Object.assign({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1},e))}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),c.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(p.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(p.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,r=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const o=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const r=n.indexOf(e);if(-1===r)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(r,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,r,this);return this._futures.set(t.header.msg_id,o),o}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===y)&&d.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send(h.serialize(e));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==y)this._ws.send(h.serialize(e));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if("dead"===this.status)throw new Error("Kernel is dead");return m.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=y,await m.restartKernel(this.id,this.serverSettings),await this.reconnect()}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,r)=>{"connected"===r?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===r&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await m.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=d.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await b.handleShellMessage(this,e)}catch(e){if(this.isDisposed)return;throw e}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=d.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestInspect(e){const t=d.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestHistory(e){const t=d.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const r=d.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:Object.assign(Object.assign({},{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1}),e),metadata:n});return this.sendShellMessage(r,!0,t)}requestDebug(e,t=!0){const n=d.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=d.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestCommInfo(e){const t=d.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}sendInputReply(e){const t=d.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"})}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const r=null===(n=this._futures)||void 0===n?void 0:n.get(e);r&&r.registerMessageHook(t)}removeMessageHook(e,t){var n;const r=null===(n=this._futures)||void 0===n?void 0:n.get(e);r&&r.removeMessageHook(t)}async _handleDisplayId(e,t){var n,r;const o=t.parent_header.msg_id;let i=this._displayIdToParentIds.get(e);if(i){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(i.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;i=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===i.indexOf(o)&&i.push(o),this._displayIdToParentIds.set(e,i);const s=null!==(r=this._msgIdToDisplayIds.get(o))&&void 0!==r?r:[];return-1===s.indexOf(o)&&s.push(o),this._msgIdToDisplayIds.set(o,s),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,b.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==y&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const r=await b.loadObject(t.target_name,t.target_module,this._targetRegistry);await r(n,e)}catch(e){throw n.close(),console.error("Exception opening new comm"),e}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const r=n.onClose;r&&await r(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const r=n.onMsg;r&&await r(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===y,t=this.requestKernelInfo(),n=!1,r=()=>{n||(n=!0,e&&this._kernelSession===y&&(this._kernelSession=""),clearTimeout(o),this._pendingMessages.length>0&&this._sendPending())};t.then(r);let o=setTimeout(r,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let r=!1;if(e.parent_header&&"iopub"===e.channel&&(d.isDisplayDataMsg(e)||d.isUpdateDisplayDataMsg(e)||d.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(r=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!r&&e.parent_header){const t=e.parent_header,r=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(r)await r.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=b.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}}var b;t.KernelConnection=v,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((r,o)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{void 0===n[e]?o(new Error(`Object '${e}' not found in module '${t}'`)):r(n[e])}),o)}else(null==n?void 0:n[e])?r(n[e]):o(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(b||(b={}))},38707:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const s=n(95082),a=n(70725),c=i(n(75253));class l extends a.DisposableDelegate{constructor(e,t,n,r,o){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new s.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=r,this._kernel=o}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e){this._kernel.sendInputReply(e)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),c.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}var u;t.KernelFutureHandler=l,t.KernelControlFutureHandler=class extends l{},t.KernelShellFutureHandler=class extends l{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new s.PromiseDelegate;let n;this._processing=t.promise;for(let r=this._hooks.length-1;r>=0;r--){const o=this._hooks[r];if(null!==o){try{n=await o(e)}catch(e){n=!0,console.error(e)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},62604:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=i(n(38868));t.Kernel=a;const c=i(n(75253));t.KernelMessage=c;const l=i(n(2183));t.KernelAPI=l,s(n(71825),t)},38868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const r=n(35259),o=n(23114),i=n(4016),s=n(76240),a=n(50591),c=n(2183),l=n(19883);class u extends a.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._pollModels=new o.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let r=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const e of this._kernelConnections)if(e.id===n&&e.handleComms){r=!1;break}const o=new l.KernelConnection(Object.assign(Object.assign({handleComms:r},e),{serverSettings:this.serverSettings}));return this._onStarted(o),this._models.has(n)||this.refreshRunning().catch((()=>{})),o}running(){return r.iter([...this._models.values()])}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await c.startNew(e,this.serverSettings);return this.connectTo(Object.assign(Object.assign({},t),{model:n}))}async shutdown(e){await c.shutdownKernel(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>c.shutdownKernel(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await c.listRunning(this.serverSettings)}catch(n){throw(n instanceof s.ServerConnection.NetworkError||503===(null===(e=n.response)||void 0===e?void 0:e.status)||424===(null===(t=n.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(n),n}this.isDisposed||this._models.size===n.length&&r.every(n,(e=>{const t=this._models.get(e.id);return!!t&&t.name===e.name}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=u},75253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const r=n(95082);t.createMessage=function(e){var t,n,o,i,s;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:r.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(o=e.username)&&void 0!==o?o:"",version:"5.2"},metadata:null!==(i=e.metadata)&&void 0!==i?i:{},parent_header:null!==(s=e.parentHeader)&&void 0!==s?s:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type}},2183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const r=n(28477),o=n(79622),i=n(96512);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=r.ServerConnection.makeSettings()){const n=o.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),s=await r.ServerConnection.makeRequest(n,{},e);if(200!==s.status)throw await r.ServerConnection.ResponseError.create(s);const a=await s.json();return i.validateModels(a),a},t.startNew=async function(e={},n=r.ServerConnection.makeSettings()){const s=o.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},c=await r.ServerConnection.makeRequest(s,a,n);if(201!==c.status)throw await r.ServerConnection.ResponseError.create(c);const l=await c.json();return i.validateModel(l),l},t.restartKernel=async function(e,n=r.ServerConnection.makeSettings()){const s=o.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await r.ServerConnection.makeRequest(s,{method:"POST"},n);if(200!==a.status)throw await r.ServerConnection.ResponseError.create(a);const c=await a.json();i.validateModel(c)},t.interruptKernel=async function(e,n=r.ServerConnection.makeSettings()){const i=o.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),s=await r.ServerConnection.makeRequest(i,{method:"POST"},n);if(204!==s.status)throw await r.ServerConnection.ResponseError.create(s)},t.shutdownKernel=async function(e,n=r.ServerConnection.makeSettings()){const i=o.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),s=await r.ServerConnection.makeRequest(i,{method:"DELETE"},n);if(404===s.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==s.status)throw await r.ServerConnection.ResponseError.create(s)},t.getKernelModel=async function(e,n=r.ServerConnection.makeSettings()){const s=o.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await r.ServerConnection.makeRequest(s,{},n);if(404===a.status)return;if(200!==a.status)throw await r.ServerConnection.ResponseError.create(a);const c=await a.json();return i.validateModel(c),c}},86002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.deserialize=void 0,t.deserialize=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),r=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let e=1;e<=n;e++)r.push(t.getUint32(4*e));const o=new Uint8Array(e.slice(r[0],r[1])),i=JSON.parse(new TextDecoder("utf8").decode(o));i.buffers=[];for(let t=1;t<n;t++){const n=r[t],o=r[t+1]||e.byteLength;i.buffers.push(new DataView(e.slice(n,o)))}return i}(e),t},t.serialize=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],r=new TextEncoder;let o=[];void 0!==e.buffers&&(o=e.buffers,delete e.buffers);const i=r.encode(JSON.stringify(e));n.push(i.buffer);for(let e=0;e<o.length;e++){const t=o[e];n.push(ArrayBuffer.isView(t)?t.buffer:t)}const s=n.length;t.push(4*(s+1));for(let e=0;e+1<n.length;e++)t.push(t[t.length-1]+n[e].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),c=new DataView(a.buffer);c.setUint32(0,s);for(let e=0;e<t.length;e++)c.setUint32(4*(e+1),t[e]);for(let e=0;e<n.length;e++)a.set(new Uint8Array(n[e]),t[e]);return a.buffer}(e):JSON.stringify(e),n}},96512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const r=n(46901),o=["username","version","session","msg_id","msg_type"],i={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function s(e){r.validateProperty(e,"name","string"),r.validateProperty(e,"id","string")}t.validateMessage=function(e){r.validateProperty(e,"metadata","object"),r.validateProperty(e,"content","object"),r.validateProperty(e,"channel","string"),function(e){for(let t=0;t<o.length;t++)r.validateProperty(e,o[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=i[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),o=e.content;for(let e=0;e<n.length;e++){let i=t[n[e]];Array.isArray(i)||(i=[i]),r.validateProperty(o,n[e],...i)}}}(e)},t.validateModel=s,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>s(e)))}},12902:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=i(n(79453));t.KernelSpec=a;const c=i(n(33415));t.KernelSpecAPI=c,s(n(54936),t)},79453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},54936:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const s=n(95082),a=n(23114),c=n(4016),l=i(n(33415)),u=n(50591);class d extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new c.Signal(this),this._specs=null,this._specsChanged=new c.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await l.getSpecs(this.serverSettings);this.isDisposed||s.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=d},33415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const r=n(28477),o=n(73103),i=n(79622);t.getSpecs=async function(e=r.ServerConnection.makeSettings()){const t=i.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await r.ServerConnection.makeRequest(t,{},e);if(200!==n.status)throw await r.ServerConnection.ResponseError.create(n);const s=await n.json();return o.validateSpecModels(s)}},73103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const r=n(46901);function o(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");r.validateProperty(e,"name","string"),r.validateProperty(e,"resources","object"),r.validateProperty(t,"language","string"),r.validateProperty(t,"display_name","string"),r.validateProperty(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&(r.validateProperty(t,"metadata","object"),n=t.metadata);let o=null;return t.hasOwnProperty("env")&&(r.validateProperty(t,"env","object"),o=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:o}}t.validateSpecModel=o,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let r=e.default;for(let r=0;r<t.length;r++){const i=e.kernelspecs[t[r]];try{n[t[r]]=o(i)}catch(e){console.warn(`Removing errant kernel spec: ${t[r]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return r&&"string"==typeof r&&r in n||(r=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:r,kernelspecs:n}}},93079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const r=n(4016),o=n(33227),i=n(4574),s=n(63644),a=n(12902),c=n(41874),l=n(92726),u=n(93247),d=n(28477),p=n(45399),h=n(62604);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new r.Signal(this),this._isReady=!1;const f=e.defaultDrive,g=null!==(t=e.serverSettings)&&void 0!==t?t:d.ServerConnection.makeSettings(),m={defaultDrive:f,serverSettings:g,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"},y=new h.KernelManager(m);this.serverSettings=g,this.contents=new s.ContentsManager(m),this.sessions=new c.SessionManager(Object.assign(Object.assign({},m),{kernelManager:y})),this.settings=new l.SettingManager(m),this.terminals=new u.TerminalManager(m),this.builder=new o.BuildManager(m),this.workspaces=new p.WorkspaceManager(m),this.nbconvert=new i.NbConvertManager(m),this.kernelspecs=new a.KernelSpecManager(m),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const v=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&v.push(this.terminals.ready),this._readyPromise=Promise.all(v).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this.contents.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},4574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const r=n(79622),o=n(28477);t.NbConvertManager=class{constructor(e={}){var t;this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings()}async getExportFormats(){const e=this.serverSettings.baseUrl,t=r.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,i=await o.ServerConnection.makeRequest(t,{},n);if(200!==i.status)throw await o.ServerConnection.ResponseError.create(i);const s=await i.json(),a={};return Object.keys(s).forEach((function(e){const t=s[e].output_mimetype;a[e]={output_mimetype:t}})),a}}},28477:(e,t,n)=>{"use strict";var r,o,i,s=n(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const a=n(79622);let c,l,u,d;if("undefined"==typeof window){const e=n(21763);c=null!==(r=n.g.fetch)&&void 0!==r?r:e,u=null!==(o=n.g.Request)&&void 0!==o?o:e.Request,l=null!==(i=n.g.Headers)&&void 0!==i?i:e.Headers,d=n(12447)}else c=fetch,u=Request,l=Headers,d=WebSocket;var p,h;!function(e){e.makeSettings=function(e){return h.makeSettings(e)},e.makeRequest=function(e,t,n){return h.handleRequest(e,t,n)};class t extends Error{constructor(e,t=`Invalid response: ${e.status} ${e.statusText}`,n=""){super(t),this.response=e,this.traceback=n}static async create(e){try{const n=await e.json();return n.traceback&&console.error(n.traceback),n.message?new t(e,n.message):new t(e)}catch(n){return console.debug(n),new t(e)}}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(p=t.ServerConnection||(t.ServerConnection={})),function(e){e.makeSettings=function(e={}){const t=a.PageConfig.getBaseUrl(),n=a.PageConfig.getWsUrl(),r=a.URLExt.normalize(e.baseUrl)||t;let o=e.wsUrl;return o||r!==t||(o=n),o||0!==r.indexOf("http")||(o="ws"+r.slice(4)),o=null!=o?o:n,Object.assign(Object.assign({init:{cache:"no-store",credentials:"same-origin"},fetch:c,Headers:l,Request:u,WebSocket:d,token:a.PageConfig.getToken(),appUrl:a.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||void 0!==s.env.JEST_WORKER_ID||a.URLExt.getHostName(t)!==a.URLExt.getHostName(o)},e),{baseUrl:r,wsUrl:o})},e.handleRequest=function(e,t,n){var r;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(r=t.cache)&&void 0!==r?r:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const o=new n.Request(e,Object.assign(Object.assign({},n.init),t));let i=!1;if(n.token&&(i=!0,o.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b_xsrf=([^;]*)\\b");return null==t?void 0:t[1]}();void 0!==e&&(i=!0,o.headers.append("X-XSRFToken",e))}return!o.headers.has("Content-Type")&&i&&o.headers.set("Content-Type","application/json"),n.fetch.call(null,o).catch((e=>{throw new p.NetworkError(e)}))}}(h||(h={}))},35410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const r=n(4016),o=n(76240),i=n(56807),s=n(95082);t.SessionConnection=class{constructor(e){var t,n,i,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new r.Signal(this),this._kernelChanged=new r.Signal(this),this._statusChanged=new r.Signal(this),this._connectionStatusChanged=new r.Signal(this),this._iopubMessage=new r.Signal(this),this._unhandledMessage=new r.Signal(this),this._anyMessage=new r.Signal(this),this._propertyChanged=new r.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:s.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(i=e.kernelConnectionOptions)&&void 0!==i?i:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:o.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}r.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await i.shutdownSession(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel(Object.assign(Object.assign({},this._kernelConnectionOptions),{model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings}));this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await i.updateSession(Object.assign(Object.assign({},e),{id:this._id}),this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},41874:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=i(n(11372));t.Session=a;const c=i(n(56807));t.SessionAPI=c,s(n(57847),t)},57847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const r=n(35259),o=n(23114),i=n(4016),s=n(28477),a=n(50591),c=n(35410),l=n(56807);class u extends a.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new o.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new c.SessionConnection(Object.assign(Object.assign({},e),{connectToKernel:this._connectToKernel,serverSettings:this.serverSettings}));return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return r.iter([...this._models.values()])}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await l.startSession(e,this.serverSettings);return await this.refreshRunning(),this.connectTo(Object.assign(Object.assign({},t),{model:n}))}async shutdown(e){await l.shutdownSession(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>l.shutdownSession(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await l.listRunning(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(e){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await l.listRunning(this.serverSettings)}catch(n){throw(n instanceof s.ServerConnection.NetworkError||503===(null===(e=n.response)||void 0===e?void 0:e.status)||424===(null===(t=n.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(n),n}this.isDisposed||this._models.size===n.length&&r.every(n,(e=>{var t,n,r,o;const i=this._models.get(e.id);return!!i&&(null===(t=i.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(r=i.kernel)||void 0===r?void 0:r.name)===(null===(o=e.kernel)||void 0===o?void 0:o.name)&&i.name===e.name&&i.path===e.path&&i.type===e.type}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=u},56807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const r=n(28477),o=n(79622),i=n(29145);function s(e,n){return o.URLExt.join(e,t.SESSION_SERVICE_URL,n)}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=r.ServerConnection.makeSettings()){const n=o.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),s=await r.ServerConnection.makeRequest(n,{},e);if(200!==s.status)throw await r.ServerConnection.ResponseError.create(s);const a=await s.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{i.updateLegacySessionModel(e),i.validateModel(e)})),a},t.getSessionUrl=s,t.shutdownSession=async function(e,t=r.ServerConnection.makeSettings()){var n;const o=s(t.baseUrl,e),i=await r.ServerConnection.makeRequest(o,{method:"DELETE"},t);if(404===i.status){const t=null!==(n=(await i.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===i.status)throw new r.ServerConnection.ResponseError(i,"The kernel was deleted but the session was not");if(204!==i.status)throw await r.ServerConnection.ResponseError.create(i)}},t.getSessionModel=async function(e,t=r.ServerConnection.makeSettings()){const n=s(t.baseUrl,e),o=await r.ServerConnection.makeRequest(n,{},t);if(200!==o.status)throw await r.ServerConnection.ResponseError.create(o);const a=await o.json();return i.updateLegacySessionModel(a),i.validateModel(a),a},t.startSession=async function(e,n=r.ServerConnection.makeSettings()){const s=o.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},c=await r.ServerConnection.makeRequest(s,a,n);if(201!==c.status)throw await r.ServerConnection.ResponseError.create(c);const l=await c.json();return i.updateLegacySessionModel(l),i.validateModel(l),l},t.updateSession=async function(e,t=r.ServerConnection.makeSettings()){const n=s(t.baseUrl,e.id),o={method:"PATCH",body:JSON.stringify(e)},a=await r.ServerConnection.makeRequest(n,o,t);if(200!==a.status)throw await r.ServerConnection.ResponseError.create(a);const c=await a.json();return i.updateLegacySessionModel(c),i.validateModel(c),c}},11372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const r=n(96512),o=n(46901);function i(e){o.validateProperty(e,"id","string"),o.validateProperty(e,"type","string"),o.validateProperty(e,"name","string"),o.validateProperty(e,"path","string"),o.validateProperty(e,"kernel","object"),r.validateModel(e.kernel)}t.validateModel=i,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>i(e)))}},92726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const r=n(79622),o=n(17266),i=n(28477);class s extends o.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:o,ResponseError:s}=i.ServerConnection,c=n+r,l=a.url(c,e),u=await o(l,{},t);if(200!==u.status)throw await s.create(u);return u.json()}async list(){var e,t;const{serverSettings:n}=this,{baseUrl:r,appUrl:o}=n,{makeRequest:s,ResponseError:c}=i.ServerConnection,l=r+o,u=a.url(l,""),d=await s(u,{},n);if(200!==d.status)throw new c(d);const p=await d.json(),h=null!==(t=null===(e=null==p?void 0:p.settings)||void 0===e?void 0:e.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==t?t:[];return{ids:h.map((e=>e.id)),values:h}}async save(e,t){const{serverSettings:n}=this,{baseUrl:r,appUrl:o}=n,{makeRequest:s,ResponseError:c}=i.ServerConnection,l=r+o,u=a.url(l,e),d={body:JSON.stringify({raw:t}),method:"PUT"},p=await s(u,d,n);if(204!==p.status)throw new c(p)}}var a;t.SettingManager=s,function(e){e.url=function(e,t){return r.URLExt.join(e,"api/settings",t)}}(a||(a={}))},12447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},71146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const r=n(79622),o=n(95082),i=n(4016),s=n(76240),a=n(43286);class c{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=r.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const o=t.token;t.appendToken&&""!==o&&(n+=`?token=${encodeURIComponent(o)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new i.Signal(this),this._isDisposed=!1,this._disposed=new i.Signal(this),this._messageReceived=new i.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:s.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),i.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new o.PromiseDelegate,t=(n,r)=>{"connected"===r?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===r&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=l.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await a.shutdownTerminal(this.name,this.serverSettings),this.dispose()}clone(){return new c(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var l;t.TerminalConnection=c,function(e){e.getTermUrl=function(e,t){return r.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(l||(l={}))},93247:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=i(n(58353));t.Terminal=a;const c=i(n(43286));t.TerminalAPI=c,s(n(61546),t)},61546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const r=n(35259),o=n(23114),i=n(4016),s=n(76240),a=n(50591),c=n(43286),l=n(71146);class u extends a.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new o.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return c.isAvailable()}connectTo(e){const t=new l.TerminalConnection(Object.assign(Object.assign({},e),{serverSettings:this.serverSettings}));return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return r.iter(this._models)}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(){const e=await c.startNew(this.serverSettings);return await this.refreshRunning(),this.connectTo({model:e})}async shutdown(e){await c.shutdownTerminal(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>c.shutdownTerminal(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await c.listRunning(this.serverSettings)}catch(n){throw(n instanceof s.ServerConnection.NetworkError||503===(null===(e=n.response)||void 0===e?void 0:e.status)||424===(null===(t=n.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(n),n}if(this.isDisposed)return;const r=n.map((({name:e})=>e)).sort();r!==this._names&&(this._names=r,this._terminalConnections.forEach((e=>{r.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=u},43286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const r=n(79622),o=n(28477);function i(){return"true"===String(r.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var s;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=i,t.startNew=async function(e=o.ServerConnection.makeSettings()){s.errorIfNotAvailable();const n=r.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),i=await o.ServerConnection.makeRequest(n,{method:"POST"},e);if(200!==i.status)throw await o.ServerConnection.ResponseError.create(i);return await i.json()},t.listRunning=async function(e=o.ServerConnection.makeSettings()){s.errorIfNotAvailable();const n=r.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),i=await o.ServerConnection.makeRequest(n,{},e);if(200!==i.status)throw await o.ServerConnection.ResponseError.create(i);const a=await i.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=o.ServerConnection.makeSettings()){var i;s.errorIfNotAvailable();const a=r.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL,e),c=await o.ServerConnection.makeRequest(a,{method:"DELETE"},n);if(404===c.status){const t=null!==(i=(await c.json()).message)&&void 0!==i?i:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==c.status)throw await o.ServerConnection.ResponseError.create(c)},function(e){e.errorIfNotAvailable=function(){if(!i())throw new Error("Terminals Unavailable")}}(s||(s={}))},58353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const r=n(43286);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return r.isAvailable}})},46901:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,r=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const o=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(o);break;case"object":e=void 0!==o;break;default:e=typeof o===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(r.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=r.includes(o);break;default:e=r.findIndex((e=>e===o))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(r)}`)}}}},45399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const r=n(79622),o=n(17266),i=n(28477);class s extends o.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:o,ResponseError:s}=i.ServerConnection,c=n+r,l=a.url(c,e),u=await o(l,{},t);if(200!==u.status)throw await s.create(u);return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:r,ResponseError:o}=i.ServerConnection,s=t+n,c=a.url(s,""),l=await r(c,{},e);if(200!==l.status)throw await o.create(l);return(await l.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:o,ResponseError:s}=i.ServerConnection,c=n+r,l=a.url(c,e),u=await o(l,{method:"DELETE"},t);if(204!==u.status)throw await s.create(u)}async save(e,t){const{serverSettings:n}=this,{baseUrl:r,appUrl:o}=n,{makeRequest:s,ResponseError:c}=i.ServerConnection,l=r+o,u=a.url(l,e),d={body:JSON.stringify(t),method:"PUT"},p=await s(u,d,n);if(204!==p.status)throw await c.create(p)}}var a;t.WorkspaceManager=s,function(e){e.url=function(e,t){return r.URLExt.join(e,"api/workspaces",t)}}(a||(a={}))},89525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConnector=void 0,t.DataConnector=class{async list(e){throw new Error("DataConnector#list method has not been implemented.")}async remove(e){throw new Error("DataConnector#remove method has not been implemented.")}async save(e,t){throw new Error("DataConnector#save method has not been implemented.")}}},17266:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(89525),t),o(n(14623),t),o(n(51156),t),o(n(64962),t),o(n(7263),t)},14623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},51156:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestorablePool=void 0;const r=n(95082),o=n(39770),i=n(4016);var s;t.RestorablePool=class{constructor(e){this._added=new i.Signal(this),this._current=null,this._currentChanged=new i.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new r.PromiseDelegate,this._updated=new i.Signal(this),this.namespace=e.namespace}get added(){return this._added}get current(){return this._current}set current(e){this._current!==e&&null!==e&&this._objects.has(e)&&(this._current=e,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(e){var t,n;if(e.isDisposed){const t="A disposed object cannot be added.";throw console.warn(t,e),new Error(t)}if(this._objects.has(e)){const t="This object already exists in the pool.";throw console.warn(t,e),new Error(t)}if(this._objects.add(e),e.disposed.connect(this._onInstanceDisposed,this),!s.injectedProperty.get(e)){if(this._restore){const{connector:r}=this._restore,o=this._restore.name(e);if(o){const i=`${this.namespace}:${o}`,a=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);s.nameProperty.set(e,i),await r.save(i,{data:a})}}this._added.emit(e)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),i.Signal.clearData(this))}find(e){const t=this._objects.values();for(const n of t)if(e(n))return n}forEach(e){this._objects.forEach(e)}filter(e){const t=[];return this.forEach((n=>{e(n)&&t.push(n)})),t}inject(e){return s.injectedProperty.set(e,!0),this.add(e)}has(e){return this._objects.has(e)}async restore(e){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:t,connector:n,registry:r,when:o}=e,i=this.namespace,s=o?[n.list(i)].concat(o):[n.list(i)];this._restore=e;const[a]=await Promise.all(s),c=await Promise.all(a.ids.map((async(e,o)=>{const i=a.values[o],s=i&&i.data;return void 0===s?n.remove(e):r.execute(t,s).catch((()=>n.remove(e)))})));return this._restored.resolve(),c}async save(e){var t,n;const r=s.injectedProperty.get(e);if(!this._restore||!this.has(e)||r)return;const{connector:o}=this._restore,i=this._restore.name(e),a=s.nameProperty.get(e),c=i?`${this.namespace}:${i}`:"";if(a&&a!==c&&await o.remove(a),s.nameProperty.set(e,c),c){const r=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);await o.save(c,{data:r})}a!==c&&this._updated.emit(e)}_onInstanceDisposed(e){if(this._objects.delete(e),e===this._current&&(this._current=null,this._currentChanged.emit(this._current)),s.injectedProperty.get(e))return;if(!this._restore)return;const{connector:t}=this._restore,n=s.nameProperty.get(e);n&&t.remove(n)}},function(e){e.injectedProperty=new o.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new o.AttachedProperty({name:"name",create:()=>""})}(s||(s={}))},64962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateDB=void 0;const r=n(4016);class o{constructor(e={}){this._changed=new r.Signal(this);const{connector:t,transform:n}=e;this._connector=t||new o.Connector,this._ready=n?n.then((e=>{const{contents:t,type:n}=e;switch(n){case"cancel":default:return;case"clear":return this._clear();case"merge":return this._merge(t||{});case"overwrite":return this._overwrite(t||{})}})):Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(e){return await this._ready,this._fetch(e)}async list(e){return await this._ready,this._list(e)}async remove(e){await this._ready,await this._remove(e),this._changed.emit({id:e,type:"remove"})}async save(e,t){await this._ready,await this._save(e,t),this._changed.emit({id:e,type:"save"})}async toJSON(){await this._ready;const{ids:e,values:t}=await this._list();return t.reduce(((t,n,r)=>(t[e[r]]=n,t)),{})}async _clear(){await Promise.all((await this._list()).ids.map((e=>this._remove(e))))}async _fetch(e){const t=await this._connector.fetch(e);if(t)return JSON.parse(t).v}async _list(e=""){const{ids:t,values:n}=await this._connector.list(e);return{ids:t,values:n.map((e=>JSON.parse(e).v))}}async _merge(e){await Promise.all(Object.keys(e).map((t=>e[t]&&this._save(t,e[t]))))}async _overwrite(e){await this._clear(),await this._merge(e)}async _remove(e){return this._connector.remove(e)}async _save(e,t){return this._connector.save(e,JSON.stringify({v:t}))}}t.StateDB=o,function(e){e.Connector=class{constructor(){this._storage={}}async fetch(e){return this._storage[e]}async list(e=""){return Object.keys(this._storage).reduce(((t,n)=>(""!==e&&e!==n.split(":")[0]||(t.ids.push(n),t.values.push(this._storage[n])),t)),{ids:[],values:[]})}async remove(e){delete this._storage[e]}async save(e,t){this._storage[e]=t}}}(o=t.StateDB||(t.StateDB={}))},7263:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStateDB=void 0;const r=n(95082);t.IStateDB=new r.Token("@jupyterlab/coreutils:IStateDB")},35259:(e,t,n)=>{"use strict";var r;function o(e){return"function"==typeof e.iter?e.iter():new f(e)}function i(e){return new g(e)}function s(e){return new m(e)}function a(e){return new y(e)}function c(e){return new v(e)}function l(e,t){for(var n,r=0,i=o(e);void 0!==(n=i.next());)if(!1===t(n,r++))return}function u(e,t){for(var n,r=0,i=o(e);void 0!==(n=i.next());)if(!t(n,r++))return!1;return!0}function d(e,t){for(var n,r=0,i=o(e);void 0!==(n=i.next());)if(t(n,r++))return!0;return!1}function p(e){for(var t,n=0,r=[],i=o(e);void 0!==(t=i.next());)r[n++]=t;return r}function h(e){for(var t,n=o(e),r={};void 0!==(t=n.next());)r[t[0]]=t[1];return r}n.r(t),n.d(t,{ArrayExt:()=>r,ArrayIterator:()=>f,ChainIterator:()=>S,EmptyIterator:()=>C,EnumerateIterator:()=>_,FilterIterator:()=>E,FnIterator:()=>v,ItemIterator:()=>y,KeyIterator:()=>g,MapIterator:()=>N,RangeIterator:()=>R,RepeatIterator:()=>K,RetroArrayIterator:()=>V,StrideIterator:()=>q,StringExt:()=>J,TakeIterator:()=>G,ValueIterator:()=>m,ZipIterator:()=>Y,chain:()=>b,each:()=>l,empty:()=>w,enumerate:()=>k,every:()=>u,filter:()=>I,find:()=>P,findIndex:()=>D,iter:()=>o,iterFn:()=>c,iterItems:()=>a,iterKeys:()=>i,iterValues:()=>s,map:()=>M,max:()=>x,min:()=>T,minmax:()=>j,once:()=>U,range:()=>O,reduce:()=>L,repeat:()=>F,retro:()=>W,some:()=>d,stride:()=>H,take:()=>$,toArray:()=>p,toObject:()=>h,topologicSort:()=>B,zip:()=>z}),function(e){function t(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o,i=e.length;if(0===i)return-1;n=n<0?Math.max(0,n+i):Math.min(n,i-1),o=(r=r<0?Math.max(0,r+i):Math.min(r,i-1))<n?r+1+(i-n):r-n+1;for(var s=0;s<o;++s){var a=(n+s)%i;if(e[a]===t)return a}return-1}function n(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var o,i=e.length;if(0===i)return-1;o=(n=n<0?Math.max(0,n+i):Math.min(n,i-1))<(r=r<0?Math.max(0,r+i):Math.min(r,i-1))?n+1+(i-r):n-r+1;for(var s=0;s<o;++s){var a=(n-s+i)%i;if(e[a]===t)return a}return-1}function r(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o,i=e.length;if(0===i)return-1;n=n<0?Math.max(0,n+i):Math.min(n,i-1),o=(r=r<0?Math.max(0,r+i):Math.min(r,i-1))<n?r+1+(i-n):r-n+1;for(var s=0;s<o;++s){var a=(n+s)%i;if(t(e[a],a))return a}return-1}function o(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var o,i=e.length;if(0===i)return-1;o=(n=n<0?Math.max(0,n+i):Math.min(n,i-1))<(r=r<0?Math.max(0,r+i):Math.min(r,i-1))?n+1+(i-r):n-r+1;for(var s=0;s<o;++s){var a=(n-s+i)%i;if(t(e[a],a))return a}return-1}function i(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var r=e.length;if(!(r<=1))for(t=t<0?Math.max(0,t+r):Math.min(t,r-1),n=n<0?Math.max(0,n+r):Math.min(n,r-1);t<n;){var o=e[t],i=e[n];e[t++]=i,e[n--]=o}}function s(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var r=e[t],o=t+1;o<n;++o)e[o-1]=e[o];return e.length=n-1,r}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=r,e.findLastIndex=o,e.findFirstValue=function(e,t,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var i=r(e,t,n,o);return-1!==i?e[i]:void 0},e.findLastValue=function(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i=o(e,t,n,r);return-1!==i?e[i]:void 0},e.lowerBound=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=-1);var i=e.length;if(0===i)return 0;for(var s=r=r<0?Math.max(0,r+i):Math.min(r,i-1),a=(o=o<0?Math.max(0,o+i):Math.min(o,i-1))-r+1;a>0;){var c=a>>1,l=s+c;n(e[l],t)<0?(s=l+1,a-=c+1):a=c}return s},e.upperBound=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=-1);var i=e.length;if(0===i)return 0;for(var s=r=r<0?Math.max(0,r+i):Math.min(r,i-1),a=(o=o<0?Math.max(0,o+i):Math.min(o,i-1))-r+1;a>0;){var c=a>>1,l=s+c;n(e[l],t)>0?a=c:(s=l+1,a-=c+1)}return s},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;++r)if(n?!n(e[r],t[r]):e[r]!==t[r])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,r=t.stop,o=t.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var i,s=e.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===r?r=o<0?-1:s:r<0?r=Math.max(r+s,o<0?-1:0):r>=s&&(r=o<0?s-1:s),i=o<0&&r>=n||o>0&&n>=r?0:o<0?Math.floor((r-n+1)/o+1):Math.floor((r-n-1)/o+1);for(var a=[],c=0;c<i;++c)a[c]=e[n+c*o];return a},e.move=function(e,t,n){var r=e.length;if(!(r<=1)&&(t=t<0?Math.max(0,t+r):Math.min(t,r-1))!==(n=n<0?Math.max(0,n+r):Math.min(n,r-1))){for(var o=e[t],i=t<n?1:-1,s=t;s!==n;s+=i)e[s]=e[s+i];e[n]=o}},e.reverse=i,e.rotate=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o=e.length;if(!(o<=1||(n=n<0?Math.max(0,n+o):Math.min(n,o-1))>=(r=r<0?Math.max(0,r+o):Math.min(r,o-1)))){var s=r-n+1;if(t>0?t%=s:t<0&&(t=(t%s+s)%s),0!==t){var a=n+t;i(e,n,a-1),i(e,a,r),i(e,n,r)}}},e.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o=e.length;if(0!==o){var i;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var s=0;s<i;++s)e[(n+s)%o]=t}},e.insert=function(e,t,n){var r=e.length;t=t<0?Math.max(0,t+r):Math.min(t,r);for(var o=r;o>t;--o)e[o]=e[o-1];e[t]=n},e.removeAt=s,e.removeFirstOf=function(e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=-1);var i=t(e,n,r,o);return-1!==i&&s(e,i),i},e.removeLastOf=function(e,t,r,o){void 0===r&&(r=-1),void 0===o&&(o=0);var i=n(e,t,r,o);return-1!==i&&s(e,i),i},e.removeAllOf=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o=e.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=r<0?Math.max(0,r+o):Math.min(r,o-1);for(var i=0,s=0;s<o;++s)n<=r&&s>=n&&s<=r&&e[s]===t||r<n&&(s<=r||s>=n)&&e[s]===t?i++:i>0&&(e[s-i]=e[s]);return i>0&&(e.length=o-i),i},e.removeFirstWhere=function(e,t,n,o){var i;void 0===n&&(n=0),void 0===o&&(o=-1);var a=r(e,t,n,o);return-1!==a&&(i=s(e,a)),{index:a,value:i}},e.removeLastWhere=function(e,t,n,r){var i;void 0===n&&(n=-1),void 0===r&&(r=0);var a=o(e,t,n,r);return-1!==a&&(i=s(e,a)),{index:a,value:i}},e.removeAllWhere=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o=e.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=r<0?Math.max(0,r+o):Math.min(r,o-1);for(var i=0,s=0;s<o;++s)n<=r&&s>=n&&s<=r&&t(e[s],s)||r<n&&(s<=r||s>=n)&&t(e[s],s)?i++:i>0&&(e[s-i]=e[s]);return i>0&&(e.length=o-i),i}}(r||(r={}));var f=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}(),g=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}},e}(),m=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}},e}(),y=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}},e}(),v=function(){function e(e){this._fn=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)},e}();function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new S(o(e.map(o)))}var S=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())},e}();function w(){return new C}var C=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();function k(e,t){return void 0===t&&(t=0),new _(o(e),t)}var _=function(){function e(e,t){this._source=e,this._index=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]},e}();function I(e,t){return new E(o(e),t)}var E=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e},e}();function P(e,t){for(var n,r=0,i=o(e);void 0!==(n=i.next());)if(t(n,r++))return n}function D(e,t){for(var n,r=0,i=o(e);void 0!==(n=i.next());)if(t(n,r++))return r-1;return-1}function T(e,t){var n=o(e),r=n.next();if(void 0!==r){for(var i=r;void 0!==(r=n.next());)t(r,i)<0&&(i=r);return i}}function x(e,t){var n=o(e),r=n.next();if(void 0!==r){for(var i=r;void 0!==(r=n.next());)t(r,i)>0&&(i=r);return i}}function j(e,t){var n=o(e),r=n.next();if(void 0!==r){for(var i=r,s=r;void 0!==(r=n.next());)t(r,i)<0?i=r:t(r,s)>0&&(s=r);return[i,s]}}function M(e,t){return new N(o(e),t)}var N=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();function O(e,t,n){return void 0===t?new R(0,e,1):new R(e,t,void 0===n?1:n)}var A,R=function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=A.rangeLength(e,t,n)}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},e}();function L(e,t,n){var r=0,i=o(e),s=i.next();if(void 0===s&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===s)return n;var a,c,l=i.next();if(void 0===l&&void 0===n)return s;if(void 0===l)return t(n,s,r++);for(a=t(void 0===n?s:t(n,s,r++),l,r++);void 0!==(c=i.next());)a=t(a,c,r++);return a}function F(e,t){return new K(e,t)}function U(e){return new K(e,1)}!function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(A||(A={}));var K=function(){function e(e,t){this._value=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}();function W(e){return"function"==typeof e.retro?e.retro():new V(e)}var V=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();function B(e){var t=[],n=new Set,r=new Map;return l(e,(function(e){var t=e[0],n=e[1],o=r.get(n);o?o.push(t):r.set(n,[t])})),r.forEach((function(e,t){o(t)})),t;function o(e){if(!n.has(e)){n.add(e);var i=r.get(e);i&&i.forEach(o),t.push(e)}}}function H(e,t){return new q(o(e),t)}var J,q=function(){function e(e,t){this._source=e,this._step=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e},e}();function $(e,t){return new G(o(e),t)}!function(e){function t(e,t,n){void 0===n&&(n=0);for(var r=new Array(t.length),o=0,i=n,s=t.length;o<s;++o,++i){if(-1===(i=e.indexOf(t[o],i)))return null;r[o]=i}return r}e.findIndices=t,e.matchSumOfSquares=function(e,n,r){void 0===r&&(r=0);var o=t(e,n,r);if(!o)return null;for(var i=0,s=0,a=o.length;s<a;++s){var c=o[s]-r;i+=c*c}return{score:i,indices:o}},e.matchSumOfDeltas=function(e,n,r){void 0===r&&(r=0);var o=t(e,n,r);if(!o)return null;for(var i=0,s=r-1,a=0,c=o.length;a<c;++a){var l=o[a];i+=l-s-1,s=l}return{score:i,indices:o}},e.highlight=function(e,t,n){for(var r=[],o=0,i=0,s=t.length;o<s;){for(var a=t[o],c=t[o];++o<s&&t[o]===c+1;)c++;i<a&&r.push(e.slice(i,a)),a<c+1&&r.push(n(e.slice(a,c+1))),i=c+1}return i<e.length&&r.push(e.slice(i)),r},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(J||(J={}));var G=function(){function e(e,t){this._source=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}},e}();function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Y(e.map(o))}var Y=function(){function e(e){this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var r=this._source[t].next();if(void 0===r)return;e[t]=r}return e},e}()},95082:function(e,t){!function(e){"use strict";e.JSONExt=void 0,function(e){function t(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e}function n(e){return Array.isArray(e)}function r(e,o){if(e===o)return!0;if(t(e)||t(o))return!1;var i=n(e),s=n(o);return i===s&&(i&&s?function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,o=e.length;n<o;++n)if(!r(e[n],t[n]))return!1;return!0}(e,o):function(e,t){if(e===t)return!0;for(var n in e)if(void 0!==e[n]&&!(n in t))return!1;for(var n in t)if(void 0!==t[n]&&!(n in e))return!1;for(var n in e){var o=e[n],i=t[n];if(void 0!==o||void 0!==i){if(void 0===o||void 0===i)return!1;if(!r(o,i))return!1}}return!0}(e,o))}function o(e){return t(e)?e:n(e)?function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=o(e[n]);return t}(e):function(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=o(r))}return t}(e)}e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]),e.isPrimitive=t,e.isArray=n,e.isObject=function(e){return!t(e)&&!n(e)},e.deepEqual=r,e.deepCopy=o}(e.JSONExt||(e.JSONExt={}));var t=function(){function e(){this._types=[],this._values=[]}return e.prototype.types=function(){return this._types.slice()},e.prototype.hasData=function(e){return-1!==this._types.indexOf(e)},e.prototype.getData=function(e){var t=this._types.indexOf(e);return-1!==t?this._values[t]:void 0},e.prototype.setData=function(e,t){this.clearData(e),this._types.push(e),this._values.push(t)},e.prototype.clearData=function(e){var t=this._types.indexOf(e);-1!==t&&(this._types.splice(t,1),this._values.splice(t,1))},e.prototype.clear=function(){this._types.length=0,this._values.length=0},e}(),n=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return e.prototype.resolve=function(e){(0,this._resolve)(e)},e.prototype.reject=function(e){(0,this._reject)(e)},e}(),r=function(e){this.name=e,this._tokenStructuralPropertyT=null};function o(e){for(var t=0,n=0,r=e.length;n<r;++n)n%4==0&&(t=4294967295*Math.random()>>>0),e[n]=255&t,t>>>=8}e.Random=void 0,(e.Random||(e.Random={})).getRandomValues=function(){var e="undefined"!=typeof window&&(window.crypto||window.msCrypto)||null;return e&&"function"==typeof e.getRandomValues?function(t){return e.getRandomValues(t)}:o}(),e.UUID=void 0,(e.UUID||(e.UUID={})).uuid4=function(e){for(var t=new Uint8Array(16),n=new Array(256),r=0;r<16;++r)n[r]="0"+r.toString(16);for(r=16;r<256;++r)n[r]=r.toString(16);return function(){return e(t),t[6]=64|15&t[6],t[8]=128|63&t[8],n[t[0]]+n[t[1]]+n[t[2]]+n[t[3]]+"-"+n[t[4]]+n[t[5]]+"-"+n[t[6]]+n[t[7]]+"-"+n[t[8]]+n[t[9]]+"-"+n[t[10]]+n[t[11]]+n[t[12]]+n[t[13]]+n[t[14]]+n[t[15]]}}(e.Random.getRandomValues),e.MimeData=t,e.PromiseDelegate=n,e.Token=r,Object.defineProperty(e,"__esModule",{value:!0})}(t)},70725:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisposableDelegate:()=>a,DisposableSet:()=>l,ObservableDisposableDelegate:()=>c,ObservableDisposableSet:()=>u});var r=n(35259),o=n(4016),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){function e(e){this._fn=e}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},e}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new o.Signal(t),t}return s(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),o.Signal.clearData(this))},t}(a),l=function(){function e(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach((function(e){e.dispose()})),this._items.clear())},e.prototype.contains=function(e){return this._items.has(e)},e.prototype.add=function(e){this._items.add(e)},e.prototype.remove=function(e){this._items.delete(e)},e.prototype.clear=function(){this._items.clear()},e}();!function(e){e.from=function(t){var n=new e;return(0,r.each)(t,(function(e){n.add(e)})),n}}(l||(l={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new o.Signal(t),t}return s(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),o.Signal.clearData(this))},t}(l);!function(e){e.from=function(t){var n=new e;return(0,r.each)(t,(function(e){n.add(e)})),n}}(u||(u={}))},23114:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Debouncer:()=>g,Poll:()=>h,RateLimiter:()=>f,Throttler:()=>m});var r=n(95082),o=n(4016),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var u,d="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,p="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate,h=function(){function e(e){var t=this;this._disposed=new o.Signal(this),this._tick=new r.PromiseDelegate,this._ticked=new o.Signal(this),this._timeout=-1,this._factory=e.factory,this._standby=e.standby||u.DEFAULT_STANDBY,this._state=a(a({},u.DEFAULT_STATE),{timestamp:(new Date).getTime()});var n=e.frequency||{},i=Math.max(n.interval||0,n.max||0,u.DEFAULT_FREQUENCY.max);this.frequency=a(a(a({},u.DEFAULT_FREQUENCY),n),{max:i}),this.name=e.name||u.DEFAULT_NAME,"auto"in e&&!e.auto||d((function(){t.start()}))}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},set:function(t){if(!this.isDisposed&&!r.JSONExt.deepEqual(t,this.frequency||{})){var n=t.backoff,o=t.interval,i=t.max;if(o=Math.round(o),i=Math.round(i),"number"==typeof n&&n<1)throw new Error("Poll backoff growth factor must be at least 1");if((o<0||o>i)&&o!==e.NEVER)throw new Error("Poll interval must be between 0 and max");if(i>e.MAX_INTERVAL&&i!==e.NEVER)throw new Error("Max interval must be less than "+e.MAX_INTERVAL);this._frequency={backoff:n,interval:o,max:i}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return"disposed"===this.state.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"standby",{get:function(){return this._standby},set:function(e){this.isDisposed||this.standby===e||(this._standby=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){return this._tick.promise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticked",{get:function(){return this._ticked},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._state=a(a({},u.DISPOSED_STATE),{timestamp:(new Date).getTime()}),this._tick.promise.catch((function(e){})),this._tick.reject(new Error("Poll ("+this.name+") is disposed.")),this._disposed.emit(void 0),o.Signal.clearData(this))},e.prototype.refresh=function(){return this.schedule({cancel:function(e){return"refreshed"===e.phase},interval:e.IMMEDIATE,phase:"refreshed"})},e.prototype.schedule=function(t){return void 0===t&&(t={}),c(this,void 0,void 0,(function(){var n,o,i,s,c,u=this;return l(this,(function(l){switch(l.label){case 0:return this.isDisposed||t.cancel&&t.cancel(this.state)?[2]:(n=this.state,o=this._tick,i=new r.PromiseDelegate,s=a({interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime()},t),this._state=s,this._tick=i,n.interval===e.IMMEDIATE?p(this._timeout):clearTimeout(this._timeout),this._ticked.emit(this.state),o.resolve(this),[4,o.promise]);case 1:return l.sent(),c=function(){u.isDisposed||u.tick!==i.promise||u._execute()},this._timeout=s.interval===e.IMMEDIATE?d(c):s.interval===e.NEVER?-1:setTimeout(c,s.interval),[2]}}))}))},e.prototype.start=function(){return this.schedule({cancel:function(e){var t=e.phase;return"constructed"!==t&&"standby"!==t&&"stopped"!==t},interval:e.IMMEDIATE,phase:"started"})},e.prototype.stop=function(){return this.schedule({cancel:function(e){return"stopped"===e.phase},interval:e.NEVER,phase:"stopped"})},e.prototype._execute=function(){var e=this,t="function"==typeof this.standby?this.standby():this.standby;if(t="never"!==t&&("when-hidden"===t?!("undefined"==typeof document||!document||!document.hidden):t))this.schedule();else{var n=this.tick;this._factory(this.state).then((function(t){e.isDisposed||e.tick!==n||e.schedule({payload:t,phase:"rejected"===e.state.phase?"reconnected":"resolved"})})).catch((function(t){e.isDisposed||e.tick!==n||e.schedule({interval:u.sleep(e.frequency,e.state),payload:t,phase:"rejected"})}))}},e}();!function(e){e.IMMEDIATE=0,e.MAX_INTERVAL=2147483647,e.NEVER=1/0}(h||(h={})),function(e){e.DEFAULT_BACKOFF=3,e.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:3e4},e.DEFAULT_NAME="unknown",e.DEFAULT_STANDBY="when-hidden",e.DEFAULT_STATE={interval:h.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},e.DISPOSED_STATE={interval:h.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()},e.sleep=function(t,n){var r=t.backoff,o=t.interval,i=t.max;if(o===h.NEVER)return o;var s=!0===r?e.DEFAULT_BACKOFF:!1===r?1:r,a=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}(o,n.interval*s);return Math.min(i,a)}}(u||(u={}));var f=function(){function e(e,t){var n=this;void 0===t&&(t=500),this.payload=null,this.limit=t,this.poll=new h({auto:!1,factory:function(){return c(n,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return[2,t.sent()]}}))}))},frequency:{backoff:!1,interval:h.NEVER,max:h.NEVER},standby:"never"}),this.payload=new r.PromiseDelegate,this.poll.ticked.connect((function(e,t){var o=n.payload;return"resolved"===t.phase?(n.payload=new r.PromiseDelegate,void o.resolve(t.payload)):"rejected"===t.phase||"stopped"===t.phase?(n.payload=new r.PromiseDelegate,o.promise.catch((function(e){})),void o.reject(t.payload)):void 0}),this)}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return null===this.payload},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this.payload=null,this.poll.dispose())},e.prototype.stop=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.poll.stop()]}))}))},e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.invoke=function(){return this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise},t}(f),m=function(e){function t(t,n){var r=e.call(this,t,"number"==typeof n?n:n&&n.limit)||this,o="leading";return"number"!=typeof n&&(o="edge"in(n=n||{})?n.edge:o),r._interval="trailing"===o?r.limit:h.IMMEDIATE,r}return s(t,e),t.prototype.invoke=function(){return"invoked"!==this.poll.state.phase&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise},t}(f)},39770:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AttachedProperty:()=>o});var r,o=function(){function e(e){this._pid=r.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return e.prototype.get=function(e){var t=r.ensureMap(e);return this._pid in t?t[this._pid]:t[this._pid]=this._createValue(e)},e.prototype.set=function(e,t){var n,o=r.ensureMap(e);n=this._pid in o?o[this._pid]:o[this._pid]=this._createValue(e);var i=this._coerceValue(e,t);this._maybeNotify(e,n,o[this._pid]=i)},e.prototype.coerce=function(e){var t,n=r.ensureMap(e);t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);var o=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=o)},e.prototype._createValue=function(e){return(0,this._create)(e)},e.prototype._coerceValue=function(e,t){var n=this._coerce;return n?n(e,t):t},e.prototype._compareValue=function(e,t){var n=this._compare;return n?n(e,t):e===t},e.prototype._maybeNotify=function(e,t,n){var r=this._changed;r&&!this._compareValue(t,n)&&r(e,t,n)},e}();!function(e){e.clearData=function(e){r.ownerData.delete(e)}}(o||(o={})),function(e){var t;e.ownerData=new WeakMap,e.nextPID=(t=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+t++}),e.ensureMap=function(t){var n=e.ownerData.get(t);return n||(n=Object.create(null),e.ownerData.set(t,n),n)}}(r||(r={}))},4016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Signal:()=>i});var r,o=n(35259),i=function(){function e(e){this.sender=e}return e.prototype.connect=function(e,t){return r.connect(this,e,t)},e.prototype.disconnect=function(e,t){return r.disconnect(this,e,t)},e.prototype.emit=function(e){r.emit(this,e)},e}();!function(e){e.disconnectBetween=function(e,t){r.disconnectBetween(e,t)},e.disconnectSender=function(e){r.disconnectSender(e)},e.disconnectReceiver=function(e){r.disconnectReceiver(e)},e.disconnectAll=function(e){r.disconnectAll(e)},e.clearData=function(e){r.disconnectAll(e)},e.getExceptionHandler=function(){return r.exceptionHandler},e.setExceptionHandler=function(e){var t=r.exceptionHandler;return r.exceptionHandler=e,t}}(i||(i={})),function(e){function t(e){var t=r.get(e);t&&0!==t.length&&((0,o.each)(t,(function(e){if(e.signal){var t=e.thisArg||e.slot;e.signal=null,u(i.get(t))}})),u(t))}function n(e){var t=i.get(e);t&&0!==t.length&&((0,o.each)(t,(function(e){if(e.signal){var t=e.signal.sender;e.signal=null,u(r.get(t))}})),u(t))}e.exceptionHandler=function(e){console.error(e)},e.connect=function(e,t,n){n=n||void 0;var o=r.get(e.sender);if(o||(o=[],r.set(e.sender,o)),c(o,e,t,n))return!1;var s=n||t,a=i.get(s);a||(a=[],i.set(s,a));var l={signal:e,slot:t,thisArg:n};return o.push(l),a.push(l),!0},e.disconnect=function(e,t,n){n=n||void 0;var o=r.get(e.sender);if(!o||0===o.length)return!1;var s=c(o,e,t,n);if(!s)return!1;var a=n||t,l=i.get(a);return s.signal=null,u(o),u(l),!0},e.disconnectBetween=function(e,t){var n=r.get(e);if(n&&0!==n.length){var s=i.get(t);s&&0!==s.length&&((0,o.each)(s,(function(t){t.signal&&t.signal.sender===e&&(t.signal=null)})),u(n),u(s))}},e.disconnectSender=t,e.disconnectReceiver=n,e.disconnectAll=function(e){t(e),n(e)},e.emit=function(e,t){var n=r.get(e.sender);if(n&&0!==n.length)for(var o=0,i=n.length;o<i;++o){var s=n[o];s.signal===e&&l(s,t)}};var r=new WeakMap,i=new WeakMap,s=new Set,a="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function c(e,t,n,r){return(0,o.find)(e,(function(e){return e.signal===t&&e.slot===n&&e.thisArg===r}))}function l(t,n){var r=t.signal,o=t.slot,i=t.thisArg;try{o.call(i,r.sender,n)}catch(t){e.exceptionHandler(t)}}function u(e){0===s.size&&a(d),s.add(e)}function d(){s.forEach(p),s.clear()}function p(e){o.ArrayExt.removeAllWhere(e,h)}function h(e){return null===e.signal}}(r||(r={}))},67164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppInsightsCore:()=>V,BaseCore:()=>H,BaseTelemetryPlugin:()=>P.i,CoreUtils:()=>K.Tr,DiagnosticLogger:()=>f.AQ,ESPromise:()=>$,ESPromiseScheduler:()=>X,EventHelper:()=>re.zB,EventLatency:()=>l,EventPersistence:()=>d,EventPropertyType:()=>u,EventsDiscardedReason:()=>ne.h,FullVersionString:()=>K.vs,InternalAppInsightsCore:()=>U,InternalBaseCore:()=>R,LoggingSeverity:()=>s,MinChannelPriorty:()=>te,NotificationManager:()=>F,PerfEvent:()=>g.zn,PerfManager:()=>g.Jk,ProcessTelemetryContext:()=>b.Vi,TraceLevel:()=>p,Undefined:()=>se.jA,Utils:()=>K.cQ,ValueKind:()=>c,ValueSanitizer:()=>ee,Version:()=>K.Gf,_ExtendedInternalMessageId:()=>h,_InternalLogMessage:()=>f.lQ,_InternalMessageId:()=>a,__getRegisteredEvents:()=>oe.um,_throwInternal:()=>f.kP,addEventHandler:()=>oe.Ib,addEventListeners:()=>oe.yw,addPageHideEventListener:()=>oe.TJ,addPageShowEventListener:()=>oe.nD,addPageUnloadEventListener:()=>oe.c9,areCookiesSupported:()=>w.p7,arrForEach:()=>i.tO,arrIndexOf:()=>i.UA,arrMap:()=>i.Mr,arrReduce:()=>i.Xz,attachEvent:()=>oe.pZ,cookieAvailable:()=>w.p7,createCookieMgr:()=>w.Nz,createEnumStyle:()=>o.By,createGuid:()=>K.cm,createProcessTelemetryContext:()=>b.CD,createTraceParent:()=>ae.SU,createUniqueNamespace:()=>T.J,createUnloadHandlerContainer:()=>x.Y,dateNow:()=>i.m6,deleteCookie:()=>K.kT,detachEvent:()=>oe.pD,disableCookies:()=>K.oF,disallowsSameSiteNone:()=>w.UY,doPerf:()=>g.Lm,dumpObj:()=>m.eU,eventOff:()=>oe.QY,eventOn:()=>oe.XO,extend:()=>K.l7,findW3cTraceParent:()=>ae.lq,formatTraceParent:()=>ae.aR,generateW3CId:()=>re.DO,getCommonSchemaMetaData:()=>K.Vv,getConsole:()=>m.dr,getCookie:()=>K.ej,getCookieValue:()=>K.Do,getCrypto:()=>m.MX,getDocument:()=>m.Me,getExceptionName:()=>i.jj,getFieldValueType:()=>K.Sy,getGlobal:()=>y.Rd,getGlobalInst:()=>m.a8,getHistory:()=>m.s1,getIEVersion:()=>m.sA,getISOString:()=>i.Y6,getJSON:()=>m.xA,getLocation:()=>m.k$,getMsCrypto:()=>m.gz,getNavigator:()=>m.jW,getPerformance:()=>m.r,getSetValue:()=>i.qK,getTenantId:()=>K.jM,getTime:()=>K.hK,getWindow:()=>m.Jj,hasDocument:()=>m.Nv,hasHistory:()=>m.fE,hasJSON:()=>m.nS,hasNavigator:()=>m.d6,hasOwnProperty:()=>i.nr,hasWindow:()=>m.Ym,isArray:()=>i.kJ,isArrayValid:()=>K.JT,isBeaconsSupported:()=>m.MF,isBoolean:()=>i.jn,isChromium:()=>K.mJ,isDate:()=>i.J_,isDocumentObjectAvailable:()=>K.x9,isError:()=>i.VZ,isFetchSupported:()=>m.JO,isFunction:()=>i.mf,isIE:()=>m.w1,isLatency:()=>K.r7,isNotTruthy:()=>i.F,isNullOrUndefined:()=>i.le,isNumber:()=>i.hj,isObject:()=>i.Kn,isReactNative:()=>m.b$,isSampledFlag:()=>ae.Pn,isString:()=>i.HD,isTruthy:()=>i.fQ,isTypeof:()=>i.Ym,isUint8ArrayAvailable:()=>K.IZ,isUndefined:()=>i.o8,isValidSpanId:()=>ae.Lc,isValidTraceId:()=>ae.jN,isValidTraceParent:()=>ae.J6,isValueAssigned:()=>K.Sn,isValueKind:()=>K.oS,isWindowObjectAvailable:()=>K.dH,isXhrSupported:()=>m.Z3,mergeEvtNamespace:()=>oe.jU,newGuid:()=>re.GW,newId:()=>ie.pZ,normalizeJsName:()=>i.Gf,objCreate:()=>y.pu,objDefineAccessors:()=>i.l_,objForEachKey:()=>i.rW,objFreeze:()=>i.FL,objKeys:()=>i.FY,objSeal:()=>i.Xi,openXhr:()=>K.ot,optimizeObject:()=>i.Ax,parseTraceParent:()=>ae.j_,perfNow:()=>re.Jj,proxyAssign:()=>i.cf,proxyFunctionAs:()=>i.Oi,proxyFunctions:()=>i.Vb,random32:()=>ie._l,randomValue:()=>ie.az,removeEventHandler:()=>oe.C1,removeEventListeners:()=>oe.nJ,removePageHideEventListener:()=>oe.C9,removePageShowEventListener:()=>oe.Yl,removePageUnloadEventListener:()=>oe.JA,safeGetCookieMgr:()=>w.JP,safeGetLogger:()=>f.vH,sanitizeProperty:()=>K.yj,setCookie:()=>K.d8,setEnableEnvMocks:()=>m.dI,setProcessTelemetryTimings:()=>K.if,setValue:()=>i.sO,strContains:()=>i._Q,strEndsWith:()=>i.Id,strFunction:()=>se.cb,strObject:()=>se.fK,strPrototype:()=>se.hB,strStartsWith:()=>i.xe,strTrim:()=>i.nd,strUndefined:()=>se.jA,throwError:()=>i._y,toISOString:()=>i.Y6,useXDomainRequest:()=>m.cp});var r=n(27421),o=n(50951),i=n(24869),s=(0,o.By)({CRITICAL:1,WARNING:2}),a=(0,o.By)({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),c=(0,o.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),l=(0,o.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),u=(0,o.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),d=(0,o.By)({Normal:1,Critical:2}),p=(0,o.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),h=(0,i.FL)((0,r.uc)((0,r.uc)({},a),(0,o.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),f=n(29339),g=n(81782),m=n(49251),y=n(30175),v=n(29141),b=n(31030),S=n(69031),w=n(88140),C=n(61733),k=n(28341),_=n(96335),I=500;function E(e,t,n,r){t&&(0,i.kJ)(t)&&t.length>0&&(t=t.sort((function(e,t){return e.priority-t.priority})),(0,i.tO)(t,(function(e){e.priority<I&&(0,i._y)("Channel has invalid priority - "+e.identifier)})),e.push({queue:(0,i.FL)(t),chain:(0,b.jV)(t,n,r)}))}var P=n(87951),D=function(e){function t(){var n,r,o=e.call(this)||this;function s(){n=0,r=[]}return o.identifier="TelemetryInitializerPlugin",o.priority=199,s(),(0,v.Z)(t,o,(function(e,t){e.addTelemetryInitializer=function(e){var t={id:n++,fn:e};return r.push(t),{remove:function(){(0,i.tO)(r,(function(e,n){if(e.id===t.id)return r.splice(n,1),-1}))}}},e.processTelemetry=function(t,n){for(var o=!1,s=r.length,a=0;a<s;++a){var c=r[a];if(c)try{if(!1===c.fn.apply(null,[t])){o=!0;break}}catch(e){(0,f.kP)(n.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,i.jj)(e),{exception:(0,m.eU)(e)},!0)}}o||e.processNext(t,n)},e[_.Ho]=function(){s()}})),o}return(0,r.ne)(t,e),t}(P.i),T=n(87624),x=n(38593),j="Plugins must provide initialize method",M="SDK is still unloading...",N={loggingLevelConsole:1};function O(e,t){return new g.Jk(t)}function A(e,t){var n=!1;return(0,i.tO)(t,(function(t){if(t===e)return n=!0,-1})),n}var R=function e(){var t,n,o,s,a,c,l,u,d,p,h,m,P,R,L,F,U,K,W,V=0;(0,v.Z)(e,this,(function(e){function v(){t=!1,e.config=(0,i.mm)(!0,{},N),e.logger=new f.AQ(e.config),e._extensions=[],R=new D,n=[],o=null,s=null,a=null,c=null,l=null,d=null,u=[],p=null,h=null,m=null,P=!1,L=null,F=(0,T.J)("AIBaseCore",!0),U=(0,x.Y)(),W=null}function B(){return(0,b.CD)(q(),e.config,e)}function H(t,n){var r=function(e,t,n){var r=[],o={};return(0,i.tO)(n,(function(t){((0,i.le)(t)||(0,i.le)(t.initialize))&&(0,i._y)(j);var n=t.priority,s=t.identifier;t&&n&&((0,i.le)(o[n])?o[n]=s:(0,f.jV)(e,"Two extensions have same priority #"+n+" - "+o[n]+", "+s)),(!n||n<500)&&r.push(t)})),{all:n,core:r}}(e.logger,0,u);d=r.core,l=null;var o=r.all;if(m=(0,i.FL)(function(e,t,n,r){var o=[];if(e&&(0,i.tO)(e,(function(e){return E(o,e,n,r)})),t){var s=[];(0,i.tO)(t,(function(e){e.priority>I&&s.push(e)})),E(o,s,n,r)}return o}(h,o,t,e)),p){var s=(0,i.UA)(o,p);-1!==s&&o.splice(s,1),-1!==(s=(0,i.UA)(d,p))&&d.splice(s,1),p._setQueue(m)}else p=function(e,t){var n;function r(){return(0,b.CD)(null,t.config,t,null)}function o(e,t,n,r){var o=e?e.length+1:1;function s(){0==--o&&(r&&r(),r=null)}o>0&&(0,i.tO)(e,(function(e){if(e&&e.queue.length>0){var r=e.chain,i=t.createNew(r);i.onComplete(s),n(i)}else o--})),s()}var s=!1,a=(n={identifier:"ChannelControllerPlugin",priority:I,initialize:function(t,n,r,o){s=!0,(0,i.tO)(e,(function(e){e&&e.queue.length>0&&(0,S.bP)((0,b.CD)(e.chain,t,n),r)}))},isInitialized:function(){return s},processTelemetry:function(t,n){o(e,n||r(),(function(e){e[_.Z_](t)}),(function(){n[_.Z_](t)}))},update:function(t,n){var r=n||{reason:0};return o(e,t,(function(e){e[_.Z_](r)}),(function(){t[_.Z_](r)})),!0}},n[_.nE]=function(){o(e,r(),(function(e){e.iterate((function(e){e[_.nE]&&e[_.nE]()}))}),null)},n[_.Mf]=function(){o(e,r(),(function(e){e.iterate((function(e){e[_.Mf]&&e[_.Mf]()}))}),null)},n[_.vE]=function(t,n){var r=n||{reason:0,isAsync:!1};return o(e,t,(function(e){e[_.Z_](r)}),(function(){t[_.Z_](r),s=!1})),!0},n.getChannel=function(t){var n=null;return e&&e.length>0&&(0,i.tO)(e,(function(e){if(e&&e.queue.length>0&&((0,i.tO)(e.queue,(function(e){if(e.identifier===t)return n=e,-1})),n))return-1})),n},n.flush=function(t,n,i,s){var a=1,c=!1,l=null;function u(){a--,c&&0===a&&(l&&(clearTimeout(l),l=null),n&&n(c),n=null)}return s=s||5e3,o(e,r(),(function(e){e.iterate((function(e){if(e.flush){a++;var n=!1;e.flush(t,(function(){n=!0,u()}),i)||n||(t&&null==l?l=setTimeout((function(){l=null,u()}),s):u())}}))}),(function(){c=!0,u()})),!0},n._setQueue=function(t){e=t},n);return a}(m,e);o.push(p),d.push(p),e._extensions=(0,S.AA)(o),p.initialize(t,e,o),(0,S.bP)(B(),o),e._extensions=(0,i.FL)((0,S.AA)(d||[])).slice(),n&&function(t){var n=(0,b.xy)(q(),e);e._updateHook&&!0===e._updateHook(n,t)||n.processNext(t)}(n)}function J(t){var n=null,r=null;return(0,i.tO)(e._extensions,(function(e){if(e.identifier===t&&e!==p&&e!==R)return r=e,-1})),!r&&p&&(r=p.getChannel(t)),r&&(n={plugin:r,setEnabled:function(e){(0,S.OY)(r)[_.C0]=!e},isEnabled:function(){var e=(0,S.OY)(r);return!e[_.vE]&&!e[_.C0]},remove:function(t,n){void 0===t&&(t=!0);var o=[r];$(o,{reason:1,isAsync:t},(function(t){t&&H(e.config,{reason:32,removed:o}),n&&n(t)}))}}),n}function q(){if(!l){var t=(d||[]).slice();-1===(0,i.UA)(t,R)&&t.push(R),l=(0,b.jV)((0,S.AA)(t),e.config,e)}return l}function $(t,n,r){if(t&&t.length>0){var o=(0,b.jV)(t,e.config,e),s=(0,b.Bt)(o,e);s.onComplete((function(){var e=!1,n=[];(0,i.tO)(u,(function(r,o){A(r,t)?e=!0:n.push(r)})),u=n;var o=[];h&&((0,i.tO)(h,(function(n,r){var s=[];(0,i.tO)(n,(function(n){A(n,t)?e=!0:s.push(n)})),o.push(s)})),h=o),r&&r(e)})),s.processNext(n)}else r(!1)}function G(){var t=e.logger?e.logger.queue:[];t&&((0,i.tO)(t,(function(t){var n={name:L||"InternalMessageId: "+t.messageId,iKey:e.config.instrumentationKey,time:(0,i.Y6)(new Date),baseType:f.lQ.dataType,baseData:{message:t.message}};e.track(n)})),t.length=0)}function z(e,t,n,r){return p?p.flush(e,t,n||6,r):(t&&t(!1),!0)}function Y(t){var n=e.logger;n?(0,f.kP)(n,2,73,t):(0,i._y)(t)}v(),e.isInitialized=function(){return t},e.initialize=function(n,s,c,l){P&&(0,i._y)(M),e.isInitialized()&&(0,i._y)("Core should not be initialized more than once"),n&&!(0,i.le)(n.instrumentationKey)||(0,i._y)("Please provide instrumentation key"),o=l,e._notificationManager=l,e.config=n||{},function(e){!0===e.disableDbgExt&&K&&(o[_.XP](K),K=null),o&&!K&&!0!==e.disableDbgExt&&(K=(0,k.p)(e),o[_.dV](K))}(n),function(t){!t.enablePerfMgr&&a&&(a=null),t.enablePerfMgr&&(0,i.sO)(e.config,"createPerfMgr",O)}(n),n.extensions=(0,i.le)(n.extensions)?[]:n.extensions,function(e){(0,i.qK)(e,C.F).NotificationManager=o}(n),c&&(e.logger=c),(u=[]).push.apply(u,(0,r.$h)((0,r.$h)([],s,!1),n.extensions,!1)),h=(n||{}).channels,H(n,null),m&&0!==m.length||(0,i._y)("No channels available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return m&&(0,i.tO)(m,(function(t){e.push(t.queue)})),(0,i.FL)(e)},e.track=function(t){(0,i.sO)(t,C.z,e.config.instrumentationKey,null,i.F),(0,i.sO)(t,"time",(0,i.Y6)(new Date),null,i.F),(0,i.sO)(t,"ver","4.0",null,i.le),!P&&e.isInitialized()?B().processNext(t):n.push(t)},e.getProcessTelContext=B,e.getNotifyMgr=function(){var t;return o||(o=(0,y.pu)(((t={})[_.dV]=function(e){},t[_.XP]=function(e){},t[_.eO]=function(e){},t[_.H4]=function(e,t){},t[_.rX]=function(e,t){},t)),e._notificationManager=o),o},e[_.dV]=function(e){o&&o[_.dV](e)},e[_.XP]=function(e){o&&o[_.XP](e)},e.getCookieMgr=function(){return c||(c=(0,w.Nz)(e.config,e.logger)),c},e.setCookieMgr=function(e){c=e},e.getPerfMgr=function(){return s||a||e.config&&e.config.enablePerfMgr&&(0,i.mf)(e.config.createPerfMgr)&&(a=e.config.createPerfMgr(e,e.getNotifyMgr())),s||a||(0,g.j5)()},e.setPerfMgr=function(e){s=e},e.eventCnt=function(){return n.length},e.releaseQueue=function(){if(t&&n.length>0){var e=n;n=[],(0,i.tO)(e,(function(e){B().processNext(e)}))}},e.pollInternalLogs=function(t){L=t||null;var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),V&&clearInterval(V),V=setInterval((function(){G()}),n)},e.stopPollingInternalLogs=function(){V&&(clearInterval(V),V=0,G())},(0,i.Vb)(e,(function(){return R}),["addTelemetryInitializer"]),e.unload=function(n,r,o){void 0===n&&(n=!0),t||(0,i._y)("SDK is not initialized"),P&&(0,i._y)(M);var s={reason:50,isAsync:n,flushComplete:!1},a=(0,b.Bt)(q(),e);function c(t){s.flushComplete=t,P=!0,U.run(a,s),e.stopPollingInternalLogs(),a.processNext(s)}a.onComplete((function(){v(),r&&r(s)}),e),z(n,c,6,o)||c(!1)},e.getPlugin=J,e.addPlugin=function(t,n,r,o){if(!t)return o&&o(!1),void Y(j);var i=J(t.identifier);if(i&&!n)return o&&o(!1),void Y("Plugin ["+t.identifier+"] is already loaded!");var s={reason:16};function a(n){u.push(t),s.added=[t],H(e.config,s),o&&o(!0)}if(i){var c=[i.plugin];$(c,{reason:2,isAsync:!!r},(function(e){e?(s.removed=c,s.reason|=32,a()):o&&o(!1)}))}else a()},e.evtNamespace=function(){return F},e.flush=z,e.getTraceCtx=function(e){return W||(W=(0,S.Yn)()),W},e.setTraceCtx=function(e){W=e||null},(0,i.Oi)(e,"addUnloadCb",(function(){return U}),"add")}))};function L(e,t,n,r){(0,i.tO)(e,(function(e){if(e&&e[t])if(n)setTimeout((function(){return r(e)}),0);else try{r(e)}catch(e){}}))}var F=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;(0,v.Z)(e,this,(function(e){e[_.dV]=function(t){e.listeners.push(t)},e[_.XP]=function(t){for(var n=(0,i.UA)(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=(0,i.UA)(e.listeners,t)},e[_.eO]=function(t){L(e.listeners,_.eO,!0,(function(e){e[_.eO](t)}))},e[_.H4]=function(t,n){L(e.listeners,_.H4,!0,(function(e){e[_.H4](t,n)}))},e[_.rX]=function(t,n){L(e.listeners,_.rX,n,(function(e){e[_.rX](t,n)}))},e[_.SN]=function(t){t&&(!n&&t.isChildEvt()||L(e.listeners,_.SN,!1,(function(e){t.isAsync?setTimeout((function(){return e[_.SN](t)}),0):e[_.SN](t)})))}}))},U=function(e){function t(){var n=e.call(this)||this;return(0,v.Z)(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,r,o){t.initialize(e,n,r||new f.AQ(e),o||new F(e))},e.track=function(r){(0,g.Lm)(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),(0,i._y)("Invalid telemetry item")),function(e){(0,i.le)(e.name)&&(n(e),(0,i._y)("telemetry name required"))}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)}})),n}return(0,r.ne)(t,e),t}(R),K=n(65705),W=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",(0,v.Z)(t,n,(function(e,t){e.logger&&e.logger.queue||(e.logger=new f.AQ({loggingLevelConsole:1})),e.initialize=function(n,r,o,s){(0,g.Lm)(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var a=n.propertyStorageOverride;if(a&&(!a.getProperty||!a.setProperty))throw new Error("Invalid property storage override passed.");n.channels&&(0,i.tO)(n.channels,(function(t){t&&(0,i.tO)(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},r&&(0,i.tO)(r,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,r,o,s),e.pollInternalLogs("InternalLog")}catch(t){var c=e.logger,l=(0,m.eU)(t);-1!==l.indexOf("channels")&&(l+="\n - Channels must be provided through config.channels only!"),c.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+l)}}),(function(){return{config:n,extensions:r,logger:o,notificationManager:s}}))},e.track=function(n){(0,g.Lm)(e,(function(){return"AppInsightsCore.track"}),(function(){var r=n;if(r){r.timings=r.timings||{},r.timings.trackStart=(0,K.hK)(),(0,K.r7)(r.latency)||(r.latency=1);var o=r.ext=r.ext||{};o.sdk=o.sdk||{},o.sdk.ver=K.vs;var i=r.baseData=r.baseData||{};i.properties||(i.properties={});var s=i.properties;s.version||(s.version=""),""!==e.pluginVersionString&&(s.version=e.pluginVersionString)}t.track(r)}),(function(){return{item:n}}),!n.sync)}})),n}return(0,r.ne)(t,e),t}(U);const V=W;var B=function(e){function t(){var n=e.call(this)||this;return(0,v.Z)(t,n,(function(e,t){e.initialize=function(n,r,o,i){n&&!n.endpointUrl&&(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),e.getWParam=function(){return K.x9?0:-1};try{t.initialize(n,r,o,i)}catch(t){(0,f.kP)(e.logger,1,514,"Initialization Failed: "+(0,m.eU)(t)+"\n - Note: Channels must be provided through config.channels only")}},e.track=function(e){var n=e;if(n){var r=n.ext=n.ext||{};r.sdk=r.sdk||{},r.sdk.ver=K.vs}t.track(n)}})),n}return(0,r.ne)(t,e),t}(R);const H=B;var J=i.mf;function q(e,t,n){return function(r){e[t]=r,n()}}const $=function(){function e(t){var n=0,r=null,o=[];function i(){if(o.length>0){var e=o.slice();o=[],setTimeout((function(){for(var t=0,n=e.length;t<n;++t)try{e[t]()}catch(e){}}),0)}}function s(e){0===n&&(r=e,n=1,i())}function a(e){0===n&&(r=e,n=2,i())}(0,v.Z)(e,this,(function(t){t.then=function(t,s){return new e((function(a,c){!function(t,s,a,c){o.push((function(){var o;try{(o=1===n?J(t)?t(r):r:J(s)?s(r):r)instanceof e?o.then(a,c):2!==n||J(s)?a(o):c(o)}catch(e){return void c(e)}})),0!==n&&i()}(t,s,a,c)}))},t.catch=function(e){return t.then(null,e)}})),function(){if(!J(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(s,a)}catch(e){a(e)}}()}return e.resolve=function(t){return t instanceof e?t:t&&J(t.then)?new e((function(e,n){try{t.then(e,n)}catch(e){n(e)}})):new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){if(t&&t.length)return new e((function(e,n){try{for(var r=[],o=0,i=0;i<t.length;i++){var s=t[i];s&&J(s.then)?(o++,s.then(q(r,i,(function(){0==--o&&e(r)})),n)):r[i]=s}0===o&&setTimeout((function(){e(r)}),0)}catch(e){n(e)}}))},e.race=function(t){return new e((function(e,n){if(t&&t.length)try{for(var r=function(r){var o=t[r];o&&J(o.then)?o.then(e,n):setTimeout((function(){e(o)}),0)},o=0;o<t.length;o++)r(o)}catch(e){n(e)}}))},e}();var G=0,z=[],Y=[],Q=[];function Z(){return(new Date).getTime()}const X=function(){function e(t,n){var r=0,o=(t||"<unnamed>")+"."+G;function i(e){var t=(0,y.Rd)();t&&t.QUnit&&console&&console.log("ESPromiseScheduler["+o+"] "+e)}function s(e){n&&n.warnToConsole("ESPromiseScheduler["+o+"] "+e)}G++,(0,v.Z)(e,this,(function(e){var t=null,n=0;function a(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t)return e.splice(n,1)[0];return null}e.scheduleEvent=function(e,c,l){var u=o+"."+n;n++,c&&(u+="-("+c+")");var d=u+"{"+r+"}";r++;var p,h,f,g={evt:null,tm:Z(),id:d,isRunning:!1,isAborted:!1};return g.evt=t?(p=g,h=t,f=new $((function(e,t){var n=Z()-h.tm,r=h.id;i("["+u+"] is waiting for ["+r+":"+n+" ms] to complete before starting -- ["+Y.length+"] waiting and ["+z.length+"] running"),p.abort=function(e){p.abort=null,a(Y,u),p.isAborted=!0,t(new Error(e))},h.evt.then((function(n){a(Y,u),w(p).then(e,t)}),(function(n){a(Y,u),w(p).then(e,t)}))})),Y.push(p),f):w(g),(t=g).evt._schId=d,g.evt;function m(e){for(var t=Z(),n=t-6e5,r=e.length,o=0;o<r;){var i=e[o];if(i&&i.tm<n){var a=null;i.abort?(a="Aborting ["+i.id+"] due to Excessive runtime ("+(t-i.tm)+" ms)",i.abort(a)):a="Removing ["+i.id+"] due to Excessive runtime ("+(t-i.tm)+" ms)",s(a),e.splice(o,1),r--}else o++}}function y(e,n){var r=!1,o=a(z,e);if(o||(o=a(Q,e),r=!0),o){o.to&&(clearTimeout(o.to),o.to=null);var c=Z()-o.tm;n?r?s("Timed out event ["+e+"] finally complete -- "+c+" ms"):i("Promise ["+e+"] Complete -- "+c+" ms"):(Q.push(o),s("Event ["+e+"] Timed out and removed -- "+c+" ms"))}else i("Failed to remove ["+e+"] from running queue");t&&t.id===e&&(t=null),m(z),m(Y),m(Q)}function v(e,t){return function(n){return y(e,!0),t&&t(n),n}}function b(e,t,n,r){t.then((function(t){return t instanceof $?(i("Event ["+e+"] returned a promise -- waiting"),b(e,t,n,r),t):v(e,n)(t)}),v(e,r))}function S(e,t){var n=e.id;return new $((function(r,o){i("Event ["+n+"] Starting -- waited for "+(e.wTm||"--")+" ms"),e.isRunning=!0,e.abort=function(t){e.abort=null,e.isAborted=!0,y(n,!1),o(new Error(t))};var s=t(n);s instanceof $?(l&&(e.to=setTimeout((function(){y(n,!1),o(new Error("Timed out after ["+l+"] ms"))}),l)),b(n,s,(function(t){i("Event ["+n+"] Resolving after "+(Z()-e.tm)+" ms"),r(t)}),o)):(i("Promise ["+n+"] Auto completed as the start action did not return a promise"),r())}))}function w(t){var n=Z();return t.wTm=n-t.tm,t.tm=n,t.isAborted?$.reject(new Error("["+u+"] was aborted")):(z.push(t),S(t,e))}}}))}return e.incomplete=function(){return z},e.waitingToStart=function(){return Y},e}();var ee=function(){function e(e){var t=this,n={},r=[],o=[];function s(e,t){var s,a=n[e];if(a&&(s=a[t]),!s&&null!==s){if((0,i.HD)(e)&&(0,i.HD)(t))if(o.length>0){for(var c=0;c<o.length;c++)if(o[c].handleField(e,t)){s={canHandle:!0,fieldHandler:o[c]};break}}else 0===r.length&&(s={canHandle:!0});if(!s&&null!==s)for(s=null,c=0;c<r.length;c++)if(r[c].handleField(e,t)){s={canHandle:!0,handler:r[c],fieldHandler:null};break}a||(a=n[e]={}),a[t]=s}return s}function a(e,t,n,r,o,s){if(e.handler)return e.handler.property(t,n,o,s);if(!(0,i.le)(o.kind)){if(4096==(4096&r)||!(0,K.oS)(o.kind))return null;o.value=o.value.toString()}return l(e.fieldHandler,t,n,r,o)}function c(e,t,n){return(0,K.Sn)(n)?{value:n}:null}function l(e,n,r,o,s){if(s&&e){var a=e.getSanitizer(n,r,o,s.kind,s.propertyType);if(a)if(4===o){var u={},d=s.value;(0,i.rW)(d,(function(t,o){var i=n+"."+r;if((0,K.Sn)(o)){var s=c(0,0,o);(s=l(e,i,t,(0,K.Sy)(o),s))&&(u[t]=s.value)}})),s.value=u}else{var p={path:n,name:r,type:o,prop:s,sanitizer:t};s=a.call(t,p)}}return s}e&&o.push(e),t.addSanitizer=function(e){e&&(r.push(e),n={})},t.addFieldSanitizer=function(e){e&&(o.push(e),n={})},t.handleField=function(e,t){var n=s(e,t);return!!n&&n.canHandle},t.value=function(e,t,n,r){var o=s(e,t);if(o&&o.canHandle){if(!o||!o.canHandle)return null;if(o.handler)return o.handler.value(e,t,n,r);if(!(0,i.HD)(t)||(0,i.le)(n)||""===n)return null;var l=null,u=(0,K.Sy)(n);if(8192==(8192&u)){var d=-8193&u;if(l=n,!(0,K.Sn)(l.value)||1!==d&&2!==d&&3!==d&&4096!=(4096&d))return null}else 1===u||2===u||3===u||4096==(4096&u)?l=c(0,0,n):4===u&&(l=c(0,0,r?JSON.stringify(n):n));if(l)return a(o,e,t,u,l,r)}return null},t.property=function(e,t,n,r){var o=s(e,t);if(!o||!o.canHandle)return null;if(!(0,i.HD)(t)||(0,i.le)(n)||!(0,K.Sn)(n.value))return null;var c=(0,K.Sy)(n.value);return 0===c?null:a(o,e,t,c,n,r)}}return e.getFieldType=K.Sy,e}(),te=100,ne=n(28452),re=n(28956),oe=n(47954),ie=n(19406),se=n(1550),ae=n(56207)},65705:(e,t,n)=>{"use strict";n.d(t,{Do:()=>T,Gf:()=>p,IZ:()=>w,JT:()=>O,Sn:()=>b,Sy:()=>R,Tr:()=>F,Vv:()=>_,cQ:()=>L,cm:()=>x,d8:()=>E,dH:()=>v,ej:()=>D,hK:()=>M,if:()=>A,jM:()=>S,kT:()=>P,l7:()=>j,mJ:()=>U,oF:()=>I,oS:()=>N,ot:()=>K,r7:()=>C,vs:()=>h,x9:()=>y,yj:()=>k});var r,o=n(1550),i=n(30175),s=n(49251),a=n(24869),c=n(88140),l=n(28956),u=n(47954),d=n(19406),p="3.2.3",h="1DS-Web-JS-"+p,f="withCredentials",g=((r={})[0]=0,r[2]=6,r[1]=1,r[3]=7,r[4098]=6,r[4097]=1,r[4099]=7,r),m=null,y=Boolean((0,s.Me)()),v=Boolean((0,s.Jj)());function b(e){return!(""===e||(0,a.le)(e))}function S(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function w(){return null===m&&(m=!(0,a.o8)(Uint8Array)&&!function(){var e=(0,s.jW)();if(!(0,a.o8)(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}()&&!(0,s.b$)()),m}function C(e){return!!(e&&(0,a.hj)(e)&&e>=1&&e<=4)}function k(e,t,n){if(!t&&!b(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||(0,a.kJ)(t))t={value:t};else if("object"!==r||t.hasOwnProperty("value")){if((0,a.le)(t.value)||""===t.value||!(0,a.HD)(t.value)&&!(0,a.hj)(t.value)&&!(0,a.jn)(t.value)&&!(0,a.kJ)(t.value))return null}else t={value:n?JSON.stringify(t):t};if((0,a.kJ)(t.value)&&!O(t.value))return null;if(!(0,a.le)(t.kind)){if((0,a.kJ)(t.value)||!N(t.kind))return null;t.value=t.value.toString()}return t}function _(e,t,n){var r=-1;if(!(0,a.o8)(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){return e>=0&&e<=9}(n))-1===r&&(r=0),r|=n;else{var o=g[R(e)]||-1;-1!==r&&-1!==o?r|=o:6===o&&(r=o)}return r}function I(){(0,c.JP)(null).setEnabled(!1)}function E(e,t,n){(0,c.p7)(null)&&(0,c.JP)(null).set(e,t,86400*n,null,"/")}function P(e){(0,c.p7)(null)&&(0,c.JP)(null).del(e)}function D(e){return(0,c.p7)(null)?T((0,c.JP)(null),e):""}function T(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function x(e){void 0===e&&(e="D");var t=(0,l.GW)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function j(e,t,n,r,i){var s={},c=!1,l=0,u=arguments.length,d=Object[o.hB],p=arguments;for("[object Boolean]"===d.toString.call(p[0])&&(c=p[0],l++);l<u;l++)e=p[l],(0,a.rW)(e,(function(e,t){c&&t&&(0,a.Kn)(t)?(0,a.kJ)(t)?(s[e]=s[e]||[],(0,a.tO)(t,(function(t,n){t&&(0,a.Kn)(t)?s[e][n]=j(!0,s[e][n],t):s[e][n]=t}))):s[e]=j(!0,s[e],t):s[e]=t}));return s}var M=l.Jj;function N(e){return 0===e||e>0&&e<=13||32===e}function O(e){return e.length>0}function A(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=M()}function R(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===o.fK&&(t=4,(0,a.kJ)(e)?(t=4096,e.length>0&&(t|=R(e[0]))):(0,a.nr)(e,"value")&&(t=8192|R(e.value)))}return t}var L={Version:p,FullVersionString:h,strUndefined:o.jA,strObject:o.fK,Undefined:o.jA,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,objKeys:a.FY,toISOString:a.Y6,isReactNative:s.b$,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,isFunction:a.mf,isArray:a.kJ,isObject:a.Kn,strTrim:a.nd,isDocumentObjectAvailable:y,isWindowObjectAvailable:v,isValueAssigned:b,getTenantId:S,isBeaconsSupported:s.MF,isUint8ArrayAvailable:w,isLatency:C,sanitizeProperty:k,getISOString:a.Y6,useXDomainRequest:s.cp,getCommonSchemaMetaData:_,cookieAvailable:c.p7,disallowsSameSiteNone:c.UY,setCookie:E,deleteCookie:P,getCookie:D,createGuid:x,extend:j,getTime:M,isValueKind:N,isArrayValid:O,objDefineAccessors:a.l_,addPageUnloadEventListener:u.c9,setProcessTelemetryTimings:A,addEventHandler:u.Ib,getFieldValueType:R,strEndsWith:a.Id,objForEachKey:a.rW},F={_canUseCookies:void 0,isTypeof:a.Ym,isUndefined:a.o8,isNullOrUndefined:a.le,hasOwnProperty:a.nr,isFunction:a.mf,isObject:a.Kn,isDate:a.J_,isArray:a.kJ,isError:a.VZ,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,toISOString:a.Y6,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,strTrim:a.nd,objCreate:i.pu,objKeys:a.FY,objDefineAccessors:a.l_,addEventHandler:u.Ib,dateNow:a.m6,isIE:s.w1,disableCookies:I,newGuid:l.GW,perfNow:l.Jj,newId:d.pZ,randomValue:d.az,random32:d._l,mwcRandomSeed:d.CN,mwcRandom32:d.F6,generateW3CId:l.DO};function U(){return!!(0,s.a8)("chrome")}function K(e,t,n,r,o,i){function s(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===o&&(o=!1);var a=new XMLHttpRequest;return r&&s(a,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),n&&s(a,f,n),a.open(e,t,!o),n&&s(a,f,n),!o&&i&&s(a,"timeout",i),a}},63391:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BE_PROFILE:()=>m,NRT_PROFILE:()=>g,PostChannel:()=>re,RT_PROFILE:()=>f});var r=n(27421),o=n(29141),i=n(81782),s=n(47954),a=n(87624),c=n(65705),l=n(24869),u=n(49251),d=n(28452),p=n(29339),h=n(87951),f="REAL_TIME",g="NEAR_REAL_TIME",m="BEST_EFFORT",y="POST",v="drop",b="requeue",S="application/x-json-stream",w="cache-control",C="content-type",k="time-delta-millis",_="client-version",I="client-id",E="time-delta-to-apply-millis",P="upload-time",D="apikey",T="AuthMsaDeviceTicket",x="AuthXToken";function j(e){var t=(e.ext||{}).intweb;return t&&(0,c.Sn)(t.msfpc)?t.msfpc:null}function M(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=j(e[n]);return t}var N=function(){function e(t,n){var r=n?[].concat(n):[],o=this,i=M(r);o.iKey=function(){return t},o.Msfpc=function(){return i||""},o.count=function(){return r.length},o.events=function(){return r},o.addEvent=function(e){return!!e&&(r.push(e),i||(i=j(e)),!0)},o.split=function(n,o){var s;if(n<r.length){var a=r.length-n;(0,l.le)(o)||(a=o<a?o:a),s=r.splice(n,a),i=M(r)}return new e(t,s)}}return e.create=function(t,n){return new e(t,n)},e}(),O=n(1550),A=2e6,R=Math.min(A,65e3),L=/\./,F=function e(t,n,r,s){var a="baseData",u=!!s,d=n,p={};(0,o.Z)(e,this,(function(e){function n(e,t,o,i,s,a,h){(0,l.rW)(e,(function(e,f){var g=null;if(f||(0,c.Sn)(f)){var m=o,y=e,v=s,b=t;if(u&&!i&&L.test(e)){var S=e.split("."),w=S.length;if(w>1){v&&(v=v.slice());for(var C=0;C<w-1;C++){var k=S[C];b=b[k]=b[k]||{},m+="."+k,v&&v.push(k)}y=S[w-1]}}var _=i&&function(e,t){var n=p[e];return void 0===n&&(e.length>=7&&(n=(0,l.xe)(e,"ext.metadata")||(0,l.xe)(e,"ext.web")),p[e]=n),n}(m);if(g=!_&&d&&d.handleField(m,y)?d.value(m,y,f,r):(0,c.yj)(y,f,r)){var I=g.value;if(b[y]=I,a&&a(v,y,g),h&&"object"==typeof I&&!(0,l.kJ)(I)){var E=v;E&&(E=E.slice()).push(y),n(f,I,m+"."+y,i,E,a,h)}}}}))}e.createPayload=function(e,t,n,r,o,i){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:i,sendReason:o}},e.appendPayload=function(n,r,o){var s=n&&r&&!n.overflow;return s&&(0,i.Lm)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),i=n.payloadBlob,s=n.numEvents,a=!1,c=[],u=[],d=n.isBeacon,p=d?65e3:3984588,h=d?R:A,f=0,g=0;f<t.length;){var m=t[f];if(m){if(s>=o){n.overflow=r.split(f);break}var y=e.getEventBlob(m);if(y&&y.length<=h){var v=y.length;if(i.length+v>p){n.overflow=r.split(f);break}i&&(i+="\n"),i+=y,++g>20&&(i.substr(0,1),g=0),a=!0,s++}else y?c.push(m):u.push(m),t.splice(f,1),f--}f++}if(c&&c.length>0&&n.sizeExceed.push(N.create(r.iKey(),c)),u&&u.length>0&&n.failedEvts.push(N.create(r.iKey(),u)),a){n.batches.push(r),n.payloadBlob=i,n.numEvents=s;var b=r.iKey();-1===(0,l.UA)(n.apiKeys,b)&&n.apiKeys.push(b)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:o}})),s},e.getEventBlob=function(e){try{return(0,i.Lm)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+(0,c.jM)(e.iKey);var r={},o=e.ext;o&&(t.ext=r,(0,l.rW)(o,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var i=t.data={};i.baseType=e.baseType;var s=i.baseData={};return n(e.baseData,s,a,!1,[a],(function(e,t,n){U(r,e,t,n)}),!0),n(e.data,i,"data",!1,[],(function(e,t,n){U(r,e,t,n)}),!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))};function U(e,t,n,r){if(r&&e){var o=(0,c.Vv)(r.value,r.kind,r.propertyType);if(o>-1){var i=e.metadata;i||(i=e.metadata={f:{}});var s=i.f;if(s||(s=i.f={}),t)for(var a=0;a<t.length;a++){var u=t[a];s[u]||(s[u]={f:{}});var d=s[u].f;d||(d=s[u].f={}),s=d}s=s[n]={},(0,l.kJ)(r.value)?s.a={t:o}:s.t=o}}}function K(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)}const W=function e(){var t={};(0,o.Z)(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var r=(s=e.split(","),a=[],s&&(0,l.tO)(s,(function(e){a.push((0,l.nd)(e))})),a);if("this-request-only"===n)return r;for(var o=1e3*parseInt(n,10),i=0;i<r.length;++i)t[r[i]]=(0,l.m6)()+o}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var n=t,r=(0,l.nd)(e);return void 0!==n[r]&&n[r]>(0,l.m6)()||(delete n[r],!1)}}))},V=function e(){var t=!0,n=!0,r=!0,i="use-collector-delta",s=!1;(0,o.Z)(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,s||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){s||(e?(i=e,n=!0,s=!0):n=!1,t=!0)}}))};var B,H="&NoResponseBody=true",J=((B={})[1]=b,B[100]=b,B[200]="sent",B[8004]=v,B[8003]=v,B),q={},$={};function G(e,t,n){q[e]=t,!1!==n&&($[t]=e)}function z(e){try{return e.responseText}catch(e){}return""}function Y(e,t){var n=!1;if(e&&t){var r=(0,l.FY)(e);if(r&&r.length>0)for(var o=t.toLowerCase(),i=0;i<r.length;i++){var s=r[i];if(s&&(0,l.nr)(t,s)&&s.toLowerCase()===o){n=!0;break}}}return n}function Q(e,t,n,r){t&&n&&n.length>0&&(r&&q[t]?(e.hdrs[q[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}G(T,T,!1),G(_,_),G(I,"Client-Id"),G(D,D),G(E,E),G(P,P),G(x,x);var Z=function e(t,n,r,s,a){this._responseHandlers=[];var d,h,f,g,m,b,T="?cors=true&"+C.toLowerCase()+"="+S,x=new W,j=!1,M=new V,N=!1,A=0,R=!0,L=[],U={},B=[],q=null,G=!1,Z=!1,X=!1;(0,o.Z)(e,this,(function(e){var o=!0;function W(e,t){for(var n=0,r=null,o=0;null==r&&o<e.length;)1===(n=e[o])?(0,u.cp)()?r=V:(0,u.Z3)()&&(r=te):2===n&&(0,u.JO)(t)?r=ee:N&&3===n&&(0,u.MF)()&&(r=re),o++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function V(e,t,n){var r=new XDomainRequest;r.open(y,e.urlString),e.timeout&&(r.timeout=e.timeout),r.onload=function(){var e=z(r);ne(t,200,{},e),fe(e)},r.onerror=function(){ne(t,400,{})},r.ontimeout=function(){ne(t,500,{})},r.onprogress=function(){},n?r.send(e.data):a.set((function(){r.send(e.data)}),0)}function ee(e,t,n){var r,i=e.urlString,s=!1,c=!1,u=((r={body:e.data,method:y}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(u.keepalive=!0,2===e._sendReason&&(s=!0,i+=H)),o&&(u.credentials="include"),e.headers&&(0,l.FY)(e.headers).length>0&&(u.headers=e.headers),fetch(i,u).then((function(e){var n={},r="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){r=e})),c||(c=!0,ne(t,e.status,n,r),fe(r))})).catch((function(e){c||(c=!0,ne(t,0,{}))})),s&&!c&&(c=!0,ne(t,200,{})),!c&&e.timeout>0&&a.set((function(){c||(c=!0,ne(t,500,{}))}),e.timeout)}function te(e,t,n){var r=e.urlString;function i(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var r=t.getResponseHeader(n);r&&(e[n]=(0,l.nd)(r))}return e}function s(e,n){ne(t,e.status,function(e){var t={};return e.getAllResponseHeaders?t=function(e){var t={};if((0,l.HD)(e)){var n=(0,l.nd)(e).split(/[\r\n]+/);(0,l.tO)(n,(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var r=(0,l.nd)(e.substring(0,n)).toLowerCase(),o=(0,l.nd)(e.substring(n+1));t[r]=o}else t[(0,l.nd)(e)]=1}}))}return t}(e.getAllResponseHeaders()):(t=i(t,e,k),t=i(t,e,"kill-duration"),t=i(t,e,"kill-duration-seconds")),t}(e),n)}n&&e.disableXhrSync&&(n=!1);var a=(0,c.ot)(y,r,o,!0,n,e.timeout);(0,l.rW)(e.headers,(function(e,t){a.setRequestHeader(e,t)})),a.onload=function(){var e=z(a);s(a,e),fe(e)},a.onerror=function(){s(a)},a.ontimeout=function(){s(a)},a.send(e.data)}function ne(e,t,n,r){try{e(t,n,r)}catch(e){(0,p.kP)(d.diagLog(),2,518,(0,u.eU)(e))}}function re(e,t,n){var r=200,o=e._thePayload,i=e.urlString+H;try{var s=(0,u.jW)();if(!s.sendBeacon(i,e.data))if(o){var a=[];(0,l.tO)(o.batches,(function(e){if(a&&e&&e.count()>0){for(var t=e.events(),n=0;n<t.length;n++)if(!s.sendBeacon(i,q.getEventBlob(t[n]))){a.push(e.split(n));break}}else a.push(e.split(0))})),ge(a,8003,o.sendType,!0)}else r=0}catch(e){d.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+(0,u.eU)(e)),r=0}finally{ne(t,r,{},"")}}function oe(e){return 2===e||3===e}function ie(e){return Z&&oe(e)&&(e=2),e}function se(){return!j&&A<n}function ae(){var e=B;return B=[],e}function ce(e,t,n){var r=!1;return e&&e.length>0&&!j&&h[t]&&q&&(r=0!==t||se()&&(n>0||M.allowRequestSending())),r}function le(e){var t={};return e&&(0,l.tO)(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function ue(e,n,r,o,s){if(e&&0!==e.length)if(j)ge(e,1,o);else{o=ie(o);try{var a=e,l=0!==o;(0,i.Lm)(f,(function(){return"HttpManager:_sendBatches"}),(function(i){i&&(e=e.slice(0));for(var a=[],d=null,p=(0,c.hK)(),f=h[o]||(l?h[1]:h[0]),g=(Z||oe(o)||f&&3===f._transport)&&!R&&N&&(0,u.MF)();ce(e,o,n);){var m=e.shift();m&&m.count()>0&&(x.isTenantKilled(m.iKey())?a.push(m):(d=d||q.createPayload(n,r,l,g,s,o),q.appendPayload(d,m,t)?null!==d.overflow&&(e=[d.overflow].concat(e),d.overflow=null,pe(d,p,(0,c.hK)(),s),p=(0,c.hK)(),d=null):(pe(d,p,(0,c.hK)(),s),p=(0,c.hK)(),e=[m].concat(e),d=null)))}d&&pe(d,p,(0,c.hK)(),s),e.length>0&&(B=e.concat(B)),ge(a,8004,o)}),(function(){return{batches:le(a),retryCount:n,isTeardown:r,isSynchronous:l,sendReason:s,useSendBeacon:oe(o),sendType:o}}),!l)}catch(e){(0,p.kP)(d.diagLog(),2,48,"Unexpected Exception sending batch: "+(0,u.eU)(e))}}}function de(e,t,n){e[t]=e[t]||{},e[t][d.identifier]=n}function pe(t,n,o,s){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var a=!!e.sendHook,p=h[t.sendType];!oe(t.sendType)&&t.isBeacon&&2===t.sendReason&&(p=h[2]||h[3]||p);var g=X;(t.isBeacon||3===p._transport)&&(g=!1);var y=function(e,t){var n={url:T,hdrs:{},useHdrs:!1};t?(n.hdrs=(0,c.l7)(n.hdrs,U),n.useHdrs=(0,l.FY)(n.hdrs).length>0):(0,l.rW)(U,(function(e,t){$[e]?Q(n,$[e],t,!1):(n.hdrs[e]=t,n.useHdrs=!0)})),Q(n,I,"NO_AUTH",t),Q(n,_,c.vs,t);var r="";(0,l.tO)(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),Q(n,D,r,t),Q(n,P,(0,l.m6)().toString(),t);var o=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e);if((0,c.Sn)(o)&&(n.url+="&ext.intweb.msfpc="+o),M.shouldAddClockSkewHeaders()&&Q(n,E,M.getClockSkewHeaderValue(),t),f.getWParam){var i=f.getWParam();i>=0&&(n.url+="&w="+i)}for(var s=0;s<L.length;s++)n.url+="&"+L[s].name+"="+L[s].value;return n}(t,g);g=g||y.useHdrs;var v=(0,c.hK)();(0,i.Lm)(f,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var h=0;h<t.batches.length;h++)for(var _=t.batches[h].events(),I=0;I<_.length;I++){var E=_[I];if(G){var P=E.timings=E.timings||{};de(P,"sendEventStart",v),de(P,"serializationStart",n),de(P,"serializationCompleted",o)}E.sendAttempt>0?E.sendAttempt++:E.sendAttempt=1}ge(t.batches,1e3+(s||0),t.sendType,!0);var D={data:t.payloadBlob,urlString:y.url,headers:y.hdrs,_thePayload:t,_sendReason:s,timeout:m};(0,l.o8)(b)||(D.disableXhrSync=!!b),g&&(Y(D.headers,w)||(D.headers[w]="no-cache, no-store"),Y(D.headers,C)||(D.headers["content-type"]=S));var T=null;p&&(T=function(n){M.firstRequestSent();var o=function(n,o){!function(t,n,o,i){var s,a=9e3,u=null,p=!1,h=!1;try{var f=!0;if(typeof t!==O.jA){if(n){M.setClockSkew(n[k]);var g=n["kill-duration"]||n["kill-duration-seconds"];(0,l.tO)(x.setKillSwitchTenants(n["kill-tokens"],g),(function(e){(0,l.tO)(o.batches,(function(t){if(t.iKey()===e){u=u||[];var n=t.split(0);o.numEvents-=n.count(),u.push(n)}}))}))}if(200==t||204==t)return void(a=200);((s=t)>=300&&s<500&&408!=s&&429!=s||501==s||505==s||o.numEvents<=0)&&(f=!1),a=9e3+t%1e3}if(f){a=100;var m=o.retryCnt;0===o.sendType&&(m<r?(p=!0,he((function(){0===o.sendType&&A--,ue(o.batches,m+1,o.isTeardown,Z?2:o.sendType,5)}),Z,K(m))):(h=!0,Z&&(a=8001)))}}finally{p||(M.setClockSkew(),function(t,n,r,o){try{o&&d._backOffTransmission(),200===n&&(o||t.isSync||d._clearBackOff(),function(e){if(G){var t=(0,c.hK)();(0,l.tO)(e,(function(e){e&&e.count()>0&&function(e,t){G&&(0,l.tO)(e,(function(e){de(e.timings=e.timings||{},"sendEventCompleted",t)}))}(e.events(),t)}))}}(t.batches)),ge(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&(A--,5!==r&&e.sendQueuedRequests(t.sendType,r))}}(o,a,i,h)),ge(u,8004,o.sendType)}}(n,o,t,s)},i=t.isTeardown||t.isSync;try{p.sendPOST(n,o,i),e.sendListener&&e.sendListener(D,n,i,t.isBeacon)}catch(e){d.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+(0,u.eU)(e)),ne(o,0,{})}}),(0,i.Lm)(f,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(T)if(0===t.sendType&&A++,a&&!t.isBeacon&&3!==p._transport){var n={data:D.data,urlString:D.urlString,headers:(0,c.l7)({},D.headers),timeout:D.timeout,disableXhrSync:D.disableXhrSync},r=!1;(0,i.Lm)(f,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){r=!0,R||e._thePayload||(e._thePayload=e._thePayload||D._thePayload,e._sendReason=e._sendReason||D._sendReason),T(e)}),t.isSync||t.isTeardown)}catch(e){r||T(D)}}))}else T(D)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:o,sendReason:s}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&ge(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&ge(t.failedEvts,8002,t.sendType)}function he(e,t,n){t?e():a.set(e,n)}function fe(t){var n=e._responseHandlers;try{for(var r=0;r<n.length;r++)try{n[r](t)}catch(e){(0,p.kP)(d.diagLog(),1,519,"Response handler failed: "+e)}if(t){var o=JSON.parse(t);(0,c.Sn)(o.webResult)&&(0,c.Sn)(o.webResult.msfpc)&&g.set("MSFPC",o.webResult.msfpc,31536e3)}}catch(e){}}function ge(e,t,n,r){if(e&&e.length>0&&s){var o=s[(l=t,u=J[l],(0,c.Sn)(u)||(u="oth",l>=9e3&&l<=9999?u="rspFail":l>=8e3&&l<=8999?u=v:l>=1e3&&l<=1999&&(u="send")),u)];if(o){var a=0!==n;(0,i.Lm)(f,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){he((function(){try{o.call(s,e,t,a,n)}catch(e){(0,p.kP)(d.diagLog(),1,74,"send request notification failed: "+e)}}),r||a,0)}),(function(){return{batches:le(e),reason:t,isSync:a,sendSync:r,sendType:n}}),!a)}}var l,u}e.initialize=function(e,t,n,r,i){var s;i||(i={}),T=e+T,X=!!(0,l.o8)(i.avoidOptions)||!i.avoidOptions,f=t,g=t.getCookieMgr(),G=!f.config.disableEventTimings;var a=!!f.config.enableCompoundKey;d=n;var c=i.valueSanitizer,p=i.stringifyObjects;(0,l.o8)(i.enableCompoundKey)||(a=!!i.enableCompoundKey),m=i.xhrTimeout,b=i.disableXhrSync,N=!(0,u.b$)(),q=new F(f,c,p,a);var y=r,v=i.alwaysUseXhrOverride?r:null,S=i.alwaysUseXhrOverride?r:null;if(!r){R=!1;var w=(0,u.k$)();w&&w.protocol&&"file:"===w.protocol.toLowerCase()&&(o=!1);var C=[];C=(0,u.b$)()?[2,1]:[1,2,3];var k=i.transports;k&&((0,l.hj)(k)?C=[k].concat(C):(0,l.kJ)(k)&&(C=k.concat(C))),r=W(C,!1),y=W(C,!0),r||d.diagLog().warnToConsole("No available transport to send events")}(s={})[0]=r,s[1]=y||W([1,2,3],!0),s[2]=v||W([3,2],!0)||y||W([1],!0),s[3]=S||W([2,3],!0)||y||W([1],!0),h=s},e._getDbgPlgTargets=function(){return[h[0],x,q,h]},e.addQueryStringParameter=function(e,t){for(var n=0;n<L.length;n++)if(L[n].name===e)return void(L[n].value=t);L.push({name:e,value:t})},e.addHeader=function(e,t){U[e]=t},e.canSendRequest=function(){return se()&&M.allowRequestSending()},e.sendQueuedRequests=function(e,t){(0,l.o8)(e)&&(e=0),Z&&(e=ie(e),t=2),ce(B,e,0)&&ue(ae(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!j&&0===A&&0===B.length},e.setUnloading=function(e){Z=e},e.addBatch=function(e){if(e&&e.count()>0){if(x.isTenantKilled(e.iKey()))return!1;B.push(e)}return!0},e.teardown=function(){B.length>0&&ue(ae(),0,!0,2,2)},e.pause=function(){j=!0},e.resume=function(){j=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&((0,l.le)(t)&&(t=1),Z&&(t=ie(t),n=2),ue([e],0,!1,t,n||0))}}))};function X(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function ee(e){clearTimeout(e)}function te(e,t){return{set:e||X,clear:t||ee}}var ne="eventsDiscarded";const re=function(e){function t(){var n,r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.3";var h,y,v,b,S,w,C,k=!1,_=[],I=null,E=!1,P=0,D=500,x=0,j=1e4,M={},O=f,A=null,R=null,L=0,F=0,U={},W=-1,V=!0,B=!1,H=6,J=2;return(0,o.Z)(t,r,(function(e,t){function r(e){"beforeunload"!==(e||(0,u.Jj)().event).type&&(B=!0,y.setUnloading(B)),ee(2,2)}function o(e){B=!1,y.setUnloading(B)}function q(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,V&&(e.ext=(0,l.Ax)(e.ext),e.baseData&&(e.baseData=(0,l.Ax)(e.baseData)),e.data&&(e.data=(0,l.Ax)(e.data))),e.sync)if(L||E)e.latency=3,e.sync=!1;else if(y)return V&&(e=(0,l.Ax)(e)),void y.sendSynchronousBatch(N.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=x,o=j;4===n&&(r=P,o=D);var i=!1;if(r<o)i=!ie(e,t);else{var s=1,a=20;4===n&&(s=4,a=1),i=!0,function(e,t,n,r){for(;n<=t;){var o=re(e,t,!0);if(o&&o.count()>0){var i=o.split(0,r),s=i.count();if(s>0)return 4===n?P-=s:x-=s,fe(ne,[i],d.h.QueueFull),!0}n++}return se(),!1}(e.iKey,e.latency,s,a)&&(i=!ie(e,t))}i&&he(ne,[e],d.h.QueueFull)}function $(e,t,n){var r=ae(e,t,n);return y.sendQueuedRequests(t,n),r}function G(){return x>0}function z(){if(W>=0&&ae(W,0,S)&&y.sendQueuedRequests(0,S),P>0&&!R&&!E){var e=M[O][2];e>=0&&(R=Q((function(){R=null,$(4,0,1),z()}),e))}var t=M[O][1];!A&&!I&&t>=0&&!E&&(G()?A=Q((function(){A=null,$(0===F?3:1,0,1),F++,F%=2,z()}),t):F=0)}function Y(){n=null,k=!1,_=[],I=null,E=!1,P=0,D=500,x=0,j=1e4,M={},O=f,A=null,R=null,L=0,F=0,h=null,U={},v=void 0,b=0,W=-1,S=null,V=!0,B=!1,H=6,J=2,w=null,C=te(),y=new Z(500,2,1,{requeue:de,send:ge,sent:me,drop:ye,rspFail:ve,oth:be},C),ue(),U[4]={batches:[],iKeyMap:{}},U[3]={batches:[],iKeyMap:{}},U[2]={batches:[],iKeyMap:{}},U[1]={batches:[],iKeyMap:{}},Se()}function Q(e,t){0===t&&L&&(t=1);var n=1e3;return L&&(n=K(L-1)),C.set(e,t*n)}function X(){return null!==A&&(C.clear(A),A=null,F=0,!0)}function ee(e,t){X(),I&&(C.clear(I),I=null),E||$(1,e,t)}function re(e,t,n){var r=U[t];r||(r=U[t=1]);var o=r.iKeyMap[e];return!o&&n&&(o=N.create(e),r.batches.push(o),r.iKeyMap[e]=o),o}function oe(t,n){y.canSendRequest()&&!L&&(v>0&&x>v&&(n=!0),n&&null==I&&e.flush(t,null,20))}function ie(e,t){V&&(e=(0,l.Ax)(e));var n=e.latency,r=re(e.iKey,n,!0);return!!r.addEvent(e)&&(4!==n?(x++,t&&0===e.sendAttempt&&oe(!e.sync,b>0&&r.count()>=b)):P++,!0)}function se(){for(var e=0,t=0,n=function(n){var r=U[n];r&&r.batches&&(0,l.tO)(r.batches,(function(r){4===n?e+=r.count():t+=r.count()}))},r=1;r<=4;r++)n(r);x=t,P=e}function ae(t,n,r){var o=!1,s=0===n;return!s||y.canSendRequest()?(0,i.Lm)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=4;n>=t;){var r=U[n];r&&r.batches&&r.batches.length>0&&((0,l.tO)(r.batches,(function(t){y.addBatch(t)?o=o||t&&t.count()>0:e=e.concat(t.events()),4===n?P-=t.count():x-=t.count()})),r.batches=[],r.iKeyMap={}),n--}e.length>0&&he(ne,e,d.h.KillSwitch),o&&W>=t&&(W=-1,S=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!s):(W=W>=0?Math.min(W,t):t,S=Math.max(S,r)),o}function ce(e,t){$(1,0,t),se(),le((function(){e&&e(),_.length>0?I=Q((function(){I=null,ce(_.shift(),t)}),0):(I=null,z())}))}function le(e){y.isCompletelyIdle()?e():I=Q((function(){I=null,le(e)}),.25)}function ue(){(M={})[f]=[2,1,0],M[g]=[6,3,0],M[m]=[18,9,0]}function de(t,n){var r=[],o=H;B&&(o=J),(0,l.tO)(t,(function(t){t&&t.count()>0&&(0,l.tO)(t.events(),(function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<o?((0,c.if)(t,e.identifier),q(t,!1)):r.push(t))}))})),r.length>0&&he(ne,r,d.h.NonRetryableStatus),B&&ee(2,2)}function pe(t,n){var r=e._notificationManager||{},o=r[t];if(o)try{o.apply(r,n)}catch(n){(0,p.kP)(e.diagLog(),1,74,t+" notification failed: "+n)}}function he(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&pe(e,[t].concat(n))}function fe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&(0,l.tO)(t,(function(t){t&&t.count()>0&&pe(e,[t.events()].concat(n))}))}function ge(e,t,n){e&&e.length>0&&pe("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])}function me(e,t){fe("eventsSent",e,t),z()}function ye(e,t){fe(ne,e,t>=8e3&&t<=8999?t-8e3:d.h.Unknown)}function ve(e){fe(ne,e,d.h.NonRetryableStatus),z()}function be(e,t){fe(ne,e,d.h.Unknown),z()}function Se(){b=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,j/6)}Y(),e._getDbgPlgTargets=function(){return[y]},e.initialize=function(u,d,p){(0,i.Lm)(d,(function(){return"PostChannel:initialize"}),(function(){var i=d;t.initialize(u,d,p);try{d.addUnloadCb,w=(0,s.jU)((0,a.J)(e.identifier),d.evtNamespace&&d.evtNamespace());var f=e._getTelCtx();u.extensionConfig[e.identifier]=u.extensionConfig[e.identifier]||{},n=f.getExtCfg(e.identifier),C=te(n.setTimeoutOverride,n.clearTimeoutOverride),V=!n.disableOptimizeObj&&(0,c.mJ)(),function(e){var t=e.getWParam;e.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()}}(i),n.eventsLimitInMem>0&&(j=n.eventsLimitInMem),n.immediateEventLimit>0&&(D=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(v=n.autoFlushEventsLimit),(0,l.hj)(n.maxEventRetryAttempts)&&(H=n.maxEventRetryAttempts),(0,l.hj)(n.maxUnloadEventRetryAttempts)&&(J=n.maxUnloadEventRetryAttempts),Se(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(h=n.httpXHROverride),(0,c.Sn)(u.anonCookieName)&&y.addQueryStringParameter("anoncknm",u.anonCookieName),y.sendHook=n.payloadPreprocessor,y.sendListener=n.payloadListener;var g=n.overrideEndpointUrl?n.overrideEndpointUrl:u.endpointUrl;e._notificationManager=u.extensionConfig.NotificationManager,y.initialize(g,e.core,e,h,n);var m=u.disablePageUnloadEvents||[];(0,s.c9)(r,m,w),(0,s.TJ)(r,m,w),(0,s.nD)(o,u.disablePageShowEvents,w)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{coreConfig:u,core:d,extensions:p}}))},e.processTelemetry=function(t,r){(0,c.if)(t,e.identifier);var o=(r=e._getTelCtx(r)).getExtCfg(e.identifier),i=!!n.disableTelemetry;o&&(i=i||!!o.disableTelemetry);var s=t;i||k||(n.overrideInstrumentationKey&&(s.iKey=n.overrideInstrumentationKey),o&&o.overrideInstrumentationKey&&(s.iKey=o.overrideInstrumentationKey),q(s,!0),B?ee(2,2):z()),e.processNext(s,r)},e._doTeardown=function(e,t){ee(2,2),k=!0,y.teardown(),(0,s.JA)(null,w),(0,s.C9)(null,w),(0,s.Yl)(null,w),Y()},e.setEventQueueLimits=function(e,t){j=e>0?e:1e4,v=t>0?t:0,Se();var n=x>e;if(!n&&b>0)for(var r=1;!n&&r<=3;r++){var o=U[r];o&&o.batches&&(0,l.tO)(o.batches,(function(e){e&&e.count()>=b&&(n=!0)}))}oe(!0,n)},e.pause=function(){X(),E=!0,y.pause()},e.resume=function(){E=!1,y.resume(),z()},e.addResponseHandler=function(e){y._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){X(),ue(),O=f,z(),(0,l.rW)(e,(function(e,t){var n=t.length;if(n>=2){var r=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var o=t[0]/t[1];t[0]=Math.ceil(o)*t[1]}r>=0&&t[1]>=0&&r>t[1]&&(r=t[1]),t.push(r),M[e]=t}}))},e.flush=function(e,t,n){if(void 0===e&&(e=!0),!E)if(n=n||1,e)null==I?(X(),ae(1,0,n),I=Q((function(){I=null,ce(t,n)}),0)):_.push(t);else{var r=X();$(1,1,n),null!=t&&t(),r&&z()}},e.setMsaAuthTicket=function(e){y.addHeader(T,e)},e.hasEvents=G,e._setTransmitProfile=function(e){O!==e&&void 0!==M[e]&&(X(),O=e,z())},e._backOffTransmission=function(){L<4&&(L++,X(),z())},e._clearBackOff=function(){L&&(L=0,X(),z())},(0,l.l_)(e,"_setTimeoutOverride",(function(){return C.set}),(function(e){C=te(e,C.clear)})),(0,l.l_)(e,"_clearTimeoutOverride",(function(){return C.clear}),(function(e){C=te(C.set,e)}))})),r}return(0,r.ne)(t,e),t}(h.i)},50951:(e,t,n)=>{"use strict";n.d(t,{By:()=>o});var r=n(24869);function o(e){var t={};return(0,r.rW)(e,(function(e,n){t[e]=n,t[n]=e})),(0,r._A)(t)}},28452:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r=(0,n(50951).By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},87951:(e,t,n)=>{"use strict";n.d(t,{i:()=>l});var r=n(29141),o=n(31030),i=n(24869),s=n(61733),a=n(38593),c=n(96335),l=function e(){var t,n,l,u,d,p=this;function h(e){void 0===e&&(e=null);var t=e;if(!t){var r=n||(0,o.CD)(null,{},p.core);t=l&&l.getPlugin?r.createNew(null,l.getPlugin):r.createNew(null,l)}return t}function f(e,t,r){e&&(0,i.sO)(e,s.F,[],null,i.le),!r&&t&&(r=t.getProcessTelContext().getNext());var a=l;l&&l.getPlugin&&(a=l.getPlugin()),p.core=t,n=(0,o.CD)(r,e,t,a)}function g(){t=!1,p.core=null,n=null,l=null,d=[],u=(0,a.Y)()}g(),(0,r.Z)(e,p,(function(e){e.initialize=function(e,n,r,o){f(e,n,o),t=!0},e.teardown=function(t,n){var r=e.core;if(r&&(!t||r===t.core())){var s,a=!1,p=t||(0,o.Bt)(null,r,l&&l.getPlugin?l.getPlugin():l),h=n||{reason:0,isAsync:!1};return e[c.Ho]&&!0===e[c.Ho](p,h,f)?s=!0:f(),s}function f(){a||(a=!0,u.run(p,n),(0,i.tO)(d,(function(e){e.rm()})),d=[],!0===s&&p.processNext(h),g())}},e.update=function(t,n){var r=e.core;if(r&&(!t||r===t.core())){var i,s=!1,a=t||(0,o.xy)(null,r,l&&l.getPlugin?l.getPlugin():l),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(a,c,u)?i=!0:u(),i}function u(){s||(s=!0,f(a.getCfg(),a.core(),a.getNext()))}},e._addHook=function(e){e&&((0,i.kJ)(e)?d=d.concat(e):d.push(e))},(0,i.Oi)(e,"_addUnloadCb",(function(){return u}),"add")})),p.diagLog=function(e){return h(e).diagLog()},p[c.Vr]=function(){return t},p.setInitialized=function(e){t=e},p[c.El]=function(e){l=e},p.processNext=function(e,t){t?t.processNext(e):l&&(0,i.mf)(l.processTelemetry)&&l.processTelemetry(e,null)},p._getTelCtx=h}},61733:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,z:()=>r});var r="iKey",o="extensionConfig"},88140:(e,t,n)=>{"use strict";n.d(t,{JP:()=>y,Nz:()=>v,UY:()=>I,kj:()=>g,p7:()=>b});var r=n(49251),o=n(24869),i=n(96335),s=n(29339),a="toGMTString",c="toUTCString",l=null,u=null,d=null,p=(0,r.Me)(),h={},f={};function g(e,t){var n=v._ckMgr||f._ckMgr;return n||(n=v._ckMgr=v(e,t),f._ckMgr=n),n}function m(e){return!e||e.isEnabled()}function y(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r._ckMgr?r._ckMgr:v(t)}return n||(n=g(t,(e||{}).logger)),n}function v(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if((0,o.sO)(t,"domain",e.cookieDomain,o.BX,o.le),(0,o.sO)(t,"path",e.cookiePath||"/",null,o.le),(0,o.le)(t.enabled)){var n=void 0;(0,o.o8)(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),(0,o.o8)(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||f),s=n.path||"/",l=n.domain,d=!1!==n.enabled,p={isEnabled:function(){var e=d&&b(t),n=f._ckMgr;return e&&n&&p!==n&&(e=m(n)),e},setEnabled:function(e){d=!1!==e},set:function(e,t,d,h,f){var g=!1;if(m(p)){var y={},v=(0,o.nd)(t||i.SM),b=v.indexOf(";");if(-1!==b&&(v=(0,o.nd)(t.substring(0,b)),y=S(t.substring(b+1))),(0,o.sO)(y,"domain",h||l,o.fQ,o.o8),!(0,o.le)(d)){var k=(0,r.w1)();if((0,o.o8)(y.expires)){var E=(0,o.m6)()+1e3*d;if(E>0){var P=new Date;P.setTime(E),(0,o.sO)(y,"expires",w(P,k?a:c)||w(P,k?a:c)||i.SM,o.fQ)}}k||(0,o.sO)(y,"max-age",i.SM+d,null,o.o8)}var D=(0,r.k$)();D&&"https:"===D.protocol&&((0,o.sO)(y,"secure",null,null,o.o8),null===u&&(u=!I(((0,r.jW)()||{}).userAgent)),u&&(0,o.sO)(y,"SameSite","None",null,o.o8)),(0,o.sO)(y,"path",f||s,null,o.o8),(n.setCookie||_)(e,C(v,y)),g=!0}return g},get:function(e){var t=i.SM;return m(p)&&(t=(n.getCookie||k)(e)),t},del:function(e,t){var n=!1;return m(p)&&(n=p.purge(e,t)),n},purge:function(e,o){var s,a=!1;if(b(t)){var c=((s={}).path=o||"/",s.expires="Thu, 01 Jan 1970 00:00:01 GMT",s);(0,r.w1)()||(c["max-age"]="0"),(n.delCookie||_)(e,C(i.SM,c)),a=!0}return a}};return p._ckMgr=p,p}function b(e){if(null===l){l=!1;try{l=void 0!==(p||{}).cookie}catch(t){(0,s.kP)(e,2,68,"Cannot access document.cookie - "+(0,o.jj)(t),{exception:(0,r.eU)(t)})}}return l}function S(e){var t={};if(e&&e.length){var n=(0,o.nd)(e).split(";");(0,o.tO)(n,(function(e){if(e=(0,o.nd)(e||i.SM)){var n=e.indexOf("=");-1===n?t[e]=null:t[(0,o.nd)(e.substring(0,n))]=(0,o.nd)(e.substring(n+1))}}))}return t}function w(e,t){return(0,o.mf)(e[t])?e[t]():null}function C(e,t){var n=e||i.SM;return(0,o.rW)(t,(function(e,t){n+="; "+e+((0,o.le)(t)?i.SM:"="+t)})),n}function k(e){var t=i.SM;if(p){var n=p.cookie||i.SM;d!==n&&(h=S(n),d=n),t=(0,o.nd)(h[e]||i.SM)}return t}function _(e,t){p&&(p.cookie=e+"="+t)}function I(e){return!(!(0,o.HD)(e)||!(0,o._Q)(e,"CPU iPhone OS 12")&&!(0,o._Q)(e,"iPad; CPU OS 12")&&!((0,o._Q)(e,"Macintosh; Intel Mac OS X 10_14")&&(0,o._Q)(e,"Version/")&&(0,o._Q)(e,"Safari"))&&(!(0,o._Q)(e,"Macintosh; Intel Mac OS X 10_14")||!(0,o.Id)(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!(0,o._Q)(e,"Chrome/5")&&!(0,o._Q)(e,"Chrome/6")&&(!(0,o._Q)(e,"UnrealEngine")||(0,o._Q)(e,"Chrome"))&&!(0,o._Q)(e,"UCBrowser/12")&&!(0,o._Q)(e,"UCBrowser/11"))}},28956:(e,t,n)=>{"use strict";n.d(t,{DO:()=>f,GW:()=>p,Jj:()=>h,zB:()=>y});var r,o=n(30175),i=n(88140),s=n(49251),a=n(24869),c=n(47954),l=n(19406),u=n(96335),d=null;function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(m,(function(e){var t=0|(0,l.az)(15);return("x"===e?t:3&t|8).toString(16)}))}function h(){var e=(0,s.r)();return e&&e.now?e.now():(0,a.m6)()}function f(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=u.SM,r=0;r<4;r++)n+=t[15&(e=(0,l._l)())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var o=t[8+(3&(0,l._l)())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)}var g={_canUseCookies:void 0,isTypeof:a.Ym,isUndefined:a.o8,isNullOrUndefined:a.le,hasOwnProperty:a.nr,isFunction:a.mf,isObject:a.Kn,isDate:a.J_,isArray:a.kJ,isError:a.VZ,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,toISOString:a.Y6,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,strTrim:a.nd,objCreate:o.pu,objKeys:a.FY,objDefineAccessors:a.l_,addEventHandler:c.Ib,dateNow:a.m6,isIE:s.w1,disableCookies:function(){var e,t,n,o;(n=(0,i.kj)(e,t),o=g._canUseCookies,null===d&&(d=[],r=o,(0,a.l_)(g,"_canUseCookies",(function(){return r}),(function(e){r=e,(0,a.tO)(d,(function(t){t.setEnabled(e)}))}))),-1===(0,a.UA)(d,n)&&d.push(n),(0,a.jn)(o)&&n.setEnabled(o),(0,a.jn)(r)&&n.setEnabled(r),n).setEnabled(!1)},newGuid:p,perfNow:h,newId:l.pZ,randomValue:l.az,random32:l._l,mwcRandomSeed:l.CN,mwcRandom32:l.F6,generateW3CId:f},m=/[xy]/g,y={Attach:c.pZ,AttachEvent:c.pZ,Detach:c.pD,DetachEvent:c.pD}},87624:(e,t,n)=>{"use strict";n.d(t,{J:()=>u,K:()=>d});var r=n(1550),o=n(24869),i=n(19406),s=r.RJ,a="."+(0,i.pZ)(6),c=0;function l(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function u(e,t){return void 0===t&&(t=!1),(0,o.Gf)(e+c+++(t?".2.8.4":"")+a)}function d(e){var t={id:u("_aiData-"+(e||"")+".2.8.4"),accept:function(e){return l(e)},get:function(e,n,r,i){var a=e[t.id];return a?a[(0,o.Gf)(n)]:(i&&((a=function(e,t){var n=t[e.id];if(!n){n={};try{l(t)&&(function(e,t,n){if(s)try{return s(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,n)||(t[e.id]=n))}catch(e){}}return n}(t,e))[(0,o.Gf)(n)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}},28341:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,p:()=>l});var r,o=n(49251),i=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],s=null;function a(e,t){return function(){var n=arguments,r=c(t);if(r){var o=r.listener;o&&o[e]&&o[e].apply(o,n)}}}function c(e){var t,n=s;return n||!0===e.disableDbgExt||(n=s||((t=(0,o.a8)("Microsoft"))&&(s=t.ApplicationInsights),s)),n?n.ChromeDbgExt:null}function l(e){if(!r){r={};for(var t=0;t<i.length;t++)r[i[t]]=a(i[t],e)}return r}},29339:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>p,jV:()=>f,kP:()=>h,lQ:()=>u,vH:()=>d});var r=n(49251),o=n(29141),i=n(24869),s=n(28341),a=n(96335);function c(e){return e?'"'+e.replace(/\"/g,a.SM)+'"':a.SM}function l(e,t){var n=(0,r.dr)();if(n){var o="log";n[e]&&(o=e),(0,i.mf)(n[o])&&n[o](t)}}var u=function(){function e(e,t,n,o){void 0===n&&(n=!1);var i=this;i.messageId=e,i.message=(n?"AI: ":"AI (Internal): ")+e;var s=a.SM;(0,r.nS)()&&(s=(0,r.xA)().stringify(o));var l=(t?" message:"+c(t):a.SM)+(o?" props:"+c(s):a.SM);i.message+=l}return e.dataType="MessageData",e}();function d(e,t){return(e||{}).logger||new p(t)}var p=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,a={};(0,o.Z)(e,this,(function(e){function o(e,n){var r=t[e];return(0,i.le)(r)?n:r}function c(e,n){var r=(0,s.j)(t);r&&r.diagLog&&r.diagLog(e,n)}(0,i.le)(t)&&(t={}),e.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},e.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},e.throwInternal=function(t,n,o,s,l){void 0===l&&(l=!1);var d=new u(n,o,l,s);if(e.enableDebugExceptions())throw(0,r.eU)(d);var p=1===t?"errorToConsole":"warnToConsole";if((0,i.o8)(d.message))c("throw"+(1===t?"Critical":"Warning"),d);else{var h=e.consoleLoggingLevel();if(l){var f=+d.messageId;!a[f]&&h>=t&&(e[p](d.message),a[f]=!0)}else h>=t&&e[p](d.message);e.logInternalMessage(t,d)}},e.warnToConsole=function(e){l("warn",e),c("warning",e)},e.errorToConsole=function(e){l("error",e),c("error",e)},e.resetInternalMessageCount=function(){n=0,a={}},e.logInternalMessage=function(t,r){if(!(n>=e.maxInternalMessageLimit())){var o=!0,i="AITR_"+r.messageId;if(a[i]?o=!1:a[i]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(r),n++,c(1===t?"error":"warn",r)),n===e.maxInternalMessageLimit())){var s="Internal events throttle limit per PageView reached for this app.",l=new u(23,s,!1);e.queue.push(l),1===t?e.errorToConsole(s):e.warnToConsole(s)}}}}))};function h(e,t,n,r,o,i){void 0===i&&(i=!1),(e||new p).throwInternal(t,n,r,o,i)}function f(e,t){(function(e){return e||new p})(e).warnToConsole(t)}},49251:(e,t,n)=>{"use strict";n.d(t,{JO:()=>K,Jj:()=>w,MF:()=>U,MX:()=>N,Me:()=>k,Nv:()=>C,Ym:()=>S,Z3:()=>V,a8:()=>b,b$:()=>A,cp:()=>W,d6:()=>_,dI:()=>v,dr:()=>T,eU:()=>F,ed:()=>H,fE:()=>E,gz:()=>O,jW:()=>I,k$:()=>D,nS:()=>j,pI:()=>J,r:()=>x,s1:()=>P,sA:()=>L,w1:()=>R,xA:()=>M});var r=n(1550),o=n(30175),i=n(96335),s=n(24869),a="window",c="JSON",l="msie",u="trident/",d="XMLHttpRequest",p=null,h=null,f=!1,g=null,m=null;function y(e,t){var n=!1;if(e){try{if(!(n=t in e)){var o=e[r.hB];o&&(n=t in o)}}catch(e){}if(!n)try{var i=new e;n=!(0,s.o8)(i[t])}catch(e){}}return n}function v(e){f=e}function b(e){var t=(0,o.Rd)();return t&&t[e]?t[e]:e===a&&S()?window:null}function S(){return Boolean(typeof window===r.fK&&window)}function w(){return S()?window:b(a)}function C(){return Boolean(typeof document===r.fK&&document)}function k(){return C()?document:b("document")}function _(){return Boolean(typeof navigator===r.fK&&navigator)}function I(){return _()?navigator:b("navigator")}function E(){return Boolean(typeof history===r.fK&&history)}function P(){return E()?history:b("history")}function D(e){if(e&&f){var t=b("__mockLocation");if(t)return t}return typeof location===r.fK&&location?location:b("location")}function T(){return typeof console!==r.jA?console:b("console")}function x(){return b("performance")}function j(){return Boolean(typeof JSON===r.fK&&JSON||null!==b(c))}function M(){return j()?JSON||b(c):null}function N(){return b("crypto")}function O(){return b("msCrypto")}function A(){var e=I();return!(!e||!e.product)&&"ReactNative"===e.product}function R(){var e=I();if(e&&(e.userAgent!==h||null===p)){var t=((h=e.userAgent)||i.SM).toLowerCase();p=(0,s._Q)(t,l)||(0,s._Q)(t,u)}return p}function L(e){if(void 0===e&&(e=null),!e){var t=I()||{};e=t?(t.userAgent||i.SM).toLowerCase():i.SM}var n=(e||i.SM).toLowerCase();if((0,s._Q)(n,l)){var r=k()||{};return Math.max(parseInt(n.split(l)[1]),r.documentMode||0)}if((0,s._Q)(n,u)){var o=parseInt(n.split(u)[1]);if(o)return o+4}return null}function F(e){var t=Object[r.hB].toString.call(e),n=i.SM;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":j()&&(n=M().stringify(e)),t+n}function U(){return null===m&&(m=_()&&Boolean(I().sendBeacon)),m}function K(e){var t=!1;try{t=!!b("fetch");var n=b("Request");t&&e&&n&&(t=y(n,"keepalive"))}catch(e){}return t}function W(){return null===g&&(g=typeof XDomainRequest!==r.jA)&&V()&&(g=g&&!y(b(d),"withCredentials")),g}function V(){var e=!1;try{e=!!b(d)}catch(e){}return e}function B(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r.name&&r.name===t)return r}return{}}function H(e){var t=k();return t&&e?B(t.querySelectorAll("meta"),e).content:null}function J(e){var t,n=x();if(n){var r=n.getEntriesByType("navigation")||[];t=B((r.length>0?r[0]:{}).serverTiming,e).description}return t}},47954:(e,t,n)=>{"use strict";n.d(t,{C1:()=>j,C9:()=>F,Ib:()=>x,JA:()=>R,QY:()=>P,TJ:()=>L,XO:()=>E,Yl:()=>K,c9:()=>A,jU:()=>I,nD:()=>U,nJ:()=>O,pD:()=>T,pZ:()=>D,um:()=>w,yw:()=>N});var r=n(87624),o=n(49251),i=n(24869),s="events",a="visibilitychange",c="pagehide",l="pageshow",u="unload",d="beforeunload",p=(0,r.J)("aiEvtPageHide"),h=(0,r.J)("aiEvtPageShow"),f=/\.[\.]+/g,g=/[\.]+$/,m=1,y=(0,r.K)("events"),v=/^([^.]*)(?:\.(.+)|)/;function b(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function S(e,t){if(t){var n="";(0,i.kJ)(t)?(n="",(0,i.tO)(t,(function(e){(e=b(e))&&("."!==e[0]&&(e="."+e),n+=e)}))):n=b(t),n&&("."!==n[0]&&(n="."+n),e=(e||"")+n)}var r=v.exec(e||"")||[];return{type:r[1],ns:(r[2]||"").replace(f,".").replace(g,"").split(".").sort().join(".")}}function w(e,t,n){var r=[],o=y.get(e,s,{},!1),a=S(t,n);return(0,i.rW)(o,(function(e,t){(0,i.tO)(t,(function(e){a.type&&a.type!==e.evtName.type||a.ns&&a.ns!=a.ns||r.push({name:e.evtName.type+(e.evtName.ns?"."+e.evtName.ns:""),handler:e.handler})}))})),r}function C(e,t,n){void 0===n&&(n=!0);var r=y.get(e,s,{},n),o=r[t];return o||(o=r[t]=[]),o}function k(e,t,n,r){e&&t&&t.type&&(e.removeEventListener?e.removeEventListener(t.type,n,r):e.detachEvent&&e.detachEvent("on"+t.type,n))}function _(e,t,n,r){for(var o=t.length;o--;){var i=t[o];i&&(n.ns&&n.ns!==i.evtName.ns||r&&!r(i)||(k(e,i.evtName,i.handler,i.capture),t.splice(o,1)))}}function I(e,t){return t?S("xx",(0,i.kJ)(t)?[e].concat(t):[e,t]).ns.split("."):e}function E(e,t,n,r,o){void 0===o&&(o=!1);var i=!1;if(e)try{var s=S(t,r);if(i=function(e,t,n,r){var o=!1;return e&&t&&t.type&&n&&(e.addEventListener?(e.addEventListener(t.type,n,r),o=!0):e.attachEvent&&(e.attachEvent("on"+t.type,n),o=!0)),o}(e,s,n,o),i&&y.accept(e)){var a={guid:m++,evtName:s,handler:n,capture:o};C(e,s.type).push(a)}}catch(e){}return i}function P(e,t,n,r,o){if(void 0===o&&(o=!1),e)try{var a=S(t,r),c=!1;!function(e,t,n){if(t.type)_(e,C(e,t.type),t,n);else{var r=y.get(e,s,{});(0,i.rW)(r,(function(r,o){_(e,o,t,n)})),0===(0,i.FY)(r).length&&y.kill(e,s)}}(e,a,(function(e){return!((!a.ns||n)&&e.handler!==n||(c=!0,0))})),c||k(e,a,n,o)}catch(e){}}function D(e,t,n,r){return void 0===r&&(r=!1),E(e,t,n,null,r)}function T(e,t,n,r){void 0===r&&(r=!1),P(e,t,n,null,r)}function x(e,t,n){var r=!1,i=(0,o.Jj)();i&&(r=E(i,e,t,n),r=E(i.body,e,t,n)||r);var s=(0,o.Me)();return s&&(r=E(s,e,t,n)||r),r}function j(e,t,n){var r=(0,o.Jj)();r&&(P(r,e,t,n),P(r.body,e,t,n));var i=(0,o.Me)();i&&P(i,e,t,n)}function M(e,t,n,r){var o=!1;return t&&e&&e.length>0&&(0,i.tO)(e,(function(e){e&&(n&&-1!==(0,i.UA)(n,e)||(o=x(e,t,r)||o))})),o}function N(e,t,n,r){var o=!1;return t&&e&&(0,i.kJ)(e)&&!(o=M(e,t,n,r))&&n&&n.length>0&&(o=M(e,t,null,r)),o}function O(e,t,n){e&&(0,i.kJ)(e)&&(0,i.tO)(e,(function(e){e&&j(e,t,n)}))}function A(e,t,n){return N([d,u,c],e,t,n)}function R(e,t){O([d,u,c],e,t)}function L(e,t,n){var r=I(p,n),s=M([c],e,t,r);return t&&-1!==(0,i.UA)(t,a)||(s=M([a],(function(t){var n=(0,o.Me)();e&&n&&"hidden"===n.visibilityState&&e(t)}),t,r)||s),!s&&t&&(s=L(e,null,n)),s}function F(e,t){var n=I(p,t);O([c],e,n),O([a],null,n)}function U(e,t,n){var r=I(h,n),i=M([l],e,t,r);return!(i=M([a],(function(t){var n=(0,o.Me)();e&&n&&"visible"===n.visibilityState&&e(t)}),t,r)||i)&&t&&(i=U(e,null,n)),i}function K(e,t){var n=I(h,t);O([l],e,n),O([a],null,n)}},24869:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>he,BX:()=>E,F:()=>se,FL:()=>ee,FY:()=>Y,Gf:()=>x,HD:()=>F,Id:()=>M,J_:()=>A,Kn:()=>D,Mr:()=>J,Oi:()=>de,UA:()=>H,VZ:()=>L,Vb:()=>pe,Xi:()=>te,Xz:()=>q,Y6:()=>V,Ym:()=>k,_A:()=>X,_Q:()=>O,_y:()=>ce,cf:()=>ue,fQ:()=>ae,hj:()=>U,jj:()=>re,jn:()=>K,kJ:()=>R,l_:()=>Q,le:()=>I,m6:()=>ne,mf:()=>T,mm:()=>fe,nd:()=>$,nr:()=>P,o8:()=>_,qK:()=>ie,rW:()=>j,sO:()=>oe,tO:()=>B,xe:()=>N});var r=n(1550),o=n(30175),i=n(96335),s=r.RJ,a=r.Pw.freeze,c=r.Pw.seal,l=r.Pw.keys,u=String[r.hB],d=u.trim,p=u.endsWith,h=u.startsWith,f=Date[r.hB].toISOString,g=Array.isArray,m=r.V4.toString,y=r.CY.toString,v=y.call(r.Pw),b=/-([a-z])/g,S=/([^\w\d_$])/g,w=/^(\d+[\w\d_$])/,C=Object.getPrototypeOf;function k(e,t){return typeof e===t}function _(e){return void 0===e||typeof e===r.jA}function I(e){return null===e||_(e)}function E(e){return!I(e)}function P(e,t){return!(!e||!r.CY.call(e,t))}function D(e){return!(!e||typeof e!==r.fK)}function T(e){return!(!e||typeof e!==r.cb)}function x(e){var t=e;return t&&F(t)&&(t=(t=(t=t.replace(b,(function(e,t){return t.toUpperCase()}))).replace(S,"_")).replace(w,(function(e,t){return"_"+t}))),t}function j(e,t){if(e)for(var n in e)r.CY.call(e,n)&&t.call(e,n,e[n])}function M(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=p?e.endsWith(t):function(e,t){var n=!1,r=t?t.length:0,o=e?e.length:0;if(r&&o&&o>=r&&!(n=e===t)){for(var i=o-1,s=r-1;s>=0;s--){if(e[i]!=t[s])return!1;i--}n=!0}return n}(e,t)),n}function N(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=h?e.startsWith(t):function(e,t){var n=!1,r=t?t.length:0;if(e&&r&&e.length>=r&&!(n=e===t)){for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;n=!0}return n}(e,t)),n}function O(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function A(e){return!(!e||"[object Date]"!==m.call(e))}var R=g||function(e){return!(!e||"[object Array]"!==m.call(e))};function L(e){return!(!e||"[object Error]"!==m.call(e))}function F(e){return"string"==typeof e}function U(e){return"number"==typeof e}function K(e){return"boolean"==typeof e}function W(e){var t=!1;if(e&&"object"==typeof e){var n=C?C(e):function(e){if(e){if(C)return C(e);var t=e.__proto__||e[r.hB]||e.constructor;if(t)return t}return null}(e);n?(n.constructor&&r.CY.call(n,"constructor")&&(n=n.constructor),t=typeof n===r.cb&&y.call(n)===v):t=!0}return t}function V(e){if(e)return f?e.toISOString():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function B(e,t,n){var r=e.length;try{for(var o=0;o<r&&(!(o in e)||-1!==t.call(n||e,e[o],o,e));o++);}catch(e){}}function H(e,t,n){if(e){if(e.indexOf)return e.indexOf(t,n);var r=e.length,o=n||0;try{for(var i=Math.max(o>=0?o:r-Math.abs(o),0);i<r;i++)if(i in e&&e[i]===t)return i}catch(e){}}return-1}function J(e,t,n){var r;if(e){if(e.map)return e.map(t,n);var o=e.length,i=n||e;r=new Array(o);try{for(var s=0;s<o;s++)s in e&&(r[s]=t.call(i,e[s],e))}catch(e){}}return r}function q(e,t,n){var r;if(e){if(e.reduce)return e.reduce(t,n);var o=e.length,i=0;if(arguments.length>=3)r=arguments[2];else{for(;i<o&&!(i in e);)i++;r=e[i++]}for(;i<o;)i in e&&(r=t(r,e[i],i,e)),i++}return r}function $(e){return e&&(e=d&&e.trim?e.trim():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var G=!{toString:null}.propertyIsEnumerable("toString"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Y(e){var t=typeof e;if(t===r.cb||t===r.fK&&null!==e||(0,o.ZU)("objKeys called on non-object"),!G&&l)return l(e);var n=[];for(var i in e)e&&r.CY.call(e,i)&&n.push(i);if(G)for(var s=z.length,a=0;a<s;a++)e&&r.CY.call(e,z[a])&&n.push(z[a]);return n}function Q(e,t,n,r){if(s)try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),r&&(o.set=r),s(e,t,o),!0}catch(e){}return!1}function Z(e){return e}function X(e){return a&&j(e,(function(e,t){(R(t)||D(t))&&a(t)})),ee(e)}var ee=a||Z,te=c||Z;function ne(){var e=Date;return e.now?e.now():(new e).getTime()}function re(e){return L(e)?e.name:i.SM}function oe(e,t,n,r,o){var i=n;return e&&((i=e[t])===n||o&&!o(i)||r&&!r(n)||(i=n,e[t]=i)),i}function ie(e,t,n){var r;return e?!(r=e[t])&&I(r)&&(r=_(n)?{}:n,e[t]=r):r=_(n)?{}:n,r}function se(e){return!e}function ae(e){return!!e}function ce(e){throw new Error(e)}function le(e,t){var n=null,r=null;return T(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t].apply(r,e)}}function ue(e,t,n){if(e&&t&&D(e)&&D(t)){var r=function(r){if(F(r)){var o=t[r];T(o)?n&&!n(r,!0,t,e)||(e[r]=le(t,r)):n&&!n(r,!1,t,e)||(P(e,r)&&delete e[r],Q(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=o))}};for(var o in t)r(o)}return e}function de(e,t,n,r,o){e&&t&&n&&(!1!==o||_(e[t]))&&(e[t]=le(n,r))}function pe(e,t,n,r){return e&&t&&D(e)&&R(n)&&B(n,(function(n){F(n)&&de(e,n,t,n,r)})),e}function he(e){return e&&r.rl&&(e=(0,r.Pw)((0,r.rl)({},e))),e}function fe(e,t,n,o,i,s){var a=arguments,c=a[0]||{},l=a.length,u=!1,d=1;for(l>0&&K(c)&&(u=c,c=a[d]||{},d++),D(c)||(c={});d<l;d++){var p=a[d],h=R(p),f=D(p);for(var g in p){var m=h&&g in p||f&&r.CY.call(p,g);if(m){var y=p[g],v=void 0;if(u&&y&&((v=R(y))||W(y))){var b=c[g];v?R(b)||(b=[]):W(b)||(b={}),y=fe(u,b,y)}void 0!==y&&(c[g]=y)}}}return c}},96335:(e,t,n)=>{"use strict";n.d(t,{C0:()=>d,El:()=>s,Gc:()=>l,H4:()=>b,Ho:()=>p,Mf:()=>f,Nz:()=>i,Rw:()=>u,SM:()=>r,SN:()=>w,Vr:()=>a,XP:()=>y,Z_:()=>h,dV:()=>m,eO:()=>v,i9:()=>o,nE:()=>g,rX:()=>S,vE:()=>c});var r="",o="processTelemetry",i="priority",s="setNextPlugin",a="isInitialized",c="teardown",l="core",u="update",d="disabled",p="_doTeardown",h="processNext",f="resume",g="pause",m="addNotificationListener",y="removeNotificationListener",v="eventsSent",b="eventsDiscarded",S="eventsSendRequest",w="perfEvent"},81782:(e,t,n)=>{"use strict";n.d(t,{Jk:()=>s,Lm:()=>c,j5:()=>l,zn:()=>i});var r=n(29141),o=n(24869),i=function(){function e(t,n,r){var i,s=this,a=!1;s.start=(0,o.m6)(),s.name=t,s.isAsync=r,s.isChildEvt=function(){return!1},(0,o.mf)(n)&&(a=(0,o.l_)(s,"payload",(function(){return!i&&(0,o.mf)(n)&&(i=n(),n=null),i}))),s.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?s[t]:(s.ctx||{})[t]:null},s.setCtx=function(t,n){t&&(t===e.ParentContextKey?(s[t]||(s.isChildEvt=function(){return!0}),s[t]=n):t===e.ChildrenContextKey?s[t]=n:(s.ctx=s.ctx||{})[t]=n)},s.complete=function(){var t=0,r=s.getCtx(e.ChildrenContextKey);if((0,o.kJ)(r))for(var i=0;i<r.length;i++){var c=r[i];c&&(t+=c.time)}s.time=(0,o.m6)()-s.start,s.exTime=s.time-t,s.complete=function(){},!a&&(0,o.mf)(n)&&(s.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),s=function e(t){this.ctx={},(0,r.Z)(e,this,(function(e){e.create=function(e,t,n){return new i(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&(0,o.mf)(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},a="CoreUtils.doPerf";function c(e,t,n,r,s){if(e){var c=e;if((0,o.mf)(c.getPerfMgr)&&(c=c.getPerfMgr()),c){var l=void 0,u=c.getCtx(a);try{if(l=c.create(t(),r,s)){if(u&&l.setCtx&&(l.setCtx(i.ParentContextKey,u),u.getCtx&&u.setCtx)){var d=u.getCtx(i.ChildrenContextKey);d||(d=[],u.setCtx(i.ChildrenContextKey,d)),d.push(l)}return c.setCtx(a,l),n(l)}}catch(e){l&&l.setCtx&&l.setCtx("exception",e)}finally{l&&c.fire(l),c.setCtx(a,u)}}}return n()}function l(){return null}},31030:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>p,CD:()=>d,Vi:()=>g,jV:()=>f,xy:()=>h});var r=n(29339),o=n(24869),i=n(81782),s=n(49251),a=n(96335),c=n(69031),l=0;function u(e,t,n,i){var a=null,c=[];null!==i&&(a=i?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return f([n],t.config||{},t)}(e,n,i):e);var l={_next:function(){var e=a;if(a=e?e.getNext():null,!e){var t=c;t&&t.length>0&&((0,o.tO)(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){(0,r.kP)(n.logger,2,73,"Unexpected Exception during onComplete - "+(0,s.eU)(e))}})),c=[])}return e},ctx:{core:function(){return n},diagLog:function(){return(0,r.vH)(n,t)},getCfg:function(){return t},getExtCfg:u,getConfig:function(e,n,r){void 0===r&&(r=!1);var i,s=u(e,null);return s&&!(0,o.le)(s[n])?i=s[n]:t&&!(0,o.le)(t[n])&&(i=t[n]),(0,o.le)(i)?r:i},hasNext:function(){return!!a},getNext:function(){return a},setNext:function(e){a=e},iterate:function(e){for(var t;t=l._next();){var n=t.getPlugin();n&&e(n)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&c.push({func:e,self:(0,o.o8)(t)?l.ctx:t,args:n})}}};function u(e,n,r){var i;if(void 0===n&&(n={}),void 0===r&&(r=0),t){var s=t.extensionConfig;s&&e&&(i=s[e])}if(i){if((0,o.Kn)(n)&&0!==r){var a=(0,o.mm)(!0,n,i);t&&2===r&&(0,o.rW)(n,(function(e){if((0,o.le)(a[e])){var n=t[e];(0,o.le)(n)||(a[e]=n)}})),i=a}}else i=n;return i}return l}function d(e,t,n,r){var i=u(e,t,n,r),s=i.ctx;return s.processNext=function(e){var t=i._next();return t&&t.processTelemetry(e,s),!t},s.createNew=function(e,r){return void 0===e&&(e=null),(0,o.kJ)(e)&&(e=f(e,t,n,r)),d(e||s.getNext(),t,n,r)},s}function p(e,t,n){var r=t.config||{},i=u(e,r,t,n),s=i.ctx;return s.processNext=function(e){var t=i._next();return t&&t.unload(s,e),!t},s.createNew=function(e,n){return void 0===e&&(e=null),(0,o.kJ)(e)&&(e=f(e,r,t,n)),p(e||s.getNext(),t,n)},s}function h(e,t,n){var r=t.config||{},i=u(e,r,t,n).ctx;return i.processNext=function(e){return i.iterate((function(t){(0,o.mf)(t.update)&&t.update(i,e)}))},i.createNew=function(e,n){return void 0===e&&(e=null),(0,o.kJ)(e)&&(e=f(e,r,t,n)),h(e||i.getNext(),t,n)},i}function f(e,t,n,u){var p=null,h=!u;if((0,o.kJ)(e)&&e.length>0){var g=null;(0,o.tO)(e,(function(e){if(h||u!==e||(h=!0),h&&e&&(0,o.mf)(e.processTelemetry)){var f=function(e,t,n){var u,p=null,h=(0,o.mf)(e.processTelemetry),f=(0,o.mf)(e.setNextPlugin),g={getPlugin:function(){return e},getNext:function(){return p},processTelemetry:function(r,i){m(i=i||function(){var r;return e&&(0,o.mf)(e._getTelCtx)&&(r=e._getTelCtx()),r||(r=d(g,t,n)),r}(),(function(t){if(!e||!h)return!1;var n=(0,c.OY)(e);return!n.teardown&&!n[a.C0]&&(f&&e.setNextPlugin(p),e.processTelemetry(r,t),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||i.processNext(r)},unload:function(t,n){m(t,(function(){var r=!1;if(e){var o=(0,c.OY)(e),i=e[a.Gc]||o.core;!e||i&&i!==t[a.Gc]()||o[a.vE]||(o[a.Gc]=null,o[a.vE]=!0,o[a.Vr]=!1,e[a.vE]&&!0===e[a.vE](t,n)&&(r=!0))}return r}),"unload",(function(){}),n.isAsync)||t.processNext(n)},update:function(t,n){m(t,(function(){var r=!1;if(e){var o=(0,c.OY)(e),i=e[a.Gc]||o.core;!e||i&&i!==t[a.Gc]()||o[a.vE]||e[a.Rw]&&!0===e[a.Rw](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t.processNext(n)},_id:u=e?e.identifier+"-"+e.priority+"-"+l++:"Unknown-0-"+l++,_setNext:function(e){p=e}};function m(t,n,o,c,l){var d=!1,h=e?e.identifier:"TelemetryPluginChain",f=t._hasRun;return f||(f=t._hasRun={}),t.setNext(p),e&&(0,i.Lm)(t[a.Gc](),(function(){return h+":"+o}),(function(){f[u]=!0;try{var e=p?p._id:a.SM;e&&(f[e]=!1),d=n(t)}catch(e){var i=!p||f[p._id];i&&(d=!0),p&&i||(0,r.kP)(t.diagLog(),1,73,"Plugin ["+h+"] failed during "+o+" - "+(0,s.eU)(e)+", run flags: "+(0,s.eU)(f))}}),c,l),d}return(0,o.FL)(g)}(e,t,n);p||(p=f),g&&g._setNext(f),g=f}}))}return u&&!p?f([u],t,n):p}var g=function(e,t,n,r){var i=d(e,t,n,r);(0,o.Vb)(this,i,(0,o.FY)(i))}},19406:(e,t,n)=>{"use strict";n.d(t,{CN:()=>g,F6:()=>m,_l:()=>f,az:()=>h,pZ:()=>y});var r=n(49251),o=n(24869),i=n(96335),s=4294967296,a=4294967295,c=!1,l=123456789,u=987654321;function d(e){e<0&&(e>>>=0),l=123456789+e&a,u=987654321-e&a,c=!0}function p(){try{var e=2147483647&(0,o.m6)();d((Math.random()*s^e)+e)}catch(e){}}function h(e){return e>0?Math.floor(f()/a*(e+1))>>>0:0}function f(e){var t=0,n=(0,r.MX)()||(0,r.gz)();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&a),0===t&&(0,r.w1)()&&(c||p(),t=m()&a),0===t&&(t=Math.floor(s*Math.random()|0)),e||(t>>>=0),t}function g(e){e?d(e):p()}function m(e){var t=((u=36969*(65535&u)+(u>>16)&a)<<16)+(65535&(l=18e3*(65535&l)+(l>>16)&a))>>>0&a|0;return e||(t>>>=0),t}function y(e){void 0===e&&(e=22);for(var t=f()>>>0,n=0,r=i.SM;r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(f()<<2&4294967295|3&t)>>>0,n=0);return r}},69031:(e,t,n)=>{"use strict";n.d(t,{AA:()=>u,OY:()=>c,Yn:()=>d,bP:()=>l});var r=n(24869),o=n(96335),i=n(87624),s=n(56207),a=(0,i.K)("plugin");function c(e){return a.get(e,"state",{},!0)}function l(e,t){for(var n,i=[],s=null,a=e.getNext();a;){var l=a.getPlugin();l&&(s&&(0,r.mf)(s[o.El])&&(0,r.mf)(l[o.i9])&&s[o.El](l),((0,r.mf)(l[o.Vr])?l[o.Vr]():(n=c(l))[o.Vr])||i.push(l),s=l,a=a.getNext())}(0,r.tO)(i,(function(r){var i=e.core();r.initialize(e.getCfg(),i,t,e.getNext()),n=c(r),r[o.Gc]||n[o.Gc]||(n[o.Gc]=i),n[o.Vr]=!0,delete n[o.vE]}))}function u(e){return e.sort((function(e,t){var n=0;if(t){var i=(0,r.mf)(t[o.i9]);(0,r.mf)(e[o.i9])?n=i?e[o.Nz]-t[o.Nz]:1:i&&(n=-1)}else n=e?1:-1;return n}))}function d(e){var t={};return{getName:function(){return t.name},setName:function(n){e&&e.setName(n),t.name=n},getTraceId:function(){return t.traceId},setTraceId:function(n){e&&e.setTraceId(n),(0,s.jN)(n)&&(t.traceId=n)},getSpanId:function(){return t.spanId},setSpanId:function(n){e&&e.setSpanId(n),(0,s.Lc)(n)&&(t.spanId=n)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(n){e&&e.setTraceFlags(n),t.traceFlags=n}}}},38593:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(29339),o=n(49251),i=n(24869);function s(){var e=[];return{add:function(t){t&&e.push(t)},run:function(t,n){(0,i.tO)(e,(function(e){try{e(t,n)}catch(e){(0,r.kP)(t.diagLog(),2,73,"Unexpected error calling unload handler - "+(0,o.eU)(e))}})),e=[]}}}},56207:(e,t,n)=>{"use strict";n.d(t,{J6:()=>v,Lc:()=>y,Pn:()=>b,SU:()=>f,aR:()=>S,jN:()=>m,j_:()=>g,lq:()=>w});var r=n(28956),o=n(49251),i=n(24869),s=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,a="00",c="ff",l="00000000000000000000000000000000",u="0000000000000000";function d(e,t,n){return!(!e||e.length!==t||e===n||!e.match(/^[\da-f]*$/))}function p(e,t,n){return d(e,t)?e:n}function h(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function f(e,t,n,o){return{version:d(o,2,c)?o:a,traceId:m(e)?e:(0,r.DO)(),spanId:y(t)?t:(0,r.DO)().substr(0,16),traceFlags:n>=0&&n<=255?n:1}}function g(e){if(!e)return null;if((0,i.kJ)(e)&&(e=e[0]||""),!e||!(0,i.HD)(e)||e.length>8192)return null;var t=s.exec((0,i.nd)(e));return t&&t[1]!==c&&t[2]!==l&&t[3]!==u?{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}function m(e){return d(e,32,l)}function y(e){return d(e,16,u)}function v(e){return!!(e&&d(e.version,2,c)&&d(e.traceId,32,l)&&d(e.spanId,16,u)&&d(h(e.traceFlags),2))}function b(e){return!!v(e)&&1==(1&e.traceFlags)}function S(e){if(e){var t=h(e.traceFlags);d(t,2)||(t="01");var n=e.version||a;return"00"!==n&&"ff"!==n&&(n=a),"".concat(n,"-").concat(p(e.traceId,32,l),"-").concat(p(e.spanId,16,u),"-").concat(t)}return""}function w(){var e="traceparent",t=g((0,o.ed)(e));return t||(t=g((0,o.pI)(e))),t}},1550:(e,t,n)=>{"use strict";n.d(t,{CY:()=>h,Pw:()=>c,RJ:()=>p,V4:()=>l,bO:()=>a,cb:()=>r,fK:()=>o,hB:()=>s,jA:()=>i,rl:()=>u,yu:()=>d});var r="function",o="object",i="undefined",s="prototype",a="hasOwnProperty",c=Object,l=c[s],u=c.assign,d=c.create,p=c.defineProperty,h=l[a]},30175:(e,t,n)=>{"use strict";n.d(t,{Rd:()=>i,ZU:()=>s,pu:()=>a});var r=n(1550),o=null;function i(e){return void 0===e&&(e=!0),o&&e||(typeof globalThis!==r.jA&&globalThis&&(o=globalThis),typeof self!==r.jA&&self&&(o=self),typeof window!==r.jA&&window&&(o=window),typeof n.g!==r.jA&&n.g&&(o=n.g)),o}function s(e){throw new TypeError(e)}function a(e){var t=r.yu;if(t)return t(e);if(null==e)return{};var n=typeof e;function o(){}return n!==r.fK&&n!==r.cb&&s("Object prototype may only be an Object:"+e),o[r.hB]=e,new o}},27421:(e,t,n)=>{"use strict";n.d(t,{$h:()=>c,ne:()=>a,uc:()=>i});var r=n(1550),o=n(30175),i=(((0,o.Rd)()||{}).Symbol,((0,o.Rd)()||{}).Reflect,r.rl||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])r.V4[r.bO].call(t,i)&&(e[i]=t[i]);return e}),s=function(e,t){return s=r.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.bO](n)&&(e[n]=t[n])},s(e,t)};function a(e,t){function n(){this.constructor=e}typeof t!==r.cb&&null!==t&&(0,o.ZU)("Class extends value "+String(t)+" is not a constructor or null"),s(e,t),e[r.hB]=null===t?(0,o.pu)(t):(n[r.hB]=t[r.hB],new n)}function c(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}},29141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r="prototype",o="function",i="_dynClass",s="_unknown_",a=Object,c=a.getPrototypeOf,l=a.getOwnPropertyNames,u=0;function d(e,t){return e&&a.prototype.hasOwnProperty.call(e,t)}function p(e){return e&&(e===a.prototype||e===Array.prototype)}function h(e){return p(e)||e===Function.prototype}function f(e){var t;if(e){if(c)return c(e);var n=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);t=e._dyn__proto__||n,d(e,"_dyn__proto__")||(delete e._dynInstProto,t=e._dyn__proto__=e._dynInstProto||e._dyn__proto__,e._dynInstProto=n)}return t}function g(e,t){var n=[];if(l)n=l(e);else for(var r in e)"string"==typeof r&&d(e,r)&&n.push(r);if(n&&n.length>0)for(var o=0;o<n.length;o++)t(n[o])}function m(e,t,n){return"constructor"!==t&&typeof e[t]===o&&(n||d(e,t))}function y(e){throw new TypeError("DynamicProto: "+e)}function v(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function b(e,t,n,r){var s=null;if(e&&d(n,i)){var a=e._dynInstFuncs||{};if((s=(a[n._dynClass]||{})[t])||y("Missing ["+t+"] "+o),!s._dynInstChk&&!1!==a._dynInstChk){for(var c=!d(e,t),l=f(e),u=[];c&&l&&!h(l)&&!v(u,l);){var p=l[t];if(p){c=p===r;break}u.push(l),l=f(l)}try{c&&(e[t]=s),s._dynInstChk=1}catch(e){a._dynInstChk=!1}}}return s}function S(e,t,n){var r=t[e];return r===n&&(r=f(t)[e]),typeof r!==o&&y("["+e+"] is not a "+o),r}function w(e,t){return d(e,r)?e.name||t||s:((e||{}).constructor||{}).name||t||s}function C(e,t,n,o){d(e,r)||y("theClass is an invalid class definition.");var s=e.prototype;(function(e,t){if(c){for(var n=[],r=f(t);r&&!h(r)&&!v(n,r);){if(r===e)return!0;n.push(r),r=f(r)}return!1}return!0})(s,t)||y("["+w(e)+"] is not in class hierarchy of ["+w(t)+"]");var a=null;d(s,i)?a=s._dynClass:(a="_dynCls$"+w(e,"_")+"$"+u,u++,s._dynClass=a);var l=C._dfOpts,k=!!l.useBaseInst;k&&o&&void 0!==o.useBaseInst&&(k=!!o.useBaseInst);var _=function(e){var t={};return g(e,(function(n){!t[n]&&m(e,n,!1)&&(t[n]=e[n])})),t}(t),I=function(e,t,n,r){function o(e,t,n){var o=t[n];if(o._isDynProxy&&r){var i=e._dynInstFuncs||{};!1!==i._dynInstChk&&(o=(i[t._dynClass]||{})[n]||o)}return function(){return o.apply(e,arguments)}}var i={};g(n,(function(e){i[e]=o(t,n,e)}));for(var s=f(e),a=[];s&&!h(s)&&!v(a,s);)g(s,(function(e){!i[e]&&m(s,e,!c)&&(i[e]=o(t,s,e))})),a.push(s),s=f(s);return i}(s,t,_,k);n(t,I);var E=!!c&&!!l.setInstFuncs;E&&o&&(E=!!o.setInstFuncs),function(e,t,n,r,o){if(!p(e)){var i=n._dynInstFuncs=n._dynInstFuncs||{},s=i[t]=i[t]||{};!1!==i._dynInstChk&&(i._dynInstChk=!!o),g(n,(function(t){m(n,t,!1)&&n[t]!==r[t]&&(s[t]=n[t],delete n[t],(!d(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var n=function(){return(b(this,t,e,n)||S(t,e,n)).apply(this,arguments)};return n._isDynProxy=1,n}(e,t)))}))}}(s,a,t,_,!1!==E)}C._dfOpts={setInstFuncs:!0,useBaseInst:!0}},58331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Rc});var r,o,i,s,a,c,l,u,d,p,h,f,g=n(66828),m=Object.defineProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(y)for(var n of y(t))b.call(t,n)&&S(e,n,t[n]);return e},C=(e,t)=>()=>(e&&(t=e(e=0)),t),k=(e,t,n)=>new Promise(((r,o)=>{var i=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,s);a((n=n.apply(e,t)).next())})),_=C((()=>{r={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}})),I=C((()=>{o="function",i="object",s="undefined",a="prototype",c="hasOwnProperty",u=(l=Object)[a],d=l.assign,p=l.create,h=l.defineProperty,f=u[c]}));function E(){return typeof globalThis!==s&&globalThis?globalThis:typeof self!==s&&self?self:typeof window!==s&&window?window:typeof n.g!==s&&n.g?n.g:null}function P(e){throw new TypeError(e)}function D(e){if(p)return p(e);if(null==e)return{};var t=typeof e;function n(){}return t!==i&&t!==o&&P("Object prototype may only be an Object:"+e),n[a]=e,new n}var T=C((()=>{I()}));function x(e,t){function n(){this.constructor=e}typeof t!==o&&null!==t&&P("Class extends value "+String(t)+" is not a constructor or null"),N(e,t),e[a]=null===t?D(t):(n[a]=t[a],new n)}var j,M,N,O=C((()=>{I(),T(),(E()||{}).Symbol,(E()||{}).Reflect,j=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])u[c].call(t,o)&&(e[o]=t[o]);return e},M=d||j,N=function(e,t){return(N=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[c](n)&&(e[n]=t[n])})(e,t)}})),A=C((()=>{})),R=C((()=>{I(),T(),O(),A()}));function L(e,t){return e&&de[Y].hasOwnProperty.call(e,t)}function F(e){return e&&(e===de[Y]||e===Array[Y])}function U(e){return F(e)||e===Function[Y]}function K(e){var t;if(e){if(pe)return pe(e);var n=e[se]||e[Y]||(e[z]?e[z][Y]:null);t=e[ae]||n,L(e,ae)||(delete e[ce],t=e[ae]=e[ce]||e[ae],e[ce]=n)}return t}function W(e,t){var n=[];if(he)n=he(e);else for(var r in e)"string"==typeof r&&L(e,r)&&n.push(r);if(n&&n.length>0)for(var o=0;o<n.length;o++)t(n[o])}function V(e,t,n){return t!==z&&typeof e[t]===Q&&(n||L(e,t))}function B(e){throw new TypeError("DynamicProto: "+e)}function H(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function J(e,t,n,r){var o=null;if(e&&L(n,ee)){var i=e[Z]||{};if((o=(i[n[ee]]||{})[t])||B("Missing ["+t+"] "+Q),!o[ne]&&!1!==i[re]){for(var s=!L(e,t),a=K(e),c=[];s&&a&&!U(a)&&!H(c,a);){var l=a[t];if(l){s=l===r;break}c.push(a),a=K(a)}try{s&&(e[t]=o),o[ne]=1}catch(e){i[re]=!1}}}return o}function q(e,t,n){var r=t[e];return r===n&&(r=K(t)[e]),typeof r!==Q&&B("["+e+"] is not a "+Q),r}function $(e,t){return L(e,Y)?e.name||t||ie:((e||{})[z]||{}).name||t||ie}function G(e,t,n,r){L(e,Y)||B("theClass is an invalid class definition.");var o=e[Y];(function(e,t){if(pe){for(var n=[],r=K(t);r&&!U(r)&&!H(n,r);){if(r===e)return!0;n.push(r),r=K(r)}return!1}return!0})(o,t)||B("["+$(e)+"] is not in class hierarchy of ["+$(t)+"]");var i=null;L(o,ee)?i=o[ee]:(i=te+$(e,"_")+"$"+fe,fe++,o[ee]=i);var s=G[oe],a=!!s[le];a&&r&&void 0!==r[le]&&(a=!!r[le]);var c=function(e){var t={};return W(e,(function(n){!t[n]&&V(e,n,!1)&&(t[n]=e[n])})),t}(t),l=function(e,t,n,r){function o(e,t,n){var o=t[n];if(o[X]&&r){var i=e[Z]||{};!1!==i[re]&&(o=(i[t[ee]]||{})[n]||o)}return function(){return o.apply(e,arguments)}}var i={};W(n,(function(e){i[e]=o(t,n,e)}));for(var s=K(e),a=[];s&&!U(s)&&!H(a,s);)W(s,(function(e){!i[e]&&V(s,e,!pe)&&(i[e]=o(t,s,e))})),a.push(s),s=K(s);return i}(o,t,c,a);n(t,l);var u=!!pe&&!!s[ue];u&&r&&(u=!!r[ue]),function(e,t,n,r,o){if(!F(e)){var i=n[Z]=n[Z]||{},s=i[t]=i[t]||{};!1!==i[re]&&(i[re]=!!o),W(n,(function(t){V(n,t,!1)&&n[t]!==r[t]&&(s[t]=n[t],delete n[t],(!L(e,t)||e[t]&&!e[t][X])&&(e[t]=function(e,t){var n=function(){return(J(this,t,e,n)||q(t,e,n)).apply(this,arguments)};return n[X]=1,n}(e,t)))}))}}(o,i,t,c,!1!==u)}var z,Y,Q,Z,X,ee,te,ne,re,oe,ie,se,ae,ce,le,ue,de,pe,he,fe,ge,me,ye,ve=C((()=>{z="constructor",Y="prototype",Q="function",Z="_dynInstFuncs",X="_isDynProxy",ee="_dynClass",te="_dynCls$",re=ne="_dynInstChk",oe="_dfOpts",ie="_unknown_",ae="_dyn"+(se="__proto__"),ce="_dynInstProto",le="useBaseInst",ue="setInstFuncs",pe=(de=Object).getPrototypeOf,he=de.getOwnPropertyNames,fe=0,ge={setInstFuncs:!0,useBaseInst:!0},G[oe]=ge})),be=C((()=>{var e;(e=me||(me={}))[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",ye={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}}));function Se(e){return u.toString.call(e)}function we(e,t){return typeof e===t}function Ce(e){return void 0===e||typeof e===s}function ke(e){return null===e||Ce(e)}function _e(e){return!ke(e)}function Ie(e,t){return e&&f.call(e,t)}function Ee(e){return typeof e===i}function Pe(e){return typeof e===o}function De(e,t,n,r){void 0===r&&(r=!1);var o=!1;if(!ke(e))try{ke(e[rt])?ke(e[nt])||(e[nt](tt+t,n),o=!0):(e[rt](t,n,r),o=!0)}catch(e){}return o}function Te(e,t,n,r){if(void 0===r&&(r=!1),!ke(e))try{ke(e[it])?ke(e[ot])||e[ot](tt+t,n):e[it](t,n,r)}catch(e){}}function xe(e,t){if(e)for(var n in e)f.call(e,n)&&t.call(e,n,e[n])}function je(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function Me(e){return"[object Date]"===Se(e)}function Ne(e){return"[object Array]"===Se(e)}function Oe(e){return"[object Error]"===Se(e)}function Ae(e){return"string"==typeof e}function Re(e){return"number"==typeof e}function Le(e){return"boolean"==typeof e}function Fe(e){if(Me(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Ue(e,t,n){for(var r=e.length,o=0;o<r&&(!(o in e)||-1!==t.call(n||e,e[o],o,e));o++);}function Ke(e,t,n){for(var r=e.length,o=n||0,i=Math.max(o>=0?o:r-Math.abs(o),0);i<r;i++)if(i in e&&e[i]===t)return i;return-1}function We(e,t,n){for(var r=e.length,o=n||e,i=new Array(r),s=0;s<r;s++)s in e&&(i[s]=t.call(o,e[s],e));return i}function Ve(e,t,n){var r,o=e.length,i=0;if(arguments.length>=3)r=arguments[2];else{for(;i<o&&!(i in e);)i++;r=e[i++]}for(;i<o;)i in e&&(r=t(r,e[i],i,e)),i++;return r}function Be(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}function He(e){var t=typeof e;t!==o&&(t!==i||null===e)&&P("objKeys called on non-object");var n=[];for(var r in e)e&&f.call(e,r)&&n.push(r);if(at)for(var s=ct.length,a=0;a<s;a++)e&&f.call(e,ct[a])&&n.push(ct[a]);return n}function Je(e,t,n,r){if(st)try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),r&&(o.set=r),st(e,t,o),!0}catch(e){}return!1}function qe(){var e=Date;return e.now?e.now():(new e).getTime()}function $e(e){return Oe(e)?e.name:""}function Ge(e,t,n,r,o){var i=n;return e&&(i=e[t])!==n&&(!o||o(i))&&(!r||r(n))&&(i=n,e[t]=i),i}function ze(e,t,n){var r;return e?!(r=e[t])&&ke(r)&&(r=Ce(n)?{}:n,e[t]=r):r=Ce(n)?{}:n,r}function Ye(e){return!e}function Qe(e){return!!e}function Ze(e){throw new Error(e)}function Xe(e,t,n){if(e&&t&&e!==t&&Ee(e)&&Ee(t)){var r=function(r){if(Ae(r)){var o=t[r];Pe(o)?(!n||n(r,!0,t,e))&&(e[r]=(i=r,function(){var e=arguments;return t[i].apply(t,e)})):(!n||n(r,!1,t,e))&&(Ie(e,r)&&delete e[r],Je(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=o))}var i};for(var o in t)r(o)}return e}function et(e){return e&&(e=l(d?d({},e):e)),e}var tt,nt,rt,ot,it,st,at,ct,lt=C((()=>{R(),tt="on",nt="attachEvent",rt="addEventListener",ot="detachEvent",it="removeEventListener",st=h,l.freeze,l.seal,at=!{toString:null}.propertyIsEnumerable("toString"),ct=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]}));function ut(e){var t=E();return t&&t[e]?t[e]:e===kt&&dt()?window:null}function dt(){return Boolean(typeof window===i&&window)}function pt(){return dt()?window:ut(kt)}function ht(){return Boolean(typeof document===i&&document)}function ft(){return ht()?document:ut(_t)}function gt(){return Boolean(typeof navigator===i&&navigator)?navigator:ut(It)}function mt(e){if(e&&Ft){var t=ut("__mockLocation");if(t)return t}return typeof location===i&&location?location:ut(Pt)}function yt(){return ut(Tt)}function vt(){return Boolean(typeof JSON===i&&JSON||null!==ut(xt))}function bt(){return vt()?JSON||ut(xt):null}function St(){var e=gt();if(e&&(e.userAgent!==Lt||null===Rt)){var t=((Lt=e.userAgent)||"").toLowerCase();Rt=je(t,Ot)||je(t,At)}return Rt}function wt(e){if(void 0===e&&(e=null),!e){var t=gt()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(je(n,Ot))return parseInt(n.split(Ot)[1]);if(je(n,At)){var r=parseInt(n.split(At)[1]);if(r)return r+4}return null}function Ct(e){var t=Object[a].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":vt()&&(n=bt().stringify(e)),t+n}var kt,_t,It,Et,Pt,Dt,Tt,xt,jt,Mt,Nt,Ot,At,Rt,Lt,Ft,Ut=C((()=>{R(),lt(),kt="window",_t="document",It="navigator",Et="history",Pt="location",Dt="console",Tt="performance",xt="JSON",jt="crypto",Mt="msCrypto",Nt="ReactNative",Ot="msie",At="trident/",Rt=null,Lt=null,Ft=!1}));function Kt(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Wt(e,t){return(e||{}).logger||new Bt(t)}var Vt,Bt,Ht=C((()=>{be(),Ut(),ve(),lt(),Vt=function(){function e(e,t,n,r){void 0===n&&(n=!1);var o=this;o.messageId=e,o.message=(n?"AI: ":"AI (Internal): ")+e;var i="";vt()&&(i=bt().stringify(r));var s=(t?" message:"+Kt(t):"")+(r?" props:"+Kt(i):"");o.message+=s}return e.dataType="MessageData",e}(),Bt=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};G(e,this,(function(e){function o(e,n){var r=t[e];return ke(r)?n:r}ke(t)&&(t={}),e.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},e.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},e.throwInternal=function(t,n,o,i,s){void 0===s&&(s=!1);var a=new Vt(n,o,s,i);if(e.enableDebugExceptions())throw a;if(!Ce(a.message)){var c=e.consoleLoggingLevel();if(s){var l=+a.messageId;!r[l]&&c>=me.WARNING&&(e.warnToConsole(a.message),r[l]=!0)}else c>=me.WARNING&&e.warnToConsole(a.message);e.logInternalMessage(t,a)}},e.warnToConsole=function(e){var t=typeof console!==s?console:ut(Dt);if(t){var n="log";t.warn&&(n="warn"),Pe(t[n])&&t[n](e)}},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,o){if(!(n>=e.maxInternalMessageLimit())){var i=!0,s="AITR_"+o.messageId;if(r[s]?i=!1:r[s]=!0,i&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(o),n++),n===e.maxInternalMessageLimit())){var a="Internal events throttle limit per PageView reached for this app.",c=new Vt(ye.MessageLimitPerPVExceeded,a,!1);e.queue.push(c),e.warnToConsole(a)}}}}))}}));function Jt(e,t,n,r,o){if(e){var i=e;if(Pe(i.getPerfMgr)&&(i=i.getPerfMgr()),i){var s=void 0,a=i.getCtx(Gt);try{if(s=i.create(t(),r,o)){if(a&&s.setCtx&&(s.setCtx(qt.ParentContextKey,a),a.getCtx&&a.setCtx)){var c=a.getCtx(qt.ChildrenContextKey);c||(c=[],a.setCtx(qt.ChildrenContextKey,c)),c.push(s)}return i.setCtx(Gt,s),n(s)}}catch(e){s&&s.setCtx&&s.setCtx("exception",e)}finally{s&&i.fire(s),i.setCtx(Gt,a)}}}return n()}var qt,$t,Gt,zt,Yt=C((()=>{ve(),lt(),qt=function(){function e(t,n,r){var o,i=this,s=!1;i.start=qe(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},Pe(n)&&(s=Je(i,"payload",(function(){return!o&&Pe(n)&&(o=n(),n=null),o}))),i.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?i[t]:(i.ctx||{})[t]:null},i.setCtx=function(t,n){t&&(t===e.ParentContextKey?(i[t]||(i.isChildEvt=function(){return!0}),i[t]=n):t===e.ChildrenContextKey?i[t]=n:(i.ctx=i.ctx||{})[t]=n)},i.complete=function(){var t=0,r=i.getCtx(e.ChildrenContextKey);if(Ne(r))for(var o=0;o<r.length;o++){var a=r[o];a&&(t+=a.time)}i.time=qe()-i.start,i.exTime=i.time-t,i.complete=function(){},!s&&Pe(n)&&(i.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),$t=function e(t){this.ctx={},G(e,this,(function(e){e.create=function(e,t,n){return new qt(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},Gt="CoreUtils.doPerf"})),Qt=C((()=>{Yt(),be(),lt(),zt=function(e,t){var n=this,r=null,o=Pe(e.processTelemetry),i=Pe(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(s,a){a||(a=t);var c=e?e.identifier:"TelemetryPluginChain";Jt(a?a.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&o){n._hasRun=!0;try{a.setNext(r),i&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(s,a)}catch(n){var t=r&&r._hasRun;(!r||!t)&&a.diagLog().throwInternal(me.CRITICAL,ye.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),r&&!t&&r.processTelemetry(s,a)}}else r&&(n._hasRun=!0,r.processTelemetry(s,a))}),(function(){return{item:s}}),!s.sync)}}}));function Zt(e,t){var n=[];if(e&&e.length>0)for(var r=null,o=0;o<e.length;o++){var i=e[o];if(i&&Pe(i.processTelemetry)){var s=new zt(i,t);n.push(s),r&&r.setNext(s),r=s}}return n.length>0?n[0]:null}var Xt,en,tn,nn,rn,on=C((()=>{Ht(),Qt(),lt(),Xt=function e(t,n,r,o){var i=this,s=null;null!==o&&(t&&Pe(t.getPlugin)?s=function(e,t,n){var r=[],o=!n;if(e)for(;e;){var i=e.getPlugin();(o||i===n)&&(o=!0,r.push(i)),e=e.getNext()}return o||r.push(n),Zt(r,t)}(t,i,o||t.getPlugin()):o?s=function(e,t,n){var r=e,o=!1;return n&&e&&(r=[],Ue(e,(function(e){(o||e===n)&&(o=!0,r.push(e))}))),n&&!o&&(r||(r=[]),r.push(n)),Zt(r,t)}(t,i,o):Ce(o)&&(s=Zt(t,i))),i.core=function(){return r},i.diagLog=function(){return Wt(r,n)},i.getCfg=function(){return n},i.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var o=n.extensionConfig;o&&e&&(r=o[e])}return r||t},i.getConfig=function(e,t,r){void 0===r&&(r=!1);var o,s=i.getExtCfg(e,null);return s&&!ke(s[t])?o=s[t]:n&&!ke(n[t])&&(o=n[t]),ke(o)?r:o},i.hasNext=function(){return null!=s},i.getNext=function(){return s},i.setNext=function(e){s=e},i.processNext=function(e){var t=s;t&&(s=t.getNext(),t.processTelemetry(e,i))},i.createNew=function(t,o){return void 0===t&&(t=null),new e(t||s,n,r,o)}}})),sn=C((()=>{en="iKey",tn="extensionConfig"})),an=C((()=>{on(),lt(),sn(),nn="getPlugin",rn=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&Pe(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var o=t;if(!o){var i=n||new Xt(null,{},e.core);o=r&&r[nn]?i.createNew(null,r[nn]):i.createNew(null,r)}return o},e._baseTelInit=function(o,i,s,a){o&&Ge(o,tn,[],null,ke),!a&&i&&(a=i.getProcessTelContext().getNext());var c=r;r&&r[nn]&&(c=r[nn]()),e.core=i,n=new Xt(a,o,i,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}()}));function cn(e,t){for(var n=[],r=null,o=e.getNext();o;){var i=o.getPlugin();i&&(r&&Pe(r[pn])&&Pe(i[un])&&r[pn](i),(!Pe(i[hn])||!i[hn]())&&n.push(i),r=i,o=o.getNext())}Ue(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function ln(e){return e.sort((function(e,t){var n=0,r=Pe(t[un]);return Pe(e[un])?n=r?e[dn]-t[dn]:1:r&&(n=-1),n}))}var un,dn,pn,hn,fn,gn=C((()=>{lt(),un="processTelemetry",dn="priority",pn="setNextPlugin",hn="isInitialized"})),mn=C((()=>{R(),ve(),an(),on(),gn(),lt(),500,fn=function(e){function t(){var n,r=e.call(this)||this;function o(e){e&&e.length>0&&(function(e){Ue(e,(function(e){e.priority<500&&Ze("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,G(t,r,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&Ue(n,(function(n){n.length>0&&r._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(r,i,s){e.isInitialized()||(t.initialize(r,i,s),function(e,t){if(n=[],e&&Ue(e,(function(e){return o(e)})),t){var r=[];Ue(t,(function(e){e.priority>500&&r.push(e)})),o(r)}}((r||{}).channels,s),Ue(n,(function(e){return cn(new Xt(e,r,i),s)})))}})),r}return x(t,e),t._staticInit=(Je(n=t.prototype,"ChannelControls",n.getChannelControls),void Je(n,"channelQueue",n.getChannelControls)),t;var n}(rn)}));function yn(e,t){var n=Sn[An]||Vn[An];return n||(n=Sn[An]=Sn(e,t),Vn[An]=n),n}function vn(e){return!e||e.isEnabled()}function bn(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r[An]?r[An]:Sn(t)}return n||(n=yn(t,(e||{}).logger)),n}function Sn(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(Ge(t,"domain",e.cookieDomain,_e,ke),Ge(t,"path",e.cookiePath||"/",null,ke),ke(t[Mn])){var n=void 0;Ce(e[Nn])||(n=!e[Nn]),Ce(e[On])||(n=!e[On]),t[Mn]=n}return t}(e||Vn),r=n.path||"/",o=n.domain,i=!1!==n[Mn],s={isEnabled:function(){var e=i&&wn(t),n=Vn[An];return e&&n&&s!==n&&(e=vn(n)),e},setEnabled:function(e){i=!1!==e},set:function(e,t,i,a,c){if(vn(s)){var l={},u=Be(t||Rn),d=u.indexOf(";");if(-1!==d&&(u=Be(t.substring(0,d)),l=Cn(t.substring(d+1))),Ge(l,"domain",a||o,Qe,Ce),!ke(i)){var p=St();if(Ce(l[jn])){var h=qe()+1e3*i;if(h>0){var f=new Date;f.setTime(h),Ge(l,jn,kn(f,p?Dn:Tn)||kn(f,p?Dn:Tn)||Rn,Qe)}}p||Ge(l,"max-age",Rn+i,null,Ce)}var g=mt();g&&"https:"===g.protocol&&(Ge(l,"secure",null,null,Ce),null===Fn&&(Fn=!Pn((gt()||{}).userAgent)),Fn&&Ge(l,"SameSite","None",null,Ce)),Ge(l,"path",c||r,null,Ce),(n.setCookie||En)(e,_n(u,l))}},get:function(e){var t=Rn;return vn(s)&&(t=(n.getCookie||In)(e)),t},del:function(e,t){vn(s)&&s.purge(e,t)},purge:function(e,r){if(wn(t)){var o=((i={}).path=r||"/",i[jn]="Thu, 01 Jan 1970 00:00:01 GMT",i);St()||(o["max-age"]="0"),(n.delCookie||En)(e,_n(Rn,o))}var i}};return s[An]=s,s}function wn(e){if(null===Ln){Ln=!1;try{Ln=void 0!==(Kn||{})[xn]}catch(t){e&&e.throwInternal(me.WARNING,ye.CannotAccessCookie,"Cannot access document.cookie - "+$e(t),{exception:Ct(t)})}}return Ln}function Cn(e){var t={};return e&&e.length&&Ue(Be(e).split(";"),(function(e){if(e=Be(e||Rn)){var n=e.indexOf("=");-1===n?t[e]=null:t[Be(e.substring(0,n))]=Be(e.substring(n+1))}})),t}function kn(e,t){return Pe(e[t])?e[t]():null}function _n(e,t){var n=e||Rn;return xe(t,(function(e,t){n+="; "+e+(ke(t)?Rn:"="+t)})),n}function In(e){var t=Rn;if(Kn){var n=Kn[xn]||Rn;Un!==n&&(Wn=Cn(n),Un=n),t=Be(Wn[e]||Rn)}return t}function En(e,t){Kn&&(Kn[xn]=e+"="+t)}function Pn(e){return!!Ae(e)&&!!(je(e,"CPU iPhone OS 12")||je(e,"iPad; CPU OS 12")||je(e,"Macintosh; Intel Mac OS X 10_14")&&je(e,"Version/")&&je(e,"Safari")||je(e,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var o=r-1,i=n-1;i>=0;i--){if(e[o]!=t[i])return!1;o--}return!0}}return!1}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||je(e,"Chrome/5")||je(e,"Chrome/6")||je(e,"UnrealEngine")&&!je(e,"Chrome")||je(e,"UCBrowser/12")||je(e,"UCBrowser/11"))}var Dn,Tn,xn,jn,Mn,Nn,On,An,Rn,Ln,Fn,Un,Kn,Wn,Vn,Bn,Hn,Jn,qn,$n=C((()=>{be(),Ut(),lt(),Dn="toGMTString",Tn="toUTCString",xn="cookie",jn="expires",Mn="enabled",Nn="isCookieUseDisabled",On="disableCookiesUsage",An="_ckMgr",Rn="",Ln=null,Fn=null,Un=null,Kn=ft(),Wn={},Vn={}})),Gn=C((()=>{R(),ve(),mn(),on(),gn(),Yt(),$n(),lt(),sn(),Bn="_notificationManager",Hn=function e(){var t,n,r,o,i,s=!1;G(e,this,(function(e){e._extensions=new Array,n=new fn,e.logger=D({throwInternal:function(e,t,n,r,o){void 0===o&&(o=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],e.isInitialized=function(){return s},e.initialize=function(t,o,i,a){e.isInitialized()&&Ze("Core should not be initialized more than once"),(!t||ke(t.instrumentationKey))&&Ze("Please provide instrumentation key"),r=a,e[Bn]=a,e.config=t||{},t.extensions=ke(t.extensions)?[]:t.extensions,ze(t,tn).NotificationManager=a,i&&(e.logger=i);var c=[];c.push.apply(c,o.concat(t.extensions)),c=ln(c);var l=[],u=[],d={};Ue(c,(function(e){(ke(e)||ke(e.initialize))&&Ze("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(ke(d[t])?d[t]=r:i.warnToConsole("Two extensions have same priority #"+t+" - "+d[t]+", "+r)),!t||t<n.priority?l.push(e):u.push(e)})),c.push(n),l.push(n),c=ln(c),e._extensions=c,cn(new Xt([n],t,e),c),cn(new Xt(l,t,e),c),e._extensions=l,0===e.getTransmissionControls().length&&Ze("No channels available"),s=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){Ge(n,en,e.config.instrumentationKey,null,Ye),Ge(n,"time",Fe(new Date),null,Ye),Ge(n,"ver","4.0",null,ke),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,r=t;return(!t||0===t.length)&&(r=[n]),new Xt(r,e.config,e)},e.getNotifyMgr=function(){return r||(r=D({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e[Bn]=r),r},e.getCookieMgr=function(){return i||(i=Sn(e.config,e.logger)),i},e.setCookieMgr=function(e){i=e},e.getPerfMgr=function(){return o||e.config&&e.config.enablePerfMgr&&(o=new $t(e.getNotifyMgr())),o},e.setPerfMgr=function(e){o=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(Ue(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))}})),zn=C((()=>{ve(),lt(),Jn=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;G(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=Ke(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=Ke(e.listeners,t)},e.eventsSent=function(t){Ue(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){Ue(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){Ue(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(e){}}))},e.perfEvent=function(t){t&&(n||!t.isChildEvt())&&Ue(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}}))}}))}})),Yn=C((()=>{R(),Gn(),_(),zn(),Yt(),Ht(),ve(),lt(),qn=function(e){function t(){var n=e.call(this)||this;return G(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],r.InvalidEvent)}e.initialize=function(e,n,r,o){t.initialize(e,n,r||new Bt(e),o||new Jn(e))},e.track=function(r){Jt(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),Ze("Invalid telemetry item")),function(e){if(ke(e.name))throw n(e),Error("telemetry name required")}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return(!n||!(n>0))&&(n=1e4),setInterval((function(){var n=e.logger?e.logger.queue:[];Ue(n,(function(n){var r={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:Fe(new Date),baseType:Vt.dataType,baseData:{message:n.message}};e.track(r)})),n.length=0}),n)}})),n}return x(t,e),t}(Hn)}));function Qn(e){e<0&&(e>>>=0),sr=123456789+e&or,ar=987654321-e&or,ir=!0}function Zn(){try{var e=2147483647&qe();Qn((Math.random()*rr^e)+e)}catch(e){}}function Xn(e){return e>0?Math.floor(er()/or*(e+1))>>>0:0}function er(e){var t,n=ut(jt)||ut(Mt);return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&or:St()?(ir||Zn(),t=nr()&or):t=Math.floor(rr*Math.random()|0),e||(t>>>=0),t}function tr(e){e?Qn(e):Zn()}function nr(e){var t=((ar=36969*(65535&ar)+(ar>>16)&or)<<16)+(65535&(sr=18e3*(65535&sr)+(sr>>16)&or))>>>0&or|0;return e||(t>>>=0),t}var rr,or,ir,sr,ar,cr=C((()=>{Ut(),lt(),rr=4294967296,or=4294967295,ir=!1,sr=123456789,ar=987654321}));function lr(e,t){var n=!1,r=pt();r&&(n=De(r,e,t),n=De(r.body,e,t)||n);var o=ft();return o&&(n=_r.Attach(o,e,t)||n),n}function ur(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(kr,(function(e){var t=0|Xn(15);return("x"===e?t:3&t|8).toString(16)}))}function dr(){var e=yt();return e&&e.now?e.now():qe()}function pr(e){void 0===e&&(e=22);for(var t=er()>>>0,n=0,r="";r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(er()<<2&4294967295|3&t)>>>0,n=0);return r}function hr(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=er())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var o=t[8+(3&er())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)}function fr(e,t){var n=yn(e,t),r=Cr._canUseCookies;return null===Sr&&(Sr=[],wr=r,Je(Cr,"_canUseCookies",(function(){return wr}),(function(e){wr=e,Ue(Sr,(function(t){t.setEnabled(e)}))}))),-1===Ke(Sr,n)&&Sr.push(n),Le(r)&&n.setEnabled(r),Le(wr)&&n.setEnabled(wr),n}function gr(){fr().setEnabled(!1)}function mr(e){return fr(null,e).isEnabled()}function yr(e,t){return fr(null,e).get(t)}function vr(e,t,n,r){fr(null,e).set(t,n,null,r)}function br(e,t){return fr(null,e).del(t)}var Sr,wr,Cr,kr,_r,Ir=C((()=>{R(),$n(),Ut(),lt(),cr(),Sr=null,Cr={_canUseCookies:void 0,isTypeof:we,isUndefined:Ce,isNullOrUndefined:ke,hasOwnProperty:Ie,isFunction:Pe,isObject:Ee,isDate:Me,isArray:Ne,isError:Oe,isString:Ae,isNumber:Re,isBoolean:Le,toISOString:Fe,arrForEach:Ue,arrIndexOf:Ke,arrMap:We,arrReduce:Ve,strTrim:Be,objCreate:D,objKeys:He,objDefineAccessors:Je,addEventHandler:lr,dateNow:qe,isIE:St,disableCookies:gr,newGuid:ur,perfNow:dr,newId:pr,randomValue:Xn,random32:er,mwcRandomSeed:tr,mwcRandom32:nr,generateW3CId:hr},kr=/[xy]/g,_r={Attach:De,AttachEvent:De,Detach:Te,DetachEvent:Te}}));function Er(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Pr(e,t,n,r,o){o>=0&&o<=2&&Er(e,(function(e,i){var s=e.cbks,a=s[jr[o]];if(a){t.ctx=function(){return r[i]=r[i]||{}};try{a.apply(t.inst,n)}catch(e){var c=t.err;try{var l=s[jr[2]];l&&(t.err=e,l.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}function Dr(e,t,n){var r=null;return e&&(Ie(e,t)?r=e:n&&(r=Dr(function(e){if(e){if(Or)return Or(e);var t=e[Mr]||e[a]||e[Nr];if(t)return t}return null}(e),t,!1))),r}function Tr(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var i=Dr(e,t,r);if(i){var s=i[t];if(typeof s===o){var a=s[xr];if(!a){var c=function(e){return function(){var t=this,n=arguments,r=e.h,o={name:e.n,inst:t,ctx:null,set:c},i=[],s=a([o],n);function a(e,t){return Er(t,(function(t){e.push(t)})),e}function c(e,t){(n=a([],n))[e]=t,s=a([o],n)}Pr(r,o,s,i,0);var l=e.f;try{o.rslt=l.apply(t,n)}catch(e){throw o.err=e,Pr(r,o,s,i,3),e}return Pr(r,o,s,i,1),o.rslt}}(a={i:0,n:t,f:s,h:[]});c[xr]=a,i[t]=c}var l={id:a.i,cbks:n,rm:function(){var e=this.id;Er(a.h,(function(t,n){if(t.id===e)return a.h.splice(n,1),1}))}};return a.i++,a.h.push(l),l}}}return null}var xr,jr,Mr,Nr,Or,Ar,Rr=C((()=>{R(),lt(),xr="_aiHooks",jr=["req","rsp","hkErr","fnErr"],Mr="__proto__",Nr="constructor",Or=Object.getPrototypeOf})),Lr=C((()=>{Yn(),Gn(),an(),cr(),Ir(),lt(),Ut(),R(),zn(),Yt(),Ht(),be(),Rr(),$n()})),Fr=C((()=>{Ar={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}}));function Ur(e,t,n){var r=t.length,o=Kr(e,t);if(o.length!==r){for(var i=0,s=o;void 0!==n[s];)i++,s=o.substring(0,147)+zr(i);o=s}return o}function Kr(e,t){var n;return t&&(t=Be(t.toString())).length>150&&(n=t.substring(0,150),e.throwInternal(me.WARNING,ye.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function Wr(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=Be(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(me.WARNING,ye.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Vr(e,t){return Gr(e,t,2048,ye.UrlTooLong)}function Br(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(me.WARNING,ye.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Hr(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(me.WARNING,ye.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function Jr(e,t){if(t){var n={};xe(t,(function(t,r){if(Ee(r)&&vt())try{r=bt().stringify(r)}catch(t){e.throwInternal(me.WARNING,ye.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}r=Wr(e,r,8192),t=Ur(e,t,n),n[t]=r})),t=n}return t}function qr(e,t){if(t){var n={};xe(t,(function(t,r){t=Ur(e,t,n),n[t]=r})),t=n}return t}function $r(e,t){return t&&Gr(e,t,128,ye.IdTooLong).toString()}function Gr(e,t,n,r){var o;return t&&(t=Be(t)).length>n&&(o=t.substring(0,n),e.throwInternal(me.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),o||t}function zr(e){var t="00"+e;return t.substr(t.length-3)}var Yr,Qr=C((()=>{Lr(),Yr={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:Ur,sanitizeKey:Kr,sanitizeString:Wr,sanitizeUrl:Vr,sanitizeMessage:Br,sanitizeException:Hr,sanitizeProperties:Jr,sanitizeMeasurements:qr,sanitizeId:$r,sanitizeInput:Gr,padNumber:zr,trim:Be}}));function Zr(e){var t=null;if(Pe(Event))t=new Event(e);else{var n=ft();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var Xr=C((()=>{Lr()}));function eo(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function to(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,o=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(i>0?i+".":"")+(o=o.length<2?"0"+o:o)+":"+r+":"+n+"."+t}function no(){var e=gt();return"sendBeacon"in e&&e.sendBeacon}function ro(e,t){var n=null;return Ue(e,(function(e){if(e.identifier===t)return n=e,-1})),n}function oo(e,t,n,r,o){return!o&&Ae(e)&&("Script error."===e||"Script error"===e)}var io,so,ao,co,lo,uo,po,ho,fo=C((()=>{Lr()})),go=C((()=>{io="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",so="sampleRate",ao="ProcessLegacy",co="http.method",lo="https://dc.services.visualstudio.com",uo="not_specified"})),mo=C((()=>{var e;(e=po||(po={}))[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage",function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(ho||(ho={}))}));function yo(){return wo()?vo(po.LocalStorage):null}function vo(e){try{if(ke(E()))return null;var t=new Date,n=ut(e===po.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(e){}return null}function bo(){return Io()?vo(po.SessionStorage):null}function So(){xo=!1,jo=!1}function wo(){return void 0===xo&&(xo=!!vo(po.LocalStorage)),xo}function Co(e,t){var n=yo();if(null!==n)try{return n.getItem(t)}catch(t){xo=!1,e.throwInternal(me.WARNING,ye.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+$e(t),{exception:Ct(t)})}return null}function ko(e,t,n){var r=yo();if(null!==r)try{return r.setItem(t,n),!0}catch(t){xo=!1,e.throwInternal(me.WARNING,ye.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+$e(t),{exception:Ct(t)})}return!1}function _o(e,t){var n=yo();if(null!==n)try{return n.removeItem(t),!0}catch(t){xo=!1,e.throwInternal(me.WARNING,ye.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+$e(t),{exception:Ct(t)})}return!1}function Io(){return void 0===jo&&(jo=!!vo(po.SessionStorage)),jo}function Eo(){var e=[];return Io()&&xe(ut("sessionStorage"),(function(t){e.push(t)})),e}function Po(e,t){var n=bo();if(null!==n)try{return n.getItem(t)}catch(t){jo=!1,e.throwInternal(me.WARNING,ye.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+$e(t),{exception:Ct(t)})}return null}function Do(e,t,n){var r=bo();if(null!==r)try{return r.setItem(t,n),!0}catch(t){jo=!1,e.throwInternal(me.WARNING,ye.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+$e(t),{exception:Ct(t)})}return!1}function To(e,t){var n=bo();if(null!==n)try{return n.removeItem(t),!0}catch(t){jo=!1,e.throwInternal(me.WARNING,ye.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+$e(t),{exception:Ct(t)})}return!1}var xo,jo,Mo=C((()=>{Lr(),mo(),xo=void 0,jo=void 0}));function No(e){var t=Ko,n=Wo,r=n[t];return Uo.createElement?n[t]||(r=n[t]=Uo.createElement("a")):r={host:Lo(e,!0)},r.href=e,++t>=n.length&&(t=0),Ko=t,r}function Oo(e){var t,n=No(e);return n&&(t=n.href),t}function Ao(e){var t,n=No(e);return n&&(t=n.pathname),t}function Ro(e,t){return e?e.toUpperCase()+" "+t:t}function Lo(e,t){var n=Fo(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&Ae(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function Fo(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&Ae(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var o=(r[1]||"").toLowerCase(),i=r[3]||"";("http"===o&&":80"===i||"https"===o&&":443"===i)&&(i=""),n+=i}}return n}var Uo,Ko,Wo,Vo=C((()=>{Lr(),Uo=ft()||{},Ko=0,Wo=[null,null,null,null,null]}));function Bo(e){return-1!==qo.indexOf(e.toLowerCase())}function Ho(){var e=yt();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return qe()}function Jo(e,t){var n=null;return 0!==e&&0!==t&&!ke(e)&&!ke(t)&&(n=t-e),n}var qo,$o,Go,zo,Yo,Qo=C((()=>{Lr(),Fr(),Qr(),Xr(),fo(),go(),Mo(),Vo(),qo=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],$o={NotSpecified:uo,createDomEvent:Zr,disableStorage:So,isInternalApplicationInsightsEndpoint:Bo,canUseLocalStorage:wo,getStorage:Co,setStorage:ko,removeStorage:_o,canUseSessionStorage:Io,getSessionStorageKeys:Eo,getSessionStorage:Po,setSessionStorage:Do,removeSessionStorage:To,disableCookies:gr,canUseCookies:mr,disallowsSameSiteNone:Pn,setCookie:vr,stringToBoolOrDefault:eo,getCookie:yr,deleteCookie:br,trim:Be,newId:pr,random32:function(){return er(!0)},generateW3CId:hr,isArray:Ne,isError:Oe,isDate:Me,toISOStringForIE8:Fe,getIEVersion:wt,msToTimeSpan:to,isCrossOriginError:oo,dump:Ct,getExceptionName:$e,addEventHandler:De,IsBeaconApiSupported:no,getExtension:ro},Go={parseUrl:No,getAbsoluteUrl:Oo,getPathName:Ao,getCompleteUrl:Ro,parseHost:Lo,parseFullHost:Fo},zo={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var o=No(t).host.toLowerCase();if(o&&(-1!==o.indexOf(":443")||-1!==o.indexOf(":80"))&&(o=(Fo(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&o&&o!==n)return!1;var i,s=e&&e.correlationHeaderDomains;if(s&&(Ue(s,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));i=i||t.test(o)})),!i))return!1;var a=e&&e.correlationHeaderExcludedDomains;if(!a||0===a.length)return!0;for(r=0;r<a.length;r++)if(new RegExp(a[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(o))return!1;return o&&o.length>0},getCorrelationContext:function(e){if(e){var t=zo.getCorrelationContextValue(e,Ar.requestContextTargetKey);if(t&&t!==zo.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var o=n[r].split("=");if(2===o.length&&o[0]===t)return o[1]}}},Yo={Now:Ho,GetDuration:Jo}}));function Zo(e){if(!e)return{};var t=Ve(e.split(Xo),(function(e,t){var n=t.split(ei);if(2===n.length){var r=n[0].toLowerCase(),o=n[1];e[r]=o}return e}),{});if(He(t).length>0){if(t.endpointsuffix){var n=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+n+"dc."+t.endpointsuffix}t.ingestionendpoint=t.ingestionendpoint||lo}return t}var Xo,ei,ti,ni,ri,oi,ii,si,ai,ci,li,ui,di=C((()=>{go(),Lr(),Xo=";",ei="=",ti={parse:Zo}})),pi=C((()=>{ni=function(){}})),hi=C((()=>{R(),pi(),ri=function(e){function t(){return e.call(this)||this}return x(t,e),t}(ni)})),fi=C((()=>{oi=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),gi=C((()=>{R(),fi(),Qr(),Lr(),go(),ii=function(e){function t(t,n,r){var o=e.call(this)||this;return o.name=Wr(t,r)||uo,o.data=n,o.time=Fe(new Date),o.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===o.sampleRate?4:1},tags:1,data:1},o}return x(t,e),t}(oi)})),mi=C((()=>{si=function(){this.ver=2,this.properties={},this.measurements={}}})),yi=C((()=>{R(),mi(),Qr(),go(),ai=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.aiDataContract={ver:1,name:1,properties:0,measurements:0},i.name=Wr(t,n)||uo,i.properties=Jr(t,r),i.measurements=qr(t,o),i}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(si)})),vi=C((()=>{ci=function(){}})),bi=C((()=>{li=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}})),Si=C((()=>{ui=function(){this.hasFullStack=!0,this.parsedStack=[]}}));function wi(e,t){var n=e;return n&&!Ae(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||"{}"===n)&&(n=Pe(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Ci(e,t){var n=e;return e&&((n=e[Mi]||e[Ni]||"")&&!Ae(n)&&(n=wi(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function ki(e){return e&&e.src&&Ae(e.src)&&e.obj&&Ne(e.obj)}function _i(e){var t=e||"";Ae(t)||(t=Ae(t[Ti])?t[Ti]:""+t);var n=t.split("\n");return{src:t,obj:n}}function Ii(e){var t=null;if(e)try{if(e[Ti])t=_i(e[Ti]);else if(e[Di]&&e[Di][Ti])t=_i(e[Di][Ti]);else if(e.exception&&e.exception[Ti])t=_i(e.exception[Ti]);else if(ki(e))t=e;else if(ki(e[xi]))t=e[xi];else if(window.opera&&e[Mi])t=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var o=n[r];n[r+1]&&(o+="@"+n[r+1],r++),t.push(o)}return{src:e,obj:t}}(e.message);else if(Ae(e))t=_i(e);else{var n=e[Mi]||e[Ni]||"";Ae(e[ji])&&(n&&(n+="\n"),n+=" from "+e[ji]),n&&(t=_i(n))}}catch(e){t=_i(e)}return t||{src:"",obj:null}}function Ei(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function Pi(e){if(e)try{if(!Ae(e)){var t=Ei(e),n=wi(e,!1);return(!n||"{}"===n)&&(e[Di]&&(t=Ei(e=e[Di])),n=wi(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var Di,Ti,xi,ji,Mi,Ni,Oi,Ai,Ri,Li,Fi,Ui,Ki,Wi,Vi,Bi,Hi,Ji,qi,$i,Gi,zi,Yi,Qi,Zi,Xi=C((()=>{R(),vi(),bi(),Si(),Qr(),Lr(),go(),Di="error",Ti="stack",xi="stackDetails",ji="errorSrc",Mi="message",Ni="description",Oi=function(e){function t(t,n,r,o,i,s){var a=e.call(this)||this;return a.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){return!!Ee(e)&&"ver"in e&&"exceptions"in e&&"properties"in e}(n)?(a.exceptions=n.exceptions,a.properties=n.properties,a.measurements=n.measurements,n.severityLevel&&(a.severityLevel=n.severityLevel),n.id&&(a.id=n.id),n.problemGroup&&(a.problemGroup=n.problemGroup),a.ver=2,ke(n.isManual)||(a.isManual=n.isManual)):(r||(r={}),a.exceptions=[new Ai(t,n,r)],a.properties=Jr(t,r),a.measurements=qr(t,o),i&&(a.severityLevel=i),s&&(a.id=s)),a}return x(t,e),t.CreateAutoException=function(e,t,n,r,o,i,s,a){var c=Ei(o||i||e);return{message:Ci(e,c),url:t,lineNumber:n,columnNumber:r,error:Pi(o||i||e),evt:Pi(i||e),typeName:c,stackDetails:Ii(s||o||i),errorSrc:a}},t.CreateFromInterface=function(e,n,r,o){var i=n.exceptions&&We(n.exceptions,(function(t){return Ai.CreateFromInterface(e,t)}));return new t(e,M({},n,{exceptions:i}),r,o)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,o=e.severityLevel,i=(e.ver,e.problemGroup),s=e.id,a=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&We(t,(function(e){return e.toInterface()}))||void 0,severityLevel:o,properties:n,measurements:r,problemGroup:i,id:s,isManual:a}},t.CreateSimpleException=function(e,t,n,r,o,i){return{exceptions:[{hasFullStack:!0,message:e,stack:o,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Pi,t}(li),Ai=function(e){function t(t,n,r){var o=e.call(this)||this;if(o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){return!!Ee(e)&&"hasFullStack"in e&&"typeName"in e}(n))o.typeName=n.typeName,o.message=n.message,o[Ti]=n[Ti],o.parsedStack=n.parsedStack,o.hasFullStack=n.hasFullStack;else{var i=n,s=i&&i.evt;Oe(i)||(i=i[Di]||s||i),o.typeName=Wr(t,Ei(i))||uo,o.message=Br(t,Ci(n||i,o.typeName))||uo;var a=n[xi]||Ii(n);o.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,o=0;if(Ue(n,(function(e){var n=e.toString();if(Ri.regex.test(n)){var i=new Ri(n,r++);o+=i.sizeInBytes,t.push(i)}})),o>32768)for(var i=0,s=t.length-1,a=0,c=i,l=s;i<s;){if((a+=t[i].sizeInBytes+t[s].sizeInBytes)>32768){var u=l-c+1;t.splice(c,u);break}c=i,l=s,i++,s--}}return t}(a),o[Ti]=Hr(t,function(e){var t="";return e&&(e.obj?Ue(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(a)),o.hasFullStack=Ne(o.parsedStack)&&o.parsedStack.length>0,r&&(r.typeName=r.typeName||o.typeName)}return o}return x(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&We(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Ti],parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&We(n.parsedStack,(function(e){return Ri.CreateFromInterface(e)}))||n.parsedStack;return new t(e,M({},n,{parsedStack:r}))},t}(ui),Ri=function(e){function t(n,r){var o=e.call(this)||this;if(o.sizeInBytes=0,o.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var i=n;o.level=r,o.method="<no_method>",o.assembly=Be(i),o.fileName="",o.line=0;var s=i.match(t.regex);s&&s.length>=5&&(o.method=Be(s[2])||o.method,o.fileName=Be(s[4]),o.line=parseInt(s[5])||0)}else o.level=n.level,o.method=n.method,o.assembly=n.assembly,o.fileName=n.fileName,o.line=n.line,o.sizeInBytes=0;return o.sizeInBytes+=o.method.length,o.sizeInBytes+=o.fileName.length,o.sizeInBytes+=o.assembly.length,o.sizeInBytes+=t.baseSize,o.sizeInBytes+=o.level.toString().length,o.sizeInBytes+=o.line.toString().length,o}return x(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(ci)})),es=C((()=>{Li=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}})),ts=C((()=>{var e;(e=Fi||(Fi={}))[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})),ns=C((()=>{ts(),Ui=function(){this.kind=Fi.Measurement}})),rs=C((()=>{R(),ns(),Ki=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return x(t,e),t}(Ui)})),os=C((()=>{R(),es(),Qr(),rs(),go(),Wi=function(e){function t(t,n,r,o,i,s,a,c){var l=e.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var u=new Ki;return u.count=o>0?o:void 0,u.max=isNaN(s)||null===s?void 0:s,u.min=isNaN(i)||null===i?void 0:i,u.name=Wr(t,n)||uo,u.value=r,l.metrics=[u],l.properties=Jr(t,a),l.measurements=qr(t,c),l}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(Li)})),is=C((()=>{R(),mi(),Vi=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return x(t,e),t}(si)})),ss=C((()=>{R(),is(),Qr(),fo(),go(),Bi=function(e){function t(t,n,r,o,i,s,a){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=$r(t,a),c.url=Vr(t,r),c.name=Wr(t,n)||uo,isNaN(o)||(c.duration=to(o)),c.properties=Jr(t,i),c.measurements=qr(t,s),c}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(Vi)})),as=C((()=>{Hi=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}})),cs=C((()=>{R(),Qr(),Qo(),as(),fo(),Ji=function(e){function t(t,n,r,o,i,s,a,c,l,u,d,p){void 0===l&&(l="Ajax");var h=e.call(this)||this;h.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},h.id=n,h.duration=to(i),h.success=s,h.resultCode=a+"",h.type=Wr(t,l);var f=function(e,t,n,r){var o,i=r,s=r;if(t&&t.length>0){var a=No(t);if(o=a.host,!i)if(null!=a.pathname){var c=0===a.pathname.length?"/":a.pathname;"/"!==c.charAt(0)&&(c="/"+c),s=a.pathname,i=Wr(e,n?n+" "+c:c)}else i=Wr(e,t)}else o=r,i=r;return{target:o,name:i,data:s}}(t,r,c,o);return h.data=Vr(t,o)||f.data,h.target=Wr(t,f.target),u&&(h.target=h.target+" | "+u),h.name=Wr(t,f.name),h.properties=Jr(t,d),h.measurements=qr(t,p),h}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(Hi)})),ls=C((()=>{qi=function(){this.ver=2,this.properties={},this.measurements={}}})),us=C((()=>{R(),ls(),Qr(),go(),$i=function(e){function t(t,n,r,o,i){var s=e.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||uo,s.message=Br(t,n),s.properties=Jr(t,o),s.measurements=qr(t,i),r&&(s.severityLevel=r),s}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(qi)})),ds=C((()=>{R(),is(),Gi=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return x(t,e),t}(Vi)})),ps=C((()=>{R(),ds(),Qr(),go(),zi=function(e){function t(t,n,r,o,i,s,a){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Vr(t,r),c.name=Wr(t,n)||uo,c.properties=Jr(t,i),c.measurements=qr(t,s),a&&(c.domProcessing=a.domProcessing,c.duration=a.duration,c.networkConnect=a.networkConnect,c.perfTotal=a.perfTotal,c.receivedResponse=a.receivedResponse,c.sentRequest=a.sentRequest),c}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(Gi)})),hs=C((()=>{R(),hi(),Yi=function(e){function t(t,n){var r=e.call(this)||this;return r.aiDataContract={baseType:1,baseData:1},r.baseType=t,r.baseData=n,r}return x(t,e),t}(ri)})),fs=C((()=>{var e;(e=Qi||(Qi={}))[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})),gs=C((()=>{Lr(),Zi=function(){function e(){}return e.getConfig=function(e,t,n,r){var o;return void 0===r&&(r=!1),o=n&&e.extensionConfig&&e.extensionConfig[n]&&!ke(e.extensionConfig[n][t])?e.extensionConfig[n][t]:e[t],ke(o)?r:o},e}()}));function ms(e){var t="ai."+e+".";return function(e){return t+e}}var ys,vs,bs,Ss,ws,Cs,ks,_s,Is,Es,Ps,Ds,Ts,xs,js,Ms,Ns,Os,As,Rs=C((()=>{var e;R(),Lr(),ys=ms("application"),vs=ms("device"),bs=ms("location"),Ss=ms("operation"),ws=ms("session"),Cs=ms("user"),ks=ms("cloud"),_s=ms("internal"),Is=function(e){function t(){return e.call(this)||this}return x(t,e),t}((e={applicationVersion:ys("ver"),applicationBuild:ys("build"),applicationTypeId:ys("typeId"),applicationId:ys("applicationId"),applicationLayer:ys("layer"),deviceId:vs("id"),deviceIp:vs("ip"),deviceLanguage:vs("language"),deviceLocale:vs("locale"),deviceModel:vs("model"),deviceFriendlyName:vs("friendlyName"),deviceNetwork:vs("network"),deviceNetworkName:vs("networkName"),deviceOEMName:vs("oemName"),deviceOS:vs("os"),deviceOSVersion:vs("osVersion"),deviceRoleInstance:vs("roleInstance"),deviceRoleName:vs("roleName"),deviceScreenResolution:vs("screenResolution"),deviceType:vs("type"),deviceMachineName:vs("machineName"),deviceVMName:vs("vmName"),deviceBrowser:vs("browser"),deviceBrowserVersion:vs("browserVersion"),locationIp:bs("ip"),locationCountry:bs("country"),locationProvince:bs("province"),locationCity:bs("city"),operationId:Ss("id"),operationName:Ss("name"),operationParentId:Ss("parentId"),operationRootId:Ss("rootId"),operationSyntheticSource:Ss("syntheticSource"),operationCorrelationVector:Ss("correlationVector"),sessionId:ws("id"),sessionIsFirst:ws("isFirst"),sessionIsNew:ws("isNew"),userAccountAcquisitionDate:Cs("accountAcquisitionDate"),userAccountId:Cs("accountId"),userAgent:Cs("userAgent"),userId:Cs("id"),userStoreRegion:Cs("storeRegion"),userAuthUserId:Cs("authUserId"),userAnonymousUserAcquisitionDate:Cs("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Cs("authUserAcquisitionDate"),cloudName:ks("name"),cloudRole:ks("role"),cloudRoleVer:ks("roleVer"),cloudRoleInstance:ks("roleInstance"),cloudEnvironment:ks("environment"),cloudLocation:ks("location"),cloudDeploymentUnit:ks("deploymentUnit"),internalNodeName:_s("nodeName"),internalSdkVersion:_s("sdkVersion"),internalAgentVersion:_s("agentVersion"),internalSnippet:_s("snippet"),internalSdkSrc:_s("sdkSrc")},function(){var t=this;e&&xe(e,(function(e,n){t[e]=n}))}))})),Ls=C((()=>{Qr(),Lr(),go(),Es=function(){function e(){}return e.create=function(e,t,n,r,o,i){if(n=Wr(r,n)||uo,ke(e)||ke(t)||ke(n))throw Error("Input doesn't contain all required fields");var s={name:n,time:Fe(new Date),iKey:"",ext:i||{},tags:[],data:{},baseType:t,baseData:e};return ke(o)||xe(o,(function(e,t){s.data[e]=t})),s},e}()})),Fs=C((()=>{Rs(),Ps={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ds=new Is})),Us=C((()=>{Qo(),di(),Fr(),go(),hi(),pi(),gi(),yi(),Xi(),os(),ss(),is(),cs(),us(),ps(),hs(),fs(),gs(),Rs(),Qr(),Ls(),Fs(),mo(),fo(),Xr(),Mo(),Vo(),Ts="AppInsightsPropertiesPlugin",xs="AppInsightsChannelPlugin",js="ApplicationInsightsAnalytics"})),Ks=C((()=>{Us(),Lr(),ve(),Ms=function e(t,n,r,o){G(e,this,(function(e){var i,s=null,a=[],c=!1;function l(){r&&Ue(r.getTransmissionControls(),(function(e){Ue(e,(function(e){return e.flush(!0)}))}))}r&&(i=r.logger),e.trackPageView=function(e,r){var u=e.name;if(ke(u)||"string"!=typeof u){var d=ft();u=e.name=d&&d.title||""}var p=e.uri;if(ke(p)||"string"!=typeof p){var h=mt();p=e.uri=h&&h.href||""}if(!o.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),l(),void i.throwInternal(me.WARNING,ye.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var f,g,m=!1,y=o.getPerformanceTiming().navigationStart;y>0&&(f=Jo(y,+new Date),o.shouldCollectDuration(f)||(f=void 0)),!ke(r)&&!ke(r.duration)&&(g=r.duration),(n||!isNaN(g))&&(isNaN(g)&&(r||(r={}),r.duration=f),t.sendPageViewInternal(e,r),l(),m=!0),r||(r={}),function(e){a.push(e),s||(s=setInterval((function(){var e=a.slice(0),t=!1;a=[],Ue(e,(function(e){e()?t=!0:a.push(e)})),0===a.length&&(clearInterval(s),s=null),t&&l()}),100))}((function(){var n=!1;try{if(o.isPerformanceTimingDataReady()){n=!0;var s={name:u,uri:p};o.populatePageViewPerformanceEvent(s),s.isValid||m?(m||(r.duration=s.durationMs,t.sendPageViewInternal(e,r)),c||(t.sendPageViewPerformanceInternal(s,r),c=!0)):(r.duration=f,t.sendPageViewInternal(e,r))}else y>0&&Jo(y,+new Date)>6e4&&(n=!0,m||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(e){i.throwInternal(me.CRITICAL,ye.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+$e(e),{exception:Ct(e)})}return n}))}}))}})),Ws=C((()=>{Us(),Lr(),Ns=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Ct(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+Ct(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(Io()){null!=Po(this._logger,this.prevPageVisitDataKeyName)&&Ze("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Os(e,t),r=bt().stringify(n);Do(this._logger,this.prevPageVisitDataKeyName,r)}}catch(e){this._logger.warnToConsole("Call to start failed: "+Ct(e))}},e.prototype.stopPageVisitTimer=function(){try{if(Io()){var e=qe(),t=Po(this._logger,this.prevPageVisitDataKeyName);if(t&&vt()){var n=bt().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,To(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+Ct(e)),null}},e}(),Os=function(e,t){this.pageVisitStartTime=qe(),this.pageName=e,this.pageUrl=t}})),Vs=C((()=>{Us(),Lr(),As=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,o=0,i=0,s=0,a=0;(t||n)&&(t?(r=t.duration,o=0===t.startTime?t.connectEnd:Jo(t.startTime,t.connectEnd),i=Jo(t.requestStart,t.responseStart),s=Jo(t.responseStart,t.responseEnd),a=Jo(t.responseEnd,t.loadEventEnd)):(r=Jo(n.navigationStart,n.loadEventEnd),o=Jo(n.navigationStart,n.connectEnd),i=Jo(n.requestStart,n.responseStart),s=Jo(n.responseStart,n.responseEnd),a=Jo(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(me.WARNING,ye.ErrorPVCalc,"error calculating page view performance.",{total:r,network:o,request:i,response:s,dom:a}):this.shouldCollectDuration(r,o,i,s,a)?r<Math.floor(o)+Math.floor(i)+Math.floor(s)+Math.floor(a)?this._logger.throwInternal(me.WARNING,ye.ClientPerformanceMathError,"client performance math error.",{total:r,network:o,request:i,response:s,dom:a}):(e.durationMs=r,e.perfTotal=e.duration=to(r),e.networkConnect=to(o),e.sentRequest=to(i),e.receivedResponse=to(s),e.domProcessing=to(a),e.isValid=!0):this._logger.throwInternal(me.WARNING,ye.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:o,request:i,response:s,dom:a}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?yt().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?yt().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=yt();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=yt();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=yt(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gt()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],o=n.userAgent,i=!1;if(o)for(var s=0;s<r.length;s++)i=i||-1!==o.toLowerCase().indexOf(r[s]);if(i)return!1;for(s=0;s<e.length;s++)if(e[s]<0||e[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()}));function Bs(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Hs,Js,qs,$s,Gs,zs,Ys=C((()=>{R(),Us(),Lr(),Ks(),Ws(),Vs(),ve(),Hs="duration",Js="event",qs=function(e){function t(){var n,r,o,s,a,c=e.call(this)||this;return c.identifier=js,c.priority=180,c.autoRoutePVDelay=500,G(t,c,(function(e,l){var u=mt(!0);s=u&&u.href||"",e.getCookieMgr=function(){return bn(e.core)},e.processTelemetry=function(t,n){Jt(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var r=!1,o=e._telemetryInitializers.length;n=e._getTelCtx(n);for(var i=0;i<o;++i){var s=e._telemetryInitializers[i];if(s)try{if(!1===s.apply(null,[t])){r=!0;break}}catch(e){n.diagLog().throwInternal(me.CRITICAL,ye.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+$e(e),{exception:Ct(e)},!0)}}r||e.processNext(t,n)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,n){try{var r=Es.create(t,ai.dataType,ai.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.WARNING,ye.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+$e(t),{exception:Ct(t)})}},e.startTrackEvent=function(t){try{n.start(t)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+$e(t),{exception:Ct(t)})}},e.stopTrackEvent=function(t,r,o){try{n.stop(t,void 0,r)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+$e(t),{exception:Ct(t)})}},e.trackTrace=function(t,n){try{var r=Es.create(t,$i.dataType,$i.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.WARNING,ye.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+$e(t),{exception:Ct(t)})}},e.trackMetric=function(t,n){try{var r=Es.create(t,Wi.dataType,Wi.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+$e(t),{exception:Ct(t)})}},e.trackPageView=function(t,n){try{var r=t||{};e._pageViewManager.trackPageView(r,M({},r.properties,r.measurements,n)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(r.name,r.uri)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.TrackPVFailed,"trackPageView failed, page view will not be collected: "+$e(t),{exception:Ct(t)})}},e.sendPageViewInternal=function(t,n,r){var o=ft();o&&(t.refUri=void 0===t.refUri?o.referrer:t.refUri);var i=Es.create(t,Bi.dataType,Bi.envelopeType,e.diagLog(),n,r);e.core.track(i)},e.sendPageViewPerformanceInternal=function(t,n,r){var o=Es.create(t,zi.dataType,zi.envelopeType,e.diagLog(),n,r);e.core.track(o)},e.trackPageViewPerformance=function(t,n){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+$e(t),{exception:Ct(t)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var n=ft();t=n&&n.title||""}r.start(t)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+$e(t),{exception:Ct(t)})}},e.stopTrackPage=function(t,n,o,i){try{if("string"!=typeof t){var s=ft();t=s&&s.title||""}if("string"!=typeof n){var a=mt();n=a&&a.href||""}r.stop(t,n,o,i),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+$e(t),{exception:Ct(t)})}},e.sendExceptionInternal=function(t,n,r){var o=t.exception||t.error||new Error(uo),i=new Oi(e.diagLog(),o,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),s=Es.create(i,Oi.dataType,Oi.envelopeType,e.diagLog(),n,r);e.core.track(s)},e.trackException=function(t,n){try{e.sendExceptionInternal(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.TrackExceptionFailed,"trackException failed, exception will not be collected: "+$e(t),{exception:Ct(t)})}},e._onerror=function(t){var n=t&&t.error,r=t&&t.evt;try{if(!r){var o=pt();o&&(r=o[Js])}var i=t&&t.url||(ft()||{}).URL,s=t.errorSrc||"window.onerror@"+i+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),a={errorSrc:s,url:i,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};oo(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?function(t,n){var r=Es.create(t,Oi.dataType,Oi.envelopeType,e.diagLog(),n);e.core.track(r)}(Oi.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",i,t.lineNumber||0,t.columnNumber||0,n,r,null,s),a):(t.errorSrc||(t.errorSrc=s),e.trackException({exception:t,severityLevel:Qi.Error},a))}catch(t){var c=n?n.name+", "+n.message:"null";e.diagLog().throwInternal(me.CRITICAL,ye.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+$e(t),{exception:Ct(t),errorString:c})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(u,d,p,h){if(!e.isInitialized()){if(ke(d))throw Error("Error initializing");l.initialize(u,d,p,h),e.setInitialized(!1);var f=e._getTelCtx(),g=e.identifier;e.config=f.getExtCfg(g);var m=t.getDefaultConfig(u);void 0!==m&&xe(m,(function(t,n){e.config[t]=f.getConfig(g,t,n),void 0===e.config[t]&&(e.config[t]=n)})),e.config.isStorageUseDisabled&&So();var y={instrumentationKey:function(){return u.instrumentationKey},accountId:function(){return e.config.accountId||u.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||u.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||u.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||u.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||u.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||u.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||u.appId}};e._pageViewPerformanceManager=new As(e.core),e._pageViewManager=new Ms(c,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new Ns(e.diagLog(),(function(t,n,r){return function(t,n,r){var o={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},o)}(t,n,r)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var n=["/browserLinkSignalR/","/__browserLink/"];!function(t){e._telemetryInitializers.push(t)}((function(e){if(e.baseType===Ji.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0}))}}(y),(n=new $s(e.diagLog(),"trackEvent")).action=function(t,n,r,o){o||(o={}),o[Hs]=r.toString(),e.trackEvent({name:t,properties:o})},(r=new $s(e.diagLog(),"trackPageView")).action=function(t,n,r,o,i){ke(o)&&(o={}),o[Hs]=r.toString();var s={name:t,uri:n,properties:o,measurements:i};e.sendPageViewInternal(s,o)};var v=pt(),b=Boolean(typeof history===i&&history)?history:ut(Et),S=mt(!0),w=c;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&v){var C=v.onerror;v.onerror=function(e,t,n,r,o){var i=v[Js],s=C&&C(e,t,n,r,o);return!0!==s&&w._onerror(Oi.CreateAutoException(e,t,n,r,o,i)),s},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&v){var k="onunhandledrejection",_=v[k];v[k]=function(e){var t=v[Js],n=_&&_.call(v,e);return!0!==n&&w._onerror(Oi.CreateAutoException(e.reason.toString(),S?S.href:"",0,0,e,t)),n},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&b&&Pe(b.pushState)&&Pe(b.replaceState)&&v&&"undefined"!=typeof Event){var I=c;Ue(p,(function(e){e.identifier===Ts&&(o=e)})),b.pushState=(E=b.pushState,function(){var e=E.apply(this,arguments);return Bs(v,Zr(I.config.namePrefix+"pushState")),Bs(v,Zr(I.config.namePrefix+"locationchange")),e}),b.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Bs(v,Zr(I.config.namePrefix+"replaceState")),Bs(v,Zr(I.config.namePrefix+"locationchange")),t}}(b.replaceState),v.addEventListener&&(v.addEventListener(I.config.namePrefix+"popstate",(function(){Bs(v,Zr(I.config.namePrefix+"locationchange"))})),v.addEventListener(I.config.namePrefix+"locationchange",(function(){if(o&&o.context&&o.context.telemetryTrace){o.context.telemetryTrace.traceID=hr();var e="_unknown_";S&&S.pathname&&(e=S.pathname+(S.hash||"")),o.context.telemetryTrace.name=e}a&&(s=a),a=S&&S.href||"",setTimeout(function(e){I.trackPageView({refUri:e,properties:{duration:0}})}.bind(c,s),I.autoRoutePVDelay)})))}e.setInitialized(!0)}var E}})),c}return x(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=eo(e.disableExceptionTracking),e.autoTrackPageVisitTime=eo(e.autoTrackPageVisitTime),e.overridePageViewDuration=eo(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=eo(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=eo(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=eo(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=eo(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=eo(e.enableDebug),e.disableFlushOnBeforeUnload=eo(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=eo(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.6.4",t}(rn),$s=function(e,t){var n=this,r={};n.start=function(t){void 0!==r[t]&&e.throwInternal(me.WARNING,ye.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),r[t]=+new Date},n.stop=function(t,o,i,s){var a=r[t];if(isNaN(a))e.throwInternal(me.WARNING,ye.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=Jo(a,+new Date);n.action(t,o,c,i,s)}delete r[t],r[t]=void 0}}})),Qs=C((()=>{Ys()})),Zs=C((()=>{Us(),Lr(),ve(),Gs=function e(t){var n=[];G(e,this,(function(e){e.enqueue=function(e){n.push(e)},e.count=function(){return n.length},e.clear=function(){n.length=0},e.getItems=function(){return n.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.markAsSent=function(t){e.clear()},e.clearSent=function(e){}}))},zs=function(){function e(t,n){var r,o=!1;G(e,this,(function(i){var s=l(e.BUFFER_KEY),a=l(e.SENT_BUFFER_KEY);function c(e,t){var n=[];return Ue(t,(function(t){!Pe(t)&&-1===Ke(e,t)&&n.push(t)})),n}function l(e){var r=e;try{r=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+r:r;var o=Po(t,r);if(o){var i=bt().parse(o);if(Ae(i)&&(i=bt().parse(i)),i&&Ne(i))return i}}catch(e){t.throwInternal(me.CRITICAL,ye.FailedToRestoreStorageBuffer," storage key: "+r+", "+$e(e),{exception:Ct(e)})}return[]}function u(e,r){var o=e;try{o=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+o:o;var i=JSON.stringify(r);Do(t,o,i)}catch(e){Do(t,o,JSON.stringify([])),t.throwInternal(me.WARNING,ye.FailedToSetStorageBuffer," storage key: "+o+", "+$e(e)+". Buffer cleared",{exception:Ct(e)})}}(r=s.concat(a)).length>e.MAX_BUFFER_SIZE&&(r.length=e.MAX_BUFFER_SIZE),u(e.SENT_BUFFER_KEY,[]),u(e.BUFFER_KEY,r),i.enqueue=function(n){r.length>=e.MAX_BUFFER_SIZE?o||(t.throwInternal(me.WARNING,ye.SessionStorageBufferFull,"Maximum buffer size reached: "+r.length,!0),o=!0):(r.push(n),u(e.BUFFER_KEY,r))},i.count=function(){return r.length},i.clear=function(){r=[],u(e.BUFFER_KEY,[]),u(e.SENT_BUFFER_KEY,[]),o=!1},i.getItems=function(){return r.slice(0)},i.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},i.markAsSent=function(n){r=c(n,r),u(e.BUFFER_KEY,r);var o=l(e.SENT_BUFFER_KEY);o instanceof Array&&n instanceof Array&&((o=o.concat(n)).length>e.MAX_BUFFER_SIZE&&(t.throwInternal(me.CRITICAL,ye.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+o.length,!0),o.length=e.MAX_BUFFER_SIZE),u(e.SENT_BUFFER_KEY,o))},i.clearSent=function(t){var n=l(e.SENT_BUFFER_KEY);n=c(t,n),u(e.SENT_BUFFER_KEY,n)}}))}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()}));function Xs(e,t,n){return Ge(e,t,n,Qe)}var ea,ta,na,ra,oa,ia,sa,aa,ca,la,ua,da,pa,ha,fa,ga,ma,ya,va=C((()=>{R(),Us(),Lr(),ea="baseType",ta="baseData",na="properties",ra="true",oa=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){ke(e)||xe(e,(function(e,r){Re(r)?n[e]=r:Ae(r)?t[e]=r:vt()&&(t[e]=bt().stringify(r))}))},e.createEnvelope=function(t,n,r,o){var i=new ii(t,o,n);Xs(i,"sampleRate",r[so]),(r[ta]||{}).startTime&&(i.time=Fe(r[ta].startTime)),i.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return i.name=i.name.replace("{0}",s),e.extractPartAExtensions(r,i),r.tags=r.tags||[],et(i)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},o=t.ext=t.ext||{},i=t.tags=t.tags||[],s=o.user;s&&(Xs(r,Ds.userAuthUserId,s.authId),Xs(r,Ds.userId,s.id||s.localId));var a=o.app;a&&Xs(r,Ds.sessionId,a.sesId);var c=o.device;c&&(Xs(r,Ds.deviceId,c.id||c.localId),Xs(r,Ds.deviceType,c.deviceClass),Xs(r,Ds.deviceIp,c.ip),Xs(r,Ds.deviceModel,c.model),Xs(r,Ds.deviceType,c.deviceType));var l=t.ext.web;if(l){Xs(r,Ds.deviceLanguage,l.browserLang),Xs(r,Ds.deviceBrowserVersion,l.browserVer),Xs(r,Ds.deviceBrowser,l.browser);var u=n.data=n.data||{},d=u[ta]=u[ta]||{},p=d[na]=d[na]||{};Xs(p,"domain",l.domain),Xs(p,"isManual",l.isManual?ra:null),Xs(p,"screenRes",l.screenRes),Xs(p,"userConsent",l.userConsent?ra:null)}var h=o.os;h&&Xs(r,Ds.deviceOS,h.name);var f=o.trace;f&&(Xs(r,Ds.operationParentId,f.parentID),Xs(r,Ds.operationName,f.name),Xs(r,Ds.operationId,f.traceID));for(var g={},m=i.length-1;m>=0;m--)xe(i[m],(function(e,t){g[e]=t})),i.splice(m,1);xe(i,(function(e,t){g[e]=t}));var y=M({},r,g);y[Ds.internalSdkVersion]||(y[Ds.internalSdkVersion]="javascript:"+e.Version),n.tags=et(y)},e.prototype.Init=function(e,t){this._logger=e,ke(t[ta])&&this._logger.throwInternal(me.CRITICAL,ye.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].measurements||{},o=n[ta][na]||{};oa.extractPropsAndMeasurements(n.data,o,r);var i=n[ta];if(ke(i))return t.warnToConsole("Invalid input for dependency data"),null;var s=i[na]&&i[na][co]?i[na][co]:"GET",a=new Ji(t,i.id,i.target,i.name,i.duration,i.success,i.responseCode,s,i.type,i.correlationContext,o,r),c=new Yi(Ji.dataType,a);return oa.createEnvelope(t,Ji.envelopeType,n,c)},t.DependencyEnvelopeCreator=new t,t}(oa),sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r={},o={};n[ea]!==ai.dataType&&(r.baseTypeSource=n[ea]),n[ea]===ai.dataType?(r=n[ta][na]||{},o=n[ta].measurements||{}):n[ta]&&oa.extractPropsAndMeasurements(n[ta],r,o),oa.extractPropsAndMeasurements(n.data,r,o);var i=n[ta].name,s=new ai(t,i,r,o),a=new Yi(ai.dataType,s);return oa.createEnvelope(t,ai.envelopeType,n,a)},t.EventEnvelopeCreator=new t,t}(oa),aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].measurements||{},o=n[ta][na]||{};oa.extractPropsAndMeasurements(n.data,o,r);var i=n[ta],s=Oi.CreateFromInterface(t,i,o,r),a=new Yi(Oi.dataType,s);return oa.createEnvelope(t,Oi.envelopeType,n,a)},t.ExceptionEnvelopeCreator=new t,t}(oa),ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta],o=r[na]||{},i=r.measurements||{};oa.extractPropsAndMeasurements(n.data,o,i);var s=new Wi(t,r.name,r.average,r.sampleCount,r.min,r.max,o,i),a=new Yi(Wi.dataType,s);return oa.createEnvelope(t,Wi.envelopeType,n,a)},t.MetricEnvelopeCreator=new t,t}(oa),la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r,o="duration",i=n[ta];ke(i)||ke(i[na])||ke(i[na][o])?!ke(n.data)&&!ke(n.data[o])&&(r=n.data[o],delete n.data[o]):(r=i[na][o],delete i[na][o]);var s,a=n[ta];((n.ext||{}).trace||{}).traceID&&(s=n.ext.trace.traceID);var c=a.id||s,l=a.name,u=a.uri,d=a[na]||{},p=a.measurements||{};ke(a.refUri)||(d.refUri=a.refUri),ke(a.pageType)||(d.pageType=a.pageType),ke(a.isLoggedIn)||(d.isLoggedIn=a.isLoggedIn.toString()),ke(a[na])||xe(a[na],(function(e,t){d[e]=t})),oa.extractPropsAndMeasurements(n.data,d,p);var h=new Bi(t,l,u,r,d,p,c),f=new Yi(Bi.dataType,h);return oa.createEnvelope(t,Bi.envelopeType,n,f)},t.PageViewEnvelopeCreator=new t,t}(oa),ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta],o=r.name,i=r.uri||r.url,s=r[na]||{},a=r.measurements||{};oa.extractPropsAndMeasurements(n.data,s,a);var c=new zi(t,o,i,void 0,s,a,r),l=new Yi(zi.dataType,c);return oa.createEnvelope(t,zi.envelopeType,n,l)},t.PageViewPerformanceEnvelopeCreator=new t,t}(oa),da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].message,o=n[ta].severityLevel,i=n[ta][na]||{},s=n[ta].measurements||{};oa.extractPropsAndMeasurements(n.data,i,s);var a=new $i(t,r,o,i,s),c=new Yi($i.dataType,a);return oa.createEnvelope(t,$i.envelopeType,n,c)},t.TraceEnvelopeCreator=new t,t}(oa)})),ba=C((()=>{Lr(),ve(),pa=function e(t){G(e,this,(function(e){function n(e,i){var s="__aiCircularRefCheck",a={};if(!e)return t.throwInternal(me.CRITICAL,ye.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:i},!0),a;if(e[s])return t.throwInternal(me.WARNING,ye.CircularReferenceDetected,"Circular reference detected while serializing object",{name:i},!0),a;if(!e.aiDataContract){if("measurements"===i)a=o(e,"number",i);else if("properties"===i)a=o(e,"string",i);else if("tags"===i)a=o(e,"string",i);else if(Ne(e))a=r(e,i);else{t.throwInternal(me.WARNING,ye.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:i},!0);try{bt().stringify(e),a=e}catch(e){t.throwInternal(me.CRITICAL,ye.CannotSerializeObject,e&&Pe(e.toString)?e.toString():"Error serializing object",null,!0)}}return a}return e[s]=!0,xe(e.aiDataContract,(function(o,s){var c=Pe(s)?1&s():1&s,l=Pe(s)?4&s():4&s,u=2&s,d=void 0!==e[o],p=Ee(e[o])&&null!==e[o];if(!c||d||u){if(!l){var h;void 0!==(h=p?u?r(e[o],o):n(e[o],o):e[o])&&(a[o]=h)}}else t.throwInternal(me.CRITICAL,ye.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:o,name:i})})),delete e[s],a}function r(e,r){var o;if(e)if(Ne(e)){o=[];for(var i=0;i<e.length;i++){var s=n(e[i],r+"["+i+"]");o.push(s)}}else t.throwInternal(me.CRITICAL,ye.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return o}function o(e,n,r){var o;return e&&(o={},xe(e,(function(e,i){if("string"===n)void 0===i?o[e]="undefined":null===i?o[e]="null":i.toString?o[e]=i.toString():o[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===i)o[e]="undefined";else if(null===i)o[e]="null";else{var s=parseFloat(i);isNaN(s)?o[e]="NaN":o[e]=s}else o[e]="invalid field: "+r+" is of unknown type.",t.throwInternal(me.CRITICAL,o[e],null,!0)}))),o}e.serialize=function(e){var r=n(e,"root");try{return bt().stringify(r)}catch(e){t.throwInternal(me.CRITICAL,ye.CannotSerializeObject,e&&Pe(e.toString)?e.toString():"Error serializing object",null,!0)}}}))}})),Sa=C((()=>{Lr(),ve(),ha=function(){function e(){var t=pt(),n=ft(),r=!1,o=!0;G(e,this,(function(e){try{if(t&&_r.Attach(t,"online",a)&&(_r.Attach(t,"offline",c),r=!0),n){var i=n.body||n;Ce(i.ononline)||(i.ononline=a,i.onoffline=c,r=!0)}if(r){var s=gt();s&&!ke(s.onLine)&&(o=s.onLine)}}catch(e){r=!1}function a(){o=!0}function c(){o=!1}e.isListening=r,e.isOnline=function(){var e=!0,t=gt();return r?e=o:t&&!ke(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}(),fa=ha.Offline})),wa=C((()=>{ga=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()})),Ca=C((()=>{wa(),Us(),ma=function(){function e(){this.hashCodeGeneragor=new ga,this.keys=new Is}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}()})),ka=C((()=>{Ca(),Us(),Lr(),ya=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=t||Wt(null),(e>100||e<0)&&(this._logger.throwInternal(me.WARNING,ye.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new ma}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===Wi.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}()}));function _a(e){try{return e.responseText}catch(e){}return null}var Ia,Ea,Pa,Da,Ta,xa,ja=C((()=>{R(),Zs(),va(),ba(),Us(),Lr(),Sa(),ka(),ve(),Ia=function(e){function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=xs,n._XMLHttpRequestSupported=!1;var r,o,i,a,c,l={};return G(t,n,(function(e,u){function d(){Ze("Method not implemented.")}function p(t,n,o,i,s,a){var c=null;if(e._appId||(c=y(a))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!h(o))return void e._onError(n,s);!e._senderConfig.isRetryDisabled()&&S(t)?(v(n),e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,". Response code "+t+". Will retry to send "+n.length+" items.")):e._onError(n,s)}else fa.isOffline()?e._senderConfig.isRetryDisabled()||(v(n,10),e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,". Offline - Response Code: "+t+". Offline status: "+fa.isOffline()+". Will retry to send "+n.length+" items.")):(h(o),206===t?(c||(c=y(a)),c&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,c):e._onError(n,s)):(r=0,e._onSuccess(n,i)))}function h(t){return!(c>=10||ke(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++c,0))}function f(t,n){var r=e._senderConfig.endpointUrl(),o=e._buffer.batchPayloads(t),i=new Blob([o],{type:"text/plain;charset=UTF-8"});gt().sendBeacon(r,i)?(e._buffer.markAsSent(t),e._onSuccess(t,t.length)):(g(t,!0),e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function g(t,n){var r=new XMLHttpRequest,o=e._senderConfig.endpointUrl();try{r[io]=!0}catch(e){}r.open("POST",o,n),r.setRequestHeader("Content-type","application/json"),Bo(o)&&r.setRequestHeader(Ar.sdkContextHeader,Ar.sdkContextHeaderAppIdRequest),Ue(He(l),(function(e){r.setRequestHeader(e,l[e])})),r.onreadystatechange=function(){return e._xhrReadyStateChange(r,t,t.length)},r.onerror=function(n){return e._onError(t,w(r),n)};var i=e._buffer.batchPayloads(t);r.send(i),e._buffer.markAsSent(t)}function m(t,n){var r=e._senderConfig.endpointUrl(),o=e._buffer.batchPayloads(t),i=new Blob([o],{type:"text/plain;charset=UTF-8"}),s=new Headers;Bo(r)&&s.append(Ar.sdkContextHeader,Ar.sdkContextHeaderAppIdRequest),Ue(He(l),(function(e){s.append(e,l[e])}));var a=new Request(r,{method:"POST",headers:s,body:i});fetch(a).then((function(n){if(!n.ok)throw Error(n.statusText);n.text().then((function(e){p(n.status,t,n.url,t.length,n.statusText,e)})),e._buffer.markAsSent(t)})).catch((function(n){e._onError(t,n.message)}))}function y(t){try{if(t&&""!==t){var n=bt().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){e.diagLog().throwInternal(me.CRITICAL,ye.InvalidBackendResponse,"Cannot parse the response. "+$e(n),{response:t})}return null}function v(t,n){if(void 0===n&&(n=1),t&&0!==t.length){e._buffer.clearSent(t),r++;for(var i=0,s=t;i<s.length;i++){var a=s[i];e._buffer.enqueue(a)}(function(e){var t;if(r<=1)t=10;else{var n=(Math.pow(2,r)-1)/2,i=Math.floor(Math.random()*n*10)+1;i*=e,t=Math.max(Math.min(i,3600),10)}var s=qe()+1e3*t;o=s})(n),b()}}function b(){if(!i){var t=o?Math.max(0,o-qe()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);i=setTimeout((function(){e.triggerSend(!0,null,1)}),n)}}function S(e){return 408===e||429===e||500===e||503===e}function w(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+_a(e)||0:t}function C(t,n){var r=pt(),o=new XDomainRequest;o.onload=function(){return e._xdrOnLoad(o,t)},o.onerror=function(n){return e._onError(t,k(o),n)};var i=r&&r.location&&r.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(i,0))return e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void e._buffer.clear();var s=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");o.open("POST",s);var a=e._buffer.batchPayloads(t);o.send(a),e._buffer.markAsSent(t)}function k(e,t){return e?"XDomainRequest,Response:"+_a(e)||0:t}e.pause=d,e.resume=d,e.flush=function(){try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.FlushFailed,"flush failed, telemetry will not be collected: "+$e(t),{exception:Ct(t)})}},e.onunloadFlush=function(){if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!no())e.flush();else try{e.triggerSend(!0,f,2)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+$e(t),{exception:Ct(t)})}},e.teardown=d,e.addHeader=function(e,t){l[e]=t},e.initialize=function(i,l,d,p){u.initialize(i,l,d,p);var h=e._getTelCtx(),y=e.identifier;a=new pa(l.logger),r=0,o=null,e._sender=null,c=0;var v=t._getDefaultAppInsightsChannelConfig();if(e._senderConfig=t._getEmptyAppInsightsChannelConfig(),xe(v,(function(t,n){e._senderConfig[t]=function(){return h.getConfig(y,t,n())}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&Io()?new zs(e.diagLog(),e._senderConfig):new Gs(e._senderConfig),e._sample=new ya(e._senderConfig.samplingPercentage(),e.diagLog()),function(e){return!(ke(e.disableInstrumentationKeyValidation)||!e.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(i)||e.diagLog().throwInternal(me.CRITICAL,ye.InvalidInstrumentationKey,"Invalid Instrumentation key "+i.instrumentationKey),!Bo(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&Ue(e._senderConfig.customHeaders(),(function(e){n.addHeader(e.header,e.value)})),!e._senderConfig.isBeaconApiDisabled()&&no())e._sender=f;else{var b=ut("XMLHttpRequest");b?"withCredentials"in new b?(e._sender=g,e._XMLHttpRequestSupported=!0):typeof XDomainRequest!==s&&(e._sender=C):ut("fetch")&&(e._sender=m)}},e.processTelemetry=function(n,r){r=e._getTelCtx(r);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void r.diagLog().throwInternal(me.CRITICAL,ye.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void r.diagLog().throwInternal(me.CRITICAL,ye.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void r.diagLog().throwInternal(me.CRITICAL,ye.SenderNotInitialized,"Sender was not initialized");if(!function(t){return e._sample.isSampledIn(t)}(n))return void r.diagLog().throwInternal(me.WARNING,ye.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n[so]=e._sample.sampleRate;var o=t.constructEnvelope(n,e._senderConfig.instrumentationKey(),r.diagLog());if(!o)return void r.diagLog().throwInternal(me.CRITICAL,ye.CreateEnvelopeError,"Unable to create an AppInsights envelope");var i=!1;if(n.tags&&n.tags[ao]&&(Ue(n.tags[ao],(function(e){try{e&&!1===e(o)&&(i=!0,r.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){r.diagLog().throwInternal(me.CRITICAL,ye.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+$e(e),{exception:Ct(e)},!0)}})),delete n.tags[ao]),i)return;var s=a.serialize(o),c=e._buffer.getItems(),l=e._buffer.batchPayloads(c);l&&l.length+s.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),e._buffer.enqueue(s),b()}catch(e){r.diagLog().throwInternal(me.WARNING,ye.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+$e(e),{exception:Ct(e)})}e.processNext(n,r)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&p(e.status,t,e.responseURL,n,w(e),_a(e)||e.response)},e.triggerSend=function(t,r,s){void 0===t&&(t=!0);try{if(e._senderConfig.disableTelemetry())e._buffer.clear();else{if(e._buffer.count()>0){var a=e._buffer.getItems();(function(t,n){var r=function(){var t="getNotifyMgr";return e.core[t]?e.core[t]():e.core._notificationManager}();if(r&&r.eventsSendRequest)try{r.eventsSendRequest(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.NotificationException,"send request notification failed: "+$e(t),{exception:Ct(t)})}})(s||0,t),r?r.call(n,a,t):e._sender(a,t)}new Date}clearTimeout(i),i=null,o=null}catch(t){var c=wt();(!c||c>9)&&e.diagLog().throwInternal(me.CRITICAL,ye.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+$e(t),{exception:Ct(t)})}},e._onError=function(t,n,r){e.diagLog().throwInternal(me.WARNING,ye.OnError,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var r=[],o=[],i=0,s=n.errors.reverse();i<s.length;i++){var a=s[i],c=t.splice(a.index,1)[0];S(a.statusCode)?o.push(c):r.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),r.length>0&&e._onError(r,w(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),o.length>0&&(v(o),e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,"Partial success. Delivered: "+t.length+", Failed: "+r.length+". Will retry to send "+o.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,n){var o=_a(t);if(!t||o+""!="200"&&""!==o){var i=y(o);i&&i.itemsReceived&&i.itemsReceived>i.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,i):e._onError(n,k(t))}else r=0,e._onSuccess(n,0)}})),n}return x(t,e),t.constructEnvelope=function(e,t,n){var r;switch((r=t===e.iKey||ke(t)?e:M({},e,{iKey:t})).baseType){case ai.dataType:return sa.EventEnvelopeCreator.Create(n,r);case $i.dataType:return da.TraceEnvelopeCreator.Create(n,r);case Bi.dataType:return la.PageViewEnvelopeCreator.Create(n,r);case zi.dataType:return ua.PageViewPerformanceEnvelopeCreator.Create(n,r);case Oi.dataType:return aa.ExceptionEnvelopeCreator.Create(n,r);case Wi.dataType:return ca.MetricEnvelopeCreator.Create(n,r);case Ji.dataType:return ia.DependencyEnvelopeCreator.Create(n,r);default:return sa.EventEnvelopeCreator.Create(n,r)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(rn)})),Ma=C((()=>{ja()})),Na=C((()=>{ve(),Us(),Lr(),Ea=function(){},Pa=function(){function e(t,n){var r,o,i=Wt(n),s=bn(n);G(e,this,(function(n){t||(t={}),Pe(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Pe(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t;var a=n.config.sessionCookiePostfix&&n.config.sessionCookiePostfix()?n.config.sessionCookiePostfix():n.config.namePrefix&&n.config.namePrefix()?n.config.namePrefix():"";function c(e,t){var n=!1,r=", session will be reset",o=t.split("|");if(o.length>=2)try{var s=+o[1]||0,a=+o[2]||0;isNaN(s)||s<=0?i.throwInternal(me.WARNING,ye.SessionRenewalDateIsZero,"AI session acquisition date is 0"+r):isNaN(a)||a<=0?i.throwInternal(me.WARNING,ye.SessionRenewalDateIsZero,"AI session renewal date is 0"+r):o[0]&&(e.id=o[0],e.acquisitionDate=s,e.renewalDate=a,n=!0)}catch(e){i.throwInternal(me.CRITICAL,ye.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(t||"")+"]"+r+" - "+$e(e),{exception:Ct(e)})}return n}function l(e,t){var i=e.acquisitionDate;e.renewalDate=t;var a,c=n.config,l=c.sessionRenewalMs(),u=i+c.sessionExpirationMs()-t,d=[e.id,i,t];a=u<l?u/1e3:l/1e3;var p=c.cookieDomain?c.cookieDomain():null;s.set(r(),d.join("|"),c.sessionExpirationMs()>0?a:null,p),o=t}r=function(){return"ai_session"+a},n.automaticSession=new Ea,n.update=function(){var t=qe(),a=!1,u=n.automaticSession;u.id||(a=!function(e,t){var n=!1,o=s.get(r());if(o&&Pe(o.split))n=c(e,o);else{var a=Co(i,r());a&&(n=c(e,a))}return n||!!e.id}(u));var d=n.config.sessionExpirationMs();if(!a&&d>0){var p=n.config.sessionRenewalMs(),h=t-u.acquisitionDate,f=t-u.renewalDate;a=(a=(a=h<0||f<0)||h>d)||f>p}a?function(e){var t=n.config||{},r=(t.getNewId?t.getNewId():null)||pr;n.automaticSession.id=r(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,l(n.automaticSession,e),wo()||i.throwInternal(me.WARNING,ye.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!o||t-o>e.cookieUpdateInterval)&&l(u,t)},n.backup=function(){var e=n.automaticSession;!function(e,t,n){ko(i,r(),[e,t,n].join("|"))}(e.id,e.acquisitionDate,e.renewalDate)}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()})),Oa=C((()=>{Da=function(){}})),Aa=C((()=>{Ta=function(){this.id="browser",this.deviceClass="Browser"}})),Ra=C((()=>{xa=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.6.4"}}));function La(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var Fa,Ua,Ka,Wa=C((()=>{ve(),Us(),Lr(),Fa=function(){function e(t,n){this.isNewUser=!1;var r,o=Wt(n),i=bn(n);G(e,this,(function(n){n.config=t;var s=n.config.userCookiePostfix&&n.config.userCookiePostfix()?n.config.userCookiePostfix():"";r=function(){return e.userCookieName+s};var a=i.get(r());if(a){n.isNewUser=!1;var c=a.split(e.cookieSeparator);c.length>0&&(n.id=c[0])}if(!n.id){var l=t||{},u=(l.getNewId?l.getNewId():null)||pr;n.id=u(l.idLength?t.idLength():22);var d=Fe(new Date);n.accountAcquisitionDate=d,n.isNewUser=!0;var p=[n.id,d];i.set(r(),p.join(e.cookieSeparator),31536e3);var h=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";_o(o,h)}n.accountId=t.accountId?t.accountId():void 0;var f=i.get(e.authUserCookieName);if(f){var g=(f=decodeURI(f)).split(e.cookieSeparator);g[0]&&(n.authenticatedId=g[0]),g.length>1&&g[1]&&(n.accountId=g[1])}n.setAuthenticatedUserContext=function(t,r,s){if(void 0===s&&(s=!1),!La(t)||r&&!La(r))o.throwInternal(me.WARNING,ye.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var a=n.authenticatedId;r&&(n.accountId=r,a=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),s&&i.set(e.authUserCookieName,encodeURI(a))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,i.del(e.authUserCookieName)}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()})),Va=C((()=>{Ua=function(){}})),Ba=C((()=>{Us(),Lr(),Ka=function(e,t,n,r){var o=this;o.traceID=e||hr(),o.parentID=t,o.name=n;var i=mt();!n&&i&&i.pathname&&(o.name=i.pathname),o.name=Wr(r,o.name)}}));function Ha(e,t){e&&e[t]&&0===He(e[t]).length&&delete e[t]}var Ja,qa,$a,Ga,za,Ya=C((()=>{ve(),Lr(),Na(),Us(),Oa(),Aa(),Ra(),Wa(),Va(),Ba(),Ja="ext",qa="tags",$a=function e(t,n){var r=this,o=t.logger;this.appId=function(){return null},G(e,this,(function(e){e.application=new Da,e.internal=new xa(n),dt()&&(e.sessionManager=new Pa(n,t),e.device=new Ta,e.location=new Ua,e.user=new Fa(n,t),e.telemetryTrace=new Ka(void 0,void 0,void 0,o),e.session=new Ea),e.applySessionContext=function(t,n){var r=e.session,o=e.sessionManager;r&&Ae(r.id)?Ge(ze(t.ext,Ps.AppExt),"sesId",r.id):o&&o.automaticSession&&Ge(ze(t.ext,Ps.AppExt),"sesId",o.automaticSession.id,Ae)},e.applyOperatingSystemContxt=function(t,n){Ge(t.ext,Ps.OSExt,e.os)},e.applyApplicationContext=function(t,n){var r=e.application;if(r){var o=ze(t,qa);Ge(o,Ds.applicationVersion,r.ver,Ae),Ge(o,Ds.applicationBuild,r.build,Ae)}},e.applyDeviceContext=function(t,n){var r=e.device;if(r){var o=ze(ze(t,Ja),Ps.DeviceExt);Ge(o,"localId",r.id,Ae),Ge(o,"ip",r.ip,Ae),Ge(o,"model",r.model,Ae),Ge(o,"deviceClass",r.deviceClass,Ae)}},e.applyInternalContext=function(t,n){var r=e.internal;if(r){var o=ze(t,qa);Ge(o,Ds.internalAgentVersion,r.agentVersion,Ae),Ge(o,Ds.internalSdkVersion,r.sdkVersion,Ae),(t.baseType===Vt.dataType||t.baseType===Bi.dataType)&&(Ge(o,Ds.internalSnippet,r.snippetVer,Ae),Ge(o,Ds.internalSdkSrc,r.sdkSrc,Ae))}},e.applyLocationContext=function(e,t){var n=r.location;n&&Ge(ze(e,qa,[]),Ds.locationIp,n.ip,Ae)},e.applyOperationContext=function(t,n){var r=e.telemetryTrace;if(r){var o=ze(ze(t,Ja),Ps.TraceExt,{traceID:void 0,parentID:void 0});Ge(o,"traceID",r.traceID,Ae),Ge(o,"name",r.name,Ae),Ge(o,"parentID",r.parentID,Ae)}},e.applyWebContext=function(e,t){var n=r.web;n&&Ge(ze(e,Ja),Ps.WebExt,n)},e.applyUserContext=function(t,n){var r=e.user;if(r){Ge(ze(t,qa,[]),Ds.userAccountId,r.accountId,Ae);var o=ze(ze(t,Ja),Ps.UserExt);Ge(o,"id",r.id,Ae),Ge(o,"authId",r.authenticatedId,Ae)}},e.cleanUp=function(e,t){var n=e.ext;n&&(Ha(n,Ps.DeviceExt),Ha(n,Ps.UserExt),Ha(n,Ps.WebExt),Ha(n,Ps.OSExt),Ha(n,Ps.AppExt),Ha(n,Ps.TraceExt))}}))}})),Qa=C((()=>{R(),ve(),Lr(),Ya(),Us(),Ga=function(e){function t(){var n,r,o=e.call(this)||this;return o.priority=110,o.identifier=Ts,G(t,o,(function(e,o){e.initialize=function(i,s,a,c){o.initialize(i,s,a,c);var l=e._getTelCtx(),u=e.identifier,d=t.getDefaultConfig();r=r||{},xe(d,(function(e,t){r[e]=function(){return l.getConfig(u,e,t())}})),e.context=new $a(s,r),n=ro(a,xs),e.context.appId=function(){return n?n._appId:null},e._extConfig=r},e.processTelemetry=function(t,n){if(!ke(t)){n=e._getTelCtx(n),t.name===Bi.envelopeType&&n.diagLog().resetInternalMessageCount();var r=e.context||{};if(r.session&&"string"!=typeof e.context.session.id&&r.sessionManager&&r.sessionManager.update(),function(t,n){ze(t,"tags",[]),ze(t,"ext",{});var r=e.context;r.applySessionContext(t,n),r.applyApplicationContext(t,n),r.applyDeviceContext(t,n),r.applyOperationContext(t,n),r.applyUserContext(t,n),r.applyOperatingSystemContxt(t,n),r.applyWebContext(t,n),r.applyLocationContext(t,n),r.applyInternalContext(t,n),r.cleanUp(t,n)}(t,n),r.user&&r.user.isNewUser){r.user.isNewUser=!1;var o=new Vt(ye.SendBrowserInfoOnUserInit,(gt()||{}).userAgent||"");n.diagLog().logInternalMessage(me.CRITICAL,o)}e.processNext(t,n)}}})),o}return x(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(rn),za=Ga})),Za=C((()=>{Qa()}));function Xa(e,t,n){var r=0,o=e[t],i=e[n];return o&&i&&(r=Jo(o,i)),r}function ec(e,t,n,r,o){var i=0,s=Xa(n,r,o);return s&&(i=tc(e,t,to(s))),i}function tc(e,t,n){var r="ajaxPerf",o=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,o=1),o}var nc,rc,oc,ic,sc=C((()=>{Us(),Lr(),ve(),nc="properties",rc=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},oc=function e(t,n,r){var o=this,i=r,s="responseText";o.perfMark=null,o.completed=!1,o.requestHeadersSize=null,o.requestHeaders=null,o.responseReceivingDuration=null,o.callbackDuration=null,o.ajaxTotalDuration=null,o.aborted=0,o.pageUrl=null,o.requestUrl=null,o.requestSize=0,o.method=null,o.status=null,o.requestSentTime=null,o.responseStartedTime=null,o.responseFinishedTime=null,o.callbackFinishedTime=null,o.endTime=null,o.xhrMonitoringState=new rc,o.clientFailure=0,o.traceID=t,o.spanID=n,G(e,o,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?Oo(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?Vr(i,Ro(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,r){if(e.ajaxTotalDuration=Math.round(1e3*Jo(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var o,i=((o={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method})[nc]={HttpMethod:e.method},o);if(e.requestSentTime&&(i.startTime=new Date,i.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,r=t[nc]||{},o=0,i="name",s="Start",a="End",c="connect",l="redirect",u="request",d="response",p="duration",h="startTime",f=c+a,g=u+s,m=d+a,y=l+s,v=l=a,b="transferSize",S="encodedBodySize",w="decodedBodySize",C="serverTiming";if(n){o|=ec(r,l,n,y,v),o|=ec(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),o|=ec(r,c,n,"connectStart",f),o|=ec(r,u,n,g,"requestEnd"),o|=ec(r,d,n,"responseStart",m),o|=ec(r,"networkConnect",n,h,f),o|=ec(r,"sentRequest",n,g,m);var k=n[p];k||(k=Xa(n,h,m)||0),o|=tc(r,p,k),o|=tc(r,"perfTotal",k);var _=n[C];if(_){var I={};Ue(_,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e[i]||""+t),r=I[n]||{};xe(e,(function(e,t){(e!==i&&Ae(t)||Re(t))&&(r[e]&&(t=r[e]+";"+t),(t||!Ae(t))&&(r[e]=t))})),I[n]=r})),o|=tc(r,C,I)}o|=tc(r,b,n[b]),o|=tc(r,S,n[S]),o|=tc(r,w,n[w])}else e.perfMark&&(o|=tc(r,"missing",e.perfAttempts));o&&(t[nc]=r)}(e,i),n&&He(e.requestHeaders).length>0&&(i[nc]=i[nc]||{},i[nc].requestHeaders=e.requestHeaders),r){var a=r();if(a){var c=a.correlationContext;if(c&&(i.correlationContext=c),a.headerMap&&He(a.headerMap).length>0&&(i[nc]=i[nc]||{},i[nc].responseHeaders=a.headerMap),e.status>=400){var l=a.type;i[nc]=i[nc]||{},(""===l||"text"===l)&&(i[nc][s]=a[s]?a.statusText+" - "+a[s]:a.statusText),"json"===l&&(i[nc][s]=a.response?a.statusText+" - "+JSON.stringify(a.response):a.statusText)}}}return i}}))}})),ac=C((()=>{Lr(),Lr(),function(){function e(){}e.GetLength=function(e){var t=0;if(!ke(e)){var n="";try{n=e.toString()}catch(e){}t=n.length,t=isNaN(t)?0:t}return t}}()})),cc=C((()=>{Lr(),ic=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=hr(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=hr().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()}));function lc(e){var t="";try{!ke(e)&&!ke(e[mc])&&!ke(e[mc].requestUrl)&&(t+="(url: '"+e[mc].requestUrl+"')")}catch(e){}return t}function uc(e,t,n,r,o){e[gc]()[yc](me.CRITICAL,t,n,r,o)}function dc(e,t,n,r,o){e[gc]()[yc](me.WARNING,t,n,r,o)}function pc(e,t,n){return function(r){uc(e,t,n,{ajaxDiagnosticsMessage:lc(r.inst),exception:Ct(r.err)})}}function hc(e,t){return e&&t?e.indexOf(t):-1}var fc,gc,mc,yc,vc,bc,Sc,wc,Cc,kc,_c,Ic,Ec,Pc,Dc=C((()=>{R(),Us(),Lr(),sc(),ac(),cc(),ve(),fc="ai.ajxmn.",gc="diagLog",mc="ajaxData",yc="throwInternal",vc="fetch",bc=0,Sc=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,o,i,c,l,u="trackDependencyDataInternal",d=mt(),p=!1,h=!1,f=d&&d.host&&d.host.toLowerCase(),g=t.getEmptyConfig(),m=!1,y=0,v=!1,b=0,S=!1,w=[],C={};return G(t,n,(function(e,n){function d(e){var t=!0;return(e||g.ignoreHeaders)&&Ue(g.ignoreHeaders,(function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function k(e,t,n){w.push(function(e,t,n){return e?Tr(e[a],t,n,!1):null}(e,t,n))}function _(e,t,n){var r=!1,o=((Ae(t)?t:(t||{}).url||"")||"").toLowerCase();if(Ue(l,(function(e){var t=e;Ae(e)&&(t=new RegExp(e)),r||(r=t.test(o))})),r)return r;var i=hc(o,"?"),s=hc(o,"#");return(-1===i||-1!==s&&s<i)&&(i=s),-1!==i&&(o=o.substring(0,i)),ke(e)?ke(t)||(r="object"==typeof t&&!0===t[io]||!!n&&!0===n[io]):r=!0===e[io]||!0===o[io],r?C[o]||(C[o]=1):C[o]&&(r=!0),r}function I(e,t){var n=!0,r=h;return ke(e)||(n=!0===t||!ke(e[mc])),r&&n}function P(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function D(t){try{var n=t.getAllResponseHeaders();if(null!==n&&-1!==hc(n.toLowerCase(),Ar.requestContextHeaderLowerCase)){var r=t.getResponseHeader(Ar.requestContextHeader);return zo.getCorrelationContext(r)}}catch(n){dc(e,ye.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:lc(t),exception:Ct(n)})}}function T(e,t){if(t.requestUrl&&c&&v){var n=yt();if(n&&Pe(n.mark)){bc++;var r=c+e+"#"+bc;n.mark(r);var o=n.getEntriesByName(r);o&&1===o.length&&(t.perfMark=o[0])}}}function x(e,t,n,r){var o=t.perfMark,i=yt(),s=g.maxAjaxPerfLookupAttempts,a=g.ajaxPerfLookupDelay,c=t.requestUrl,l=0;!function u(){try{if(i&&o){l++;for(var d=null,p=i.getEntries(),h=p.length-1;h>=0;h--){var f=p[h];if(f){if("resource"===f.entryType)f.initiatorType===e&&(-1!==hc(f.name,c)||-1!==hc(c,f.name))&&(d=f);else if("mark"===f.entryType&&f.name===o.name){t.perfTiming=d;break}if(f.startTime<o.startTime-1e3)break}}}!o||t.perfTiming||l>=s||!1===t.async?(o&&Pe(i.clearMarks)&&i.clearMarks(o.name),t.perfAttempts=l,n()):setTimeout(u,a)}catch(e){r(e)}}()}function j(t){var n="";try{ke(t)||(n+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){uc(e,ye.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:Ct(t)})}return n}function M(t,n,r,o,i,s){function a(t,n,o){var i=o||{};i.fetchDiagnosticsMessage=j(r),n&&(i.exception=Ct(n)),dc(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",i)}o&&(o.responseFinishedTime=Ho(),o.status=n,x("fetch",o,(function(){var t=o.CreateTrackItem("Fetch",m,i);t?e[u](t):a(ye.FailedMonitorAjaxDur,null,{requestSentTime:o.requestSentTime,responseFinishedTime:o.responseFinishedTime})}),(function(e){a(ye.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function N(t){if(t&&t.headers)try{var n=t.headers.get(Ar.requestContextHeader);return zo.getCorrelationContext(n)}catch(n){dc(e,ye.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:j(t),exception:Ct(n)})}}e.initialize=function(f,y,C,j){if(!e.isInitialized()){n.initialize(f,y,C,j);var O=e._getTelCtx();xe(t.getDefaultConfig(),(function(e,n){g[e]=O.getConfig(t.identifier,e,n)}));var A=g.distributedTracingMode;if(m=g.enableRequestHeaderTracking,v=g.enableAjaxPerfTracking,b=g.maxAjaxCallsPerView,S=g.enableResponseHeaderTracking,l=g.excludeRequestFromAutoTrackingPatterns,i=A===ho.AI||A===ho.AI_AND_W3C,o=A===ho.AI_AND_W3C||A===ho.W3C,v){var R=f.instrumentationKey||"unkwn";c=R.length>5?fc+R.substring(R.length-5)+".":fc+R+"."}if(!1===g.disableAjaxTracking&&function(e){var t=!1;if(typeof XMLHttpRequest!==s&&!ke(XMLHttpRequest)){var n=XMLHttpRequest[a];t=!(ke(n)||ke(n.open)||ke(n.send)||ke(n.abort))}var r=wt();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest)[mc]={};var o=XMLHttpRequest[a].open;XMLHttpRequest[a].open=o}catch(n){t=!1,uc(e,ye.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Ct(n)})}return t}(e)&&!h&&(k(XMLHttpRequest,"open",{req:function(t,n,o,i){var s=t.inst,a=s[mc];!_(s,o)&&I(s,!0)&&(!a||!a.xhrMonitoringState.openDone)&&function(t,n,o,i){var s=r&&r.telemetryTrace&&r.telemetryTrace.traceID||hr(),a=hr().substr(0,16),c=new oc(s,a,e[gc]());c.method=n,c.requestUrl=o,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=i,t[mc]=c,function(t){t[mc].xhrMonitoringState.stateChangeAttached=_r.Attach(t,"readystatechange",(function(){try{t&&4===t.readyState&&I(t)&&function(t){var n=t[mc];function r(n,r){var o=r||{};o.ajaxDiagnosticsMessage=lc(t),n&&(o.exception=Ct(n)),dc(e,ye.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",o)}n.responseFinishedTime=Ho(),n.status=t.status,x("xmlhttprequest",n,(function(){try{var o=n.CreateTrackItem("Ajax",m,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:D(t),type:t.responseType,responseText:P(t),response:t.response};if(S){var n=t.getAllResponseHeaders();if(n){var r=Be(n).split(/[\r\n]+/),o={};Ue(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");d(n)&&(o[n]=r)})),e.headerMap=o}}return e}));o?e[u](o):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t[mc]=null}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=Ct(r);(!n||-1===hc(n.toLowerCase(),"c00c023f"))&&uc(e,ye.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:lc(t),exception:n})}}))}(t)}(s,n,o,i)},hkErr:pc(e,ye.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),k(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,o=r[mc];I(r)&&!o.xhrMonitoringState.sendDone&&(T("xhr",o),o.requestSentTime=Ho(),e.includeCorrelationHeaders(o,void 0,void 0,r),o.xhrMonitoringState.sendDone=!0)},hkErr:pc(e,ye.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),k(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t[mc];I(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:pc(e,ye.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),m&&k(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;I(r)&&d(t)&&(r[mc].requestHeaders[t]=n)},hkErr:pc(e,ye.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),h=!0),function(){var t=function(){var e=E();return!e||ke(e.Request)||ke(e.Request[a])||ke(e[vc])?null:e[vc]}();if(t){var n=E(),o=t.polyfill;!1===g.disableFetchTracking?(w.push(Tr(n,vc,{req:function(t,n,i){var s;if(p&&!_(null,n,i)&&(!o||!h)){var a=t.ctx();s=function(t,n){var o=r&&r.telemetryTrace&&r.telemetryTrace.traceID||hr(),i=hr().substr(0,16),s=new oc(o,i,e[gc]());s.requestSentTime=Ho(),t instanceof Request?s.requestUrl=t?t.url:"":s.requestUrl=t;var a="GET";n&&n.method?a=n.method:t&&t instanceof Request&&(a=t.method),s.method=a;var c={};return m&&new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){d(t)&&(c[t]=e)})),s.requestHeaders=c,T("fetch",s),s}(n,i);var c=e.includeCorrelationHeaders(s,n,i);c!==i&&t.set(1,c),a.data=s}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(e){return M(0,(e||{}).status,e,n,(function(){var t={statusText:e.statusText,headerMap:null,correlationContext:N(e)};if(S){var n={};e.headers.forEach((function(e,t){d(t)&&(n[t]=e)})),t.headerMap=n}return t})),e})).catch((function(e){throw M(0,0,t,n,null,e.message),e})))},hkErr:pc(e,ye.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),p=!0):o&&w.push(Tr(n,vc,{req:function(e,t,n){_(null,t,n)}})),o&&(n[vc].polyfill=o)}}(),C.length>0&&C){for(var L=void 0,F=0;!L&&F<C.length;)C[F]&&C[F].identifier===Ts&&(L=C[F]),F++;L&&(r=L.context)}}},e.teardown=function(){Ue(w,(function(e){e.rm()})),w=[],p=!1,h=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e[u](t,n)},e.includeCorrelationHeaders=function(t,n,s,a){var c=e._currentWindowHost||f;if(n){if(zo.canIncludeCorrelationHeader(g,t.getAbsoluteUrl(),c)){if(s||(s={}),s.headers=new Headers(s.headers||n instanceof Request&&n.headers||{}),i){var l="|"+t.traceID+"."+t.spanID;s.headers.set(Ar.requestIdHeader,l),m&&(t.requestHeaders[Ar.requestIdHeader]=l)}if((d=g.appId||r&&r.appId())&&(s.headers.set(Ar.requestContextHeader,Ar.requestContextAppIdFormat+d),m&&(t.requestHeaders[Ar.requestContextHeader]=Ar.requestContextAppIdFormat+d)),o){var u=new ic(t.traceID,t.spanID);s.headers.set(Ar.traceParentHeader,u.toString()),m&&(t.requestHeaders[Ar.traceParentHeader]=u.toString())}}return s}if(a){var d;if(zo.canIncludeCorrelationHeader(g,t.getAbsoluteUrl(),c))i&&(l="|"+t.traceID+"."+t.spanID,a.setRequestHeader(Ar.requestIdHeader,l),m&&(t.requestHeaders[Ar.requestIdHeader]=l)),(d=g.appId||r&&r.appId())&&(a.setRequestHeader(Ar.requestContextHeader,Ar.requestContextAppIdFormat+d),m&&(t.requestHeaders[Ar.requestContextHeader]=Ar.requestContextAppIdFormat+d)),o&&(u=new ic(t.traceID,t.spanID),a.setRequestHeader(Ar.traceParentHeader,u.toString()),m&&(t.requestHeaders[Ar.traceParentHeader]=u.toString()));return a}},e[u]=function(t,n,r){if(-1===b||y<b){(g.distributedTracingMode===ho.W3C||g.distributedTracingMode===ho.AI_AND_W3C)&&"string"==typeof t.id&&"."!==t.id[t.id.length-1]&&(t.id+="."),ke(t.startTime)&&(t.startTime=new Date);var o=Es.create(t,Ji.dataType,Ji.envelopeType,e[gc](),n,r);e.core.track(o)}else y===b&&uc(e,ye.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++y}})),n}return x(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:ho.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return xe(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(rn)})),Tc=C((()=>{Dc()})),xc=C((()=>{Lr(),Qs(),Ma(),Za(),Tc(),Us(),Cc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],kc={__proto__:null,PropertiesPluginIdentifier:Ts,BreezeChannelIdentifier:xs,AnalyticsPluginIdentifier:js,Util:$o,CorrelationIdHelper:zo,UrlHelper:Go,DateTimeUtils:Yo,ConnectionStringParser:ti,FieldType:{Default:0,Required:1,Array:2,Hidden:4},RequestHeaders:Ar,DisabledPropertyName:io,ProcessLegacy:ao,SampleRate:so,HttpMethod:co,DEFAULT_BREEZE_ENDPOINT:lo,AIData:ri,AIBase:ni,Envelope:ii,Event:ai,Exception:Oi,Metric:Wi,PageView:Bi,PageViewData:Vi,RemoteDependencyData:Ji,Trace:$i,PageViewPerformance:zi,Data:Yi,SeverityLevel:Qi,ConfigurationManager:Zi,ContextTagKeys:Is,DataSanitizer:Yr,TelemetryItemCreator:Es,CtxTagKeys:Ds,Extensions:Ps,DistributedTracingModes:ho},_c=function(){function e(e){var t=this;t._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var r=Zo(n.connectionString),o=r.ingestionendpoint;n.endpointUrl=o?o+"/v2/track":n.endpointUrl,n.instrumentationKey=r.instrumentationkey||n.instrumentationKey}t.appInsights=new qs,t.properties=new za,t.dependencies=new Sc,t.core=new qn,t._sender=new Ia,t.snippet=e,t.config=n,t.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsights.stopTrackPage(e,t,n,r)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){var t=this;void 0===e&&(e=!0),Jt(this.core,(function(){return"AISKU.flush"}),(function(){Ue(t.core.getTransmissionControls(),(function(t){Ue(t,(function(t){t.flush(e)}))}))}),null,e)},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),Ue(this.core.getTransmissionControls(),(function(t){Ue(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e,t,n){var r=this;void 0===e&&(e=!1);var o=this;return e&&o.config.extensions&&o.config.extensions.length>0&&Ze("Extensions not allowed in legacy mode"),Jt(o.core,(function(){return"AISKU.loadAppInsights"}),(function(){var i=[];i.push(o._sender),i.push(o.properties),i.push(o.dependencies),i.push(o.appInsights),o.core.initialize(o.config,i,t,n),o.context=o.properties.context,wc&&o.context&&(o.context.internal.sdkSrc=wc),function(t){if(t){var n="";ke(o._snippetVersion)||(n+=o._snippetVersion),e&&(n+=".lg"),o.context&&o.context.internal&&(o.context.internal.snippetVer=n||"-"),xe(o,(function(e,n){Ae(e)&&!Pe(n)&&e&&"_"!==e[0]&&-1===Cc.indexOf(e)&&(t[e]=n)}))}}(o.snippet),o.emptyQueue(),o.pollInternalLogs(),o.addHousekeepingBeforeUnload(r)})),o},e.prototype.updateSnippetDefinitions=function(e){Xe(e,this,(function(e){return e&&-1===Cc.indexOf(e)}))},e.prototype.emptyQueue=function(){var e=this;try{if(Ne(e.snippet.queue)){for(var t=e.snippet.queue.length,n=0;n<t;n++)(0,e.snippet.queue[n])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&Pe(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(dt()||ht()){var t=function(){e.onunloadFlush(!1),Ue(e.appInsights.core._extensions,(function(e){if(e.identifier===Ts)return e&&e.context&&e.context._sessionManager&&e.context._sessionManager.backup(),-1}))};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=lr("beforeunload",t);n=lr("unload",t)||n,n=lr("pagehide",t)||n,!(n=lr("visibilitychange",t)||n)&&!function(){var e=gt();return!(!e||!e.product)&&e.product===Nt}()&&e.appInsights.core.logger.throwInternal(me.CRITICAL,ye.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(lr("pagehide",t),lr("visibilitychange",t))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(e){}if(e)try{var r=e.toLowerCase();if(r)for(var o="",i=0;i<t.length;i++)if(-1!==r.indexOf(t[i])){o="cdn"+(i+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?o+="-next":-1!==r.indexOf("/beta/")&&(o+="-beta")),wc=o+"";break}}catch(e){}}()})),jc=C((()=>{Us(),Lr(),Ic=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],Ec=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=eo(e.enableDebug),e.disableExceptionTracking=eo(e.disableExceptionTracking),e.disableTelemetry=eo(e.disableTelemetry),e.verboseLogging=eo(e.verboseLogging),e.emitLineDelimitedJson=eo(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=eo(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=eo(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=eo(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=eo(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=eo(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=eo(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=eo(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=eo(e.isRetryDisabled),e.isCookieUseDisabled=eo(e.isCookieUseDisabled),e.isStorageUseDisabled=eo(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=eo(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=eo(e.enableCorsCorrelation),e},e.prototype.addTelemetryInitializers=function(e){var t=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer((function(e){t._processLegacyInitializers(e)})),this._hasLegacyInitializers=!0),this._queue.push(e)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsightsNew.stopTrackPage(e,t,n)},e.prototype.trackPageView=function(e,t,n,r,o){var i={name:e,uri:t,properties:n,measurements:r};this.appInsightsNew.trackPageView(i)},e.prototype.trackEvent=function(e,t,n){this.appInsightsNew.trackEvent({name:e})},e.prototype.trackDependency=function(e,t,n,r,o,i,s){this.appInsightsNew.trackDependencyData({id:e,target:n,type:r,duration:o,properties:{HttpMethod:t},success:i,responseCode:s})},e.prototype.trackException=function(e,t,n,r,o){this.appInsightsNew.trackException({exception:e})},e.prototype.trackMetric=function(e,t,n,r,o,i){this.appInsightsNew.trackMetric({name:e,average:t,sampleCount:n,min:r,max:o})},e.prototype.trackTrace=function(e,t,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},e.prototype.flush=function(e){this.appInsightsNew.flush(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(e,t,n,r,o){this.appInsightsNew._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:o})},e.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsightsNew.stopTrackEvent(e,t,n)},e.prototype.downloadAndSetup=function(e){Ze("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(e){Xe(e,this,(function(e){return e&&-1===Ic.indexOf(e)}))},e.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var t=this.trackPageView;this.trackPageView=function(n,r,o){t.apply(e,[null,n,r,o])}}var n="logPageView";"function"==typeof this.snippet[n]&&(this[n]=function(t,n,r){e.trackPageView(null,t,n,r)});var r="logEvent";return"function"==typeof this.snippet[r]&&(this[r]=function(t,n,r){e.trackEvent(t,n,r)}),this},e.prototype._processLegacyInitializers=function(e){return e.tags[ao]=this._queue,e},e}()})),Mc=C((()=>{jc(),xc(),Lr(),Pc=function(){function e(){}return e.getAppInsights=function(e,t){var n=new _c(e),r=2!==t;if(fr(),2===t)return n.updateSnippetDefinitions(e),n.loadAppInsights(r),n;var o=new Ec(e,n);return o.updateSnippetDefinitions(e),n.loadAppInsights(r),o},e}()})),Nc={};((e,t)=>{for(var n in t)m(e,n,{get:t[n],enumerable:!0})})(Nc,{AppInsightsCore:()=>qn,ApplicationAnalytics:()=>qs,ApplicationInsights:()=>_c,ApplicationInsightsContainer:()=>Pc,BaseCore:()=>Hn,BaseTelemetryPlugin:()=>rn,CoreUtils:()=>Cr,DependenciesPlugin:()=>Sc,DistributedTracingModes:()=>ho,Event:()=>ai,Exception:()=>Oi,LoggingSeverity:()=>me,Metric:()=>Wi,NotificationManager:()=>Jn,PageView:()=>Bi,PageViewPerformance:()=>zi,PerfEvent:()=>qt,PerfManager:()=>$t,PropertiesPlugin:()=>za,RemoteDependencyData:()=>Ji,Sender:()=>Ia,SeverityLevel:()=>Qi,Telemetry:()=>kc,Trace:()=>$i,Util:()=>$o,_InternalMessageId:()=>ye,doPerf:()=>Jt});var Oc=C((()=>{xc(),Mc(),Lr(),Us(),Ma(),Qs(),Za(),Tc()})),Ac=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){try{let e=this.vscodeAPI.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?"on":e.isErrorsEnabled&&e.isCrashEnabled?"error":"off"}catch(e){return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let r of t)r.lookup.test(n)&&(void 0!==r.replacementString?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getInstance(e){return Ac._instance||(Ac._instance=new Ac(e)),Ac._instance}},Rc=class extends class{constructor(e,t,n,r,o,i){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=o,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),void 0!==o.env.onDidChangeTelemetryEnabled?(this.disposables.push(o.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(o.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(o.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=Ac.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===e,this.errorOptIn="error"===e||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((n=>{0===e.indexOf(`${n}`)&&(t=n)})),t}get extension(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName))}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(null==e)return"";let r=[];""!==this.vscodeAPI.env.appRoot&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let o=e;if(t){let t=[];for(let o of r)for(;(n=o.exec(e))&&n;)t.push([n.index,o.lastIndex]);let i=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(o="";(n=s.exec(e))&&n;)n[0]&&!i.test(n[0])&&t.every((([e,t])=>n.index<e||n.index>=t))&&(o+=e.substring(a,n.index)+"<REDACTED: user-file-path>",a=s.lastIndex);a<e.length&&(o+=e.substr(a))}for(let e of r)o=o.replace(e,"");return o}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t={};for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let o=/@[a-zA-Z0-9-.]+/,i=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(r.toLowerCase())?t[n]="<REDACTED: secret>":o.test(r)?t[n]="<REDACTED: email>":i.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(Ac.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,r,o){if((this.userOptIn||o)&&""!==e){if(t=w(w({},t),this.getCommonProperties()),r){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=null!=t?t:{},n=null!=n?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}internalSendTelemetryErrorEvent(e,t,n,r,o){if((this.shouldSendErrorTelemetry()||o)&&""!==e){if(t=w(w({},t),this.getCommonProperties()),r){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=null!=t?t:{},n=null!=n?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}internalSendTelemetryException(e,t,n,r,o){if((this.shouldSendErrorTelemetry()||o)&&e){if(t=w(w({},t),this.getCommonProperties()),r){let n=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(n)}t=null!=t?t:{},n=null!=n?n:{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}}{constructor(e,t,r,o,i){let s=e=>((e,t)=>k(void 0,null,(function*(){let n;try{let t,r=yield Promise.resolve().then((()=>(Oc(),Nc)));e&&0===e.indexOf("AIF-")&&(t="https://vscode.vortex.data.microsoft.com/collect/v1"),n=new r.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),n.loadAppInsights(),t&&fetch(t).catch((()=>n=void 0))}catch(e){return Promise.reject(e)}return{logEvent:(e,r)=>{let o=w(w({},null==r?void 0:r.properties),null==r?void 0:r.measurements);null!=t&&t.length&&Ac.applyReplacements(o,t),null==n||n.trackEvent({name:e},o)},logException:(e,r)=>{let o=w(w({},null==r?void 0:r.properties),null==r?void 0:r.measurements);null!=t&&t.length&&Ac.applyReplacements(o,t),null==n||n.trackException({exception:e,properties:o})},flush:()=>k(void 0,null,(function*(){null==n||n.flush()}))}})))(e,i);Ac.shouldUseOneDataSystemSDK(r)&&(s=e=>((e,t,r)=>k(void 0,null,(function*(){let o=yield((e,t,r)=>k(void 0,null,(function*(){let o=yield Promise.resolve().then(n.bind(n,67164)),i=yield Promise.resolve().then(n.bind(n,63391)),s=new o.AppInsightsCore,a=new i.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(r){c.extensionConfig={};let e={alwaysUseXhrOverride:!0,httpXHROverride:r};c.extensionConfig[a.identifier]=e}let l=t.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(c,[]),s.addTelemetryInitializer((e=>{var t,n;!l||(e.ext=null!=(t=e.ext)?t:{},e.ext.utc=null!=(n=e.ext.utc)?n:{},e.ext.utc.flags=8462029)})),s})))(e,t,r);return{logEvent:(e,t)=>{try{null==o||o.track({name:e,baseData:{name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>k(void 0,null,(function*(){try{null==o||o.unload()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}))}})))(e,g));let a=new class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):2!==this._instantiationStatus&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:e,data:t})}flush(){return k(this,null,(function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)}))}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=2})))}}(r,s);r&&(0===r.indexOf("AIF-")||Ac.shouldUseOneDataSystemSDK(r))&&(o=!0),super(e,t,a,{release:navigator.appVersion,platform:"web",architecture:"web"},g,o)}}},14277:e=>{"use strict";e.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},9669:(e,t,n)=>{e.exports=n(51609)},55448:(e,t,n)=>{"use strict";var r=n(64867),o=n(36026),i=n(4372),s=n(15327),a=n(94097),c=n(84109),l=n(67985),u=n(85061),d=n(45655),p=n(65263);e.exports=function(e){return new Promise((function(t,n){var h,f=e.data,g=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(f)&&delete g["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+S)}var w=a(e.baseURL,e.url);function C(){if(v){var r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,i={data:m&&"text"!==m&&"json"!==m?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};o((function(e){t(e),y()}),(function(e){n(e),y()}),i),v=null}}if(v.open(e.method.toUpperCase(),s(w,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(C)},v.onabort=function(){v&&(n(u("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(u("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||l(w))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;k&&(g[e.xsrfHeaderName]=k)}"setRequestHeader"in v&&r.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){v&&(n(!e||e&&e.type?new p("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),v.send(f)}))}},51609:(e,t,n)=>{"use strict";var r=n(64867),o=n(91849),i=n(30321),s=n(47185),a=function e(t){var n=new i(t),a=o(i.prototype.request,n);return r.extend(a,i.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(45655));a.Axios=i,a.Cancel=n(65263),a.CancelToken=n(14972),a.isCancel=n(26502),a.VERSION=n(97288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(16268),e.exports=a,e.exports.default=a},65263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:(e,t,n)=>{"use strict";var r=n(65263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},26502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:(e,t,n)=>{"use strict";var r=n(64867),o=n(15327),i=n(80782),s=n(13572),a=n(47185),c=n(54875),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!o){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var p=t;r.length;){var h=r.shift(),f=r.shift();try{p=h(p)}catch(e){f(e);break}}try{i=s(p)}catch(e){return Promise.reject(e)}for(;u.length;)i=i.then(u.shift(),u.shift());return i},u.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},80782:(e,t,n)=>{"use strict";var r=n(64867);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},94097:(e,t,n)=>{"use strict";var r=n(91793),o=n(7303);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},85061:(e,t,n)=>{"use strict";var r=n(80481);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},13572:(e,t,n)=>{"use strict";var r=n(64867),o=n(18527),i=n(26502),s=n(45655),a=n(65263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},47185:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},36026:(e,t,n)=>{"use strict";var r=n(85061);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:(e,t,n)=>{"use strict";var r=n(64867),o=n(45655);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},45655:(e,t,n)=>{"use strict";var r=n(34155),o=n(64867),i=n(16016),s=n(80481),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"[object process]"===Object.prototype.toString.call(r))&&(l=n(55448)),l),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(o.isString(e))try{return(0,JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){u.headers[e]=o.merge(a)})),e.exports=u},97288:e=>{e.exports={version:"0.25.0"}},91849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:(e,t,n)=>{"use strict";var r=n(64867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},67985:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},84109:(e,t,n)=>{"use strict";var r=n(64867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:(e,t,n)=>{"use strict";var r=n(97288).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],s=t[i];if(s){var a=e[i],c=void 0===a||s(a,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},64867:(e,t,n)=>{"use strict";var r=n(91849),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=c(e),s=i[0],a=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(l(e,a,a+s>c?c:a+s));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48764:(e,t,n)=>{"use strict";var r=n(79742),o=n(80645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=a(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var o=function(e){if(c.isBuffer(e)){var t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||V(e.length)?a(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|f(e))}function p(e){for(var t=e.length<0?0:0|f(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function f(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(o)return r?-1:F(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),V(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){var i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var u=-1;for(i=n;i<a;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*s}else-1!==u&&(i-=i-u),u=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var d=!0,p=0;p<c;p++)if(l(e,i+p)!==l(t,p)){d=!1;break}if(d)return i}return-1}function S(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(V(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return K(F(t,e.length-n),e,n,r)}function C(e,t,n,r){return K(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return K(U(t),e,n,r)}function _(e,t,n,r){return K(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,c,l=e[o],u=null,d=l>239?4:l>223?3:l>191?2:1;if(o+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(c=(15&l)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(W(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(W(i,Uint8Array))o+i.length>r.length?c.from(i).copy(r,o):Uint8Array.prototype.set.call(r,i,o);else{if(!c.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(W(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(i,s),l=this.slice(r,o),u=e.slice(t,n),d=0;d<a;++d)if(l[d]!==u[d]){i=l[d],s=u[d];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function D(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=B[e[i]];return o}function j(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(e,t,n,r,i){return t=+t,n>>>=0,i||O(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,i){return t=+t,n>>>=0,i||O(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return A(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return A(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=c.isBuffer(e)?e:c.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};var L=/[^+/0-9A-Za-z-_]/g;function F(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}var B=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()},54098:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,o=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function S(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];w.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,i){var s=new b(e,n);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new w(o,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=p,e.Request=b,e.Response=w),t.Headers=p,t.Request=b,t.Response=w,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},66518:e=>{"use strict";e.exports=function(e){var t=void 0;t="string"==typeof e?[e]:e.raw;for(var n="",r=0;r<t.length;r++)n+=t[r].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),r<(arguments.length<=1?0:arguments.length-1)&&(n+=arguments.length<=r+1?void 0:arguments[r+1]);var o=n.split("\n"),i=null;return o.forEach((function(e){var t=e.match(/^(\s+)\S+/);if(t){var n=t[1].length;i=i?Math.min(i,n):n}})),null!==i&&(n=o.map((function(e){return" "===e[0]?e.slice(i):e})).join("\n")),(n=n.trim()).replace(/\\n/g,"\n")}},17187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,s,l;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):f(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=f(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},64063:e=>{"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty;e.exports=function e(o,i){if(o===i)return!0;if(o&&i&&"object"==typeof o&&"object"==typeof i){var s,a,c,l=t(o),u=t(i);if(l&&u){if((a=o.length)!=i.length)return!1;for(s=a;0!=s--;)if(!e(o[s],i[s]))return!1;return!0}if(l!=u)return!1;var d=o instanceof Date,p=i instanceof Date;if(d!=p)return!1;if(d&&p)return o.getTime()==i.getTime();var h=o instanceof RegExp,f=i instanceof RegExp;if(h!=f)return!1;if(h&&f)return o.toString()==i.toString();var g=n(o);if((a=g.length)!==n(i).length)return!1;for(s=a;0!=s--;)if(!r.call(i,g[s]))return!1;for(s=a;0!=s--;)if(!e(o[c=g[s]],i[c]))return!1;return!0}return o!=o&&i!=i}},35960:e=>{e.exports=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,(function(e,t,r,o){var i=n.shift();switch(o){case"s":i=""+i;break;case"d":i=Number(i);break;case"j":i=JSON.stringify(i)}return t?(n.unshift(i),e):i}))),n.length&&(e+=" "+n.join(" ")),""+e.replace(/%{2,2}/g,"%")}},80645:(e,t)=>{t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?o-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-u)-1,h>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=p,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=p,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=l}return(h?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&a,h+=f,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+h]=255&s,h+=f,s/=256,l-=8);e[n+h-f]|=128*g}},78849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detector=void 0;const r=n(19126),o=Object.keys(r.typeHandlers),i={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};t.detector=function(e){const t=e[0];if(t in i){const n=i[t];if(n&&r.typeHandlers[n].validate(e))return n}return o.find((t=>r.typeHandlers[t].validate(e)))}},47935:function(e,t,n){"use strict";var r=n(48764).Buffer,o=n(34155),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.setConcurrency=t.disableTypes=t.disableFS=t.imageSize=void 0;const s=n(38497),a=n(26470),c=n(69189),l=n(19126),u=n(78849),d=524288,p=new c.default({concurrency:100,autostart:!0}),h={disabledFS:!1,disabledTypes:[]};function f(e,t){const n=(0,u.detector)(e);if(void 0!==n){if(h.disabledTypes.indexOf(n)>-1)throw new TypeError("disabled file type: "+n);if(n in l.typeHandlers){const r=l.typeHandlers[n].calculate(e,t);if(void 0!==r)return r.type=n,r}}throw new TypeError("unsupported file type: "+n+" (file: "+t+")")}function g(e,t){if(r.isBuffer(e))return f(e);if("string"!=typeof e||h.disabledFS)throw new TypeError("invalid invocation. input should be a Buffer");const n=a.resolve(e);if("function"!=typeof t){const e=function(e){const t=s.openSync(e,"r");try{const{size:e}=s.fstatSync(t);if(e<=0)throw new Error("Empty file");const n=Math.min(e,d),o=r.alloc(n);return s.readSync(t,o,0,n,0),o}finally{s.closeSync(t)}}(n);return f(e,n)}p.push((()=>function(e){return i(this,void 0,void 0,(function*(){const t=yield s.promises.open(e,"r");try{const{size:e}=yield t.stat();if(e<=0)throw new Error("Empty file");const n=Math.min(e,d),o=r.alloc(n);return yield t.read(o,0,n,0),o}finally{yield t.close()}}))}(n).then((e=>o.nextTick(t,null,f(e,n)))).catch(t)))}e.exports=t=g,t.default=g,t.imageSize=g,t.disableFS=e=>{h.disabledFS=e},t.disableTypes=e=>{h.disabledTypes=e},t.setConcurrency=e=>{p.concurrency=e},t.types=Object.keys(l.typeHandlers)},48557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt=void 0,t.readUInt=function(e,t,n,r){return n=n||0,e["readUInt"+t+(r?"BE":"LE")].call(e,n)}},19126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeHandlers=void 0;const r=n(53645),o=n(23552),i=n(1680),s=n(51542),a=n(57163),c=n(27800),l=n(16625),u=n(91558),d=n(2229),p=n(74663),h=n(96221),f=n(97851),g=n(42602),m=n(98531),y=n(29948),v=n(45236);t.typeHandlers={bmp:r.BMP,cur:o.CUR,dds:i.DDS,gif:s.GIF,icns:a.ICNS,ico:c.ICO,j2c:l.J2C,jp2:u.JP2,jpg:d.JPG,ktx:p.KTX,png:h.PNG,pnm:f.PNM,psd:g.PSD,svg:m.SVG,tiff:y.TIFF,webp:v.WEBP}},53645:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BMP=void 0,t.BMP={validate:e=>"BM"===e.toString("ascii",0,2),calculate:e=>({height:Math.abs(e.readInt32LE(22)),width:e.readUInt32LE(18)})}},23552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUR=void 0;const r=n(27800);t.CUR={validate:e=>0===e.readUInt16LE(0)&&2===e.readUInt16LE(2),calculate:e=>r.ICO.calculate(e)}},1680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDS=void 0,t.DDS={validate:e=>542327876===e.readUInt32LE(0),calculate:e=>({height:e.readUInt32LE(12),width:e.readUInt32LE(16)})}},51542:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIF=void 0;const n=/^GIF8[79]a/;t.GIF={validate(e){const t=e.toString("ascii",0,6);return n.test(t)},calculate:e=>({height:e.readUInt16LE(8),width:e.readUInt16LE(6)})}},57163:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICNS=void 0;const n={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function r(e,t){const n=t+4;return[e.toString("ascii",t,n),e.readUInt32BE(n)]}function o(e){const t=n[e];return{width:t,height:t,type:e}}t.ICNS={validate:e=>"icns"===e.toString("ascii",0,4),calculate(e){const t=e.length,n=e.readUInt32BE(4);let i=8,s=r(e,i),a=o(s[0]);if(i+=s[1],i===n)return a;const c={height:a.height,images:[a],width:a.width};for(;i<n&&i<t;)s=r(e,i),a=o(s[0]),i+=s[1],c.images.push(a);return c}}},27800:(e,t)=>{"use strict";function n(e,t){const n=e.readUInt8(t);return 0===n?256:n}function r(e,t){const r=6+16*t;return{height:n(e,r+1),width:n(e,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ICO=void 0,t.ICO={validate:e=>0===e.readUInt16LE(0)&&1===e.readUInt16LE(2),calculate(e){const t=e.readUInt16LE(4),n=r(e,0);if(1===t)return n;const o=[n];for(let n=1;n<t;n+=1)o.push(r(e,n));return{height:n.height,images:o,width:n.width}}}},16625:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.J2C=void 0,t.J2C={validate:e=>"ff4fff51"===e.toString("hex",0,4),calculate:e=>({height:e.readUInt32BE(12),width:e.readUInt32BE(8)})}},91558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JP2=void 0;const n=e=>({height:e.readUInt32BE(4),width:e.readUInt32BE(8)});t.JP2={validate(e){const t=e.toString("hex",4,8),n=e.readUInt32BE(0);if("6a502020"!==t||n<1)return!1;const r=n+4,o=e.readUInt32BE(n);return"66747970"===e.slice(r,r+o).toString("hex",0,4)},calculate(e){const t=e.readUInt32BE(0);let r=t+4+e.readUInt16BE(t+2);switch(e.toString("hex",r,r+4)){case"72726571":return r=r+4+4+(e=>{const t=e.readUInt8(0);let n=1+2*t;return n=n+2+e.readUInt16BE(n)*(2+t),n+2+e.readUInt16BE(n)*(16+t)})(e.slice(r+4)),n(e.slice(r+8,r+24));case"6a703268":return n(e.slice(r+8,r+24));default:throw new TypeError("Unsupported header found: "+e.toString("ascii",r,r+4))}}}},2229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JPG=void 0;const r=n(48557);function o(e){return"45786966"===e.toString("hex",2,6)}function i(e,t){return{height:e.readUInt16BE(t),width:e.readUInt16BE(t+2)}}function s(e,t){const n=e.slice(2,t),o=n.toString("hex",6,8),i="4d4d"===o;if(i||"4949"===o)return function(e,t){const n=(0,r.readUInt)(e,16,14,t);for(let o=0;o<n;o++){const n=16+12*o,i=n+12;if(n>e.length)return;const s=e.slice(n,i);if(274===(0,r.readUInt)(s,16,0,t)){if(3!==(0,r.readUInt)(s,16,2,t))return;if(1!==(0,r.readUInt)(s,32,4,t))return;return(0,r.readUInt)(s,16,8,t)}}}(n,i)}function a(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")}t.JPG={validate:e=>"ffd8"===e.toString("hex",0,2),calculate(e){let t,n;for(e=e.slice(4);e.length;){const r=e.readUInt16BE(0);if(o(e)&&(t=s(e,r)),a(e,r),n=e[r+1],192===n||193===n||194===n){const n=i(e,r+5);return t?{height:n.height,orientation:t,width:n.width}:n}e=e.slice(r+2)}throw new TypeError("Invalid JPG, no size found")}}},74663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KTX=void 0,t.KTX={validate:e=>"KTX 11"===e.toString("ascii",1,7),calculate:e=>({height:e.readUInt32LE(40),width:e.readUInt32LE(36)})}},96221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNG=void 0;const n="CgBI";t.PNG={validate(e){if("PNG\r\n\n"===e.toString("ascii",1,8)){let t=e.toString("ascii",12,16);if(t===n&&(t=e.toString("ascii",28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:e=>e.toString("ascii",12,16)===n?{height:e.readUInt32BE(36),width:e.readUInt32BE(32)}:{height:e.readUInt32BE(20),width:e.readUInt32BE(16)}}},97851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNM=void 0;const n={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},r=Object.keys(n),o={default:e=>{let t=[];for(;e.length>0;){const n=e.shift();if("#"!==n[0]){t=n.split(" ");break}}if(2===t.length)return{height:parseInt(t[1],10),width:parseInt(t[0],10)};throw new TypeError("Invalid PNM")},pam:e=>{const t={};for(;e.length>0;){const n=e.shift();if(n.length>16||n.charCodeAt(0)>128)continue;const[r,o]=n.split(" ");if(r&&o&&(t[r.toLowerCase()]=parseInt(o,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw new TypeError("Invalid PAM")}};t.PNM={validate(e){const t=e.toString("ascii",0,2);return r.includes(t)},calculate(e){const t=e.toString("ascii",0,2),r=n[t],i=e.toString("ascii",3).split(/[\r\n]+/);return(o[r]||o.default)(i)}}},42602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PSD=void 0,t.PSD={validate:e=>"8BPS"===e.toString("ascii",0,4),calculate:e=>({height:e.readUInt32BE(14),width:e.readUInt32BE(18)})}},98531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVG=void 0;const n=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,r={height:/\sheight=(['"])([^%]+?)\1/,root:n,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},o=2.54,i={in:96,cm:96/o,em:16,ex:8,m:96/o*100,mm:96/o/10,pc:96/72/12,pt:96/72,px:1},s=new RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(i).join("|")})?$`);function a(e){const t=s.exec(e);if(t)return Math.round(Number(t[1])*(i[t[2]]||1))}function c(e){const t=e.split(" ");return{height:a(t[3]),width:a(t[2])}}t.SVG={validate(e){const t=String(e);return n.test(t)},calculate(e){const t=e.toString("utf8").match(r.root);if(t){const e=function(e){const t=e.match(r.width),n=e.match(r.height),o=e.match(r.viewbox);return{height:n&&a(n[2]),viewbox:o&&c(o[2]),width:t&&a(t[2])}}(t[0]);if(e.width&&e.height)return function(e){return{height:e.height,width:e.width}}(e);if(e.viewbox)return function(e,t){const n=t.width/t.height;return e.width?{height:Math.floor(e.width/n),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*n)}:{height:t.height,width:t.width}}(e,e.viewbox)}throw new TypeError("Invalid SVG")}}},29948:(e,t,n)=>{"use strict";var r=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.TIFF=void 0;const o=n(47990),i=n(48557);function s(e,t){const n=(0,i.readUInt)(e,16,8,t);return((0,i.readUInt)(e,16,10,t)<<16)+n}function a(e){if(e.length>24)return e.slice(12)}const c=["49492a00","4d4d002a"];t.TIFF={validate:e=>c.includes(e.toString("hex",0,4)),calculate(e,t){if(!t)throw new TypeError("Tiff doesn't support buffer");const n="BE"===function(e){const t=e.toString("ascii",0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(e),c=function(e,t,n){const s=(0,i.readUInt)(e,32,4,n);let a=1024;const c=o.statSync(t).size;s+a>c&&(a=c-s-10);const l=r.alloc(a),u=o.openSync(t,"r");return o.readSync(u,l,0,a,s),o.closeSync(u),l.slice(2)}(e,t,n),l=function(e,t){const n={};let r=e;for(;r&&r.length;){const e=(0,i.readUInt)(r,16,0,t),o=(0,i.readUInt)(r,16,2,t),c=(0,i.readUInt)(r,32,4,t);if(0===e)break;1!==c||3!==o&&4!==o||(n[e]=s(r,t)),r=a(r)}return n}(c,n),u=l[256],d=l[257];if(!u||!d)throw new TypeError("Invalid Tiff. Missing tags");return{height:d,width:u}}}},45236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBP=void 0,t.WEBP={validate(e){const t="RIFF"===e.toString("ascii",0,4),n="WEBP"===e.toString("ascii",8,12),r="VP8"===e.toString("ascii",12,15);return t&&n&&r},calculate(e){const t=e.toString("ascii",12,16);if(e=e.slice(20,30),"VP8X"===t){const t=e[0],n=0==(1&t);if(0==(192&t)&&n)return function(e){return{height:1+e.readUIntLE(7,3),width:1+e.readUIntLE(4,3)}}(e);throw new TypeError("Invalid WebP")}if("VP8 "===t&&47!==e[0])return function(e){return{height:16383&e.readInt16LE(8),width:16383&e.readInt16LE(6)}}(e);const n=e.toString("hex",3,6);if("VP8L"===t&&"9d012a"!==n)return function(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}(e);throw new TypeError("Invalid WebP")}}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},99934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(16674),o=n(6867);function i(e,t,n,o,i){var s={},a="number"==typeof i,c=void 0!==i&&a?i.toString():n;if(a&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(s=Reflect.getMetadata(e,t));var l=s[c];if(Array.isArray(l))for(var u=0,d=l;u<d.length;u++){var p=d[u];if(p.key===o.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else l=[];l.push(o),s[c]=l,Reflect.defineMetadata(e,s,t)}function s(e,t){Reflect.decorate(e,t)}function a(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){i(o.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){i(o.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?s([a(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):s([e],t)}},5744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(16674),o=n(6867),i=n(47738),s=n(99934),a=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=a,t.inject=function(e){return function(t,n,a){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new i.Metadata(o.INJECT_TAG,e);"number"==typeof a?s.tagParameter(t,n,a,c):s.tagProperty(t,n,c)}}},64315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(16674),o=n(6867);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(o.PARAM_TYPES,t,e),e}}},71693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(6867),o=n(47738),i=n(99934);t.multiInject=function(e){return function(t,n,s){var a=new o.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof s?i.tagParameter(t,n,s,a):i.tagProperty(t,n,a)}}},38085:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(6867),o=n(47738),i=n(99934);t.named=function(e){return function(t,n,s){var a=new o.Metadata(r.NAMED_TAG,e);"number"==typeof s?i.tagParameter(t,n,s,a):i.tagProperty(t,n,a)}}},6515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(6867),o=n(47738),i=n(99934);t.optional=function(){return function(e,t,n){var s=new o.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?i.tagParameter(e,t,n,s):i.tagProperty(e,t,s)}}},7014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(16674),o=n(6867),i=n(47738);t.postConstruct=function(){return function(e,t,n){var s=new i.Metadata(o.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,s,e.constructor)}}},32052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(47738),o=n(99934);t.tagged=function(e,t){return function(n,i,s){var a=new r.Metadata(e,t);"number"==typeof s?o.tagParameter(n,i,s,a):o.tagProperty(n,i,a)}}},55638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(6867),o=n(47738),i=n(99934);t.targetName=function(e){return function(t,n,s){var a=new o.Metadata(r.NAME_TAG,e);i.tagParameter(t,n,s,a)}}},86757:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(6867),o=n(47738),i=n(99934);t.unmanaged=function(){return function(e,t,n){var s=new o.Metadata(r.UNMANAGED_TAG,!0);i.tagParameter(e,t,n,s)}}},44290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(28421),o=n(37791),i=function(){function e(e,t){this.id=o.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=i},23184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0,t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},16674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0,t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},51389:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var s=n(44290),a=n(16674),c=n(28421),l=n(6867),u=n(51377),d=n(86311),p=n(31927),h=n(51860),f=n(37791),g=n(55800),m=n(85700),y=n(80175),v=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!=typeof t)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=c.BindingScopeEnum.Transient;else if(t.defaultScope!==c.BindingScopeEnum.Singleton&&t.defaultScope!==c.BindingScopeEnum.Transient&&t.defaultScope!==c.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=f.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new u.MetadataReader}return e.merge=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=new e,a=i([t,n],r).map((function(e){return d.getBindingDictionary(e)})),c=d.getBindingDictionary(s);function l(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return a.forEach((function(e){l(e,c)})),s},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,o=e;r<o.length;r++){var i=o[r],s=n(i.id);i.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,o.label=1;case 1:return n<r.length?(i=r[n],s=t(i.id),[4,i.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||c.BindingScopeEnum.Transient,n=new s.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(a.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,l.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),i=d.createMockRequest(this,e,t,n);r=o.some((function(e){return e.constraint(i)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,c.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,c.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,l.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,c.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,c.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,l.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var o=e.rebind.bind(e)(r);return t(o,n),o}};return function(r){return{bindFunction:(o=r,function(n){var r=e.bind.bind(e)(n);return t(r,o),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var o}},e.prototype._get=function(e,t,n,r,o,i){var s=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:o,serviceIdentifier:r,targetType:n,value:i};if(this._middleware){if(null==(s=this._middleware(c)))throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else s=this._planAndResolve()(c);return s},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=d.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),p.resolve(n)}},e}();t.Container=v},33244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(37791);t.ContainerModule=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=function(e){this.id=r.id(),this.registry=e}},85700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},80175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(16674),o=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var o=n.filter((function(t){return!e(t)}));o.length>0?t._map.set(r,o):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=o},86700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var r=n(6867);t.METADATA_KEY=r;var o=n(51389);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return o.Container}});var i=n(28421);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return i.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return i.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return i.TargetTypeEnum}});var s=n(33244);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return s.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return s.ContainerModule}});var a=n(64315);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return a.injectable}});var c=n(32052);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return c.tagged}});var l=n(38085);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return l.named}});var u=n(5744);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return u.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return u.LazyServiceIdentifer}});var d=n(6515);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return d.optional}});var p=n(86757);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return p.unmanaged}});var h=n(71693);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return h.multiInject}});var f=n(55638);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return f.targetName}});var g=n(7014);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return g.postConstruct}});var m=n(51377);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return m.MetadataReader}});var y=n(37791);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return y.id}});var v=n(99934);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return v.decorate}});var b=n(80758);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var S=n(55800);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return S.getServiceIdentifierAsString}});var w=n(70600);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return w.multiBindToService}})},95228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(37791),o=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=o},47738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(6867),o=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=o},51377:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(6867),o=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=o},55314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;t.Plan=function(e,t){this.parentContext=e,this.rootRequest=t}},86311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(23184),o=n(16674),i=n(28421),s=n(6867),a=n(85265),c=n(55800),l=n(95228),u=n(47738),d=n(55314),p=n(6e3),h=n(6748),f=n(18924);function g(e){return e._bindingDictionary}function m(e,t,n,i,s){var a,l=v(n.container,s.serviceIdentifier);return l.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof s.serviceIdentifier&&e.getConstructorMetadata(s.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(s.serviceIdentifier).toSelf(),l=v(n.container,s.serviceIdentifier)),a=t?l:l.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,i,e,s);return e.constraint(t)})),function(e,t,n,i){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var s=c.getServiceIdentifierAsString(e),a=o.NOT_REGISTERED;throw a+=c.listMetadataForTarget(s,n),a+=c.listRegisteredBindingsForServiceIdentifier(i,s,v),new Error(a);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;throw s=c.getServiceIdentifierAsString(e),a=o.AMBIGUOUS_MATCH+" "+s,a+=c.listRegisteredBindingsForServiceIdentifier(i,s,v),new Error(a)}}(s.serviceIdentifier,a,s,n.container),a}function y(e,t,n,r,s,a){var c,l;if(null===s){c=m(e,t,r,null,a),l=new h.Request(n,r,null,c,a);var u=new d.Plan(r,l);r.addPlan(u)}else c=m(e,t,r,s,a),l=s.addChildRequest(a.serviceIdentifier,c,a);c.forEach((function(t){var n=null;if(a.isArray())n=l.addChildRequest(t.serviceIdentifier,t,a);else{if(t.cache)return;n=l}if(t.type===i.BindingTypeEnum.Instance&&null!==t.implementationType){var s=p.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var c=p.getBaseClassDependencyCount(e,t.implementationType);if(s.length<c){var u=o.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(t.implementationType));throw new Error(u)}}s.forEach((function(t){y(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function v(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=v(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,o,i,d,p){void 0===p&&(p=!1);var h=new l.Context(t),g=function(e,t,n,r,o,i){var a=e?s.MULTI_INJECT_TAG:s.INJECT_TAG,c=new u.Metadata(a,n),l=new f.Target(t,"",n,c);if(void 0!==o){var d=new u.Metadata(o,i);l.metadata.push(d)}return l}(n,r,o,0,i,d);try{return y(e,p,o,h,null,g),h}catch(e){throw a.isStackOverflowExeption(e)&&h.plan&&c.circularDependencyToException(h.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var o=new f.Target(i.TargetTypeEnum.Variable,"",t,new u.Metadata(n,r)),s=new l.Context(e);return new h.Request(t,s,null,[],o)}},88460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},6e3:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var o=n(5744),i=n(16674),s=n(28421),a=n(6867),c=n(55800);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return c.getFunctionName}});var l=n(18924);function u(e,t,n,o){var s=e.getConstructorMetadata(n),a=s.compilerGeneratedMetadata;if(void 0===a){var c=i.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(c)}var l=s.userGeneratedMetadata,u=Object.keys(l),h=0===n.length&&u.length>0,f=u.length>n.length,g=function(e,t,n,r,o){for(var i=[],s=0;s<o;s++){var a=d(s,e,t,n,r);null!==a&&i.push(a)}return i}(o,t,a,l,h||f?u.length:n.length),m=p(e,n);return r(r([],g),m)}function d(e,t,n,r,a){var c=a[e.toString()]||[],u=h(c),d=!0!==u.unmanaged,p=r[e];if((p=u.inject||u.multiInject||p)instanceof o.LazyServiceIdentifer&&(p=p.unwrap()),d){if(!t&&(p===Object||p===Function||void 0===p)){var f=i.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(f)}var g=new l.Target(s.TargetTypeEnum.ConstructorArgument,u.targetName,p);return g.metadata=c,g}return null}function p(e,t){for(var n=e.getPropertiesMetadata(t),o=[],i=0,a=Object.keys(n);i<a.length;i++){var c=a[i],u=n[c],d=h(n[c]),f=d.targetName||c,g=d.inject||d.multiInject,m=new l.Target(s.TargetTypeEnum.ClassProperty,f,g);m.metadata=u,o.push(m)}var y=Object.getPrototypeOf(t.prototype).constructor;if(y!==Object){var v=p(e,y);o=r(r([],o),v)}return o}function h(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[a.INJECT_TAG],multiInject:t[a.MULTI_INJECT_TAG],targetName:t[a.NAME_TAG],unmanaged:t[a.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return u(e,c.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var o=u(t,c.getFunctionName(r),r,!0),i=o.map((function(e){return e.metadata.filter((function(e){return e.key===a.UNMANAGED_TAG}))})),s=[].concat.apply([],i).length,l=o.length-s;return l>0?l:e(t,r)}return 0}},6748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(37791),o=function(){function e(e,t,n,o,i){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var o=new e(t,this.parentContext,this,n,r);return this.childRequests.push(o),o},e}();t.Request=o},18924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(6867),o=n(37791),i=n(47738),s=n(88460),a=function(){function e(e,t,n,a){this.id=o.id(),this.type=e,this.serviceIdentifier=n,this.name=new s.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof a?c=new i.Metadata(r.NAMED_TAG,a):a instanceof i.Metadata&&(c=a),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++)if(n[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,o=t.metadata;r<o.length;r++){var i=o[r];if(i.key===e&&i.value===n)return!0}return!1}},e}();t.Target=a},52279:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var o=n(16674),i=n(28421),s=n(6867);t.resolveInstance=function(e,t,n){var a,c,l=null;t.length>0?(c=t.filter((function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ConstructorArgument})).map(n),l=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ClassProperty})),o=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var i=o[n];e[r]=i})),e}(l=new((a=e).bind.apply(a,r([void 0],c))),t,n)):l=new e;return function(e,t){if(Reflect.hasMetadata(s.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(s.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(o.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,l),l}},31927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(16674),o=n(28421),i=n(85265),s=n(55800),a=n(52279),c=function(e,t,n){try{return n()}catch(n){throw i.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},l=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,i=t.childRequests,u=t.target&&t.target.isArray(),d=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(u&&d)return i.map((function(t){return l(e)(t)}));var p=null;if(!t.target.isOptional()||0!==n.length){var h=n[0],f=h.scope===o.BindingScopeEnum.Singleton,g=h.scope===o.BindingScopeEnum.Request;if(f&&h.activated)return h.cache;if(g&&null!==e&&e.has(h.id))return e.get(h.id);if(h.type===o.BindingTypeEnum.ConstantValue)p=h.cache,h.activated=!0;else if(h.type===o.BindingTypeEnum.Function)p=h.cache,h.activated=!0;else if(h.type===o.BindingTypeEnum.Constructor)p=h.implementationType;else if(h.type===o.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)p=c("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(t.parentContext)}));else if(h.type===o.BindingTypeEnum.Factory&&null!==h.factory)p=c("toFactory",h.serviceIdentifier,(function(){return h.factory(t.parentContext)}));else if(h.type===o.BindingTypeEnum.Provider&&null!==h.provider)p=c("toProvider",h.serviceIdentifier,(function(){return h.provider(t.parentContext)}));else{if(h.type!==o.BindingTypeEnum.Instance||null===h.implementationType){var m=s.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+m)}p=a.resolveInstance(h.implementationType,i,l(e))}return"function"==typeof h.onActivation&&(p=h.onActivation(t.parentContext,p)),f&&(h.cache=p,h.activated=!0),g&&null!==e&&!e.has(h.id)&&e.set(h.id,p),p}}};t.resolve=function(e){return l(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},83366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(28421),o=n(71325),i=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=i},99812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(83366),o=n(51811),i=n(98370),s=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=s},51811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(98370),o=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=o},51860:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(16674),o=n(28421),i=n(99812),s=n(71325),a=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=e,new i.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new i.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=o.BindingTypeEnum.Function,this._binding.scope=o.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=a},71325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(51811),o=n(98370),i=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=i},98370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(51811),o=n(80758),i=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=o.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=o.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return o.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return o.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return o.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,o.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,o.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,o.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,o.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return o.traverseAncerstors(n,o.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!o.traverseAncerstors(n,o.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=i},80758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(6867),o=n(47738),i=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||i(n,t))};t.traverseAncerstors=i;var s=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new o.Metadata(e,t),n}};t.taggedConstraint=s;var a=s(r.NAMED_TAG);t.namedConstraint=a,t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},70600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0,t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},85265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(16674);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},37791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},55800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(16674);function o(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function i(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||i(e.parentRequest,t))}function s(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=o,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",o=n(e,t);return 0!==o.length&&(r="\nRegistered bindings:",o.forEach((function(e){var t="Object";null!==e.implementationType&&(t=s(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(i(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=o(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),o=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==o&&o.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=s},46792:(e,t,n)=>{var r=null;"undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof MozWebSocket?r=MozWebSocket:void 0!==n.g?r=n.g.WebSocket||n.g.MozWebSocket:"undefined"!=typeof window?r=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),e.exports=r},18552:(e,t,n)=>{var r=n(10852)(n(55639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(51789),o=n(80401),i=n(57667),s=n(21327),a=n(81866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},38407:(e,t,n)=>{var r=n(27040),o=n(14125),i=n(82117),s=n(67518),a=n(54705);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},57071:(e,t,n)=>{var r=n(10852)(n(55639),"Map");e.exports=r},83369:(e,t,n)=>{var r=n(24785),o=n(11285),i=n(96e3),s=n(49916),a=n(95265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},53818:(e,t,n)=>{var r=n(10852)(n(55639),"Promise");e.exports=r},58525:(e,t,n)=>{var r=n(10852)(n(55639),"Set");e.exports=r},46384:(e,t,n)=>{var r=n(38407),o=n(37465),i=n(63779),s=n(67599),a=n(44758),c=n(34309);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},11149:(e,t,n)=>{var r=n(55639).Uint8Array;e.exports=r},70577:(e,t,n)=>{var r=n(10852)(n(55639),"WeakMap");e.exports=r},77412:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},34963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}},14636:(e,t,n)=>{var r=n(22545),o=n(35694),i=n(1469),s=n(44144),a=n(65776),c=n(36719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&s(e),p=!n&&!u&&!d&&c(e),h=n||u||d||p,f=h?r(e.length,String):[],g=f.length;for(var m in e)!t&&!l.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||f.push(m);return f}},29932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},62488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},34865:(e,t,n)=>{var r=n(89465),o=n(77813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];i.call(e,t)&&o(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},18470:(e,t,n)=>{var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},44037:(e,t,n)=>{var r=n(98363),o=n(3674);e.exports=function(e,t){return e&&r(t,o(t),e)}},63886:(e,t,n)=>{var r=n(98363),o=n(81704);e.exports=function(e,t){return e&&r(t,o(t),e)}},89465:(e,t,n)=>{var r=n(38777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},85990:(e,t,n)=>{var r=n(46384),o=n(77412),i=n(34865),s=n(44037),a=n(63886),c=n(64626),l=n(278),u=n(18805),d=n(1911),p=n(58234),h=n(46904),f=n(64160),g=n(43824),m=n(29148),y=n(38517),v=n(1469),b=n(44144),S=n(56688),w=n(13218),C=n(72928),k=n(3674),_=n(81704),I="[object Arguments]",E="[object Function]",P="[object Object]",D={};D[I]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[P]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[E]=D["[object WeakMap]"]=!1,e.exports=function e(t,n,T,x,j,M){var N,O=1&n,A=2&n,R=4&n;if(T&&(N=j?T(t,x,j,M):T(t)),void 0!==N)return N;if(!w(t))return t;var L=v(t);if(L){if(N=g(t),!O)return l(t,N)}else{var F=f(t),U=F==E||"[object GeneratorFunction]"==F;if(b(t))return c(t,O);if(F==P||F==I||U&&!j){if(N=A||U?{}:y(t),!O)return A?d(t,a(N,t)):u(t,s(N,t))}else{if(!D[F])return j?t:{};N=m(t,F,O)}}M||(M=new r);var K=M.get(t);if(K)return K;M.set(t,N),C(t)?t.forEach((function(r){N.add(e(r,n,T,r,t,M))})):S(t)&&t.forEach((function(r,o){N.set(o,e(r,n,T,o,t,M))}));var W=L?void 0:(R?A?h:p:A?_:k)(t);return o(W||t,(function(r,o){W&&(r=t[o=r]),i(N,o,e(r,n,T,o,t,M))})),N}},3118:(e,t,n)=>{var r=n(13218),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},21078:(e,t,n)=>{var r=n(62488),o=n(37285);e.exports=function e(t,n,i,s,a){var c=-1,l=t.length;for(i||(i=o),a||(a=[]);++c<l;){var u=t[c];n>0&&i(u)?n>1?e(u,n-1,i,s,a):r(a,u):s||(a[a.length]=u)}return a}},68866:(e,t,n)=>{var r=n(62488),o=n(1469);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},44239:(e,t,n)=>{var r=n(62705),o=n(89607),i=n(2333),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},9454:(e,t,n)=>{var r=n(44239),o=n(37005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},25588:(e,t,n)=>{var r=n(64160),o=n(37005);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},28458:(e,t,n)=>{var r=n(23560),o=n(15346),i=n(13218),s=n(80346),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:a).test(s(e))}},29221:(e,t,n)=>{var r=n(64160),o=n(37005);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},38749:(e,t,n)=>{var r=n(44239),o=n(41780),i=n(37005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!s[r(e)]}},280:(e,t,n)=>{var r=n(25726),o=n(86916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},10313:(e,t,n)=>{var r=n(13218),o=n(25726),i=n(33498),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},22545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},80531:(e,t,n)=>{var r=n(62705),o=n(29932),i=n(1469),s=n(33448),a=r?r.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},27561:(e,t,n)=>{var r=n(67990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},74318:(e,t,n)=>{var r=n(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64626:(e,t,n)=>{e=n.nmd(e);var r=n(55639),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},57157:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},93147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},40419:(e,t,n)=>{var r=n(62705),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},77133:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},98363:(e,t,n)=>{var r=n(34865),o=n(89465);e.exports=function(e,t,n,i){var s=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var l=t[a],u=i?i(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),s?o(n,l,u):r(n,l,u)}return n}},18805:(e,t,n)=>{var r=n(98363),o=n(99551);e.exports=function(e,t){return r(e,o(e),t)}},1911:(e,t,n)=>{var r=n(98363),o=n(51442);e.exports=function(e,t){return r(e,o(e),t)}},14429:(e,t,n)=>{var r=n(55639)["__core-js_shared__"];e.exports=r},38777:(e,t,n)=>{var r=n(10852),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},31957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:(e,t,n)=>{var r=n(68866),o=n(99551),i=n(3674);e.exports=function(e){return r(e,i,o)}},46904:(e,t,n)=>{var r=n(68866),o=n(51442),i=n(81704);e.exports=function(e){return r(e,i,o)}},45050:(e,t,n)=>{var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},10852:(e,t,n)=>{var r=n(28458),o=n(47801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},85924:(e,t,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},89607:(e,t,n)=>{var r=n(62705),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[a]=n:delete e[a]),o}},99551:(e,t,n)=>{var r=n(34963),o=n(70479),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return i.call(e,t)})))}:o;e.exports=a},51442:(e,t,n)=>{var r=n(62488),o=n(85924),i=n(99551),s=n(70479),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:s;e.exports=a},64160:(e,t,n)=>{var r=n(18552),o=n(57071),i=n(53818),s=n(58525),a=n(70577),c=n(44239),l=n(80346),u="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",g=l(r),m=l(o),y=l(i),v=l(s),b=l(a),S=c;(r&&S(new r(new ArrayBuffer(1)))!=f||o&&S(new o)!=u||i&&S(i.resolve())!=d||s&&S(new s)!=p||a&&S(new a)!=h)&&(S=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return f;case m:return u;case y:return d;case v:return p;case b:return h}return t}),e.exports=S},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},51789:(e,t,n)=>{var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,n)=>{var r=n(94536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},21327:(e,t,n)=>{var r=n(94536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},81866:(e,t,n)=>{var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},29148:(e,t,n)=>{var r=n(74318),o=n(57157),i=n(93147),s=n(40419),a=n(77133);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return s(e)}}},38517:(e,t,n)=>{var r=n(3118),o=n(85924),i=n(25726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},37285:(e,t,n)=>{var r=n(62705),o=n(35694),i=n(1469),s=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(s&&e&&e[s])}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{var r,o=n(14429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var r=n(18470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},82117:(e,t,n)=>{var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:(e,t,n)=>{var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},54705:(e,t,n)=>{var r=n(18470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},24785:(e,t,n)=>{var r=n(1989),o=n(38407),i=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},11285:(e,t,n)=>{var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:(e,t,n)=>{var r=n(45050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},94536:(e,t,n)=>{var r=n(10852)(Object,"create");e.exports=r},86916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},33498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},31167:(e,t,n)=>{e=n.nmd(e);var r=n(31957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o&&r.process,a=function(){try{return i&&i.require&&i.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},55639:(e,t,n)=>{var r=n(31957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},37465:(e,t,n)=>{var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var r=n(38407),o=n(57071),i=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},50361:(e,t,n)=>{var r=n(85990);e.exports=function(e){return r(e,5)}},23279:(e,t,n)=>{var r=n(13218),o=n(7771),i=n(14841),s=Math.max,a=Math.min;e.exports=function(e,t,n){var c,l,u,d,p,h,f=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=l;return c=l=void 0,f=t,d=e.apply(r,n)}function b(e){return f=e,p=setTimeout(w,t),g?v(e):d}function S(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-f>=u}function w(){var e=o();if(S(e))return C(e);p=setTimeout(w,function(e){var n=t-(e-h);return m?a(n,u-(e-f)):n}(e))}function C(e){return p=void 0,y&&c?v(e):(c=l=void 0,d)}function k(){var e=o(),n=S(e);if(c=arguments,l=this,h=e,n){if(void 0===p)return b(h);if(m)return clearTimeout(p),p=setTimeout(w,t),v(h)}return void 0===p&&(p=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,u=(m="maxWait"in n)?s(i(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==p&&clearTimeout(p),f=0,c=h=l=p=void 0},k.flush=function(){return void 0===p?d:C(o())},k}},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},3522:(e,t,n)=>{var r=n(79833),o=/[\\^$.*+?()[\]{}|]/g,i=RegExp(o.source);e.exports=function(e){return(e=r(e))&&i.test(e)?e.replace(o,"\\$&"):e}},85564:(e,t,n)=>{var r=n(21078);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},35694:(e,t,n)=>{var r=n(9454),o=n(37005),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var r=n(23560),o=n(41780);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},44144:(e,t,n)=>{e=n.nmd(e);var r=n(55639),o=n(95062),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;e.exports=c},23560:(e,t,n)=>{var r=n(44239),o=n(13218);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},56688:(e,t,n)=>{var r=n(25588),o=n(7518),i=n(31167),s=i&&i.isMap,a=s?o(s):r;e.exports=a},14293:e=>{e.exports=function(e){return null==e}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},72928:(e,t,n)=>{var r=n(29221),o=n(7518),i=n(31167),s=i&&i.isSet,a=s?o(s):r;e.exports=a},33448:(e,t,n)=>{var r=n(44239),o=n(37005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},36719:(e,t,n)=>{var r=n(38749),o=n(7518),i=n(31167),s=i&&i.isTypedArray,a=s?o(s):r;e.exports=a},3674:(e,t,n)=>{var r=n(14636),o=n(280),i=n(98612);e.exports=function(e){return i(e)?r(e):o(e)}},81704:(e,t,n)=>{var r=n(14636),o=n(10313),i=n(98612);e.exports=function(e){return i(e)?r(e,!0):o(e)}},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},14841:(e,t,n)=>{var r=n(27561),o=n(13218),i=n(33448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}},79833:(e,t,n)=>{var r=n(80531);e.exports=function(e){return null==e?"":r(e)}},96562:e=>{function t(e){return"number"==typeof e||!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function n(e,t){return"constructor"===t&&"function"==typeof e[t]||"__proto__"===t}e.exports=function(e,r){r||(r={});var o={bools:{},strings:{},unknownFn:null};"function"==typeof r.unknown&&(o.unknownFn=r.unknown),"boolean"==typeof r.boolean&&r.boolean?o.allBools=!0:[].concat(r.boolean).filter(Boolean).forEach((function(e){o.bools[e]=!0}));var i={};Object.keys(r.alias||{}).forEach((function(e){i[e]=[].concat(r.alias[e]),i[e].forEach((function(t){i[t]=[e].concat(i[e].filter((function(e){return t!==e})))}))})),[].concat(r.string).filter(Boolean).forEach((function(e){o.strings[e]=!0,i[e]&&(o.strings[i[e]]=!0)}));var s=r.default||{},a={_:[]};Object.keys(o.bools).forEach((function(e){l(e,void 0!==s[e]&&s[e])}));var c=[];function l(e,n,r){if(!r||!o.unknownFn||function(e,t){return o.allBools&&/^--[^=]+$/.test(t)||o.strings[e]||o.bools[e]||i[e]}(e,r)||!1!==o.unknownFn(r)){var s=!o.strings[e]&&t(n)?Number(n):n;u(a,e.split("."),s),(i[e]||[]).forEach((function(e){u(a,e.split("."),s)}))}}function u(e,t,r){for(var i=e,s=0;s<t.length-1;s++){if(n(i,a=t[s]))return;void 0===i[a]&&(i[a]={}),i[a]!==Object.prototype&&i[a]!==Number.prototype&&i[a]!==String.prototype||(i[a]={}),i[a]===Array.prototype&&(i[a]=[]),i=i[a]}var a;n(i,a=t[t.length-1])||(i!==Object.prototype&&i!==Number.prototype&&i!==String.prototype||(i={}),i===Array.prototype&&(i=[]),void 0===i[a]||o.bools[a]||"boolean"==typeof i[a]?i[a]=r:Array.isArray(i[a])?i[a].push(r):i[a]=[i[a],r])}function d(e){return i[e].some((function(e){return o.bools[e]}))}-1!==e.indexOf("--")&&(c=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var p=0;p<e.length;p++){var h=e[p];if(/^--.+=/.test(h)){var f=h.match(/^--([^=]+)=([\s\S]*)$/),g=f[1],m=f[2];o.bools[g]&&(m="false"!==m),l(g,m,h)}else if(/^--no-.+/.test(h))l(g=h.match(/^--no-(.+)/)[1],!1,h);else if(/^--.+/.test(h))g=h.match(/^--(.+)/)[1],void 0===(S=e[p+1])||/^-/.test(S)||o.bools[g]||o.allBools||i[g]&&d(g)?/^(true|false)$/.test(S)?(l(g,"true"===S,h),p++):l(g,!o.strings[g]||"",h):(l(g,S,h),p++);else if(/^-[^-]+/.test(h)){for(var y=h.slice(1,-1).split(""),v=!1,b=0;b<y.length;b++){var S;if("-"!==(S=h.slice(b+2))){if(/[A-Za-z]/.test(y[b])&&/=/.test(S)){l(y[b],S.split("=")[1],h),v=!0;break}if(/[A-Za-z]/.test(y[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(S)){l(y[b],S,h),v=!0;break}if(y[b+1]&&y[b+1].match(/\W/)){l(y[b],h.slice(b+2),h),v=!0;break}l(y[b],!o.strings[y[b]]||"",h)}else l(y[b],S,h)}g=h.slice(-1)[0],v||"-"===g||(!e[p+1]||/^(-|--)[^-]/.test(e[p+1])||o.bools[g]||i[g]&&d(g)?e[p+1]&&/^(true|false)$/.test(e[p+1])?(l(g,"true"===e[p+1],h),p++):l(g,!o.strings[g]||"",h):(l(g,e[p+1],h),p++))}else if(o.unknownFn&&!1===o.unknownFn(h)||a._.push(o.strings._||!t(h)?h:Number(h)),r.stopEarly){a._.push.apply(a._,e.slice(p+1));break}}return Object.keys(s).forEach((function(e){var t,n,r;t=a,n=e.split("."),r=t,n.slice(0,-1).forEach((function(e){r=r[e]||{}})),n[n.length-1]in r||(u(a,e.split("."),s[e]),(i[e]||[]).forEach((function(t){u(a,t.split("."),s[e])})))})),r["--"]?(a["--"]=new Array,c.forEach((function(e){a["--"].push(e)}))):c.forEach((function(e){a._.push(e)})),a}},30381:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[],o=e.length;for(n=0;n<o;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return _t(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=f(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function m(e){var t=h(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=r.momentProperties=[],v=!1;function b(e,t){var n,r,o,i=y.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=f(t)),c(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)c(o=t[r=y[n]])||(e[r]=o);return e}function S(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function w(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var o,i,a,c=[],l=arguments.length;for(i=0;i<l;i++){if(o="","object"==typeof arguments[i]){for(a in o+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];c.push(o)}C(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var _,I={};function E(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(C(t),I[e]=!0)}function P(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,r=p({},e);for(n in t)s(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&i(e[n])&&(r[n]=p({},r[n]));return r}function T(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,_=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};function x(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},O={};function A(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(O[e]=o),t&&(O[t[0]]=function(){return x(o.apply(this,arguments),t[1],t[2])}),n&&(O[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function R(e,t){return e.isValid()?(t=L(t,e.localeData()),N[t]=N[t]||function(e){var t,n,r,o=e.match(j);for(t=0,n=o.length;t<n;t++)O[o[t]]?o[t]=O[o[t]]:o[t]=(r=o[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=P(o[r])?o[r].call(t,e):o[r];return i}}(t),N[t](e)):e.localeData().invalidDate()}function L(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;n>=0&&M.test(e);)e=e.replace(M,r),M.lastIndex=0,n-=1;return e}var F={};function U(e,t){var n=e.toLowerCase();F[n]=F[n+"s"]=F[t]=e}function K(e){return"string"==typeof e?F[e]||F[e.toLowerCase()]:void 0}function W(e){var t,n,r={};for(n in e)s(e,n)&&(t=K(n))&&(r[t]=e[n]);return r}var V={};function B(e,t){V[e]=t}function H(e){return e%4==0&&e%100!=0||e%400==0}function J(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function q(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=J(t)),n}function $(e,t){return function(n){return null!=n?(z(this,e,n),r.updateOffset(this,t),this):G(this,e)}}function G(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function z(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&H(e.year())&&1===e.month()&&29===e.date()?(n=q(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),we(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Y,Q=/\d/,Z=/\d\d/,X=/\d{3}/,ee=/\d{4}/,te=/[+-]?\d{6}/,ne=/\d\d?/,re=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,se=/\d{1,4}/,ae=/[+-]?\d{1,6}/,ce=/\d+/,le=/[+-]?\d+/,ue=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,t,n){Y[e]=P(t)?t:function(e,r){return e&&n?n:t}}function fe(e,t){return s(Y,e)?Y[e](t._strict,t._locale):new RegExp(ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o}))))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Y={};var me={};function ye(e,t){var n,r,o=t;for("string"==typeof e&&(e=[e]),l(t)&&(o=function(e,n){n[t]=q(e)}),r=e.length,n=0;n<r;n++)me[e[n]]=o}function ve(e,t){ye(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function be(e,t,n){null!=t&&s(me,e)&&me[e](t,n._a,n,e)}var Se;function we(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?H(e)?29:28:31-r%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},A("M",["MM",2],"Mo",(function(){return this.month()+1})),A("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),A("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),B("month",8),he("M",ne),he("MM",ne,Z),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=q(e)-1})),ye(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[1]=o:f(n).invalidMonth=e}));var Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie=pe,Ee=pe;function Pe(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=Se.call(this._shortMonthsParse,s))?o:null:-1!==(o=Se.call(this._longMonthsParse,s))?o:null:"MMM"===t?-1!==(o=Se.call(this._shortMonthsParse,s))||-1!==(o=Se.call(this._longMonthsParse,s))?o:null:-1!==(o=Se.call(this._longMonthsParse,s))||-1!==(o=Se.call(this._shortMonthsParse,s))?o:null}function De(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=q(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),we(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Te(e){return null!=e?(De(this,e),r.updateOffset(this,!0),this):G(this,"Month")}function xe(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=ge(r[t]),o[t]=ge(o[t]);for(t=0;t<24;t++)i[t]=ge(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function je(e){return H(e)?366:365}A("Y",0,0,(function(){var e=this.year();return e<=9999?x(e,4):"+"+e})),A(0,["YY",2],0,(function(){return this.year()%100})),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),U("year","y"),B("year",1),he("Y",le),he("YY",ne,Z),he("YYYY",se,ee),he("YYYYY",ae,te),he("YYYYYY",ae,te),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):q(e)})),ye("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return q(e)+(q(e)>68?1900:2e3)};var Me=$("FullYear",!0);function Ne(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function Oe(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ae(e,t,n){var r=7+t-n;return-(7+Oe(e,0,r).getUTCDay()-t)%7+r-1}function Re(e,t,n,r,o){var i,s,a=1+7*(t-1)+(7+n-r)%7+Ae(e,r,o);return a<=0?s=je(i=e-1)+a:a>je(e)?(i=e+1,s=a-je(e)):(i=e,s=a),{year:i,dayOfYear:s}}function Le(e,t,n){var r,o,i=Ae(e.year(),t,n),s=Math.floor((e.dayOfYear()-i-1)/7)+1;return s<1?r=s+Fe(o=e.year()-1,t,n):s>Fe(e.year(),t,n)?(r=s-Fe(e.year(),t,n),o=e.year()+1):(o=e.year(),r=s),{week:r,year:o}}function Fe(e,t,n){var r=Ae(e,t,n),o=Ae(e+1,t,n);return(je(e)-r+o)/7}A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),B("week",5),B("isoWeek",5),he("w",ne),he("ww",ne,Z),he("W",ne),he("WW",ne,Z),ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=q(e)}));function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}A("d",0,"do","day"),A("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),A("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),A("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),he("d",ne),he("e",ne),he("E",ne),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),ve(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:f(n).invalidWeekday=e})),ve(["d","e","E"],(function(e,t,n,r){t[r]=q(e)}));var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Be=pe,He=pe,Je=pe;function qe(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=Se.call(this._weekdaysParse,s))?o:null:"ddd"===t?-1!==(o=Se.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Se.call(this._minWeekdaysParse,s))?o:null:"dddd"===t?-1!==(o=Se.call(this._weekdaysParse,s))||-1!==(o=Se.call(this._shortWeekdaysParse,s))||-1!==(o=Se.call(this._minWeekdaysParse,s))?o:null:"ddd"===t?-1!==(o=Se.call(this._shortWeekdaysParse,s))||-1!==(o=Se.call(this._weekdaysParse,s))||-1!==(o=Se.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Se.call(this._minWeekdaysParse,s))||-1!==(o=Se.call(this._weekdaysParse,s))||-1!==(o=Se.call(this._shortWeekdaysParse,s))?o:null}function $e(){function e(e,t){return t.length-e.length}var t,n,r,o,i,s=[],a=[],c=[],l=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=ge(this.weekdaysMin(n,"")),o=ge(this.weekdaysShort(n,"")),i=ge(this.weekdays(n,"")),s.push(r),a.push(o),c.push(i),l.push(r),l.push(o),l.push(i);s.sort(e),a.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ge(){return this.hours()%12||12}function ze(e,t){A(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ye(e,t){return t._meridiemParse}A("H",["HH",2],0,"hour"),A("h",["hh",2],0,Ge),A("k",["kk",2],0,(function(){return this.hours()||24})),A("hmm",0,0,(function(){return""+Ge.apply(this)+x(this.minutes(),2)})),A("hmmss",0,0,(function(){return""+Ge.apply(this)+x(this.minutes(),2)+x(this.seconds(),2)})),A("Hmm",0,0,(function(){return""+this.hours()+x(this.minutes(),2)})),A("Hmmss",0,0,(function(){return""+this.hours()+x(this.minutes(),2)+x(this.seconds(),2)})),ze("a",!0),ze("A",!1),U("hour","h"),B("hour",13),he("a",Ye),he("A",Ye),he("H",ne),he("h",ne),he("k",ne),he("HH",ne,Z),he("hh",ne,Z),he("kk",ne,Z),he("hmm",re),he("hmmss",oe),he("Hmm",re),he("Hmmss",oe),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,n){var r=q(e);t[3]=24===r?0:r})),ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ye(["h","hh"],(function(e,t,n){t[3]=q(e),f(n).bigHour=!0})),ye("hmm",(function(e,t,n){var r=e.length-2;t[3]=q(e.substr(0,r)),t[4]=q(e.substr(r)),f(n).bigHour=!0})),ye("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=q(e.substr(0,r)),t[4]=q(e.substr(r,2)),t[5]=q(e.substr(o)),f(n).bigHour=!0})),ye("Hmm",(function(e,t,n){var r=e.length-2;t[3]=q(e.substr(0,r)),t[4]=q(e.substr(r))})),ye("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=q(e.substr(0,r)),t[4]=q(e.substr(r,2)),t[5]=q(e.substr(o))}));var Qe=$("Hours",!0);var Ze,Xe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:ke,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Ve,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function nt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(t){var n=null;if(void 0===et[t]&&e&&e.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(t))try{n=Ze._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),it(n)}catch(e){et[t]=null}return et[t]}function it(e,t){var n;return e&&((n=c(t)?at(e):st(e,t))?Ze=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ze._abbr}function st(e,t){if(null!==t){var n,r=Xe;if(t.abbr=e,null!=et[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])r=et[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return et[e]=new T(D(r,t)),tt[e]&&tt[e].forEach((function(e){st(e.name,e.config)})),it(e),et[e]}return delete et[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ze;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=rt(e[i]).split("-")).length,n=(n=rt(e[i+1]))?n.split("-"):null;t>0;){if(r=ot(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&nt(o,n)>=t-1)break;t--}i++}return Ze}(e)}function ct(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>we(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var lt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ht=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((-?\d+)/i,gt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function yt(e){var t,n,r,o,i,s,a=e._i,c=lt.exec(a)||ut.exec(a),l=pt.length,u=ht.length;if(c){for(f(e).iso=!0,t=0,n=l;t<n;t++)if(pt[t][1].exec(c[1])){o=pt[t][0],r=!1!==pt[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,n=u;t<n;t++)if(ht[t][1].exec(c[3])){i=(c[2]||" ")+ht[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(c[4]){if(!dt.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=o+(i||"")+(s||""),Ct(e)}else e._isValid=!1}function vt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bt(e){var t,n,r,o,i,s,a,c,l=gt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){if(n=l[4],r=l[3],o=l[2],i=l[5],s=l[6],a=l[7],c=[vt(n),ke.indexOf(r),parseInt(o,10),parseInt(i,10),parseInt(s,10)],a&&c.push(parseInt(a,10)),t=c,!function(e,t,n){return!e||We.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return mt[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(l[8],l[9],l[10]),e._d=Oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function St(e,t,n){return null!=e?e:null!=t?t:n}function wt(e){var t,n,o,i,s,a=[];if(!e._d){for(o=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,o,i,s,a,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,s=4,n=St(t.GG,e._a[0],Le(It(),1,4).year),r=St(t.W,1),((o=St(t.E,1))<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,l=Le(It(),i,s),n=St(t.gg,e._a[0],l.year),r=St(t.w,l.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>Fe(n,i,s)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(a=Re(n,r,o,i,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=St(e._a[0],o[0]),(e._dayOfYear>je(s)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Oe(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=o[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Oe:Ne).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function Ct(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],f(e).empty=!0;var t,n,o,i,s,a,c,l=""+e._i,u=l.length,d=0;for(c=(o=L(e._f,e._locale).match(j)||[]).length,t=0;t<c;t++)i=o[t],(n=(l.match(fe(i,e))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&f(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),d+=n.length),O[i]?(n?f(e).empty=!1:f(e).unusedTokens.push(i),be(i,n,e)):e._strict&&!n&&f(e).unusedTokens.push(i);f(e).charsLeftOver=u-d,l.length>0&&f(e).unusedInput.push(l),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(a=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(a,e._a[0])),wt(e),ct(e)}else bt(e);else yt(e)}function kt(e){var t=e._i,n=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new S(ct(t)):(u(t)?e._d=t:o(n)?function(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(0===c)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<c;o++)i=0,s=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Ct(t),g(t)&&(s=!0),i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,a?i<r&&(r=i,n=t):(null==r||i<r||s)&&(r=i,n=t,s&&(a=!0));p(e,n||t)}(e):n?Ct(e):function(e){var t=e._i;c(t)?e._d=new Date(r.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ft.exec(e._i);null===t?(yt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),wt(e)):i(t)?function(e){if(!e._d){var t=W(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),wt(e)}}(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function _t(e,t,n,r,s){var c,l={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&a(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=r,(c=new S(ct(kt(l))))._nextDay&&(c.add(1,"d"),c._nextDay=void 0),c}function It(e,t,n,r){return _t(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Et=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Pt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Dt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return It();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Tt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xt(e){var t=W(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,r=!1,o=Tt.length;for(t in e)if(s(e,t)&&(-1===Se.call(Tt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<o;++n)if(e[Tt[n]]){if(r)return!1;parseFloat(e[Tt[n]])!==q(e[Tt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+d+1e3*u+6e4*l+1e3*c*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=at(),this._bubble()}function jt(e){return e instanceof xt}function Mt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,t){A(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+x(~~(e/60),2)+t+x(~~e%60,2)}))}Nt("Z",":"),Nt("ZZ",""),he("Z",de),he("ZZ",de),ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=At(de,e)}));var Ot=/([\+\-]|\d\d)/gi;function At(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(Ot)||["-",0,0])[1]+q(n[2]))?0:"+"===n[0]?r:-r}function Rt(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(w(e)||u(e)?e.valueOf():It(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):It(e).local()}function Lt(e){return-Math.round(e._d.getTimezoneOffset())}function Ft(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Kt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var n,r,o,i,a,c,u=e,d=null;return jt(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(u={},t?u[t]=+e:u.milliseconds=+e):(d=Ut.exec(e))?(n="-"===d[1]?-1:1,u={y:0,d:q(d[2])*n,h:q(d[3])*n,m:q(d[4])*n,s:q(d[5])*n,ms:q(Mt(1e3*d[6]))*n}):(d=Kt.exec(e))?(n="-"===d[1]?-1:1,u={y:Vt(d[2],n),M:Vt(d[3],n),w:Vt(d[4],n),d:Vt(d[5],n),h:Vt(d[6],n),m:Vt(d[7],n),s:Vt(d[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(i=It(u.from),a=It(u.to),o=i.isValid()&&a.isValid()?(a=Rt(a,i),i.isBefore(a)?c=Bt(i,a):((c=Bt(a,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),r=new xt(u),jt(e)&&s(e,"_locale")&&(r._locale=e._locale),jt(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Bt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ht(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Jt(this,Wt(n,r),e),this}}function Jt(e,t,n,o){var i=t._milliseconds,s=Mt(t._days),a=Mt(t._months);e.isValid()&&(o=null==o||o,a&&De(e,G(e,"Month")+a*n),s&&z(e,"Date",G(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),o&&r.updateOffset(e,s||a))}Wt.fn=xt.prototype,Wt.invalid=function(){return Wt(NaN)};var qt=Ht(1,"add"),$t=Ht(-1,"subtract");function Gt(e){return"string"==typeof e||e instanceof String}function zt(e){return w(e)||u(e)||Gt(e)||l(e)||function(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Gt(e)})).length),t&&n}(e)||function(e){var t,n,r=i(e)&&!a(e),o=!1,c=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=c.length;for(t=0;t<l;t+=1)n=c[t],o=o||s(e,n);return r&&o}(e)||null==e}function Yt(e){var t,n=i(e)&&!a(e),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)r=r||s(e,o[t]);return n&&r}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xt=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function en(){return this._locale}var tn=1e3,nn=6e4,rn=36e5,on=126227808e5;function sn(e,t){return(e%t+t)%t}function an(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-on:new Date(e,t,n).valueOf()}function cn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-on:Date.UTC(e,t,n)}function ln(e,t){return t.erasAbbrRegex(e)}function un(){var e,t,n=[],r=[],o=[],i=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(ge(s[e].name)),n.push(ge(s[e].abbr)),o.push(ge(s[e].narrow)),i.push(ge(s[e].name)),i.push(ge(s[e].abbr)),i.push(ge(s[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function dn(e,t){A(0,[e,e.length],0,t)}function pn(e,t,n,r,o){var i;return null==e?Le(this,r,o).year:(t>(i=Fe(e,r,o))&&(t=i),hn.call(this,e,t,n,r,o))}function hn(e,t,n,r,o){var i=Re(e,t,n,r,o),s=Oe(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}A("N",0,0,"eraAbbr"),A("NN",0,0,"eraAbbr"),A("NNN",0,0,"eraAbbr"),A("NNNN",0,0,"eraName"),A("NNNNN",0,0,"eraNarrow"),A("y",["y",1],"yo","eraYear"),A("y",["yy",2],0,"eraYear"),A("y",["yyy",3],0,"eraYear"),A("y",["yyyy",4],0,"eraYear"),he("N",ln),he("NN",ln),he("NNN",ln),he("NNNN",(function(e,t){return t.erasNameRegex(e)})),he("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?f(n).era=o:f(n).invalidEra=e})),he("y",ce),he("yy",ce),he("yyy",ce),he("yyyy",ce),he("yo",(function(e,t){return t._eraYearOrdinalRegex||ce})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,o):t[0]=parseInt(e,10)})),A(0,["gg",2],0,(function(){return this.weekYear()%100})),A(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),dn("gggg","weekYear"),dn("ggggg","weekYear"),dn("GGGG","isoWeekYear"),dn("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),he("G",le),he("g",le),he("GG",ne,Z),he("gg",ne,Z),he("GGGG",se,ee),he("gggg",se,ee),he("GGGGG",ae,te),he("ggggg",ae,te),ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=q(e)})),ve(["gg","GG"],(function(e,t,n,o){t[o]=r.parseTwoDigitYear(e)})),A("Q",0,"Qo","quarter"),U("quarter","Q"),B("quarter",7),he("Q",Q),ye("Q",(function(e,t){t[1]=3*(q(e)-1)})),A("D",["DD",2],"Do","date"),U("date","D"),B("date",9),he("D",ne),he("DD",ne,Z),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=q(e.match(ne)[0])}));var fn=$("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),B("dayOfYear",4),he("DDD",ie),he("DDDD",X),ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=q(e)})),A("m",["mm",2],0,"minute"),U("minute","m"),B("minute",14),he("m",ne),he("mm",ne,Z),ye(["m","mm"],4);var gn=$("Minutes",!1);A("s",["ss",2],0,"second"),U("second","s"),B("second",15),he("s",ne),he("ss",ne,Z),ye(["s","ss"],5);var mn,yn,vn=$("Seconds",!1);for(A("S",0,0,(function(){return~~(this.millisecond()/100)})),A(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),A(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),A(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),A(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),A(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),A(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),B("millisecond",16),he("S",ie,Q),he("SS",ie,Z),he("SSS",ie,X),mn="SSSS";mn.length<=9;mn+="S")he(mn,ce);function bn(e,t){t[6]=q(1e3*("0."+e))}for(mn="S";mn.length<=9;mn+="S")ye(mn,bn);yn=$("Milliseconds",!1),A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var Sn=S.prototype;function wn(e){return e}Sn.add=qt,Sn.calendar=function(e,t){1===arguments.length&&(arguments[0]?zt(arguments[0])?(e=arguments[0],t=void 0):Yt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||It(),o=Rt(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",s=t&&(P(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,It(n)))},Sn.clone=function(){return new S(this)},Sn.diff=function(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Rt(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=K(t)){case"year":i=Qt(this,r)/12;break;case"month":i=Qt(this,r);break;case"quarter":i=Qt(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:J(i)},Sn.endOf=function(e){var t,n;if(void 0===(e=K(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?cn:an,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=rn-sn(t+(this._isUTC?0:this.utcOffset()*nn),rn)-1;break;case"minute":t=this._d.valueOf(),t+=nn-sn(t,nn)-1;break;case"second":t=this._d.valueOf(),t+=tn-sn(t,tn)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},Sn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=R(this,e);return this.localeData().postformat(t)},Sn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||It(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sn.fromNow=function(e){return this.from(It(),e)},Sn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||It(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sn.toNow=function(e){return this.to(It(),e)},Sn.get=function(e){return P(this[e=K(e)])?this[e]():this},Sn.invalidAt=function(){return f(this).overflow},Sn.isAfter=function(e,t){var n=w(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=K(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Sn.isBefore=function(e,t){var n=w(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=K(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Sn.isBetween=function(e,t,n,r){var o=w(e)?e:It(e),i=w(t)?t:It(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))},Sn.isSame=function(e,t){var n,r=w(e)?e:It(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=K(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Sn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Sn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Sn.isValid=function(){return g(this)},Sn.lang=Xt,Sn.locale=Zt,Sn.localeData=en,Sn.max=Pt,Sn.min=Et,Sn.parsingFlags=function(){return p({},f(this))},Sn.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:V[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=W(e)),o=r.length;for(n=0;n<o;n++)this[r[n].unit](e[r[n].unit])}else if(P(this[e=K(e)]))return this[e](t);return this},Sn.startOf=function(e){var t,n;if(void 0===(e=K(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?cn:an,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sn(t+(this._isUTC?0:this.utcOffset()*nn),rn);break;case"minute":t=this._d.valueOf(),t-=sn(t,nn);break;case"second":t=this._d.valueOf(),t-=sn(t,tn)}return this._d.setTime(t),r.updateOffset(this,!0),this},Sn.subtract=$t,Sn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Sn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Sn.toDate=function(){return new Date(this.valueOf())},Sn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?R(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",R(n,"Z")):R(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Sn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Sn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Sn.toJSON=function(){return this.isValid()?this.toISOString():null},Sn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Sn.unix=function(){return Math.floor(this.valueOf()/1e3)},Sn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Sn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Sn.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},Sn.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},Sn.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},Sn.eraYear=function(){var e,t,n,o,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return(this.year()-r(i[e].since).year())*n+i[e].offset;return this.year()},Sn.year=Me,Sn.isLeapYear=function(){return H(this.year())},Sn.weekYear=function(e){return pn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Sn.isoWeekYear=function(e){return pn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Sn.quarter=Sn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Sn.month=Te,Sn.daysInMonth=function(){return we(this.year(),this.month())},Sn.week=Sn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Sn.isoWeek=Sn.isoWeeks=function(e){var t=Le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Sn.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},Sn.weeksInWeekYear=function(){var e=this.localeData()._week;return Fe(this.weekYear(),e.dow,e.doy)},Sn.isoWeeksInYear=function(){return Fe(this.year(),1,4)},Sn.isoWeeksInISOWeekYear=function(){return Fe(this.isoWeekYear(),1,4)},Sn.date=fn,Sn.day=Sn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Sn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Sn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Sn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Sn.hour=Sn.hours=Qe,Sn.minute=Sn.minutes=gn,Sn.second=Sn.seconds=vn,Sn.millisecond=Sn.milliseconds=yn,Sn.utcOffset=function(e,t,n){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=At(de,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=Lt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Jt(this,Wt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Lt(this)},Sn.utc=function(e){return this.utcOffset(0,e)},Sn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Lt(this),"m")),this},Sn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=At(ue,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Sn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?It(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Sn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Sn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Sn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Sn.isUtc=Ft,Sn.isUTC=Ft,Sn.zoneAbbr=function(){return this._isUTC?"UTC":""},Sn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Sn.dates=k("dates accessor is deprecated. Use date instead.",fn),Sn.months=k("months accessor is deprecated. Use month instead",Te),Sn.years=k("years accessor is deprecated. Use year instead",Me),Sn.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Sn.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=kt(t))._a?(e=t._isUTC?h(t._a):It(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&q(e[r])!==q(t[r]))&&s++;return s+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Cn=T.prototype;function kn(e,t,n,r){var o=at(),i=h().set(r,t);return o[n](i,e)}function _n(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return kn(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=kn(e,r,n,"month");return o}function In(e,t,n,r){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var o,i=at(),s=e?i._week.dow:0,a=[];if(null!=n)return kn(t,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=kn(t,(o+s)%7,r,"day");return a}Cn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return P(r)?r.call(t,n):r},Cn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(j).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Cn.invalidDate=function(){return this._invalidDate},Cn.ordinal=function(e){return this._ordinal.replace("%d",e)},Cn.preparse=wn,Cn.postformat=wn,Cn.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return P(o)?o(e,t,n,r):o.replace(/%d/i,e)},Cn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return P(n)?n(t):n.replace(/%s/i,t)},Cn.set=function(e){var t,n;for(n in e)s(e,n)&&(P(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Cn.eras=function(e,t){var n,o,i,s=this._eras||at("en")._eras;for(n=0,o=s.length;n<o;++n)switch("string"==typeof s[n].since&&(i=r(s[n].since).startOf("day"),s[n].since=i.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=r(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf()}return s},Cn.erasParse=function(e,t,n){var r,o,i,s,a,c=this.eras();for(e=e.toUpperCase(),r=0,o=c.length;r<o;++r)if(i=c[r].name.toUpperCase(),s=c[r].abbr.toUpperCase(),a=c[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return c[r];break;case"NNNN":if(i===e)return c[r];break;case"NNNNN":if(a===e)return c[r]}else if([i,s,a].indexOf(e)>=0)return c[r]},Cn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},Cn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||un.call(this),e?this._erasAbbrRegex:this._erasRegex},Cn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||un.call(this),e?this._erasNameRegex:this._erasRegex},Cn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||un.call(this),e?this._erasNarrowRegex:this._erasRegex},Cn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||_e).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},Cn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[_e.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Cn.monthsParse=function(e,t,n){var r,o,i;if(this._monthsParseExact)return Pe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Cn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||xe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ee),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Cn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||xe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Ie),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Cn.week=function(e){return Le(e,this._week.dow,this._week.doy).week},Cn.firstDayOfYear=function(){return this._week.doy},Cn.firstDayOfWeek=function(){return this._week.dow},Cn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(n,this._week.dow):e?n[e.day()]:n},Cn.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Cn.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Cn.weekdaysParse=function(e,t,n){var r,o,i;if(this._weekdaysParseExact)return qe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Cn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Be),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Cn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=He),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Cn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Cn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Cn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},it("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===q(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",it),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",at);var En=Math.abs;function Pn(e,t,n,r){var o=Wt(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function Dn(e){return e<0?Math.floor(e):Math.ceil(e)}function Tn(e){return 4800*e/146097}function xn(e){return 146097*e/4800}function jn(e){return function(){return this.as(e)}}var Mn=jn("ms"),Nn=jn("s"),On=jn("m"),An=jn("h"),Rn=jn("d"),Ln=jn("w"),Fn=jn("M"),Un=jn("Q"),Kn=jn("y");function Wn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Vn=Wn("milliseconds"),Bn=Wn("seconds"),Hn=Wn("minutes"),Jn=Wn("hours"),qn=Wn("days"),$n=Wn("months"),Gn=Wn("years");var zn=Math.round,Yn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qn(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var Zn=Math.abs;function Xn(e){return(e>0)-(e<0)||+e}function er(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,s,a,c=Zn(this._milliseconds)/1e3,l=Zn(this._days),u=Zn(this._months),d=this.asSeconds();return d?(e=J(c/60),t=J(e/60),c%=60,e%=60,n=J(u/12),u%=12,r=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=Xn(this._months)!==Xn(d)?"-":"",s=Xn(this._days)!==Xn(d)?"-":"",a=Xn(this._milliseconds)!==Xn(d)?"-":"",o+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(l?s+l+"D":"")+(t||e||c?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(c?a+r+"S":"")):"P0D"}var tr=xt.prototype;return tr.isValid=function(){return this._isValid},tr.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},tr.add=function(e,t){return Pn(this,e,t,1)},tr.subtract=function(e,t){return Pn(this,e,t,-1)},tr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=K(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Tn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(xn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},tr.asMilliseconds=Mn,tr.asSeconds=Nn,tr.asMinutes=On,tr.asHours=An,tr.asDays=Rn,tr.asWeeks=Ln,tr.asMonths=Fn,tr.asQuarters=Un,tr.asYears=Kn,tr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12):NaN},tr._bubble=function(){var e,t,n,r,o,i=this._milliseconds,s=this._days,a=this._months,c=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*Dn(xn(a)+s),s=0,a=0),c.milliseconds=i%1e3,e=J(i/1e3),c.seconds=e%60,t=J(e/60),c.minutes=t%60,n=J(t/60),c.hours=n%24,s+=J(n/24),a+=o=J(Tn(s)),s-=Dn(xn(o)),r=J(a/12),a%=12,c.days=s,c.months=a,c.years=r,this},tr.clone=function(){return Wt(this)},tr.get=function(e){return e=K(e),this.isValid()?this[e+"s"]():NaN},tr.milliseconds=Vn,tr.seconds=Bn,tr.minutes=Hn,tr.hours=Jn,tr.days=qn,tr.weeks=function(){return J(this.days()/7)},tr.months=$n,tr.years=Gn,tr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=Yn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},Yn,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=function(e,t,n,r){var o=Wt(e).abs(),i=zn(o.as("s")),s=zn(o.as("m")),a=zn(o.as("h")),c=zn(o.as("d")),l=zn(o.as("M")),u=zn(o.as("w")),d=zn(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(p=p||u<=1&&["w"]||u<n.w&&["ww",u]),(p=p||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,p[3]=+e>0,p[4]=r,Qn.apply(null,p)}(this,!o,i,n=this.localeData()),o&&(r=n.pastFuture(+this,r)),n.postformat(r)},tr.toISOString=er,tr.toString=er,tr.toJSON=er,tr.locale=Zt,tr.localeData=en,tr.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",er),tr.lang=Xt,A("X",0,0,"unix"),A("x",0,0,"valueOf"),he("x",le),he("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,n){n._d=new Date(q(e))})),r.version="2.29.4",t=It,r.fn=Sn,r.min=function(){return Dt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Dt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=h,r.unix=function(e){return It(1e3*e)},r.months=function(e,t){return _n(e,t,"months")},r.isDate=u,r.locale=it,r.invalid=m,r.duration=Wt,r.isMoment=w,r.weekdays=function(e,t,n){return In(e,t,n,"weekdays")},r.parseZone=function(){return It.apply(null,arguments).parseZone()},r.localeData=at,r.isDuration=jt,r.monthsShort=function(e,t){return _n(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return In(e,t,n,"weekdaysMin")},r.defineLocale=st,r.updateLocale=function(e,t){if(null!=t){var n,r,o=Xe;null!=et[e]&&null!=et[e].parentLocale?et[e].set(D(et[e]._config,t)):(null!=(r=ot(e))&&(o=r._config),t=D(o,t),null==r&&(t.abbr=e),(n=new T(t)).parentLocale=et[e],et[e]=n),it(e)}else null!=et[e]&&(null!=et[e].parentLocale?(et[e]=et[e].parentLocale,e===it()&&it(e)):null!=et[e]&&delete et[e]);return et[e]},r.locales=function(){return _(et)},r.weekdaysShort=function(e,t,n){return In(e,t,n,"weekdaysShort")},r.normalizeUnits=K,r.relativeTimeRounding=function(e){return void 0===e?zn:"function"==typeof e&&(zn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Yn[e]&&(void 0===t?Yn[e]:(Yn[e]=t,"s"===e&&(Yn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=Sn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},84266:function(e){"use strict";!function(t){var n,r=/^[$_a-z][$_a-z0-9]*$/i;function o(e){var t,n,o,i,s,a,c,l={},u=0,d="",p=!1;for(t=0;t<e.length;++t)if(n=e[t],i=(o=e[t+1])+e[t+2],d+=n,"\\"===n)if(p||"k<"!==i)d+=o,++t;else{if((s=e.indexOf(">",t+3))<0)throw new Error("'>' missing in named backreference.");if(!(c=l[a=e.substring(t+3,s)]))throw new Error("Named group '"+a+"' is not defined in backreference.");if("number"!=typeof c)throw new Error("Named backreference referencing duplicate named group '"+a+"'.");t=s,d+=c}else if(p)"]"===n&&(p=!1);else if("["===n)p=!0;else if("("===n&&"?:"!==i&&"?="!==i&&"?!"!==i&&(u++,"?<"===i||":<"===i)){if((s=e.indexOf(">",t+3))<0)throw new Error("'>' missing in named group.");if(a=e.substring(t+3,s),!r.test(a))throw new Error("Invalide group name '"+a+"'. Regexp group name should start with '_$a-zA-Z' and can contain only '_$a-zA-Z0-9'.");void 0===(c=l[a])?l[a]=u:"number"==typeof c?l[a]=[c,u]:c.push(u),t=s}return{mapper:l,regexText:d}}e.exports=function(e,t){if("boolean"!=typeof e){"string"!=typeof e&&(t=(e.global?"g":"")+(e.multiline?"m":"")+(e.ignoreCase?"i":""),e=e.source);var r=n?n[e]||(n[e]=o(e)):o(e),i=new RegExp(r.regexText,t);return i.groupsIndices=r.mapper,i.exec=function(e){var t=RegExp.prototype.exec.call(this,e);return t&&s(t),t},i.execGroups=function(e,t){var n=this.exec(e);return n?n.groups(t):null},i.replace=function(e,t){if("function"==typeof t)return e.replace(i,(function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-2);return s(e),t.apply(e,arguments)}));var n=function(e,t){var n,r,o,i,s,a,c="";for(n=0;n<e.length;++n)if(r=e[n],o=e[n+1],c+=r,"$"===r)if("$"===o)c+=o,++n;else if("{"===o){if((s=e.indexOf("}",n+2))<0)throw new Error("'>' missing in replacement named group.");if(void 0===(a=t[i=e.substring(n+2,s)]))throw new Error("Named group '"+i+"' is not defined in replacement text.");if("number"!=typeof a)throw new Error("Named replacement referencing duplicate named group '"+i+"'.");c+=a,n=s}return c}(t,this.groupsIndices);return e.replace(this,n)},i}function s(e){var t,n,o=r.mapper;return e.group=function(t,n){var r=o[t];if("number"==typeof r)return e[r];if(n)return r.map((function(t){return e[t]}));if(r)for(var i=0;i<r.length;++i){var s=e[r[i]];if(void 0!==s)return s}},e.groups=function(r){var i=r?n:t;if(i)return i;for(var s in i={},o)i[s]=e.group(s,r);return r?n=i:t=i},e}!1===e?n=void 0:n||(n={})}}("undefined"==typeof window||window)},83300:(e,t)=>{"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},26470:(e,t,n)=>{"use strict";var r=n(34155);function o(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function i(e,t){for(var n,r="",o=0,i=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(i===a-1||1===s);else if(i!==a-1&&2===s){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",o=0):o=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),i=a,s=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),o=a-i-1;i=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var s={resolve:function(){for(var e,t="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(void 0===e&&(e=r.cwd()),a=e),o(a),0!==a.length&&(t=a+"/"+t,n=47===a.charCodeAt(0))}return t=i(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(o(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=i(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return o(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];o(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":s.normalize(e)},relative:function(e,t){if(o(e),o(t),e===t)return"";if((e=s.resolve(e))===(t=s.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,i=r-n,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var c=t.length-a,l=i<c?i:c,u=-1,d=0;d<=l;++d){if(d===l){if(c>l){if(47===t.charCodeAt(a+d))return t.slice(a+d+1);if(0===d)return t.slice(a+d)}else i>l&&(47===e.charCodeAt(n+d)?u=d:0===d&&(u=0));break}var p=e.charCodeAt(n+d);if(p!==t.charCodeAt(a+d))break;47===p&&(u=d)}var h="";for(d=n+u+1;d<=r;++d)d!==r&&47!==e.charCodeAt(d)||(0===h.length?h+="..":h+="/..");return h.length>0?h+t.slice(a+u):(a+=u,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(o(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!i){r=s;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');o(e);var n,r=0,i=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(n=e.length-1;n>=0;--n){var l=e.charCodeAt(n);if(47===l){if(!s){r=n+1;break}}else-1===c&&(s=!1,c=n+1),a>=0&&(l===t.charCodeAt(a)?-1==--a&&(i=n):(a=-1,i=c))}return r===i?i=c:-1===i&&(i=e.length),e.slice(r,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){r=n+1;break}}else-1===i&&(s=!1,i=n+1);return-1===i?"":e.slice(r,i)},extname:function(e){o(e);for(var t=-1,n=0,r=-1,i=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===r&&(i=!1,r=a+1),46===c?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===s||1===s&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){o(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=e.charCodeAt(0),i=47===r;i?(t.root="/",n=1):n=0;for(var s=-1,a=0,c=-1,l=!0,u=e.length-1,d=0;u>=n;--u)if(47!==(r=e.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===r?-1===s?s=u:1!==d&&(d=1):-1!==s&&(d=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===d||1===d&&s===c-1&&s===a+1?-1!==c&&(t.base=t.name=0===a&&i?e.slice(1,c):e.slice(a,c)):(0===a&&i?(t.name=e.slice(1,s),t.base=e.slice(1,c)):(t.name=e.slice(a,s),t.base=e.slice(a,c)),t.ext=e.slice(s,c)),a>0?t.dir=e.slice(0,a-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,e.exports=s},34155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},57129:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,i,s=[];for(i in"string"!=typeof t&&(t="?"),e)if(n.call(e,i)){if((r=e[i])||null!=r&&!isNaN(r)||(r=""),i=o(i),r=o(r),null===i||null===r)continue;s.push(i+"="+r)}return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,o={};t=n.exec(e);){var i=r(t[1]),s=r(t[2]);null===i||null===s||i in o||(o[i]=s)}return o}},69189:(e,t,n)=>{var r=n(35717),o=n(17187).EventEmitter;function i(e){if(!(this instanceof i))return new i(e);o.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}function s(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function a(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",(function r(o){t.removeListener("error",n),t.removeListener("end",r),e(o,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}e.exports=i,e.exports.default=i,r(i,o),["pop","shift","indexOf","lastIndexOf"].forEach((function(e){i.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),i.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},i.prototype.reverse=function(){return this.jobs.reverse(),this},["push","unshift","splice"].forEach((function(e){i.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(i.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),i.prototype.start=function(e){if(e&&a.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),r=!0,o=this.session,i=null,s=!1,l=null,u=n.hasOwnProperty("timeout")?n.timeout:this.timeout;u&&(i=setTimeout((function(){s=!0,t.listeners("timeout").length>0?t.emit("timeout",p,n):p()}),u),this.timers[i]=i),this.results&&(l=this.results.length,this.results[l]=null),this.pending++,t.emit("start",n);var d=n(p);d&&d.then&&"function"==typeof d.then&&d.then((function(e){return p(null,e)})).catch((function(e){return p(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function p(e,a){r&&t.session===o&&(r=!1,t.pending--,null!==i&&(delete t.timers[i],clearTimeout(i)),e?t.emit("error",e,n):!1===s&&(null!==l&&(t.results[l]=Array.prototype.slice.call(arguments,1)),t.emit("success",a,n)),t.session===o&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},i.prototype.stop=function(){this.running=!1},i.prototype.end=function(e){s.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},28660:(e,t,n)=>{var r,o=n(34155);!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=s(e);function s(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:i=s(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,c=!s&&!a,l={create:s?function(){return R(Object.create(null))}:a?function(){return R({__proto__:null})}:function(){return R({})},has:c?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:c?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),d=o.env&&"true"===o.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function s(e,t){return[e,t]}}():Map,h=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,f=new(d||"function"!=typeof WeakMap?function(){var e=l.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+s()}while(l.has(e,t));return e[t]=!0,t}function o(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function i(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):i(new Uint8Array(e),e):i(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<16;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function g(e,t,n){var r=f.get(e);if(_(r)){if(!n)return;r=new p,f.set(e,r)}var o=r.get(t);if(_(o)){if(!n)return;o=new p,r.set(t,o)}return o}function m(e,t,n){if(y(e,t,n))return!0;var r=A(t);return!I(r)&&m(e,r,n)}function y(e,t,n){var r=g(t,n,!1);return!_(r)&&!!r.has(e)}function v(e,t,n){if(y(e,t,n))return b(e,t,n);var r=A(t);return I(r)?void 0:v(e,r,n)}function b(e,t,n){var r=g(t,n,!1);if(!_(r))return r.get(e)}function S(e,t,n,r){g(n,r,!0).set(e,t)}function w(e,t){var n=C(e,t),r=A(e);if(null===r)return n;var o=w(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new h,s=[],a=0,c=n;a<c.length;a++){var l=c[a];i.has(l)||(i.add(l),s.push(l))}for(var u=0,d=o;u<d.length;u++)l=d[u],i.has(l)||(i.add(l),s.push(l));return s}function C(e,t){var n=[],r=g(e,t,!1);if(_(r))return n;for(var o=function(e){var t=M(e,i);if(!x(t))throw new TypeError;var n=t.call(e);if(!E(n))throw new TypeError;return n}(r.keys()),s=0;;){var a=N(o);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(e){try{O(o)}finally{throw e}}s++}}function k(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function _(e){return void 0===e}function I(e){return null===e}function E(e){return"object"==typeof e?null!==e:"function"==typeof e}function P(e,t){switch(k(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=M(e,r);if(void 0!==o){var i=o.call(e,n);if(E(i))throw new TypeError;return i}return function(e,t){if("string"===t){var n=e.toString;if(x(n)&&!E(o=n.call(e)))return o;if(x(r=e.valueOf)&&!E(o=r.call(e)))return o}else{var r;if(x(r=e.valueOf)&&!E(o=r.call(e)))return o;var o,i=e.toString;if(x(i)&&!E(o=i.call(e)))return o}throw new TypeError}(e,"default"===n?"number":n)}function D(e){var t=P(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function T(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function x(e){return"function"==typeof e}function j(e){return"function"==typeof e}function M(e,t){var n=e[t];if(null!=n){if(!x(n))throw new TypeError;return n}}function N(e){var t=e.next();return!t.done&&t}function O(e){var t=e.return;t&&t.call(e)}function A(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function R(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(_(n)){if(!T(e))throw new TypeError;if(!j(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!_(r)&&!I(r)){if(!j(r))throw new TypeError;t=r}}return t}(e,t)}if(!T(e))throw new TypeError;if(!E(t))throw new TypeError;if(!E(r)&&!_(r)&&!I(r))throw new TypeError;return I(r)&&(r=void 0),function(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!_(i)&&!I(i)){if(!E(i))throw new TypeError;r=i}}return r}(e,t,n=D(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!E(n))throw new TypeError;if(!_(r)&&!function(e){switch(k(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;S(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!E(n))throw new TypeError;return _(r)||(r=D(r)),S(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!E(t))throw new TypeError;return _(n)||(n=D(n)),m(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!E(t))throw new TypeError;return _(n)||(n=D(n)),y(e,t,n)})),e("getMetadata",(function(e,t,n){if(!E(t))throw new TypeError;return _(n)||(n=D(n)),v(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!E(t))throw new TypeError;return _(n)||(n=D(n)),b(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!E(e))throw new TypeError;return _(t)||(t=D(t)),w(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!E(e))throw new TypeError;return _(t)||(t=D(t)),C(e,t)})),e("deleteMetadata",(function(e,t,n){if(!E(t))throw new TypeError;_(n)||(n=D(n));var r=g(t,n,!1);if(_(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=f.get(t);return o.delete(n),o.size>0||f.delete(t),!0}))}(i)}()}(r||(r={}))},47418:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},26765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50417);t.ReplaySubject=r.ReplaySubject},37875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(26765))},50417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArgumentOutOfRangeError:()=>A.W,AsyncSubject:()=>y,BehaviorSubject:()=>g,ConnectableObservable:()=>u,EMPTY:()=>ge.E,EmptyError:()=>R.K,GroupedObservable:()=>p.T,NEVER:()=>Me,Notification:()=>x.P,NotificationKind:()=>x.W,ObjectUnsubscribedError:()=>f.N,Observable:()=>r.y,ReplaySubject:()=>m.t,Scheduler:()=>T.b,Subject:()=>i.xQ,Subscriber:()=>s.L,Subscription:()=>a.w,TimeoutError:()=>F.W,UnsubscriptionError:()=>L.B,VirtualAction:()=>D,VirtualTimeScheduler:()=>P,animationFrame:()=>E,animationFrameScheduler:()=>I,asap:()=>v.e,asapScheduler:()=>v.E,async:()=>C,asyncScheduler:()=>w,bindCallback:()=>B,bindNodeCallback:()=>q,combineLatest:()=>Y.aj,concat:()=>fe,config:()=>it.v,defer:()=>me,empty:()=>ge.c,forkJoin:()=>ve,from:()=>ae,fromEvent:()=>we,fromEventPattern:()=>ke,generate:()=>_e,identity:()=>N.y,iif:()=>Ee,interval:()=>De,isObservable:()=>O,merge:()=>je,never:()=>Ne,noop:()=>M.Z,observable:()=>h.L,of:()=>Q.of,onErrorResumeNext:()=>Oe,pairs:()=>Ae,partition:()=>We,pipe:()=>j.z,queue:()=>k.c,queueScheduler:()=>k.N,race:()=>He,range:()=>$e.w,scheduled:()=>se,throwError:()=>Ge._,timer:()=>ze,using:()=>Qe,zip:()=>Xe});var r=n(61244),o=n(35987),i=n(70211),s=n(10979),a=n(98760),c=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return o.ZT(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(s.L),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return o.ZT(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.w).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.w.EMPTY)),e},t.prototype.refCount=function(){return(e=this).lift(new c(e));var e},t}(r.y),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return o.ZT(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.Yc),p=(s.L,n(11120)),h=n(15050),f=n(41016),g=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o.ZT(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new f.N;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.xQ),m=n(32993),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return o.ZT(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),a.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),a.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.xQ),v=n(77681),b=n(96114),S=n(78399),w=new S.v(b.o),C=w,k=n(92546),_=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return o.ZT(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(b.o),I=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(S.v))(_),E=I,P=function(e){function t(t,n){void 0===t&&(t=D),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return o.ZT(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(S.v),D=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return o.ZT(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(b.o),T=n(38725),x=n(42632),j=n(62561),M=n(33306),N=n(43608);function O(e){return!!e&&(e instanceof r.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var A=n(76565),R=n(26929),L=n(28782),F=n(81462),U=n(55709),K=n(93642),W=n(59026),V=n(17507);function B(e,t,n){if(t){if(!(0,V.K)(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return B(e,n).apply(void 0,r).pipe((0,U.U)((function(e){return(0,W.k)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i,s=this,a={context:s,subject:i,callbackFunc:e,scheduler:n};return new r.y((function(r){if(n){var o={args:t,subscriber:r,params:a};return n.schedule(H,0,o)}if(!i){i=new y;try{e.apply(s,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(e){(0,K._)(i)?i.error(e):console.warn(e)}}return i.subscribe(r)}))}}function H(e){var t=this,n=e.args,r=e.subscriber,o=e.params,i=o.callbackFunc,s=o.context,a=o.scheduler,c=o.subject;if(!c){c=o.subject=new y;try{i.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(a.schedule(J,0,{value:r,subject:c}))}]))}catch(e){c.error(e)}}this.add(c.subscribe(r))}function J(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function q(e,t,n){if(t){if(!(0,V.K)(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return q(e,n).apply(void 0,r).pipe((0,U.U)((function(e){return(0,W.k)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.y((function(r){var o=i.context,s=i.subject;if(n)return n.schedule($,0,{params:i,subscriber:r,context:o});if(!s){s=i.subject=new y;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?s.error(n):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){(0,K._)(s)?s.error(e):console.warn(e)}}return s.subscribe(r)}))}}function $(e){var t=this,n=e.params,r=e.subscriber,o=e.context,i=n.callbackFunc,s=n.args,a=n.scheduler,c=n.subject;if(!c){c=n.subject=new y;try{i.apply(o,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(a.schedule(z,0,{err:r,subject:c}));else{var o=e.length<=1?e[0]:e;t.add(a.schedule(G,0,{value:o,subject:c}))}}]))}catch(e){this.add(a.schedule(z,0,{err:e,subject:c}))}}this.add(c.subscribe(r))}function G(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function z(e){var t=e.err;e.subject.error(t)}var Y=n(75142),Q=n(18170),Z=n(84551),X=n(73049),ee=n(53109),te=n(91275),ne=n(76208),re=n(70336),oe=n(39217),ie=n(6727);function se(e,t){if(null!=e){if((0,ne.c)(e))return function(e,t){return new r.y((function(n){var r=new a.w;return r.add(t.schedule((function(){var o=e[h.L]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if((0,re.t)(e))return(0,X.c)(e,t);if((0,oe.z)(e))return(0,ee.r)(e,t);if((0,ie.T)(e)||"string"==typeof e)return(0,te.Q)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function ae(e,t){return t?se(e,t):e instanceof r.y?e:new r.y((0,Z.s)(e))}var ce=n(17604);function le(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(le((function(n,r){return ae(e(n,r)).pipe((0,U.U)((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ue(e,n))})}var ue=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new de(e,this.project,this.concurrent))},e}(),de=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o.ZT(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new ce.IY(this),n=this.destination;n.add(t);var r=(0,ce.ft)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(ce.Ds);function pe(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),le(N.y,e)}function he(){return pe(1)}function fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return he()(Q.of.apply(void 0,e))}var ge=n(5631);function me(e){return new r.y((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?ae(n):(0,ge.c)()).subscribe(t)}))}var ye=n(92009);function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if((0,W.k)(n))return be(n,null);if((0,ye.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return be(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return be(e=1===e.length&&(0,W.k)(e[0])?e[0]:e,null).pipe((0,U.U)((function(e){return o.apply(void 0,e)})))}return be(e,null)}function be(e,t){return new r.y((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),i=0,s=0,a=function(a){var c=ae(e[a]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,s++),o[a]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&l||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},c=0;c<r;c++)a(c);else n.complete()}))}var Se=n(14156);function we(e,t,n,o){return(0,Se.m)(n)&&(o=n,n=void 0),o?we(e,t,n).pipe((0,U.U)((function(e){return(0,W.k)(e)?o.apply(void 0,e):o(e)}))):new r.y((function(r){Ce(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function Ce(e,t,n,r,o){var i;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,o),i=function(){return s.removeEventListener(t,n,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,n),i=function(){return a.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),i=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,u=e.length;l<u;l++)Ce(e[l],t,n,r,o)}r.add(i)}function ke(e,t,n){return n?ke(e,t).pipe((0,U.U)((function(e){return(0,W.k)(e)?n.apply(void 0,e):n(e)}))):new r.y((function(n){var r,o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(o)}catch(e){return void n.error(e)}if((0,Se.m)(t))return function(){return t(o,r)}}))}function _e(e,t,n,o,i){var s,a;if(1==arguments.length){var c=e;a=c.initialState,t=c.condition,n=c.iterate,s=c.resultSelector||N.y,i=c.scheduler}else void 0===o||(0,V.K)(o)?(a=e,s=N.y,i=o):(a=e,s=o);return new r.y((function(e){var r=a;if(i)return i.schedule(Ie,0,{subscriber:e,iterate:n,condition:t,resultSelector:s,state:r});for(;;){if(t){var o=void 0;try{o=t(r)}catch(t){return void e.error(t)}if(!o){e.complete();break}}var c=void 0;try{c=s(r)}catch(t){return void e.error(t)}if(e.next(c),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function Ie(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function Ee(e,t,n){return void 0===t&&(t=ge.E),void 0===n&&(n=ge.E),me((function(){return e()?t:n}))}var Pe=n(35812);function De(e,t){return void 0===e&&(e=0),void 0===t&&(t=C),(!(0,Pe.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=C),new r.y((function(n){return n.add(t.schedule(Te,e,{subscriber:n,counter:0,period:e})),n}))}function Te(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var xe=n(43375);function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,o=null,i=e[e.length-1];return(0,V.K)(i)?(o=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof i&&(n=e.pop()),null===o&&1===e.length&&e[0]instanceof r.y?e[0]:pe(n)((0,xe.n)(e,o))}var Me=new r.y(M.Z);function Ne(){return Me}function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return ge.E;var n=e[0],o=e.slice(1);return 1===e.length&&(0,W.k)(n)?Oe.apply(void 0,n):new r.y((function(e){var t=function(){return e.add(Oe.apply(void 0,o).subscribe(e))};return ae(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function Ae(e,t){return t?new r.y((function(n){var r=Object.keys(e),o=new a.w;return o.add(t.schedule(Re,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o})):new r.y((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var o=n[r];e.hasOwnProperty(o)&&t.next([o,e[o]])}t.complete()}))}function Re(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription,i=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,i[s]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}var Le=n(18463);function Fe(e,t){return function(n){return n.lift(new Ue(e,t))}}var Ue=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ke(e,this.predicate,this.thisArg))},e}(),Ke=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return o.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(s.L);function We(e,t,n){return[Fe(t,n)(new r.y((0,Z.s)(e))),Fe((0,Le.f)(t,n))(new r.y((0,Z.s)(e)))]}var Ve=n(62039),Be=n(47407);function He(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,W.k)(e[0]))return e[0];e=e[0]}return(0,xe.n)(e,void 0).lift(new Je)}var Je=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new qe(e))},e}(),qe=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return o.ZT(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],o=(0,Be.D)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)},t}(Ve.L),$e=n(31898),Ge=n(64944);function ze(e,t,n){void 0===e&&(e=0);var o=-1;return(0,Pe.k)(t)?o=Number(t)<1?1:Number(t):(0,V.K)(t)&&(n=t),(0,V.K)(n)||(n=C),new r.y((function(t){var r=(0,Pe.k)(e)?e:+e-n.now();return n.schedule(Ye,r,{index:0,period:o,subscriber:t})}))}function Ye(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Qe(e,t){return new r.y((function(n){var r,o;try{r=e()}catch(e){return void n.error(e)}try{o=t(r)}catch(e){return void n.error(e)}var i=(o?ae(o):ge.E).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}}))}var Ze=n(999);function Xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,xe.n)(e,void 0).lift(new et(n))}var et=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new tt(e,this.resultSelector))},e}(),tt=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var o=e.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:void 0,o}return o.ZT(t,e),t.prototype._next=function(e){var t=this.iterators;(0,W.k)(e)?t.push(new rt(e)):"function"==typeof e[Ze.hZ]?t.push(new nt(e[Ze.hZ]())):t.push(new ot(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return;var o=!1,i=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(o=!0),a.done)return void n.complete();i.push(a.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L),nt=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),rt=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Ze.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),ot=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return o.ZT(t,e),t.prototype[Ze.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,ce.ft)(this.observable,new ce.IY(this))},t}(ce.Ds),it=n(30150)},25472:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AjaxError:()=>M,AjaxObservable:()=>T,AjaxResponse:()=>j,AjaxSubscriber:()=>x,AjaxTimeoutError:()=>O,AnonymousSubject:()=>a.ug,ArgumentOutOfRangeError:()=>ee.W,CombineLatestOperator:()=>W.Ms,EmptyError:()=>te.K,GroupedObservable:()=>G.T,Immediate:()=>ne.H,InnerSubscriber:()=>o.d,ObjectUnsubscribedError:()=>re.N,OuterSubscriber:()=>i.L,Scheduler:()=>s.b,SubjectSubscription:()=>c.W,SubscribeOnObservable:()=>J,Subscriber:()=>l.L,TimeInterval:()=>$,TimeoutError:()=>oe.W,Timestamp:()=>q,UnsubscriptionError:()=>ie.B,WebSocketSubject:()=>U,ajax:()=>A,ajaxDelete:()=>_,ajaxGet:()=>C,ajaxGetJSON:()=>D,ajaxPatch:()=>E,ajaxPost:()=>k,ajaxPut:()=>I,applyMixins:()=>se,config:()=>r.v,defaultThrottleConfig:()=>Y,dispatch:()=>V.W,errorObject:()=>ae,fromIterable:()=>m,fromPromise:()=>h,hostReportError:()=>ce.z,identity:()=>le.y,isArray:()=>ue.k,isArrayLike:()=>de.z,isDate:()=>pe,isFunction:()=>fe.m,isIterable:()=>ge.T,isNumeric:()=>H.k,isObject:()=>me.K,isObservable:()=>ye.c,isPromise:()=>ve.t,isScheduler:()=>be.K,iterator:()=>Z.hZ,noop:()=>Se.Z,not:()=>we.f,observable:()=>X.L,pipe:()=>Ce.z,root:()=>w,rxSubscriber:()=>Q.b,subscribeTo:()=>ke.s,subscribeToArray:()=>_e.V,subscribeToIterable:()=>f.u,subscribeToObservable:()=>Ie.h,subscribeToPromise:()=>d.A,subscribeToResult:()=>Ee.D,toSubscriber:()=>Pe.Y,tryCatch:()=>Te,webSocket:()=>K});var r=n(30150),o=n(81112),i=n(62039),s=n(38725),a=n(70211),c=n(18253),l=n(10979),u=n(61244),d=n(51203),p=n(73049);function h(e,t){return t?(0,p.c)(e,t):new u.y((0,d.A)(e))}var f=n(52949),g=n(91275);function m(e,t){if(!e)throw new Error("Iterable cannot be null");return t?(0,g.Q)(e,t):new u.y((0,f.u)(e))}var y=n(35987),v="undefined"!=typeof window&&window,b="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,S=void 0!==n.g&&n.g,w=v||S||b;function C(e,t){return void 0===t&&(t=null),new T({method:"GET",url:e,headers:t})}function k(e,t,n){return new T({method:"POST",url:e,body:t,headers:n})}function _(e,t){return new T({method:"DELETE",url:e,headers:t})}function I(e,t,n){return new T({method:"PUT",url:e,body:t,headers:n})}function E(e,t,n){return new T({method:"PATCH",url:e,body:t,headers:n})}var P=(0,n(55709).U)((function(e,t){return e.response}));function D(e,t){return P(new T({method:"GET",url:e,responseType:"json",headers:t}))}var T=function(e){function t(t){var n=e.call(this)||this,r={async:!0,createXHR:function(){return this.crossDomain?function(){if(w.XMLHttpRequest)return new w.XMLHttpRequest;if(w.XDomainRequest)return new w.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(w.XMLHttpRequest)return new w.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new w.ActiveXObject(e))break}catch(e){}return new w.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);return n.request=r,n}var n;return y.ZT(t,e),t.prototype._subscribe=function(e){return new x(e,this.request)},t.create=((n=function(e){return new t(e)}).get=C,n.post=k,n.delete=_,n.put=I,n.patch=E,n.getJSON=D,n),t}(u.y),x=function(e){function t(t,n){var r=e.call(this,t)||this;r.request=n,r.done=!1;var o=n.headers=n.headers||{};return n.crossDomain||r.getHeader(o,"X-Requested-With")||(o["X-Requested-With"]="XMLHttpRequest"),r.getHeader(o,"Content-Type")||w.FormData&&n.body instanceof w.FormData||void 0===n.body||(o["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=r.serializeBody(n.body,r.getHeader(n.headers,"Content-Type")),r.send(),r}return y.ZT(t,e),t.prototype.next=function(e){this.done=!0;var t,n=this,r=n.xhr,o=n.request,i=n.destination;try{t=new j(e,r,o)}catch(e){return i.error(e)}i.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,n=t.user,r=t.method,o=t.url,i=t.async,s=t.password,a=t.headers,c=t.body;try{var l=this.xhr=e.createXHR();this.setupEvents(l,e),n?l.open(r,o,i,n,s):l.open(r,o,i),i&&(l.timeout=e.timeout,l.responseType=e.responseType),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),this.setHeaders(l,a),c?l.send(c):l.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(w.FormData&&e instanceof w.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.getHeader=function(e,t){for(var n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]},t.prototype.setupEvents=function(e,t){var n,r,o=t.progressSubscriber;function i(e){var t,n=i,r=n.subscriber,o=n.progressSubscriber,s=n.request;o&&o.error(e);try{t=new O(this,s)}catch(e){t=e}r.error(t)}(e.ontimeout=i,i.request=t,i.subscriber=this,i.progressSubscriber=o,e.upload&&"withCredentials"in e)&&(o&&(n=function(e){n.progressSubscriber.next(e)},w.XDomainRequest?e.onprogress=n:e.upload.onprogress=n,n.progressSubscriber=o),r=function(e){var t,n=r,o=n.progressSubscriber,i=n.subscriber,s=n.request;o&&o.error(e);try{t=new M("ajax error",this,s)}catch(e){t=e}i.error(t)},e.onerror=r,r.request=t,r.subscriber=this,r.progressSubscriber=o);function s(e){}function a(e){var t=a,n=t.subscriber,r=t.progressSubscriber,o=t.request;if(4===this.readyState){var i=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===i&&(i=s?200:0),i<400)r&&r.complete(),n.next(e),n.complete();else{r&&r.error(e);var c=void 0;try{c=new M("ajax error "+i,this,o)}catch(e){c=e}n.error(c)}}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=o,s.request=t,e.onload=a,a.subscriber=this,a.progressSubscriber=o,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,n=this.xhr;!t&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(l.L),j=function(){return function(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=N(this.responseType,t)}}(),M=function(){function e(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=N(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}();function N(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}var O=function(e,t){return M.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},A=function(){return T.create}(),R=n(98760),L=n(32993),F={url:"",deserializer:function(e){return JSON.parse(e.data)},serializer:function(e){return JSON.stringify(e)}},U=function(e){function t(t,n){var r=e.call(this)||this;if(t instanceof u.y)r.destination=n,r.source=t;else{var o=r._config=y.pi({},F);if(r._output=new a.xQ,"string"==typeof t)o.url=t;else for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);if(!o.WebSocketCtor&&WebSocket)o.WebSocketCtor=WebSocket;else if(!o.WebSocketCtor)throw new Error("no WebSocket constructor can be found");r.destination=new L.t}return r}return y.ZT(t,e),t.prototype.lift=function(e){var n=new t(this._config,this.destination);return n.operator=e,n.source=this,n},t.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new L.t),this._output=new a.xQ},t.prototype.multiplex=function(e,t,n){var r=this;return new u.y((function(o){try{r.next(e())}catch(e){o.error(e)}var i=r.subscribe((function(e){try{n(e)&&o.next(e)}catch(e){o.error(e)}}),(function(e){return o.error(e)}),(function(){return o.complete()}));return function(){try{r.next(t())}catch(e){o.error(e)}i.unsubscribe()}}))},t.prototype._connectSocket=function(){var e=this,t=this._config,n=t.WebSocketCtor,r=t.protocol,o=t.url,i=t.binaryType,s=this._output,a=null;try{a=r?new n(o,r):new n(o),this._socket=a,i&&(this._socket.binaryType=i)}catch(e){return void s.error(e)}var c=new R.w((function(){e._socket=null,a&&1===a.readyState&&a.close()}));a.onopen=function(t){if(!e._socket)return a.close(),void e._resetState();var n=e._config.openObserver;n&&n.next(t);var r=e.destination;e.destination=l.L.create((function(t){if(1===a.readyState)try{var n=e._config.serializer;a.send(n(t))}catch(t){e.destination.error(t)}}),(function(t){var n=e._config.closingObserver;n&&n.next(void 0),t&&t.code?a.close(t.code,t.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e._config.closingObserver;t&&t.next(void 0),a.close(),e._resetState()})),r&&r instanceof L.t&&c.add(r.subscribe(e.destination))},a.onerror=function(t){e._resetState(),s.error(t)},a.onclose=function(t){e._resetState();var n=e._config.closeObserver;n&&n.next(t),t.wasClean?s.complete():s.error(t)},a.onmessage=function(t){try{var n=e._config.deserializer;s.next(n(t))}catch(e){s.error(e)}}},t.prototype._subscribe=function(e){var t=this,n=this.source;return n?n.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add((function(){var e=t._socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())})),e)},t.prototype.unsubscribe=function(){var t=this._socket;t&&1===t.readyState&&t.close(),this._resetState(),e.prototype.unsubscribe.call(this)},t}(a.ug);function K(e){return new U(e)}var W=n(75142),V=n(31898),B=n(77681),H=n(35812),J=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=B.e);var o=e.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=r,(!(0,H.k)(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=B.e),o}return y.ZT(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=B.e),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(u.y),q=function(){return function(e,t){this.value=e,this.timestamp=t}}(),$=function(){return function(e,t){this.value=e,this.interval=t}}(),G=n(11120),z=n(17604),Y={leading:!0,trailing:!1};z.Ds;var Q=n(23142),Z=n(999),X=n(15050),ee=n(76565),te=n(26929),ne=n(78147),re=n(41016),oe=n(81462),ie=n(28782);function se(e,t){for(var n=0,r=t.length;n<r;n++)for(var o=t[n],i=Object.getOwnPropertyNames(o.prototype),s=0,a=i.length;s<a;s++){var c=i[s];e.prototype[c]=o.prototype[c]}}var ae={e:{}},ce=n(71644),le=n(43608),ue=n(59026),de=n(39217);function pe(e){return e instanceof Date&&!isNaN(+e)}var he,fe=n(14156),ge=n(6727),me=n(92009),ye=n(76208),ve=n(70336),be=n(17507),Se=n(33306),we=n(18463),Ce=n(62561),ke=n(84551),_e=n(56900),Ie=n(24105),Ee=n(47407),Pe=n(3680);function De(){ae.e=void 0;try{return he.apply(this,arguments)}catch(e){return ae.e=e,ae}finally{he=void 0}}function Te(e){return he=e,De}},81112:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(35987),o=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(10979).L)},42632:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,W:()=>r});var r,o=n(5631),i=n(18170),s=n(64944);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},61244:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(93642),o=n(3680),i=n(15050),s=n(62561),a=n(30150),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=(0,o.Y)(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||a.v.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.v.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[i.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function l(e){if(e||(e=a.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},32174:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(30150),o=n(71644),i={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,o.z)(e)},complete:function(){}}},62039:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var r=n(35987),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(10979).L)},32993:(e,t,n)=>{"use strict";n.d(t,{t:()=>h});var r=n(35987),o=n(70211),i=n(92546),s=n(98760),a=n(10979),c=n(42632),l=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return r.ZT(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(c.P.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(c.P.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(c.P.createComplete()),this.unsubscribe()},t}(a.L),u=function(){return function(e,t){this.notification=e,this.destination=t}}(),d=n(41016),p=n(18253),h=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return r.ZT(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new d.N;if(this.isStopped||this.hasError?t=s.w.EMPTY:(this.observers.push(e),t=new p.W(this,e)),o&&e.add(e=new l(e,o)),n)for(var a=0;a<i&&!e.closed;a++)e.next(r[a]);else for(a=0;a<i&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.c).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(o.xQ),f=function(){return function(e,t){this.time=e,this.value=t}}()},38725:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},70211:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>u,ug:()=>p,xQ:()=>d});var r=n(35987),o=n(61244),i=n(10979),s=n(98760),a=n(41016),c=n(18253),l=n(23142),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.ZT(t,e),t}(i.L),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.ZT(t,e),t.prototype[l.b]=function(){return new u(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new c.W(this,e))},t.prototype.asObservable=function(){var e=new o.y;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(o.y),p=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.ZT(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.w.EMPTY},t}(d)},18253:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(35987),o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.ZT(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(98760).w)},10979:(e,t,n)=>{"use strict";n.d(t,{L:()=>u});var r=n(35987),o=n(14156),i=n(32174),s=n(98760),a=n(23142),c=n(30150),l=n(71644),u=function(e){function t(n,r,o){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.c;break;case 1:if(!n){s.destination=i.c;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,o)}return s}return r.ZT(t,e),t.prototype[a.b]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.w),d=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return(0,o.m)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==i.c&&(l=Object.create(n),(0,o.m)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=a,c._error=r,c._complete=s,c}return r.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.v.useDeprecatedSynchronousErrorHandling)throw e;(0,l.z)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):((0,l.z)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},98760:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(59026),o=n(92009),i=n(14156),s=n(28782),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,a=n._parentOrParents,l=n._ctorUnsubscribe,u=n._unsubscribe,d=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var p=0;p<a.length;++p)a[p].remove(this);if((0,i.m)(u)){l&&(this._unsubscribe=void 0);try{u.call(this)}catch(e){t=e instanceof s.B?c(e.errors):[e]}}if((0,r.k)(d)){p=-1;for(var h=d.length;++p<h;){var f=d[p];if((0,o.K)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof s.B?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new s.B(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s.B?t.errors:t)}),[])}},30150:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},17604:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>c,IY:()=>a,ft:()=>l});var r=n(35987),o=n(10979),i=n(61244),s=n(84551),a=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(o.L),c=(o.L,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(o.L));function l(e,t){if(!t.closed){if(e instanceof i.y)return e.subscribe(t);var n;try{n=(0,s.s)(e)(t)}catch(e){t.error(e)}return n}}o.L},75142:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>d,aj:()=>u});var r=n(35987),o=n(17507),i=n(59026),s=n(62039),a=n(47407),c=n(43375),l={};function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return(0,o.K)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,i.k)(e[0])&&(e=e[0]),(0,c.n)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.ZT(t,e),t.prototype._next=function(e){this.values.push(l),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,a.D)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,o=r[n],i=this.toRespond?o===l?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L)},5631:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,c:()=>i});var r=n(61244),o=new r.y((function(e){return e.complete()}));function i(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):o}},43375:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(61244),o=n(56900),i=n(53109);function s(e,t){return t?(0,i.r)(e,t):new r.y((0,o.V)(e))}},18170:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(17507),o=n(43375),i=n(53109);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.K)(n)?(e.pop(),(0,i.r)(e,n)):(0,o.n)(e)}},31898:(e,t,n)=>{"use strict";n.d(t,{W:()=>i,w:()=>o});var r=n(61244);function o(e,t,n){return void 0===e&&(e=0),new r.y((function(r){void 0===t&&(t=e,e=0);var o=0,s=e;if(n)return n.schedule(i,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(s++),r.closed)break}}))}function i(e){var t=e.start,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t),o.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},64944:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(61244);function o(e,t){return t?new r.y((function(n){return t.schedule(i,0,{error:e,subscriber:n})})):new r.y((function(t){return t.error(e)}))}function i(e){var t=e.error;e.subscriber.error(t)}},11120:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(35987),o=n(10979),i=n(98760),s=n(61244);n(70211);o.L;o.L;var a=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=r,o}return r.ZT(t,e),t.prototype._subscribe=function(e){var t=new i.w,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new c(n)),t.add(r.subscribe(e)),t},t}(s.y),c=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.ZT(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(i.w)},55709:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(35987),o=n(10979);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.L)},53109:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(61244),o=n(98760);function i(e,t){return new r.y((function(n){var r=new o.w,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},91275:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(61244),o=n(98760),i=n(999);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y((function(n){var r,s=new o.w;return s.add((function(){r&&"function"==typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[i.hZ](),s.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),s}))}},73049:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(61244),o=n(98760);function i(e,t){return new r.y((function(n){var r=new o.w;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}},96114:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(35987),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(98760).w))},78399:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(35987),o=n(38725),i=function(e){function t(n,r){void 0===r&&(r=o.b.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r.ZT(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.b)},77681:(e,t,n)=>{"use strict";n.d(t,{e:()=>a,E:()=>s});var r=n(35987),o=n(78147),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=o.H.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(o.H.clearImmediate(n),t.scheduled=void 0)},t}(n(96114).o),s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(78399).v))(i),a=s},92546:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,N:()=>i});var r=n(35987),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(96114).o),i=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t}(n(78399).v))(o),s=i},999:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>o});var o=r()},15050:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},23142:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},76565:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},26929:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},78147:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var r=1,o=function(){return Promise.resolve()}(),i={};function s(e){return e in i&&(delete i[e],!0)}var a={setImmediate:function(e){var t=r++;return i[t]=!0,o.then((function(){return s(t)&&e()})),t},clearImmediate:function(e){s(e)}}},41016:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},81462:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},28782:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},93642:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(10979);function o(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.L?o:null}return!0}},71644:(e,t,n)=>{"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,{z:()=>r})},43608:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},59026:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},39217:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},14156:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},76208:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(15050);function o(e){return e&&"function"==typeof e[r.L]}},6727:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(999);function o(e){return e&&"function"==typeof e[r.hZ]}},35812:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(59026);function o(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},92009:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},70336:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},17507:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},33306:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},18463:(e,t,n)=>{"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{f:()=>r})},62561:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,z:()=>o});var r=n(43608);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},84551:(e,t,n)=>{"use strict";n.d(t,{s:()=>p});var r=n(56900),o=n(51203),i=n(52949),s=n(24105),a=n(39217),c=n(70336),l=n(92009),u=n(999),d=n(15050),p=function(e){if(e&&"function"==typeof e[d.L])return(0,s.h)(e);if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return(0,o.A)(e);if(e&&"function"==typeof e[u.hZ])return(0,i.u)(e);var t=(0,l.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},56900:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},52949:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var r=n(999),o=function(e){return function(t){for(var n=e[r.hZ]();;){var o=void 0;try{o=n.next()}catch(e){return t.error(e),t}if(o.done){t.complete();break}if(t.next(o.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},24105:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(15050),o=function(e){return function(t){var n=e[r.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},51203:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(71644),o=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.z),t}}},47407:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(81112),o=n(84551),i=n(61244);function s(e,t,n,s,a){if(void 0===a&&(a=new r.d(e,n,s)),!a.closed)return t instanceof i.y?t.subscribe(a):(0,o.s)(t)(a)}},3680:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(10979),o=n(23142),i=n(32174);function s(e,t,n){if(e){if(e instanceof r.L)return e;if(e[o.b])return e[o.b]()}return e||t||n?new r.L(e,t,n):new r.L(i.c)}},35987:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>o,pi:()=>i});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)}},36625:(e,t,n)=>{var r,o=n(34155);t=e.exports=G,r=o.env&&o.env.NODE_DEBUG&&/\bsemver\b/i.test(o.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,s=t.re=[],a=t.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=c++;a[p]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var h=c++;a[h]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var f=c++;a[f]="(?:"+a[l]+"|"+a[d]+")";var g=c++;a[g]="(?:"+a[u]+"|"+a[d]+")";var m=c++;a[m]="(?:-("+a[f]+"(?:\\."+a[f]+")*))";var y=c++;a[y]="(?:-?("+a[g]+"(?:\\."+a[g]+")*))";var v=c++;a[v]="[0-9A-Za-z-]+";var b=c++;a[b]="(?:\\+("+a[v]+"(?:\\."+a[v]+")*))";var S=c++,w="v?"+a[p]+a[m]+"?"+a[b]+"?";a[S]="^"+w+"$";var C="[v=\\s]*"+a[h]+a[y]+"?"+a[b]+"?",k=c++;a[k]="^"+C+"$";var _=c++;a[_]="((?:<|>)?=?)";var I=c++;a[I]=a[u]+"|x|X|\\*";var E=c++;a[E]=a[l]+"|x|X|\\*";var P=c++;a[P]="[v=\\s]*("+a[E]+")(?:\\.("+a[E]+")(?:\\.("+a[E]+")(?:"+a[m]+")?"+a[b]+"?)?)?";var D=c++;a[D]="[v=\\s]*("+a[I]+")(?:\\.("+a[I]+")(?:\\.("+a[I]+")(?:"+a[y]+")?"+a[b]+"?)?)?";var T=c++;a[T]="^"+a[_]+"\\s*"+a[P]+"$";var x=c++;a[x]="^"+a[_]+"\\s*"+a[D]+"$";var j=c++;a[j]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var M=c++;a[M]="(?:~>?)";var N=c++;a[N]="(\\s*)"+a[M]+"\\s+",s[N]=new RegExp(a[N],"g");var O=c++;a[O]="^"+a[M]+a[P]+"$";var A=c++;a[A]="^"+a[M]+a[D]+"$";var R=c++;a[R]="(?:\\^)";var L=c++;a[L]="(\\s*)"+a[R]+"\\s+",s[L]=new RegExp(a[L],"g");var F=c++;a[F]="^"+a[R]+a[P]+"$";var U=c++;a[U]="^"+a[R]+a[D]+"$";var K=c++;a[K]="^"+a[_]+"\\s*("+C+")$|^$";var W=c++;a[W]="^"+a[_]+"\\s*("+w+")$|^$";var V=c++;a[V]="(\\s*)"+a[_]+"\\s*("+C+"|"+a[P]+")",s[V]=new RegExp(a[V],"g");var B=c++;a[B]="^\\s*("+a[P]+")\\s+-\\s+("+a[P]+")\\s*$";var H=c++;a[H]="^\\s*("+a[D]+")\\s+-\\s+("+a[D]+")\\s*$";var J=c++;a[J]="(<|>)?=?\\s*\\*";for(var q=0;q<35;q++)r(q,a[q]),s[q]||(s[q]=new RegExp(a[q]));function $(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?s[k]:s[S]).test(e))return null;try{return new G(e,t)}catch(e){return null}}function G(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?s[k]:s[S]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}t.parse=$,t.valid=function(e,t){var n=$(e,t);return n?n.version:null},t.clean=function(e,t){var n=$(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return Y(n,o)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new G(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(ee(e,t))return null;var n=$(e),r=$(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return o+s;return i},t.compareIdentifiers=Y;var z=/^[0-9]+$/;function Y(e,t){var n=z.test(e),r=z.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function Q(e,t,n){return new G(e,n).compare(new G(t,n))}function Z(e,t,n){return Q(e,t,n)>0}function X(e,t,n){return Q(e,t,n)<0}function ee(e,t,n){return 0===Q(e,t,n)}function te(e,t,n){return 0!==Q(e,t,n)}function ne(e,t,n){return Q(e,t,n)>=0}function re(e,t,n){return Q(e,t,n)<=0}function oe(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return ee(e,n,r);case"!=":return te(e,n,r);case">":return Z(e,n,r);case">=":return ne(e,n,r);case"<":return X(e,n,r);case"<=":return re(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===se?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return Y(t,e)},t.major=function(e,t){return new G(e,t).major},t.minor=function(e,t){return new G(e,t).minor},t.patch=function(e,t){return new G(e,t).patch},t.compare=Q,t.compareLoose=function(e,t){return Q(e,t,!0)},t.rcompare=function(e,t,n){return Q(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=Z,t.lt=X,t.eq=ee,t.neq=te,t.gte=ne,t.lte=re,t.cmp=oe,t.Comparator=ie;var se={};function ae(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof ie)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ce(e){return!e||"x"===e.toLowerCase()||"*"===e}function le(e,t,n,r,o,i,s,a,c,l,u,d,p){return((t=ce(n)?"":ce(r)?">="+n+".0.0":ce(o)?">="+n+"."+r+".0":">="+t)+" "+(a=ce(c)?"":ce(l)?"<"+(+c+1)+".0.0":ce(u)?"<"+c+"."+(+l+1)+".0":d?"<="+c+"."+l+"."+u+"-"+d:"<="+a)).trim()}function ue(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==se&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function de(e,t,n){try{t=new ae(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var o,i,s,a,c;switch(e=new G(e,r),t=new ae(t,r),n){case">":o=Z,i=re,s=X,a=">",c=">=";break;case"<":o=X,i=ne,s=Z,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(de(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,p=null;if(u.forEach((function(e){e.semver===se&&(e=new ie(">=0.0.0")),d=d||e,p=p||e,o(e.semver,d.semver,r)?d=e:s(e.semver,p.semver,r)&&(p=e)})),d.operator===a||d.operator===c)return!1;if((!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?s[K]:s[W],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=se},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===se||("string"==typeof e&&(e=new G(e,this.options)),oe(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new ae(e.value,t),de(this.value,n,t);if(""===e.operator)return n=new ae(this.value,t),de(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=oe(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=oe(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&s||a||c},t.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?s[H]:s[B];e=e.replace(n,le),r("hyphen replace",e),e=e.replace(s[V],"$1$2$3"),r("comparator trim",e,s[V]),e=(e=(e=e.replace(s[N],"$1~")).replace(s[L],"$1^")).split(/\s+/).join(" ");var o=t?s[K]:s[W],i=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?s[U]:s[F];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),ce(n)?a="":ce(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ce(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?s[A]:s[O];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),ce(n)?a="":ce(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ce(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?s[x]:s[T];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=ce(o),l=c||ce(i),u=l||ce(s);return"="===n&&u&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(i=0),s=0,">"===n?(n=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",l?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):l?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(s[J],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(o)}))),i.map((function(e){return new ie(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},t.satisfies=de,t.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&-1!==o.compare(e)||(o=new G(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&1!==o.compare(e)||(o=new G(r=e,n)))})),r},t.minVersion=function(e,t){e=new ae(e,t);var n=new G("0.0.0");if(e.test(n))return n;if(n=new G("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!Z(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},t.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return pe(e,t,"<",n)},t.gtr=function(e,t,n){return pe(e,t,">",n)},t.outside=pe,t.prerelease=function(e,t){var n=$(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new ae(e,n),t=new ae(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(s[j]);return null==t?null:$(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},24889:function(e,t,n){var r=n(34155);!function(e,t){"use strict";if(!e.setImmediate){var n,o,i,s,a,c=1,l={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){r.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},n=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(f,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return l[c]=o,n(c),c++},p.clearImmediate=h}function h(e){delete l[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},77911:(e,t)=>{function n(e){for(var t in e)this[t]=e[t]}t.get=function(e){var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},o=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(r,e||t.get);var i=r.stack;return Error.prepareStackTrace=o,Error.stackTraceLimit=n,i},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(n){var r=null,o=null,i=null,s=null,a=null,c="native"===n[5];if(n[1]){var l=(i=n[1]).lastIndexOf(".");if("."==i[l-1]&&l--,l>0){r=i.substr(0,l),o=i.substr(l+1);var u=r.indexOf(".Module");u>0&&(i=i.substr(u+1),r=r.substr(0,u))}s=null}o&&(s=r,a=o),"<anonymous>"===o&&(a=null,i=null);var d={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:i,typeName:s,methodName:a,columnNumber:parseInt(n[4],10)||null,native:c};return t._createParsedCallSite(d)}})).filter((function(e){return!!e}))},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){n.prototype[e]=null,n.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){n.prototype[e]=!1,n.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new n(e)}},24837:(e,t)=>{"use strict";function n(e,t,n){var o,i=/([^\s'"]([^\s'"]*(['"])([^\3]*?)\3)+[^\s'"]*)|[^\s'"]+|(['"])([^\5]*?)\5/gi,s=e,a=[];t&&a.push(t),n&&a.push(n);do{null!==(o=i.exec(s))&&a.push(r(o[1],o[6],o[0]))}while(null!==o);return a}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++){var r=e[n];if("string"==typeof r)return r}}t.__esModule=!0,t.default=n,t.parseArgsStringToArgv=n},44110:(e,t,n)=>{"use strict";const r=n(33406),o=n(49598),i=e.exports=(e,t)=>{const n={...t,block:!0,line:!0};return r(o(e,n),n)};i.block=(e,t)=>{const n={...t,block:!0};return r(o(e,n),n)},i.line=(e,t)=>{const n={...t,line:!0};return r(o(e,n),n)},i.first=(e,t)=>{const n={...t,block:!0,line:!0,first:!0};return r(o(e,n),n)},i.parse=o},50985:e=>{"use strict";class t{constructor(e){this.type=e.type,e.value&&(this.value=e.value),e.match&&(this.match=e.match),this.newline=e.newline||""}get protected(){return Boolean(this.match)&&"!"===this.match[1]}}e.exports={Node:t,Block:class extends t{constructor(e){super(e),this.nodes=e.nodes||[]}push(e){this.nodes.push(e)}get protected(){return this.nodes.length>0&&!0===this.nodes[0].protected}}}},33406:e=>{"use strict";e.exports=(e,t={})=>{const n=!0===t.safe||!0===t.keepProtected;let r=!1;const o=(e,i)=>{let s,a,c="";for(const i of e.nodes)switch(i.type){case"block":if(t.first&&!0===r){c+=o(i,e);break}if(!0===t.preserveNewlines){s=o(i,e),a=s.split("\n"),c+="\n".repeat(a.length-1);break}if(!0===n&&!0===i.protected){c+=o(i,e);break}r=!0;break;case"line":if(t.first&&!0===r){c+=i.value;break}!0===n&&!0===i.protected&&(c+=i.value),r=!0;break;default:c+=i.value||""}return c};return o(e)}},38657:(e,t)=>{"use strict";t.javascript={BLOCK_OPEN_REGEX:/^\/\*\*?(!?)/,BLOCK_CLOSE_REGEX:/^\*\/(\n?)/,LINE_REGEX:/^\/\/(!?).*/}},49598:(e,t,n)=>{"use strict";const{Node:r,Block:o}=n(50985),i=n(38657),s=/^\\./,a=/^(['"`])((?:\\.|[^\1])+?)(\1)/,c=/^\r*\n/;e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");const n=new o({type:"root",nodes:[]}),l=[n],u=(t.language||"javascript").toLowerCase(),d=i[u];if(void 0===d)throw new Error(`Language "${u}" is not supported by strip-comments`);const{LINE_REGEX:p,BLOCK_OPEN_REGEX:h,BLOCK_CLOSE_REGEX:f}=d;let g,m,y=n,v=e,b=!1;[h,f].filter(Boolean).every((e=>'^"""'===e.source))&&(b=!0);const S=(e=v[0]||"")=>(v=v.slice(e.length),e),w=(e,t="text")=>{const n=e.exec(v);if(n)return S(n[0]),{type:t,value:n[0],match:n}},C=e=>{m&&"text"===m.type&&"text"===e.type?m.value+=e.value:(y.push(e),e.nodes&&(l.push(e),y=e),m=e)},k=()=>{if("root"===y.type)throw new SyntaxError("Unclosed block comment");l.pop(),y=l[l.length-1]};for(;""!==v;)(g=w(s,"text"))?C(new r(g)):"block"===y.type||m&&/\w$/.test(m.value)||b&&v.startsWith('"""')||!(g=w(a,"text"))?(g=w(c,"newline"))?C(new r(g)):!h||!t.block||b&&"block"===y.type||!(g=w(h,"open"))?f&&"block"===y.type&&t.block&&(g=w(f,"close"))?(g.newline=g.match[1]||"",C(new r(g)),k()):p&&"block"!==y.type&&t.line&&(g=w(p,"line"))||(g=w(/^[a-zABD-Z0-9\t ]+/,"text"))?C(new r(g)):C(new r({type:"text",value:S(v[0])})):(C(new o({type:"block"})),C(new r(g))):C(new r(g));return n}},14802:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26363);t.ExperimentationService=r.ExperimentationService},26363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34067),o=n(44234),i=n(15975);class s extends i.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],null!=e.refetchInterval?e.refetchInterval:0,e.featuresTelemetryPropertyName,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new r.TasApiFeatureProvider(new o.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}t.ExperimentationService=s,s.REFRESH_RATE_IN_MINUTES=30},15975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23663),o=n(73334);class i extends r.ExperimentationServiceBase{constructor(e,t,n,r,i,s,a,c){if(super(e,r,i,s,a,c),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=n,this.featuresTelemetryPropertyName=r,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=s,this.storageKey=a,this.storage=c,n<1e3&&0!==n)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new o.PollingService(n),this.pollingService.OnPollTick((async()=>{await super.getFeaturesAsync()})))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}return await super.getFeaturesAsync(e)}}t.ExperimentationServiceAutoPolling=i},23663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17002);t.ExperimentationServiceBase=class{constructor(e,t,n,o,i,s){this.telemetry=e,this.featuresTelemetryPropertyName=t,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=o,this.storageKey=i,this.storage=s,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new r.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise(((e,t)=>{this.resolveInitialFetchPromise=e}))}get features(){return this._features}set features(e){this._features=e,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(e=!1){if(null!=this.fetchPromise){try{await this.fetchPromise}catch(e){}return this.features}if(!this.featureProviders||0===this.featureProviders.length)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map((async e=>await e.getFeatures())));try{const t=await this.fetchPromise;this.updateFeatures(t,e)}catch(e){}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,t=!1){let n={features:[],assignmentContext:"",configs:[]};for(let t of e){for(let e of t.features)n.features.includes(e)||n.features.push(e);for(let e of t.configs){const t=n.configs.find((t=>t.Id===e.Id));t?t.Parameters=Object.assign(Object.assign({},t.Parameters),e.Parameters):n.configs.push(e)}n.assignmentContext+=t.assignmentContext}!t&&this.featuresConsumed||(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),void 0!==e&&void 0===e.configs&&(e.configs=[])),0===this.features.features.length&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){const t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){var n;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`),null===(n=this.features.configs.find((t=>t.Id===e)))||void 0===n?void 0:n.Parameters[t]}async getTreatmentVariableAsync(e,t,n){if(n){const n=this.featuresConsumed,r=this.getTreatmentVariable(e,t);if(void 0!==r)return r;this.featuresConsumed=n}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(null!=e&&null!=this.featureProviders)for(let t of e)this.featureProviders.push(t)}}},60069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFeatureProvider=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}}},94e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60069);class o extends r.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let n=t.getFilters();for(let t of n.keys()){let r=n.get(t);e.set(t,r)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;const t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}}t.FilteredFeatureProvider=o},34067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(94e3);class o extends r.FilteredFeatureProvider{constructor(e,t,n){super(t,n),this.httpClient=e,this.telemetry=t,this.filterProviders=n}async fetch(){let e=this.getFilters(),t={};for(let n of e.keys()){const r=e.get(n);t[n]=r}let n=await this.httpClient.get({headers:t});e.keys.length>0&&this.PostEventToTelemetry(t);let r=n.data,o=r.Configs,i=[];for(let e of o)if(e.Parameters)for(let t of Object.keys(e.Parameters)){const n=t+(e.Parameters[t]?"":"cf");i.includes(n)||i.push(n)}return{features:i,assignmentContext:r.AssignmentContext,configs:o}}}t.TasApiFeatureProvider=o},44234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9669);t.AxiosHttpClient=class{constructor(e){this.endpoint=e}get(e){return r.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}}},17002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryKeyValueStorage=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}}},73334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollingService=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),null!=this.onTick&&(e&&this.onTick().then((()=>{})).catch((()=>{})),this.intervalHandle=setInterval((async()=>{await this.onTick()}),this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}},88232:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRegistry=void 0;const c=n(86700),l=n(66828),u=n(94062),d=n(10053),p=n(42080),h=n(25251),f=n(58681),g=n(9959),m=n(15925),y=n(74858),v=n(135),b=s(n(52859)),S=n(35412),w=n(62440),C=n(13730),k=n(41779),_=n(11642),I=n(94523),E=n(90541),P=n(85249),D=n(94433),T=n(83599),x=n(50867),j=n(40453);let M=class{constructor(e,t,n,r,o,i,s,a,c,l,u,d,p,h,f,g,m,y,v,b,S,w,C){this.disposables=e,this.jupyterExporter=t,this.jupyterExecution=n,this.documentManager=r,this.applicationShell=o,this.fileSystem=i,this.configuration=s,this.dataScienceCodeLensProvider=a,this.commandManager=c,this.debugService=l,this.configService=u,this.appShell=d,this.workspace=p,this.interactiveWindowProvider=h,this.kernelProvider=f,this.dataScienceErrorHandler=g,this.ipynbProvider=m,this.fileConverter=y,this.exportDialog=v,this.clipboard=b,this.notebook=S,this.controllerPreferredService=w,this.statusProvider=C,this.workspace.isTrusted||this.workspace.onDidGrantWorkspaceTrust(this.registerCommandsIfTrusted,this,this.disposables)}async activate(){this.registerCommandsIfTrusted(),this.registerCommand(m.Commands.InsertCellBelowPosition,this.insertCellBelowPosition),this.registerCommand(m.Commands.InsertCellBelow,this.insertCellBelow),this.registerCommand(m.Commands.InsertCellAbove,this.insertCellAbove),this.registerCommand(m.Commands.DeleteCells,this.deleteCells),this.registerCommand(m.Commands.SelectCell,this.selectCell),this.registerCommand(m.Commands.SelectCellContents,this.selectCellContents),this.registerCommand(m.Commands.ExtendSelectionByCellAbove,this.extendSelectionByCellAbove),this.registerCommand(m.Commands.ExtendSelectionByCellBelow,this.extendSelectionByCellBelow),this.registerCommand(m.Commands.MoveCellsUp,this.moveCellsUp),this.registerCommand(m.Commands.MoveCellsDown,this.moveCellsDown),this.registerCommand(m.Commands.ChangeCellToMarkdown,this.changeCellToMarkdown),this.registerCommand(m.Commands.ChangeCellToCode,this.changeCellToCode),this.registerCommand(m.Commands.GotoNextCellInFile,this.gotoNextCellInFile),this.registerCommand(m.Commands.GotoPrevCellInFile,this.gotoPrevCellInFile),this.registerCommand(m.Commands.AddCellBelow,this.addCellBelow),this.registerCommand(m.Commands.CreateNewNotebook,this.createNewNotebook),this.registerCommand(m.Commands.LatestExtension,this.openPythonExtensionPage),this.registerCommand(m.Commands.EnableDebugLogging,this.enableDebugLogging),this.registerCommand(m.Commands.ResetLoggingLevel,this.resetLoggingLevel),this.registerCommand(m.Commands.EnableLoadingWidgetsFrom3rdPartySource,this.enableLoadingWidgetScriptsFromThirdParty),this.registerCommand(m.Commands.CreateNewInteractive,(e=>this.createNewInteractiveWindow(e))),this.registerCommand(m.Commands.ImportNotebook,((e,t=m.CommandSource.commandPalette)=>this.listenForErrors((()=>e?this.importNotebookOnFile(e):this.importNotebook())))),this.registerCommand(m.Commands.ImportNotebookFile,((e,t=m.CommandSource.commandPalette)=>this.listenForErrors((()=>e?this.importNotebookOnFile(e):this.importNotebook())))),this.commandManager.registerCommand(m.Commands.ExportFileAsNotebook,((e,t=m.CommandSource.commandPalette)=>this.listenForErrors((()=>{if(e)return this.exportFile(e);{const e=this.documentManager.activeTextEditor;if(e&&e.document.languageId===m.PYTHON_LANGUAGE)return this.exportFile(e.document.uri)}return Promise.resolve()})))),this.registerCommand(m.Commands.ExportFileAndOutputAsNotebook,((e,t=m.CommandSource.commandPalette)=>this.listenForErrors((()=>{if(e)return this.exportFileAndOutput(e);{const e=this.documentManager.activeTextEditor;if(e&&e.document.languageId===m.PYTHON_LANGUAGE)return this.exportFileAndOutput(e.document.uri)}return Promise.resolve()})))),this.registerCommand(m.Commands.ExpandAllCells,(async e=>{var t;return this.expandAllCells(null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri)})),this.registerCommand(m.Commands.CollapseAllCells,(async e=>{var t;return this.collapseAllCells(null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri)})),this.registerCommand(m.Commands.ExportOutputAsNotebook,(()=>this.exportCells())),this.registerCommand(m.Commands.InteractiveExportAsNotebook,(e=>{var t;return this.export(null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri)})),this.registerCommand(m.Commands.InteractiveExportAs,(e=>{var t;return this.exportAs(null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri)})),this.registerCommand(m.Commands.ScrollToCell,((e,t)=>this.scrollToCell(e,t))),this.registerCommand(m.Commands.InteractiveClearAll,this.clearAllCellsInInteractiveWindow),this.registerCommand(m.Commands.InteractiveGoToCode,this.goToCodeInInteractiveWindow),this.commandManager.registerCommand(m.Commands.InteractiveCopyCell,this.copyCellInInteractiveWindow)}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommandsIfTrusted(){this.workspace.isTrusted&&(this.registerCommand(m.Commands.RunAllCells,this.runAllCells),this.registerCommand(m.Commands.RunCell,this.runCell),this.registerCommand(m.Commands.RunCurrentCell,this.runCurrentCell),this.registerCommand(m.Commands.RunCurrentCellAdvance,this.runCurrentCellAndAdvance),this.registerCommand(m.Commands.ExecSelectionInInteractiveWindow,(e=>{this.runSelectionOrLine(e).catch(f.noop)})),this.registerCommand(m.Commands.RunAllCellsAbove,this.runAllCellsAbove),this.registerCommand(m.Commands.RunCellAndAllBelow,this.runCellAndAllBelow),this.registerCommand(m.Commands.RunAllCellsAbovePalette,this.runAllCellsAboveFromCursor),this.registerCommand(m.Commands.RunCellAndAllBelowPalette,this.runCellAndAllBelowFromCursor),this.registerCommand(m.Commands.RunCurrentCellAndAddBelow,this.runCurrentCellAndAddBelow),this.registerCommand(m.Commands.DebugCell,this.debugCell),this.registerCommand(m.Commands.DebugStepOver,this.debugStepOver),this.registerCommand(m.Commands.DebugContinue,this.debugContinue),this.registerCommand(m.Commands.DebugStop,this.debugStop),this.registerCommand(m.Commands.DebugCurrentCellPalette,this.debugCurrentCellFromCursor),this.registerCommand(m.Commands.OpenVariableView,this.openVariableView),this.registerCommand(m.Commands.OpenOutlineView,this.openOutlineView),this.registerCommand(m.Commands.RunToLine,this.runToLine),this.registerCommand(m.Commands.RunFromLine,this.runFromLine),this.registerCommand(m.Commands.RunFileInInteractiveWindows,this.runFileInteractive),this.registerCommand(m.Commands.DebugFileInInteractiveWindows,this.debugFileInteractive))}registerCommand(e,t){const n=this.commandManager.registerCommand(e,t,this);this.disposables.push(n)}getCodeWatcher(e){if(e&&this.dataScienceCodeLensProvider){const t=this.documentManager.textDocuments.filter((t=>b.isEqual(t.uri,e)));if(t&&1===t.length)return this.dataScienceCodeLensProvider.getCodeWatcher(t[0]);if(t&&t.length>1)throw new Error(h.DataScience.documentMismatch().format((0,S.getFilePath)(e)))}}async enableDebugLogging(){"debug"!==this.configService.getSettings().logging.level&&(await this.configService.updateSetting("logging.level","debug",void 0,l.ConfigurationTarget.Global),this.commandManager.executeCommand("jupyter.reloadVSCode",h.DataScience.reloadRequired()).then(f.noop,f.noop))}async resetLoggingLevel(){"error"!==this.configService.getSettings().logging.level&&(await this.configService.updateSetting("logging.level","error",void 0,l.ConfigurationTarget.Global),this.commandManager.executeCommand("jupyter.reloadVSCode",h.DataScience.reloadRequired()).then(f.noop,f.noop))}async enableLoadingWidgetScriptsFromThirdParty(){this.configService.getSettings(void 0).widgetScriptSources.length>0||await this.configService.updateSetting("widgetScriptSources",["jsdelivr.com","unpkg.com"],void 0,l.ConfigurationTarget.Global).catch(f.noop)}async runAllCells(e){let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.runAllCells():void 0}async runFileInteractive(e){let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.runFileInteractive():void 0}async debugFileInteractive(e){let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.debugFileInteractive():void 0}async runCell(e,t,n,r,o){const i=this.getCodeWatcher(e);if(i)return i.runCell(new l.Range(t,n,r,o))}async runAllCellsAbove(e,t,n){if(e){const r=this.getCodeWatcher(e);if(r)return r.runAllCellsAbove(t,n)}}async runCellAndAllBelow(e,t,n){if(e){const r=this.getCodeWatcher(e);if(r)return r.runCellAndAllBelow(t,n)}}async runToLine(){const e=this.getCurrentCodeWatcher(),t=this.documentManager.activeTextEditor;if(e&&t&&t.selection)return e.runToLine(t.selection.start.line)}async runFromLine(){const e=this.getCurrentCodeWatcher(),t=this.documentManager.activeTextEditor;if(e&&t&&t.selection)return e.runFromLine(t.selection.start.line)}async runCurrentCell(){const e=this.getCurrentCodeWatcher();return e?e.runCurrentCell():void 0}async runCurrentCellAndAdvance(){const e=this.getCurrentCodeWatcher();return e?e.runCurrentCellAndAdvance():void 0}async runSelectionOrLine(e){const t=this.getCurrentCodeWatcher();return t?t.runSelectionOrLine(this.documentManager.activeTextEditor,(0,f.isUri)(e)?void 0:e):void 0}async debugCell(e,t,n,r,o){if(e){const i=this.getCodeWatcher(e);if(i)return i.debugCell(new l.Range(t,n,r,o))}}async debugStepOver(){var e;(null===(e=this.debugService)||void 0===e?void 0:e.activeDebugSession)&&this.commandManager.executeCommand("workbench.action.debug.stepOver").then(f.noop,f.noop)}async debugStop(e){var t;if((null===(t=this.debugService)||void 0===t?void 0:t.activeDebugSession)&&this.interactiveWindowProvider){const t=this.interactiveWindowProvider.windows.find((t=>{var n;return(null===(n=t.owner)||void 0===n?void 0:n.toString())==e.toString()}));if(t&&t.notebookDocument){const n=this.kernelProvider.get(t.notebookDocument);n&&((0,_.traceVerbose)(`Interrupt kernel due to debug stop of IW ${e.toString()}`),await n.interrupt())}this.commandManager.executeCommand("workbench.action.debug.stop").then(f.noop,f.noop)}}async debugContinue(){var e;(null===(e=this.debugService)||void 0===e?void 0:e.activeDebugSession)&&this.commandManager.executeCommand("workbench.action.debug.continue").then(f.noop,f.noop)}async addCellBelow(){var e;await(null===(e=this.getCurrentCodeWatcher())||void 0===e?void 0:e.addEmptyCellToBottom())}async runCurrentCellAndAddBelow(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.runCurrentCellAndAddBelow()}async insertCellBelowPosition(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.insertCellBelowPosition()}async insertCellBelow(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.insertCellBelow()}async insertCellAbove(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.insertCellAbove()}async deleteCells(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.deleteCells()}async selectCell(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.selectCell()}async selectCellContents(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.selectCellContents()}async extendSelectionByCellAbove(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.extendSelectionByCellAbove()}async extendSelectionByCellBelow(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.extendSelectionByCellBelow()}async moveCellsUp(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.moveCellsUp()}async moveCellsDown(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.moveCellsDown()}async changeCellToMarkdown(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.changeCellToMarkdown()}async changeCellToCode(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.changeCellToCode()}async gotoNextCellInFile(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.gotoNextCell()}async gotoPrevCellInFile(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.gotoPreviousCell()}async runAllCellsAboveFromCursor(){const e=this.getCurrentCodeLens();if(e){const t=this.getCurrentCodeWatcher();if(t)return t.runAllCellsAbove(e.range.start.line,e.range.start.character)}}async runCellAndAllBelowFromCursor(){const e=this.getCurrentCodeLens();if(e){const t=this.getCurrentCodeWatcher();if(t)return t.runCellAndAllBelow(e.range.start.line,e.range.start.character)}}async debugCurrentCellFromCursor(){if(this.getCurrentCodeLens()){const e=this.getCurrentCodeWatcher();if(e)return e.debugCurrentCell()}}async createNewNotebook(){this.appShell.showInformationMessage('This command has been deprecated and will eventually be removed, please use ["Create: New Jupyter Notebook"](command:workbench.action.openGlobalKeybindings?%5B%22@command:ipynb.newUntitledIpynb%22%5D) instead.').then(f.noop,f.noop),await l.commands.executeCommand("ipynb.newUntitledIpynb")}getCurrentCodeLens(){const e=this.documentManager.activeTextEditor,t=this.getCurrentCodeWatcher();if(e&&t)return t.getCodeLenses().find((t=>t.range.end.line>=e.selection.anchor.line&&t.range.start.line<=e.selection.anchor.line))}getCurrentCodeWatcher(){const e=this.documentManager.activeTextEditor;if(e&&e.document&&this.dataScienceCodeLensProvider)return this.dataScienceCodeLensProvider.getCodeWatcher(e.document)}openPythonExtensionPage(){l.env.openExternal(l.Uri.parse("https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter")).then(f.noop,f.noop)}async openVariableView(){return this.commandManager.executeCommand("jupyterViewVariables.focus")}async openOutlineView(){return this.commandManager.executeCommand("outline.focus")}async listenForErrors(e){let t;try{return t=await e(),t}catch(e){(0,_.traceError)("listenForErrors",e),this.dataScienceErrorHandler.handleError(e).then(f.noop,f.noop)}return t}async exportFile(e){const t=(0,S.getFilePath)(e);if(t&&t.length>0&&this.jupyterExporter){const n=this.documentManager.activeTextEditor;if(n&&this.fileSystem.arePathsSame(n.document.uri,e)){const r=(0,I.generateCellsFromDocument)(n.document,this.configuration.getSettings(n.document.uri));if(r){const n=await this.exportDialog.showDialog(w.ExportFormat.ipynb,e);if(await this.waitForStatus((async()=>{var e;if(n){const t=await(null===(e=this.jupyterExporter)||void 0===e?void 0:e.translateToNotebook(r));await this.fileSystem.writeFile(n,JSON.stringify(t))}}),h.DataScience.exportingFormat(),(0,S.getDisplayPath)(e)),n&&t){const t=h.DataScience.exportOpenQuestion1();await this.applicationShell.showInformationMessage(h.DataScience.exportDialogComplete().format((0,S.getDisplayPath)(e)),t)===t&&await(0,C.openAndShowNotebook)(n)}}}}}async exportFileAndOutput(e){const t=(0,S.getFilePath)(e);if(t&&t.length>0&&this.jupyterExporter&&await this.jupyterExecution.isNotebookSupported()){const t=this.documentManager.activeTextEditor;if(t&&t.document&&this.fileSystem.arePathsSame(t.document.uri,e)){const n=(0,I.generateCellsFromDocument)(t.document,this.configuration.getSettings(t.document.uri));if(n){const t=await this.exportDialog.showDialog(w.ExportFormat.ipynb,e);if(!t)return;await this.waitForStatus((async()=>{var e;if(t){const r=await(null===(e=this.jupyterExporter)||void 0===e?void 0:e.translateToNotebook(n));await this.fileSystem.writeFile(t,JSON.stringify(r))}}),h.DataScience.exportingFormat(),(0,S.getDisplayPath)(e));const r=await this.notebook.openNotebookDocument(t).then((e=>this.notebook.showNotebookDocument(e))),{controller:o}=await this.controllerPreferredService.computePreferred(r.notebook);return o&&await this.commandManager.executeCommand("notebook.selectKernel",{id:o.id,extension:m.JVSC_EXTENSION_ID}),await this.commandManager.executeCommand("notebook.execute"),t}}}else await this.dataScienceErrorHandler.handleError(new k.JupyterInstallError(h.DataScience.jupyterNotSupported().format(await this.jupyterExecution.getNotebookError())))}async expandAllCells(e){const t=this.getTargetInteractiveWindow(e);(0,_.traceInfo)(`Expanding all cells in interactive window with uri ${null==t?void 0:t.notebookUri}`),t&&await t.expandAllCells()}async collapseAllCells(e){const t=this.getTargetInteractiveWindow(e);(0,_.traceInfo)(`Collapsing all cells in interactive window with uri ${null==t?void 0:t.notebookUri}`),t&&await t.collapseAllCells()}exportCells(){var e;const t=null===(e=this.interactiveWindowProvider)||void 0===e?void 0:e.activeWindow;t&&t.export()}exportAs(e){const t=this.getTargetInteractiveWindow(e);t&&t.exportAs()}export(e){const t=this.getTargetInteractiveWindow(e);t&&t.export()}async createNewInteractiveWindow(e){var t;await(null===(t=this.interactiveWindowProvider)||void 0===t?void 0:t.getOrCreate(void 0,e))}waitForStatus(e,t,n,r){const o=n?t.format(n):t;return this.statusProvider.waitWithStatus(e,o,void 0,r)}async importNotebook(){const e={};e[h.DataScience.importDialogFilter()]=["ipynb"];const t=await this.applicationShell.showOpenDialog({openLabel:h.DataScience.importDialogTitle(),filters:e});t&&t.length>0&&await this.waitForStatus((async()=>{await this.fileConverter.importIpynb(t[0])}),h.DataScience.importingFormat(),(0,S.getDisplayPath)(t[0]))}async importNotebookOnFile(e){const t=(0,S.getFilePath)(e);t&&t.length>0&&await this.waitForStatus((async()=>{await this.fileConverter.importIpynb(e)}),h.DataScience.importingFormat(),(0,S.getDisplayPath)(e))}async scrollToCell(e,t){if(t&&e){const n=this.interactiveWindowProvider.windows.filter((t=>t.submitters.findIndex((t=>this.fileSystem.arePathsSame(t,e)))>=0));for(let e=0;e<n.length;e+=1)if(await n[e].hasCell(t)){n[e].scrollToCell(t);break}}}async clearAllCellsInInteractiveWindow(e){var t,n;const r=null===(n=this.getTargetInteractiveWindow(null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri))||void 0===n?void 0:n.notebookUri;if(!r)return;const o=l.workspace.notebookDocuments.find((e=>e.uri.toString()===r.toString()));if(!o)return;const i=new l.WorkspaceEdit,s=l.NotebookEdit.deleteCells(new l.NotebookRange(0,o.cellCount));i.set(o.uri,[s]),await l.workspace.applyEdit(i)}async goToCodeInInteractiveWindow(e){var t;if(e&&(null===(t=e.metadata)||void 0===t?void 0:t.interactive)){const t=l.Uri.parse(e.metadata.interactive.uristring),n=e.metadata.interactive.lineIndex,r=await this.documentManager.showTextDocument(t,{viewColumn:l.ViewColumn.One});r&&(r.revealRange(new l.Range(n,0,n,0)),r.selection=new l.Selection(new l.Position(n,0),new l.Position(n,0)))}}async copyCellInInteractiveWindow(e){var t;if(e){const n=this.configuration.getSettings(e.notebook.uri),r=[null!==(t=e.metadata.interactiveWindowCellMarker)&&void 0!==t?t:n.defaultCellMarker,e.document.getText()].join("\n");await this.clipboard.writeText(r)}}getTargetInteractiveWindow(e){let t;return t=void 0!==e?this.interactiveWindowProvider.windows.find((t=>{var n;return(null===(n=t.notebookUri)||void 0===n?void 0:n.toString())===e.toString()})):this.interactiveWindowProvider.getActiveOrAssociatedInteractiveWindow(),t}};i([(0,g.captureUsageTelemetry)(m.Telemetry.DebugStepOver)],M.prototype,"debugStepOver",null),i([(0,g.captureUsageTelemetry)(m.Telemetry.DebugStop)],M.prototype,"debugStop",null),i([(0,g.captureUsageTelemetry)(m.Telemetry.DebugContinue)],M.prototype,"debugContinue",null),i([(0,g.capturePerfTelemetry)(m.Telemetry.AddCellBelow)],M.prototype,"addCellBelow",null),i([(0,g.captureUsageTelemetry)(m.Telemetry.ExportPythonFileInteractive)],M.prototype,"exportFile",null),i([(0,g.captureUsageTelemetry)(m.Telemetry.ExportPythonFileAndOutputInteractive)],M.prototype,"exportFileAndOutput",null),i([(0,g.captureUsageTelemetry)(m.Telemetry.CreateNewInteractive)],M.prototype,"createNewInteractiveWindow",null),i([(0,g.captureUsageTelemetry)(m.Telemetry.ImportNotebook,{scope:"command"})],M.prototype,"importNotebook",null),i([(0,g.captureUsageTelemetry)(m.Telemetry.ImportNotebook,{scope:"file"})],M.prototype,"importNotebookOnFile",null),M=i([(0,c.injectable)(),a(0,(0,c.inject)(p.IDisposableRegistry)),a(1,(0,c.inject)(D.INotebookExporter)),a(1,(0,c.optional)()),a(2,(0,c.inject)(D.IJupyterExecution)),a(3,(0,c.inject)(d.IDocumentManager)),a(4,(0,c.inject)(d.IApplicationShell)),a(5,(0,c.inject)(T.IFileSystem)),a(6,(0,c.inject)(p.IConfigurationService)),a(7,(0,c.inject)(y.IDataScienceCodeLensProvider)),a(7,(0,c.optional)()),a(8,(0,c.inject)(d.ICommandManager)),a(9,(0,c.inject)(d.IDebugService)),a(9,(0,c.optional)()),a(10,(0,c.inject)(p.IConfigurationService)),a(11,(0,c.inject)(d.IApplicationShell)),a(12,(0,c.inject)(d.IWorkspaceService)),a(13,(0,c.inject)(v.IInteractiveWindowProvider)),a(14,(0,c.inject)(u.IKernelProvider)),a(15,(0,c.inject)(E.IDataScienceErrorHandler)),a(16,(0,c.inject)(P.INotebookEditorProvider)),a(17,(0,c.inject)(w.IFileConverter)),a(18,(0,c.inject)(w.IExportDialog)),a(19,(0,c.inject)(d.IClipboard)),a(20,(0,c.inject)(d.IVSCodeNotebook)),a(21,(0,c.inject)(x.IControllerPreferredService)),a(22,(0,c.inject)(j.IStatusProvider))],M),t.CommandRegistry=M},95772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSourceMap=void 0;const r=n(35412);t.buildSourceMap=function(e){const t={source:{path:(0,r.getFilePath)(e.uri)},pydevdSourceMaps:[]};return t.pydevdSourceMaps=e.generatedCodes.map((e=>({line:e.debuggerStartLine,endLine:e.endLine,runtimeSource:{path:e.runtimeFile},runtimeLine:e.runtimeLine}))),t}},38584:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugCellController=void 0;const r=n(3445),o=n(43819),i=n(57566),s=n(43138),a=n(11642),c=n(9959),l=n(15139);t.DebugCellController=class{constructor(e,t,n){this.debugAdapter=e,this.debugCell=t,this.kernel=n,this._ready=(0,s.createDeferred)(),this.ready=this._ready.promise,(0,c.sendTelemetryEvent)(r.DebuggingTelemetry.successfullyStartedRunAndDebugCell)}trace(e,t){(0,a.traceVerbose)(`[Debug-IW] ${e}: ${t}`)}async willSendEvent(e){return!("output"!==e.event||!(0,o.isJustMyCodeNotification)(e.body.output)||(this.trace("intercept","justMyCode notification"),0))}async willSendRequest(e){const t=(0,l.getInteractiveCellMetadata)(this.debugCell);"setBreakpoints"===e.command&&t&&t.generatedCode&&!this.cellDumpInvoked&&(this.debugCellDumped||(this.debugCellDumped=(0,i.cellDebugSetup)(this.kernel,this.debugAdapter)),await this.debugCellDumped),"configurationDone"===e.command&&t&&t.generatedCode&&(this.debugCellDumped||(this.debugCellDumped=(0,i.cellDebugSetup)(this.kernel,this.debugAdapter)),await this.debugCellDumped,this._ready.resolve())}}},6821:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveWindowDebuggingManager=void 0;const c=n(86700),l=n(66828),u=n(3445),d=n(66317),p=n(94062),h=n(57566),f=n(69035),g=n(10053),m=n(83599),y=n(25251),v=n(11642),b=s(n(15948)),S=n(38584),w=n(40157),C=n(42080),k=n(95772),_=n(58681),I=n(50867),E=n(41778);let P=class extends w.DebuggingManagerBase{constructor(e,t,n,r,o,i,s,a,c,l,u){super(e,n,t,r,o,i,u),this.platform=s,this.debugLocationTrackerFactory=a,this.configService=c,this.debugService=l}async activate(){await super.activate(),this.disposables.push(l.debug.registerDebugAdapterDescriptorFactory(u.pythonIWKernelDebugAdapter,{createDebugAdapterDescriptor:async e=>this.createDebugAdapterDescriptor(e)}))}getDebugMode(e){return d.KernelDebugMode.InteractiveWindow}async start(e,t){if((0,v.traceInfoIfCI)("Starting debugging IW"),this.notebookInProgress.has(e.notebook))return void(0,v.traceInfo)("Cannot start debugging. Already debugging this notebook");if(this.isDebugging(e.notebook))return void(0,v.traceInfo)("Cannot start debugging. Already debugging this notebook document. Toolbar should update");const n=async(r=!0)=>{switch(await this.checkForIpykernel6(e.notebook)){case h.IpykernelCheckResult.NotInstalled:return;case h.IpykernelCheckResult.Outdated:case h.IpykernelCheckResult.Unknown:return void this.promptInstallIpykernel6().then(_.noop,_.noop);case h.IpykernelCheckResult.Ok:return void await this.startDebuggingCell(e.notebook,t);case h.IpykernelCheckResult.ControllerNotSelected:r&&(await this.commandManager.executeCommand("notebook.selectKernel",{notebookEditor:e}),await n(!1))}};try{this.notebookInProgress.add(e.notebook),await n()}catch(e){(0,v.traceInfo)(`Error starting debugging: ${e}`)}finally{this.notebookInProgress.delete(e.notebook)}}async startDebuggingCell(e,t){const n=this.configService.getSettings(e.uri),r={type:u.pythonIWKernelDebugAdapter,name:b.basename(e.uri.toString()),request:"attach",justMyCode:n.debugJustMyCode,__interactiveWindowNotebookUri:e.uri.toString(),__mode:d.KernelDebugMode.InteractiveWindow,__cellIndex:t.index};return this.startDebuggingConfig(e,r,{suppressSaveBeforeStart:!0})}async createDebugAdapterDescriptor(e){var t;const n=e.configuration;(0,h.assertIsDebugConfig)(n);const r=n.__interactiveWindowNotebookUri?this.vscNotebook.notebookDocuments.find((e=>e.uri.toString()===n.__interactiveWindowNotebookUri)):null===(t=this.vscNotebook.activeNotebookEditor)||void 0===t?void 0:t.notebook;if(!r||"number"!=typeof n.__cellIndex)return void(0,v.traceError)("Invalid debug session for debugging of IW using Jupyter Protocol");const o=await this.ensureKernelIsRunning(r),i=this.getDebuggerByUri(r);if(!i)return;if(!(null==o?void 0:o.session))return void this.appShell.showInformationMessage(y.DataScience.kernelWasNotStarted()).then(_.noop,_.noop);const s=new f.KernelDebugAdapter(e,i.document,o.session,o,this.platform,this.debugService,this.debugLocationTrackerFactory);this.disposables.push(s.onDidEndSession(this.endSession.bind(this)));const a=r.cellAt(n.__cellIndex),c=new S.DebugCellController(s,a,o);return s.setDebuggingDelegate(c),c.ready.then((()=>i.resolve(e))).catch((e=>console.error("Failed waiting for controller to be ready",e))),this.trackDebugAdapter(r,s),new l.DebugAdapterInlineImplementation(s)}async updateSourceMaps(e,t){let n=await this.getDebugSession(e.notebook);n&&((0,v.traceInfoIfCI)("Sending debug request for source map"),await Promise.all(t.map((async e=>{if(n)return n.customRequest("setPydevdSourceMap",(0,k.buildSourceMap)(e))}))))}};P=i([(0,c.injectable)(),a(0,(0,c.inject)(p.IKernelProvider)),a(1,(0,c.inject)(I.IControllerSelection)),a(2,(0,c.inject)(I.IControllerLoader)),a(3,(0,c.inject)(g.ICommandManager)),a(4,(0,c.inject)(g.IApplicationShell)),a(5,(0,c.inject)(g.IVSCodeNotebook)),a(6,(0,c.inject)(m.IPlatformService)),a(7,(0,c.inject)(d.IDebugLocationTrackerFactory)),a(8,(0,c.inject)(C.IConfigurationService)),a(9,(0,c.inject)(g.IDebugService)),a(10,(0,c.inject)(E.IServiceContainer))],P),t.InteractiveWindowDebuggingManager=P},69035:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDebugAdapter=void 0;const s=i(n(15948)),a=n(66828),c=n(11642),l=n(15139),u=n(79626);class d extends u.KernelDebugAdapterBase{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,i),this.cellToDebugFileSortedInReverseOrderByLineNumber=[],s&&(this.debugLocationTracker=s.createDebugAdapterTracker(e),this.debugLocationTracker.onWillStartSession&&this.debugLocationTracker.onWillStartSession(),this.onDidSendMessage((e=>{var t;(null===(t=this.debugLocationTracker)||void 0===t?void 0:t.onDidSendMessage)&&this.debugLocationTracker.onDidSendMessage(e)}),this,this.disposables),this.onDidEndSession((()=>{var e;(null===(e=this.debugLocationTracker)||void 0===e?void 0:e.onWillStopSession)&&this.debugLocationTracker.onWillStopSession()}),this,this.disposables))}handleMessage(e){var t,n;return(0,c.traceInfoIfCI)(`KernelDebugAdapter::handleMessage ${JSON.stringify(e,void 0," ")}`),"request"===e.type&&(null===(t=this.debugLocationTracker)||void 0===t?void 0:t.onWillReceiveMessage)&&this.debugLocationTracker.onWillReceiveMessage(e),"response"===e.type&&(null===(n=this.debugLocationTracker)||void 0===n?void 0:n.onDidSendMessage)&&this.debugLocationTracker.onDidSendMessage(e),super.handleMessage(e)}async dumpCell(e){var t,n;const r=this.notebookDocument.cellAt(e),o=(0,l.getInteractiveCellMetadata)(r);if(!o)throw new Error("Not an interactive window cell");try{const e=((null===(t=o.generatedCode)||void 0===t?void 0:t.code)||r.document.getText()).replace(/\r\n/g,"\n"),i=await this.session.customRequest("dumpCell",{code:e}),c=s.normalize(i.sourcePath);this.fileToCell.set(c,a.Uri.parse(o.interactive.uristring));let l=0;o.generatedCode&&!o.generatedCode.hasCellMarker&&(l=o.generatedCode.firstNonBlankLineIndex),this.cellToDebugFileSortedInReverseOrderByLineNumber.push({debugFilePath:c,interactiveWindow:a.Uri.parse(o.interactive.uristring),metadata:o,lineOffset:l+o.interactive.lineIndex+((null===(n=o.generatedCode)||void 0===n?void 0:n.lineOffsetRelativeToIndexOfFirstLineInCell)||0)}),this.cellToDebugFileSortedInReverseOrderByLineNumber.sort(((e,t)=>t.metadata.interactive.lineIndex-e.metadata.interactive.lineIndex))}catch(e){(0,c.traceError)(`Failed to dump cell for ${r.index} with code ${o.interactive.originalSource}`,e)}}translateDebuggerFileToRealFile(e,t){if(!e||!e.path||!t||"number"!=typeof t.line&&!Array.isArray(t.lines))return;const n=this.cellToDebugFileSortedInReverseOrderByLineNumber.find((t=>t.debugFilePath===e.path));n&&(e.name=s.basename(n.interactiveWindow.path),e.path=n.interactiveWindow.toString(),"number"==typeof(null==t?void 0:t.endLine)&&(t.endLine=t.endLine+(n.lineOffset||0)),"number"==typeof(null==t?void 0:t.line)&&(t.line=t.line+(n.lineOffset||0)),(null==t?void 0:t.lines)&&Array.isArray(null==t?void 0:t.lines)&&(t.lines=null==t?void 0:t.lines.map((e=>e+(n.lineOffset||0)))))}translateRealFileToDebuggerFile(e,t){if(!e||!e.path||!t||"number"!=typeof t.line&&!Array.isArray(t.lines))return;const n=t.line||t.lines[0],r=this.cellToDebugFileSortedInReverseOrderByLineNumber.find((e=>n>=e.metadata.interactive.lineIndex+1));r&&(e.path=r.debugFilePath,"number"==typeof(null==t?void 0:t.endLine)&&(t.endLine=t.endLine-(r.lineOffset||0)),"number"==typeof(null==t?void 0:t.line)&&(t.line=t.line-(r.lineOffset||0)),(null==t?void 0:t.lines)&&Array.isArray(null==t?void 0:t.lines)&&(t.lines=null==t?void 0:t.lines.map((e=>e-(r.lineOffset||0)))))}async sendRequestToJupyterSession(e){var t,n;if(this.jupyterSession.disposed||"dead"===this.jupyterSession.status)return void(0,c.traceInfo)(`Skipping sending message ${e.type} because session is disposed`);const r=e;if("request"===r.type&&"setBreakpoints"===r.command){const e=(r.arguments.lines||[]).concat((r.arguments.breakpoints||[]).map((e=>e.line))),o=e.length?e[0]:void 0,i=o?this.cellToDebugFileSortedInReverseOrderByLineNumber.find((e=>o>=e.metadata.interactive.lineIndex+1)):void 0;if(i){const o=JSON.parse(JSON.stringify(r));r.arguments.lines&&(r.arguments.lines=r.arguments.lines.filter((e=>e<=i.metadata.generatedCode.endLine))),r.arguments.breakpoints&&(r.arguments.breakpoints=r.arguments.breakpoints.filter((e=>e.line<=i.metadata.generatedCode.endLine))),e.filter((e=>e>i.metadata.generatedCode.endLine)).length&&await this.setBreakpoints({source:o.arguments.source,breakpoints:null===(t=o.arguments.breakpoints)||void 0===t?void 0:t.filter((e=>e.line>i.metadata.generatedCode.endLine)),lines:null===(n=o.arguments.lines)||void 0===n?void 0:n.filter((e=>e>i.metadata.generatedCode.endLine))})}}return super.sendRequestToJupyterSession(e)}getDumpFilesForDeletion(){return this.cellToDebugFileSortedInReverseOrderByLineNumber.map((e=>e.debugFilePath))}}t.KernelDebugAdapter=d},64064:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveWindowDebuggingStartupCodeProvider=void 0;const i=n(86700),s=n(66828),a=n(98729),c=n(94062),l=n(15925),u=n(83599),d=n(42080);let p=class{constructor(e,t,n,r){this.configService=e,this.fs=t,this.context=n,this.isWebExtension=r,this.priority=5}async getCode(e){var t;if(!(0,a.isPythonKernelConnection)(e.kernelConnectionMetadata))return[];if(!this.isWebExtension){if(!0===this.configService.getSettings(void 0).forceIPyKernelDebugger)return[];if(!(0,c.isLocalConnection)(e.kernelConnectionMetadata))return[]}return(null===(t=e.notebook)||void 0===t?void 0:t.notebookType)===l.InteractiveWindowView&&(0,c.isLocalConnection)(e.kernelConnectionMetadata)?(this.addRunCellHookContents||(this.addRunCellHookContents=this.fs.readFile(s.Uri.joinPath(this.context.extensionUri,"pythonFiles","vscode_datascience_helpers","kernel","addRunCellHook.py"))),(await this.addRunCellHookContents).splitLines({trim:!1})):[]}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(d.IConfigurationService)),o(1,(0,i.inject)(u.IFileSystem)),o(2,(0,i.inject)(d.IExtensionContext)),o(3,(0,i.inject)(d.IsWebExtension))],p),t.InteractiveWindowDebuggingStartupCodeProvider=p},94523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCellsFromNotebookDocument=t.generateCellsFromDocument=t.generateCellRangesFromDocument=t.hasCells=t.generateCells=t.uncommentMagicCommands=t.createMarkdownCell=t.createCodeCell=void 0,n(8513);const r=n(66828),o=n(49691),i=n(58681),s=n(14154),a=n(86563);function c(e,t){const n="boolean"==typeof t&&t;return e=e||"",{cell_type:"code",execution_count:null,metadata:{},outputs:"boolean"==typeof t?[]:t||[],source:Array.isArray(e)?(0,a.appendLineFeed)(e,"\n",n?u:void 0):e}}function l(e,t=!1){return e=Array.isArray(e)?e:[e],{cell_type:"markdown",metadata:{},source:t?e:(0,a.generateMarkdownFromCodeLines)(e)}}function u(e){return/^#\s*!/.test(e)?/^#\s*!\s*%%?/.test(e)?e.replace(/^#\s*!\s*/,""):e.replace(/^#\s*/,""):e}function d(e,t,n){return{data:c(e,n),uri:t}}function p(e,t,n=!1){return{uri:t,data:l(e,n)}}function h(e,t,n,r){const s=t.splitLines({trim:!1}),c=s[0],l=new o.CellMatcher(e),{magicCommandsAsComments:u=!1}=e||{};if(l.isMarkdown(c)){let e=-1;return(0,a.parseForComments)(s,((e,t)=>(0,i.noop)()),((t,n)=>{t&&t.length>0&&-1===e&&(e=r?n:-1)})),e>=0?[p(s.slice(0,e),n),d(s.slice(e),n,u)]:[p(s,n)]}return[d(s,n,u)]}function f(e,t){const n=new o.CellMatcher(t),i=[];for(let t=0;t<e.lineCount;t+=1){const o=e.lineAt(t);if(n.isCell(o.text)){if(i.length>0){const n=i[i.length-1];n.range=new r.Range(n.range.start,e.lineAt(t-1).range.end)}i.push({range:o.range,cell_type:n.getCellType(o.text)})}}if(i.length>=1){const t=e.lineAt(e.lineCount-1),n=i[i.length-1];n.range=new r.Range(n.range.start,t.range.end)}return i}t.createCodeCell=c,t.createMarkdownCell=l,t.uncommentMagicCommands=u,t.generateCells=h,t.hasCells=function(e,t){const n=new o.CellMatcher(t);for(let t=0;t<e.lineCount;t+=1){const r=e.lineAt(t);if(n.isCell(r.text))return!0}return!1},t.generateCellRangesFromDocument=f,t.generateCellsFromDocument=function(e,t){const n=f(e,t);return Array.prototype.concat(...n.map((n=>{const r=e.getText(n.range);return h(t,r,e.uri,!1)})))},t.generateCellsFromNotebookDocument=function(e,t){return e.getCells().filter((e=>!e.metadata.isInteractiveWindowMessageCell)).map((e=>{let n=e.document.getText().splitLines({trim:!1,removeEmptyEntries:!1});void 0!==e.metadata.interactiveWindowCellMarker&&n.unshift(e.metadata.interactiveWindowCellMarker+"\n");const o=(0,s.createJupyterCellFromVSCNotebookCell)(e);return o.source=e.kind===r.NotebookCellKind.Code?(0,a.appendLineFeed)(n,"\n",t?u:void 0):(0,a.appendLineFeed)(n),{data:o,file:""}}))}},49691:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellMatcher=void 0;const r=n(15925);n(8513);const o=n(58681);t.CellMatcher=class{constructor(e){this.codeMatchRegEx=this.createRegExp(e?e.codeRegularExpression:void 0,r.RegExpValues.PythonCellMarker),this.markdownMatchRegEx=this.createRegExp(e?e.markdownRegularExpression:void 0,r.RegExpValues.PythonMarkdownCellMarker),this.codeExecRegEx=new RegExp(`${this.codeMatchRegEx.source}(.*)`),this.markdownExecRegEx=new RegExp(`${this.markdownMatchRegEx.source}(.*)`),this.defaultCellMarker=(null==e?void 0:e.defaultCellMarker)?e.defaultCellMarker:"# %%"}isCell(e){return this.isCode(e)||this.isMarkdown(e)}isMarkdown(e){return this.markdownMatchRegEx.test(e.trim())}isCode(e){return this.codeMatchRegEx.test(e.trim())||e.trim()===this.defaultCellMarker}getCellType(e){return this.isMarkdown(e)?"markdown":"code"}isEmptyCell(e){return 0===this.stripFirstMarker(e).trim().length}stripFirstMarker(e){const t=e.splitLines({trim:!1,removeEmptyEntries:!1});return t.length>0&&(this.isCode(t[0])||this.isMarkdown(t[0]))?t.slice(1).join("\n"):e}stripFirstMarkerNoConcat(e){return e.length>0&&(this.isCode(e[0])||this.isMarkdown(e[0]))?e.slice(1):e}getFirstMarker(e){const t=e.splitLines({trim:!1,removeEmptyEntries:!1});if(t.length>0&&(this.isCode(t[0])||this.isMarkdown(t[0])))return t[0]}createRegExp(e,t){try{if(e)return new RegExp(e)}catch(e){(0,o.noop)()}return t}}},50451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGenerator=void 0;const r=n(66828),o=n(86563),i=n(11642),s=n(94523),a=n(49691),c=n(46729);t.CodeGenerator=class{constructor(e,t,n,r,o,i){this.documentManager=e,this.configService=t,this.storage=n,this.notebook=r,this.executionCount=0,this.cellIndexesCounted={},this.disposables=[],i.push(this),this.documentManager.onDidChangeTextDocument(this.onChangedDocument,this,this.disposables),o.onDidChangeNotebookCellExecutionState(this.onDidCellStateChange,this,this.disposables)}dispose(){this.disposed||(this.disposed=!0,this.storage.clear(),this.disposables.forEach((e=>e.dispose())))}reset(){this.storage.clear(),this.executionCount=0}async generateCode(e,t,n,r){const{executableLines:o}=this.extractExecutableLines(e);if(this.executionCount+=1,this.cellIndexesCounted[t]=!0,o.length>0&&o.find((e=>e.trim().length>0)))return this.generateCodeImpl(e,this.executionCount,n,r)}extractExecutableLines(e){const t=e.interactive.originalSource,n=this.configService.getSettings(this.notebook.uri),r=new a.CellMatcher(n),i=(0,o.splitMultilineString)(t);if(n.magicCommandsAsComments&&i.forEach(((e,t)=>i[t]=(0,s.uncommentMagicCommands)(e))),e.interactiveWindowCellMarker&&i.length&&i[0].trim()===e.interactiveWindowCellMarker.trim()){const e=i.slice(1).filter((e=>e.trim().length>0));if(e.length>0&&e[0].trim().startsWith("%%")){const t=i.slice(i.indexOf(e[0]));return{lines:t,executableLines:t}}}return i.length>0&&(r.isCode(i[0])||r.isMarkdown(i[0]))?{lines:i,executableLines:i.slice(1)}:{lines:i,executableLines:i}}onDidCellStateChange(e){var t;e.cell.notebook===this.notebook&&(null===(t=e.cell.executionSummary)||void 0===t?void 0:t.executionOrder)&&!this.cellIndexesCounted[e.cell.index]&&(this.executionCount+=1,this.cellIndexesCounted[e.cell.index]=!0)}async generateCodeImpl(e,t,n,o){const{lineIndex:s,uristring:a}=e.interactive,l=this.documentManager.textDocuments.find((e=>e.uri.toString()===a));if(!l)return;const{stripped:u,trueStartLine:d}=this.extractStrippedLines(e),p=l.lineAt(d),h=l.lineAt(Math.min(d+u.length-1,l.lineCount-1));let f=0;for(;f<u.length&&0===u[f].trim().length;)f+=1;const g=f+d,m=l.offsetAt(new r.Position(s,0)),y=l.offsetAt(h.rangeIncludingLineBreak.end),v=(e.interactiveWindowCellMarker||"").length>0,{runtimeLine:b,debuggerStartLine:S}=this.addHiddenLines(n,u,d,g,v,o),w=u.join(""),C=l.getText(new r.Range(new r.Position(s,0),h.rangeIncludingLineBreak.end)),k=(await(0,c.computeHash)(w,"SHA-1")).substring(0,12),_=this.getRuntimeFile(k,t),I=n?-1:0,E={line:p?p.lineNumber+1:1,endLine:h?h.lineNumber+1:1,firstNonBlankLineIndex:g,debuggerStartLine:S,executionCount:t,startOffset:m,endOffset:y,deleted:!1,code:w,trimmedRightCode:u.map((e=>e.replace(/[ \t\r]+\n$/g,"\n"))).join(""),realCode:C,runtimeLine:b,runtimeFile:_,id:e.id,timestamp:Date.now(),lineOffsetRelativeToIndexOfFirstLineInCell:I,hasCellMarker:v};return(0,i.traceInfo)(`Generated code for ${t} = ${_} with ${u.length} lines`),this.storage.store(r.Uri.parse(e.interactive.uristring),E),E}getRuntimeFile(e,t){return`<ipython-input-${t}-${e}>`}onChangedDocument(e){const t=this.storage.getFileGeneratedCode(e.document.uri);if(t){const n=e.document.getText();e.contentChanges.forEach((e=>{this.handleContentChange(n,e,t)}))}}extractStrippedLines(e){const t=(0,o.splitMultilineString)(e.interactive.originalSource),{lines:n}=this.extractExecutableLines(e);let r=e.interactive.lineIndex+1;if(!e.interactiveWindowCellMarker){r=e.interactive.lineIndex;for(let e=0;e<n.length;e+=1)if(n[e]!==t[e]){r+=e+1;break}}let i=0;for(;i<n.length&&0===n[i].trim().length;)i+=1;let s=n.length-1,a=n.length-2;for(;a>0;){const e=n[s],t=n[a];if(0!==e.length&&"\n"!==e||0!==t.length&&"\n"!==t)break;n.splice(s,1),s-=1,a-=1}!n[s].endsWith("\n")&&n[s].length>0&&(n[s]=`${n[s]}\n`);for(let e=0;e<n.length;e++)n[e]=n[e].replace(/\r\n/g,"\n");return{stripped:n,trueStartLine:r}}handleContentChange(e,t,n){const r=t.range.start.line-t.range.end.line+t.text.split("\n").length-1,o=t.text.length-t.rangeLength,i=t.rangeLength<=0?t.rangeOffset:t.rangeOffset+t.rangeLength-1;n.forEach((n=>{n.endOffset<t.rangeOffset||(n.startOffset>i?(n.line+=r,n.endLine+=r,n.startOffset+=o,n.endOffset+=o):n.startOffset===i?n.deleted||t.rangeLength>0||0===r?n.deleted=e.substr(n.startOffset,n.endOffset-n.startOffset)!==n.realCode:(n.line+=r,n.endLine+=r,n.startOffset+=o,n.endOffset+=o):n.deleted=e.substr(n.startOffset,n.endOffset-n.startOffset)!==n.realCode)}))}addHiddenLines(e,t,n,r,o,i){const s=i||!0===this.configService.getSettings(void 0).forceIPyKernelDebugger;return e&&this.configService.getSettings(this.notebook.uri).stopOnFirstLineWhileDebugging?s?(t.splice(0,0,"breakpoint()\n"),{runtimeLine:1,debuggerStartLine:n+1}):(t.splice(0,0,"breakpoint()\n"),{runtimeLine:2,debuggerStartLine:n}):{runtimeLine:1,debuggerStartLine:o?r:r+1}}}},2644:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGeneratorFactory=void 0;const i=n(86700),s=n(10053),a=n(42080),c=n(50451),l=n(74858);let u=class{constructor(e,t,n,r,o){this.documentManager=e,this.configService=t,this.storageFactory=n,this.disposables=r,this.notebooks=o,this.codeGenerators=new WeakMap}activate(){this.notebooks.onDidCloseNotebookDocument(this.onDidCloseNotebook,this,this.disposables)}getOrCreate(e){const t=this.get(e);if(t)return t;const n=new c.CodeGenerator(this.documentManager,this.configService,this.storageFactory.getOrCreate(e),e,this.notebooks,this.disposables);return this.codeGenerators.set(e,n),n}get(e){return this.codeGenerators.get(e)}onDidCloseNotebook(e){var t;null===(t=this.codeGenerators.get(e))||void 0===t||t.dispose(),this.codeGenerators.delete(e)}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IDocumentManager)),o(1,(0,i.inject)(a.IConfigurationService)),o(2,(0,i.inject)(l.IGeneratedCodeStorageFactory)),o(3,(0,i.inject)(a.IDisposableRegistry)),o(4,(0,i.inject)(s.IVSCodeNotebook))],u),t.CodeGeneratorFactory=u},2785:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateCommand=t.CodeLensFactory=void 0;const c=n(86700),l=n(66828),u=n(10053),d=n(11642),p=n(42080),h=s(n(25251)),f=n(15139),g=n(94062),m=n(15925),y=n(94523),v=n(74858);let b=class{constructor(e,t,n,r,o,i,s){this.configService=e,this.documentManager=t,this.workspace=n,this.generatedCodeStorageFactory=i,this.updateEvent=new l.EventEmitter,this.notebookData=new Map,this.codeLensCache=new Map,this.documentManager.onDidCloseTextDocument(this.onClosedDocument,this,o),this.workspace.onDidGrantWorkspaceTrust((()=>this.codeLensCache.clear()),this,o),this.configService.getSettings(void 0).onDidChange(this.onChangedSettings,this,o),r.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,o),s.onDidDisposeKernel((e=>{this.notebookData.delete(e.notebook.uri.toString())}),this,o)}get updateRequired(){return this.updateEvent.event}createCodeLenses(e){const t=this.getCodeLensCacheData(e);return[...t.documentLenses,...t.gotoCellLens]}getCellRanges(e){return this.getCodeLensCacheData(e).cellRanges}getCodeLensCacheData(e){var t;const n=e.uri.toString();let r=this.codeLensCache.get(n),o=!1;r||(r={cachedDocumentVersion:void 0,cachedExecutionCounts:new Set,documentLenses:[],cellRanges:[],gotoCellLens:[]},o=!0,this.codeLensCache.set(n,r)),r.cachedDocumentVersion!==e.version&&(r.cellRanges=(0,y.generateCellRangesFromDocument)(e,this.configService.getSettings(e.uri)),r.documentLenses=[],r.gotoCellLens=[],r.cachedDocumentVersion=e.version,o=!0);const i=this.getDocumentExecutionCounts(n);if((i.length!==r.cachedExecutionCounts.size||i.find((e=>!(null==r?void 0:r.cachedExecutionCounts.has(e)))))&&(r.gotoCellLens=[],r.cachedExecutionCounts=new Set(i),o=!0),0===r.documentLenses.length&&o&&r.cellRanges.length){(0,d.traceInfoIfCI)(`Generating new code lenses for version ${e.version} of document ${e.uri}`);const t=this.enumerateCommands(e.uri);(0,d.traceInfoIfCI)(`Enumerating commands for ${e.uri.toString()}, ${t.join(", ")}`);let n=!0;r.cellRanges.forEach((o=>{t.forEach((t=>{const i=this.createCodeLens(e,o,t,n);i&&r.documentLenses.push(i)})),n=!1}))}else(0,d.traceInfoIfCI)(`NOT Generating new code lenses for version ${e.version} of document ${e.uri} - needUpdate: ${o}, cellRanges.length: ${r.cellRanges.length}`);if(o&&0===r.gotoCellLens.length&&r.cellRanges.length&&this.configService.getSettings(e.uri).addGotoCodeLenses){const n=this.generatedCodeStorageFactory.get({fileUri:e.uri}),o=n?null===(t=n.all.find((t=>t.uri.toString()===e.uri.toString())))||void 0===t?void 0:t.generatedCodes:void 0;o&&o.length&&r.cellRanges.forEach((t=>{const n=this.createExecutionLens(e,t.range,o);n&&(null==r||r.gotoCellLens.push(n))}))}return r}getDocumentExecutionCounts(e){return[...this.notebookData.values()].map((t=>t.documentExecutionCounts.get(e))).filter((e=>void 0!==e))}onDidChangeNotebookCellExecutionState(e){var t;if(e.cell.notebook.notebookType!==m.InteractiveWindowView)return;if(e.state!==l.NotebookCellExecutionState.Idle||!(null===(t=e.cell.executionSummary)||void 0===t?void 0:t.executionOrder))return;const n=(0,f.getInteractiveCellMetadata)(e.cell);let r=this.notebookData.get(e.cell.notebook.uri.toString());r||(r={cellExecutionCounts:new Map,documentExecutionCounts:new Map},this.notebookData.set(e.cell.notebook.uri.toString(),r)),void 0!==r&&void 0!==n&&(r.cellExecutionCounts.set(n.id,e.cell.executionSummary.executionOrder),r.documentExecutionCounts.set(n.interactive.uristring,e.cell.executionSummary.executionOrder),this.updateEvent.fire())}onClosedDocument(e){this.codeLensCache.delete(e.uri.toString())}onChangedSettings(){this.codeLensCache.clear(),this.updateEvent.fire()}enumerateCommands(e){let t;const n=this.configService.getSettings(e).codeLenses;t=n?n.split(",").map((e=>e.trim())):m.CodeLensCommands.DefaultDesignLenses;const r=this.configService.getSettings(e).debugCodeLenses;t=r?t.concat(r.split(",").map((e=>e.trim()))):t.concat(m.CodeLensCommands.DefaultDebuggingLenses);let o=[];return this.workspace.isTrusted||(o=[...m.CodeLensCommands.DebuggerCommands,...m.CodeLensCommands.DebuggerCommands,m.Commands.RunAllCells,m.Commands.RunAllCellsAbove,m.Commands.RunAllCellsAbovePalette,m.Commands.RunCellAndAllBelowPalette,m.Commands.RunCurrentCell,m.Commands.RunCurrentCellAdvance,m.Commands.RunCurrentCellAndAddBelow,m.Commands.RunFileInInteractiveWindows,m.Commands.InterruptKernel,m.Commands.RunToLine,m.Commands.RunCell,m.Commands.DebugCell,m.Commands.DebugContinue,m.Commands.DebugStepOver,m.Commands.DebugStop,m.Commands.RunCellAndAllBelowPalette]),o&&(t=t.filter((e=>!o.includes(e)))),t}createCodeLens(e,t,n,r){if(l.workspace.notebookDocuments.find((t=>t.uri.toString()===e.uri.toString())))return;(0,d.traceInfoIfCI)(`Generating code lens for command ${n} in ${e.uri.toString()}`);const{range:o,cell_type:i}=t;switch(n){case m.Commands.RunCurrentCellAndAddBelow:return this.generateCodeLens(o,m.Commands.RunCurrentCellAndAddBelow,h.DataScience.runCurrentCellAndAddBelow());case m.Commands.AddCellBelow:return this.generateCodeLens(o,m.Commands.AddCellBelow,h.DataScience.addCellBelowCommandTitle(),[e.uri,o.start.line]);case m.Commands.DebugCurrentCellPalette:return this.generateCodeLens(o,m.Commands.DebugCurrentCellPalette,h.DataScience.debugCellCommandTitle());case m.Commands.DebugCell:if("code"!==i)break;return this.generateCodeLens(o,m.Commands.DebugCell,h.DataScience.debugCellCommandTitle(),[e.uri,o.start.line,o.start.character,o.end.line,o.end.character]);case m.Commands.DebugStepOver:if("code"!==i)break;return this.generateCodeLens(o,m.Commands.DebugStepOver,h.DataScience.debugStepOverCommandTitle(),[e.uri]);case m.Commands.DebugContinue:if("code"!==i)break;return this.generateCodeLens(o,m.Commands.DebugContinue,h.DataScience.debugContinueCommandTitle(),[e.uri]);case m.Commands.DebugStop:if("code"!==i)break;return this.generateCodeLens(o,m.Commands.DebugStop,h.DataScience.debugStopCommandTitle(),[e.uri]);case m.Commands.RunCurrentCell:case m.Commands.RunCell:return this.generateCodeLens(o,m.Commands.RunCell,h.DataScience.runCellLensCommandTitle(),[e.uri,o.start.line,o.start.character,o.end.line,o.end.character]);case m.Commands.RunAllCells:return this.generateCodeLens(o,m.Commands.RunAllCells,h.DataScience.runAllCellsLensCommandTitle(),[e.uri,o.start.line,o.start.character]);case m.Commands.RunAllCellsAbovePalette:case m.Commands.RunAllCellsAbove:return r?this.generateCodeLens(o,m.Commands.RunCellAndAllBelow,h.DataScience.runCellAndAllBelowLensCommandTitle(),[e.uri,o.start.line,o.start.character]):this.generateCodeLens(o,m.Commands.RunAllCellsAbove,h.DataScience.runAllCellsAboveLensCommandTitle(),[e.uri,o.start.line,o.start.character]);case m.Commands.RunCellAndAllBelowPalette:case m.Commands.RunCellAndAllBelow:return this.generateCodeLens(o,m.Commands.RunCellAndAllBelow,h.DataScience.runCellAndAllBelowLensCommandTitle(),[e.uri,o.start.line,o.start.character]);default:(0,d.traceWarning)(`Invalid command for code lens ${n}`)}}findMatchingCellExecutionCount(e){const t=[...this.notebookData.values()].find((t=>t.cellExecutionCounts.get(e)));return null==t?void 0:t.cellExecutionCounts.get(e)}createExecutionLens(e,t,n){if(n){const r=n.filter((e=>e.line-2===t.start.line)).sort(((e,t)=>e.timestamp-t.timestamp));if(r&&r.length){const n=r[r.length-1],o=this.findMatchingCellExecutionCount(n.id);if(void 0!==o)return this.generateCodeLens(t,m.Commands.ScrollToCell,h.DataScience.scrollToCellTitleFormatMessage().format(o.toString()),[e.uri,n.id])}}}generateCodeLens(e,t,n,r){return new l.CodeLens(e,S(t,n,r))}};function S(e,t,n){return{arguments:n,title:t,command:e}}b=i([(0,c.injectable)(),a(0,(0,c.inject)(p.IConfigurationService)),a(1,(0,c.inject)(u.IDocumentManager)),a(2,(0,c.inject)(u.IWorkspaceService)),a(3,(0,c.inject)(u.IVSCodeNotebook)),a(4,(0,c.inject)(p.IDisposableRegistry)),a(5,(0,c.inject)(v.IGeneratedCodeStorageFactory)),a(6,(0,c.inject)(g.IKernelProvider))],b),t.CodeLensFactory=b,t.generateCommand=S},42277:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensProviderActivator=void 0;const i=n(86700),s=n(74858),a=n(66828),c=n(15925),l=n(42080);let u=class{constructor(e,t){this.dataScienceCodeLensProvider=e,this.extensionContext=t}activate(){this.extensionContext.subscriptions.push(a.languages.registerCodeLensProvider([c.PYTHON_FILE_ANY_SCHEME],this.dataScienceCodeLensProvider))}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IDataScienceCodeLensProvider)),o(1,(0,i.inject)(l.IExtensionContext))],u),t.CodeLensProviderActivator=u},75463:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceCodeLensProvider=void 0;const c=n(86700),l=s(n(66828)),u=n(10053),d=n(29444),p=n(20397),h=n(42080),f=n(58681),g=n(11386),m=n(41778),y=n(9959),v=n(11642),b=n(15925),S=n(74858),w=s(n(52859)),C=n(66317);let k=class{constructor(e,t,n,r,o,i,s,a){this.serviceContainer=e,this.debugLocationTracker=t,this.documentManager=n,this.configuration=r,this.commandManager=o,this.debugService=s,this.totalExecutionTimeInMs=0,this.totalGetCodeLensCalls=0,this.activeCodeWatchers=[],this.didChangeCodeLenses=new l.EventEmitter,i.push(this),i.push(a.onDidGrantWorkspaceTrust((()=>{(0,p.disposeAllDisposables)(this.activeCodeWatchers),this.activeCodeWatchers=[],this.didChangeCodeLenses.fire()}))),i.push(this.debugService.onDidChangeActiveDebugSession(this.onChangeDebugSession.bind(this))),i.push(this.documentManager.onDidCloseTextDocument(this.onDidCloseTextDocument.bind(this))),this.debugLocationTracker&&i.push(this.debugLocationTracker.updated(this.onDebugLocationUpdated.bind(this)))}dispose(){this.totalGetCodeLensCalls>0&&(0,y.sendTelemetryEvent)(b.Telemetry.CodeLensAverageAcquisitionTime,{duration:this.totalExecutionTimeInMs/this.totalGetCodeLensCalls})}get onDidChangeCodeLenses(){return this.didChangeCodeLenses.event}provideCodeLenses(e,t){return[b.NotebookCellScheme,b.InteractiveInputScheme].includes(e.uri.scheme)?[]:this.getCodeLensTimed(e)}getCodeWatcher(e){return this.matchWatcher(e.uri)}onDebugLocationUpdated(){this.didChangeCodeLenses.fire()}onChangeDebugSession(e){this.didChangeCodeLenses.fire()}onDidCloseTextDocument(e){const t=this.activeCodeWatchers.findIndex((t=>t.uri&&t.uri.toString()===e.uri.toString()));t>=0&&this.activeCodeWatchers.splice(t,1)}getCodeLensTimed(e){const t=new g.StopWatch,n=this.getCodeLens(e);return this.totalExecutionTimeInMs+=t.elapsedTime,this.totalGetCodeLensCalls+=1,new d.ContextKey(b.EditorContexts.HasCodeCells,this.commandManager).set(n&&n.length>0).catch(f.noop),this.configuration.getSettings(e.uri).enableCellCodeLens?this.adjustDebuggingLenses(e,n):[]}adjustDebuggingLenses(e,t){const n=b.CodeLensCommands.DebuggerCommands;if(!this.debugLocationTracker||!this.debugService.activeDebugSession)return t.filter((e=>!!e.command&&!n.includes(e.command.command)));{const r=this.debugLocationTracker.getLocation(this.debugService.activeDebugSession);let o;try{o=r?l.Uri.parse(r.fileName):void 0}catch(e){}if(r&&(w.isEqual(l.Uri.file(r.fileName),e.uri,!0)||o&&w.isEqual(o,e.uri,!0)))return t.filter((e=>{const t=new l.Position(r.lineNumber-1,r.column-1);return e.range.contains(t)})).filter((e=>!!e.command&&n.includes(e.command.command)));(0,v.traceInfoIfCI)(`Detected debugging context because activeDebugSession is name:"${this.debugService.activeDebugSession.name}", type: "${this.debugService.activeDebugSession.type}", but fell through with debugLocation: ${JSON.stringify(r)}, and document.uri: ${e.uri.toString()}`)}return[]}getCodeLens(e){const t=this.matchWatcher(e.uri);return t?t.getCodeLenses():((0,v.traceInfoIfCI)(`Creating a new watcher for document ${e.uri}`),this.createNewCodeWatcher(e).getCodeLenses())}matchWatcher(e){const t=this.activeCodeWatchers.findIndex((t=>t.uri&&t.uri.toString()==e.toString()));if(t>=0)return this.activeCodeWatchers[t];const n=this.documentManager.textDocuments.filter((t=>t.uri.toString()===e.toString()));return n&&n.length>0?((0,v.traceInfoIfCI)(`creating new code watcher with matching document ${e}`),this.createNewCodeWatcher(n[0])):void 0}createNewCodeWatcher(e){const t=this.serviceContainer.get(S.ICodeWatcher);return t.setDocument(e),t.codeLensUpdated(this.onWatcherUpdated.bind(this)),this.activeCodeWatchers.push(t),t}onWatcherUpdated(){this.didChangeCodeLenses.fire()}};k=i([(0,c.injectable)(),a(0,(0,c.inject)(m.IServiceContainer)),a(1,(0,c.inject)(C.IDebugLocationTracker)),a(1,(0,c.optional)()),a(2,(0,c.inject)(u.IDocumentManager)),a(3,(0,c.inject)(h.IConfigurationService)),a(4,(0,c.inject)(u.ICommandManager)),a(5,(0,c.inject)(h.IDisposableRegistry)),a(6,(0,c.inject)(u.IDebugService)),a(7,(0,c.inject)(u.IWorkspaceService))],k),t.DataScienceCodeLensProvider=k},65410:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeWatcher=void 0;const c=n(86700),l=n(66828),u=n(10053),d=n(42080),p=n(58681),h=n(9959),f=n(89275),g=n(58659),m=n(15925),y=n(135),v=n(49691),b=n(74858),S=n(11642),w=n(99203),C=s(n(52859)),k=n(90541);let _=class{constructor(e,t,n,r,o,i){this.interactiveWindowProvider=e,this.configService=t,this.documentManager=n,this.executionHelper=r,this.dataScienceErrorHandler=o,this.codeLensFactory=i,this.version=-1,this.codeLenses=[],this.cells=[],this.codeLensUpdatedEvent=new l.EventEmitter}setDocument(e){this.document=e,this.version=e.version,this.codeLenses=this.codeLensFactory.createCodeLenses(e),this.cells=this.codeLensFactory.getCellRanges(e),this.updateRequiredDisposable=this.codeLensFactory.updateRequired(this.onCodeLensFactoryUpdated.bind(this)),this.closeDocumentDisposable=this.documentManager.onDidCloseTextDocument(this.onDocumentClosed.bind(this))}get codeLensUpdated(){return this.codeLensUpdatedEvent.event}get uri(){var e;return null===(e=this.document)||void 0===e?void 0:e.uri}getVersion(){return this.version}getCodeLenses(){const e=this.document;return e&&e.version!=this.version&&(this.codeLenses=this.codeLensFactory.createCodeLenses(e),this.cells=this.codeLensFactory.getCellRanges(e),this.version=e.version),this.codeLenses}async debugCurrentCell(){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(this.documentManager.activeTextEditor.selection,!1,!0)}dispose(){var e,t;this.codeLensUpdatedEvent.dispose(),null===(e=this.closeDocumentDisposable)||void 0===e||e.dispose(),null===(t=this.updateRequiredDisposable)||void 0===t||t.dispose()}async runAllCells(){const e=await this.getActiveInteractiveWindow(),t=this.codeLenses.filter((e=>e.command&&e.command.command===m.Commands.RunCell&&e.command.arguments&&e.command.arguments.length>=5));let n=t.length,r=Promise.resolve(!0);for(const o of t){let i=new l.Range(o.command.arguments[1],o.command.arguments[2],o.command.arguments[3],o.command.arguments[4]);if(this.document){n===t.length&&(i=new l.Range(new l.Position(0,0),i.end));const o=this.document.getText(i);n-=1,r=this.addCode(e,o,this.document.uri,i.start.line)}}if(await r,0===t.length)return this.runFileInteractiveInternal(!1)}async runFileInteractive(){return this.runFileInteractiveInternal(!1)}async debugFileInteractive(){return this.runFileInteractiveInternal(!0)}async runAllCellsAbove(e,t){const n=await this.getActiveInteractiveWindow(),r=this.codeLenses.filter((e=>e.command&&e.command.command===m.Commands.RunCell));let o=r.findIndex((n=>n.range.start.line>=e&&n.range.start.character>=t));o<0&&(o=r.length);const i=o;let s=Promise.resolve(!0);for(const e of r){if(!(o>0&&this.document))break;{let t=new l.Range(e.range.start,e.range.end);o===i&&(t=new l.Range(new l.Position(0,0),t.end)),o-=1;const r=this.document.getText(t);s=this.addCode(n,r,this.document.uri,e.range.start.line)}}await s}async runCellAndAllBelow(e,t){const n=await this.getActiveInteractiveWindow(),r=this.codeLenses.filter((e=>e.command&&e.command.command===m.Commands.RunCell)),o=r.findIndex((n=>n.range.start.line>=e&&n.range.start.character>=t));let i=o>0?r.length-o:r.length,s=Promise.resolve(!0);for(let e=o;e>=0&&e<r.length;e+=1)if(i>0&&this.document){const t=r[e];i-=1;const o=this.document.getText(t.range);s=this.addCode(n,o,this.document.uri,t.range.start.line)}await s}async runSelectionOrLine(e,t){if(this.document&&e&&C.isEqual(e.document.uri,this.document.uri)){const n=await this.getActiveInteractiveWindow();let r;if(r=void 0===t||(0,p.isUri)(t)?this.executionHelper.getSelectedTextToExecute(e):t,!r)return;const o=await this.executionHelper.normalizeLines(r);if(!o||0===o.trim().length)return;await this.addCode(n,o,this.document.uri,e.selection.start.line)}}async runToLine(e){if(this.document&&e>0){const t=await this.getActiveInteractiveWindow(),n=this.document.lineAt(e-1),r=this.document.getText(new l.Range(0,0,n.range.end.line,n.range.end.character));r&&r.trim().length&&await this.addCode(t,r,this.document.uri,0)}}async runFromLine(e){if(this.document&&e<this.document.lineCount){const t=await this.getActiveInteractiveWindow(),n=this.document.lineAt(this.document.lineCount-1),r=this.document.getText(new l.Range(e,0,n.range.end.line,n.range.end.character));r&&r.trim().length&&await this.addCode(t,r,this.document.uri,e)}}async runCell(e){if(!this.documentManager.activeTextEditor||!this.documentManager.activeTextEditor.document)return;const t=e.contains(this.documentManager.activeTextEditor.selection.start)&&this.configService.getSettings(this.documentManager.activeTextEditor.document.uri).enableAutoMoveToNextCell;return this.runMatchingCell(e,t)}async debugCell(e){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(e,!1,!0)}async runCurrentCell(){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(this.documentManager.activeTextEditor.selection,!1)}async runCurrentCellAndAdvance(){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(this.documentManager.activeTextEditor.selection,!0)}async addEmptyCellToBottom(){const e=this.documentManager.activeTextEditor;e&&this.insertCell(e,e.document.lineCount+1)}async runCurrentCellAndAddBelow(){if(!this.documentManager.activeTextEditor||!this.documentManager.activeTextEditor.document)return;const e=this.documentManager.activeTextEditor,t=new v.CellMatcher(this.configService.getSettings(e.document.uri));let n=0;const r=this.getDefaultCellMarker(e.document.uri);e&&e.edit((o=>{let i=!0;for(let s=e.selection.end.line+1;s<e.document.lineCount;s+=1)if(t.isCell(e.document.lineAt(s).text)){i=!1,n=s,o.insert(new l.Position(s,0),`${r}\n\n`);break}i&&(n=e.document.lineCount,o.insert(new l.Position(e.document.lineCount,0),`\n${r}\n`))})).then(p.noop,p.noop);const o=new l.Position(n+1,0);return this.runMatchingCell(e.selection,!1).then((()=>this.advanceToRange(new l.Range(o,o))))}insertCellBelowPosition(){const e=this.documentManager.activeTextEditor;e&&e.selection&&this.insertCell(e,e.selection.end.line+1)}insertCellBelow(){const e=this.documentManager.activeTextEditor;if(e&&e.selection){const t=this.getCellFromPosition(e.selection.end);t?this.insertCell(e,t.range.end.line+1):this.insertCell(e,e.selection.end.line+1)}}insertCellAbove(){const e=this.documentManager.activeTextEditor;if(e&&e.selection){const t=this.getCellFromPosition(e.selection.start);t?this.insertCell(e,t.range.start.line):this.insertCell(e,e.selection.start.line)}}deleteCells(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=this.getStartEndCells(e.selection);if(!t)return;const n=t[0],r=t[1];let o=0,i=0,s=r.range.end.line+1,a=0;n.range.start.line>0&&(o=n.range.start.line-1,i=e.document.lineAt(o).range.end.character,s=r.range.end.line,a=r.range.end.character);const c=new l.Range(new l.Position(o,i),new l.Position(s,a));e.edit((e=>{e.replace(c,""),this.codeLensUpdatedEvent.fire()})).then(p.noop,p.noop)}selectCell(){const e=this.documentManager.activeTextEditor;if(e&&e.selection){const t=this.getStartEndCells(e.selection);if(t){const n=t[0],r=t[1];e.selection.anchor.isBeforeOrEqual(e.selection.active)?e.selection=new l.Selection(n.range.start,r.range.end):e.selection=new l.Selection(r.range.end,n.range.start)}}}selectCellContents(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=this.getStartEndCellIndex(e.selection);if(!t)return;const n=t[0],r=t[1],o=e.selection.anchor.isBeforeOrEqual(e.selection.active),i=this.cells,s=[];for(let t=n;t<=r;t+=1){const n=i[t];let r=n.range.start.line+1,a=0,c=n.range.end.line,u=n.range.end.character;n.range.start.line===n.range.end.line&&(r=n.range.start.line,a=e.document.lineAt(r).range.end.character,c=r,u=a),o?s.push(new l.Selection(r,a,c,u)):s.push(new l.Selection(c,u,r,a))}e.selections=s}extendSelectionByCellAbove(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=e.selection,n=this.getStartEndCellIndex(e.selection);if(!n)return;const r=e.selection.anchor.isBefore(e.selection.active),o=this.cells,i=n[0],s=n[1],a=o[i],c=o[s];if(a.range.start.isEqual(t.start)&&c.range.end.isEqual(t.end)){let t;r&&i<s?(t=o[s-1],e.selection=new l.Selection(a.range.start,t.range.end)):i>0&&(t=o[i-1],e.selection=new l.Selection(c.range.end,t.range.start)),t&&e.revealRange(t.range,l.TextEditorRevealType.Default)}else{let t;t=r?i<s?new l.Selection(a.range.start,o[s-1].range.end):new l.Selection(a.range.end,a.range.start):new l.Selection(c.range.end,a.range.start),e.selection=t}}extendSelectionByCellBelow(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=e.selection,n=this.getStartEndCellIndex(e.selection);if(!n)return;const r=e.selection.anchor.isBeforeOrEqual(e.selection.active),o=this.cells,i=n[0],s=n[1],a=o[i],c=o[s];if(a.range.start.isEqual(t.start)&&c.range.end.isEqual(t.end)){let t;r||i===s?s<o.length-1&&(t=o[s+1],e.selection=new l.Selection(a.range.start,t.range.end)):i<s&&(t=o[i+1],e.selection=new l.Selection(c.range.end,t.range.start)),t&&e.revealRange(t.range,l.TextEditorRevealType.Default)}else{let t;t=r?new l.Selection(a.range.start,c.range.end):i<s?new l.Selection(o[i+1].range.start,c.range.end):new l.Selection(c.range.start,c.range.end),e.selection=t}}async moveCellsUp(){await this.moveCellsDirection(!0)}async moveCellsDown(){await this.moveCellsDirection(!1)}changeCellToMarkdown(){this.applyToCells(((e,t,n)=>this.changeCellTo(e,t,"markdown")))}changeCellToCode(){this.applyToCells(((e,t,n)=>this.changeCellTo(e,t,"code")))}gotoNextCell(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=e.selection,n=this.getCurrentCellLens(t.start),r=this.getNextCellLens(t.start);n&&r&&this.advanceToRange(r.range)}gotoPreviousCell(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=e.selection,n=this.getCurrentCellLens(t.start),r=this.getPreviousCellLens(t.start);n&&r&&this.advanceToRange(r.range)}applyToCells(e){const t=this.documentManager.activeTextEditor,n=this.getStartEndCellIndex(null==t?void 0:t.selection);if(!t||!n)return;const r=this.cells,o=n[0],i=n[1];for(let n=o;n<=i;n+=1)e(t,r[n],n)}changeCellTo(e,t,n){if("raw"===n)throw Error("Cell Type raw not implemented");if(t.cell_type===n)return;const r=new v.CellMatcher(this.configService.getSettings(e.document.uri)),o=e.document.lineAt(t.range.start.line),i=e.document.getText(o.range),s=this.getDefaultCellMarker(e.document.uri),a="markdown"===n?r.codeExecRegEx.exec(i):r.markdownExecRegEx.exec(i);if(!a)return;const c=a[a.length-1],u="markdown"===n?`${s} [markdown]${c}`:`${s}${c}`;e.edit((async r=>{r.replace(o.range,u),t.cell_type=n,t.range.start.line<t.range.end.line&&(e.selection=new l.Selection(t.range.start.line+1,0,t.range.end.line,t.range.end.character),l.commands.executeCommand("editor.action.removeCommentLine").then(p.noop,p.noop),"markdown"===n&&l.commands.executeCommand("editor.action.addCommentLine").then(p.noop,p.noop))})).then(p.noop,p.noop)}async moveCellsDirection(e){const t=this.documentManager.activeTextEditor;if(!t||!t.selection)return!1;const n=this.getStartEndCellIndex(t.selection);if(!n)return!1;const r=n[0],o=n[1],i=this.cells,s=i[r],a=i[o];if(!s||!a)return!1;const c=new l.Range(s.range.start,a.range.end),u=new l.Range(t.selection.start.line-c.start.line,t.selection.start.character,t.selection.end.line-c.start.line,t.selection.end.character),d=t.selection.active.isBefore(t.selection.anchor);let p;if(e){if(0===r)return!1;{const e=i[r-1];p=this.exchangeTextLines(t,e.range,c).then((n=>(n&&(t.selection=new l.Selection(e.range.start.line+u.start.line,u.start.character,e.range.start.line+u.end.line,u.end.character)),n)))}}else{if(o===i.length-1)return!1;{const e=i[o+1],n=this.exchangeTextLines(t,c,e.range),r=e.range.end.line-e.range.start.line-(c.end.line-c.start.line);p=n.then((n=>(n&&(t.selection=new l.Selection(e.range.start.line+r+u.start.line,u.start.character,e.range.start.line+r+u.end.line,u.end.character)),n)))}}return p.then((e=>(e&&d&&(t.selection=new l.Selection(t.selection.active,t.selection.anchor)),!0)))}exchangeTextLines(e,t,n){const r=t.start.line,o=t.end.line,i=n.start.line,s=n.end.line;if(o>=i)throw RangeError(`Above lines must be fully above not ${o} <= ${i}`);const a=new l.Range(r,0,o,e.document.lineAt(o).range.end.character),c=e.document.getText(a),u=new l.Range(i,0,s,e.document.lineAt(s).range.end.character),d=e.document.getText(u);let p="";if(o+1<i){const t=o+1,n=i-1,r=new l.Range(t,0,n,e.document.lineAt(n).range.end.character);p=`${e.document.getText(r)}\n`}const h=`${d}\n${p}${c}`,f=new l.Range(a.start,u.end);return e.edit((e=>{e.replace(f,h),this.codeLensUpdatedEvent.fire()}))}getStartEndCells(e){const t=this.getStartEndCellIndex(e);if(t)return[this.getCellFromIndex(t[0]),this.getCellFromIndex(t[1])]}getStartEndCellIndex(e){if(!e)return;let t=this.getCellIndex(e.start),n=t;if(e.start.line!==e.end.line&&(n=this.getCellIndex(e.end)),-1===t){if(-1===n)return;{t=0;const n=this.getCellFromIndex(0);if(e.start.line>n.range.start.line)throw RangeError(`Should not be able to pick a range with an end in a cell and start after a cell. ${e.start.line} > ${n.range.end.line}`)}}return t>=0&&n>=0?[t,n]:void 0}insertCell(e,t){const n=this.getDefaultCellMarker(e.document.uri),r=t>=e.document.lineCount?`\n${n}\n`:`${n}\n\n`,o=new l.Position(t,0),i=new l.Position(t+1,0);e.edit((e=>{e.insert(o,r),this.codeLensUpdatedEvent.fire()})).then(p.noop,p.noop),e.selection=new l.Selection(i,i)}getDefaultCellMarker(e){return this.configService.getSettings(e).defaultCellMarker||m.Identifiers.DefaultCodeCellMarker}onCodeLensFactoryUpdated(){this.document&&(this.codeLenses=this.codeLensFactory.createCodeLenses(this.document),this.cells=this.codeLensFactory.getCellRanges(this.document)),this.codeLensUpdatedEvent.fire()}onDocumentClosed(e){var t,n;this.document&&C.isEqual(e.uri,this.document.uri)&&(this.codeLensUpdatedEvent.dispose(),null===(t=this.closeDocumentDisposable)||void 0===t||t.dispose(),null===(n=this.updateRequiredDisposable)||void 0===n||n.dispose())}getActiveInteractiveWindow(){var e;return this.interactiveWindowProvider.getOrCreate(null===(e=this.document)||void 0===e?void 0:e.uri)}async addCode(e,t,n,r,o){let i=!1;try{i=o?await e.debugCode(t,n,r):await e.addCode(t,n,r)}catch(e){e instanceof g.InteractiveCellResultError||await this.dataScienceErrorHandler.handleError(e)}return i}async runMatchingCell(e,t,n){const r=this.getCurrentCellLens(e.start),o=this.getNextCellLens(e.start);if(r&&this.document){const e=this.document.getText(r.range);if(t){const t=this.documentManager.activeTextEditor,{newCellOnRunLast:n}=this.configService.getSettings(this.document.uri),i=new v.CellMatcher(this.configService.getSettings(this.document.uri));o?this.advanceToRange(o.range):n&&t&&!i.isEmptyCell(e)&&this.insertCell(t,r.range.end.line+1)}const i=await this.getActiveInteractiveWindow();await this.addCode(i,e,this.document.uri,r.range.start.line,n)}}getCellIndex(e){return this.cells.findIndex((t=>e&&t.range.contains(e)))}getCellFromIndex(e){const t=this.cells,n=function(e,t){if(t<=0)throw new RangeError(`Length must be > 0 not ${t}`);return e<0&&(e+=t),e<0?0:e>=t?t-1:e}(e,t.length);return t[n]}getCellFromPosition(e){if(!e){const t=this.documentManager.activeTextEditor;t&&t.selection&&(e=t.selection.active)}if(e){const t=this.getCellIndex(e);if(t>=0)return this.cells[t]}}getCurrentCellLens(e){return this.codeLenses.find((t=>t.range.contains(e)&&void 0!==t.command&&t.command.command===m.Commands.RunCell))}getNextCellLens(e){const t=this.codeLenses.findIndex((t=>t.range.contains(e)&&void 0!==t.command&&t.command.command===m.Commands.RunCell));if(t>=0)return this.codeLenses.find(((e,n)=>void 0!==e.command&&e.command.command===m.Commands.RunCell&&n>t))}getPreviousCellLens(e){const t=this.codeLenses.findIndex((t=>t.range.contains(e)&&void 0!==t.command&&t.command.command===m.Commands.RunCell));if(t>=1)return this.codeLenses.find(((e,n)=>void 0!==e.command&&n<t&&n+1===t))}async runFileInteractiveInternal(e){if(this.document){const t=await this.getActiveInteractiveWindow(),n=this.document.getText(),r=this.cells;if(r&&r.length){const n=r.map((n=>this.addCode(t,this.document.getText(n.range),this.document.uri,n.range.start.line,e)));await Promise.all(n)}else await this.addCode(t,n,this.document.uri,0,e)}}advanceToRange(e){const t=this.documentManager.activeTextEditor,n=new l.Selection(e.start,e.start);t&&(t.selection=n,t.revealRange(e,l.TextEditorRevealType.Default))}};i([(0,h.captureUsageTelemetry)(m.Telemetry.DebugCurrentCell)],_.prototype,"debugCurrentCell",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunAllCells)],_.prototype,"runAllCells",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunFileInteractive)],_.prototype,"runFileInteractive",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.DebugFileInteractive)],_.prototype,"debugFileInteractive",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunAllCellsAbove)],_.prototype,"runAllCellsAbove",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunCellAndAllBelow)],_.prototype,"runCellAndAllBelow",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunSelectionOrLine)],_.prototype,"runSelectionOrLine",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunToLine)],_.prototype,"runToLine",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunFromLine)],_.prototype,"runFromLine",null),i([(0,S.traceDecoratorVerbose)("CodeWatcher::runCell",w.TraceOptions.BeforeCall)],_.prototype,"runCell",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.DebugCurrentCell)],_.prototype,"debugCell",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunCurrentCell)],_.prototype,"runCurrentCell",null),i([(0,h.captureUsageTelemetry)(m.Telemetry.RunCurrentCellAndAdvance)],_.prototype,"runCurrentCellAndAdvance",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.RunCurrentCellAndAddBelow)],_.prototype,"runCurrentCellAndAddBelow",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.InsertCellBelowPosition)],_.prototype,"insertCellBelowPosition",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.InsertCellBelow)],_.prototype,"insertCellBelow",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.InsertCellAbove)],_.prototype,"insertCellAbove",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.DeleteCells)],_.prototype,"deleteCells",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.SelectCell)],_.prototype,"selectCell",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.SelectCellContents)],_.prototype,"selectCellContents",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.ExtendSelectionByCellAbove)],_.prototype,"extendSelectionByCellAbove",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.ExtendSelectionByCellBelow)],_.prototype,"extendSelectionByCellBelow",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.MoveCellsUp)],_.prototype,"moveCellsUp",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.MoveCellsDown)],_.prototype,"moveCellsDown",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.ChangeCellToMarkdown)],_.prototype,"changeCellToMarkdown",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.ChangeCellToCode)],_.prototype,"changeCellToCode",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.GotoNextCellInFile)],_.prototype,"gotoNextCell",null),i([(0,h.capturePerfTelemetry)(m.Telemetry.GotoPrevCellInFile)],_.prototype,"gotoPreviousCell",null),_=i([(0,c.injectable)(),a(0,(0,c.inject)(y.IInteractiveWindowProvider)),a(1,(0,c.inject)(d.IConfigurationService)),a(2,(0,c.inject)(u.IDocumentManager)),a(3,(0,c.inject)(f.ICodeExecutionHelper)),a(4,(0,c.inject)(k.IDataScienceErrorHandler)),a(5,(0,c.inject)(b.ICodeLensFactory))],_),t.CodeWatcher=_},11633:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Decorator=void 0;const c=n(86700),l=s(n(66828)),u=n(77886),d=n(10053),p=n(15925),h=n(42080),f=n(86563),g=n(94523);let m=class{constructor(e,t,n,r){this.documentManager=e,this.configuration=n,this.extensionChecker=r,this.computeDecorations(),t.push(this),t.push(this.configuration.getSettings(void 0).onDidChange(this.settingsChanged,this)),t.push(this.documentManager.onDidChangeActiveTextEditor(this.changedEditor,this)),t.push(this.documentManager.onDidChangeTextEditorSelection(this.changedSelection,this)),t.push(this.documentManager.onDidChangeTextDocument(this.changedDocument,this)),this.settingsChanged()}activate(){return Promise.resolve()}dispose(){this.timer&&clearTimeout(this.timer)}settingsChanged(){this.documentManager.activeTextEditor&&this.triggerUpdate(this.documentManager.activeTextEditor)}changedEditor(){this.triggerUpdate(void 0)}changedDocument(e){this.documentManager.activeTextEditor&&e.document===this.documentManager.activeTextEditor.document&&this.triggerUpdate(this.documentManager.activeTextEditor)}changedSelection(e){e.textEditor&&e.textEditor.selection.anchor&&this.triggerUpdate(e.textEditor)}triggerUpdate(e){this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>this.update(e)),100)}computeDecorations(){this.currentCellTopUnfocused=this.documentManager.createTextEditorDecorationType({borderColor:new l.ThemeColor("interactive.inactiveCodeBorder"),borderWidth:"2px 0px 0px 0px",borderStyle:"solid",isWholeLine:!0}),this.currentCellBottomUnfocused=this.documentManager.createTextEditorDecorationType({borderColor:new l.ThemeColor("interactive.inactiveCodeBorder"),borderWidth:"0px 0px 1px 0px",borderStyle:"solid",isWholeLine:!0}),this.currentCellTop=this.documentManager.createTextEditorDecorationType({borderColor:new l.ThemeColor("interactive.activeCodeBorder"),borderWidth:"2px 0px 0px 0px",borderStyle:"solid",isWholeLine:!0}),this.currentCellBottom=this.documentManager.createTextEditorDecorationType({borderColor:new l.ThemeColor("interactive.activeCodeBorder"),borderWidth:"0px 0px 1px 0px",borderStyle:"solid",isWholeLine:!0})}update(e){const t=void 0===e?this.documentManager.visibleTextEditors:[e];for(const e of t)if(e&&e.document&&e.document.languageId===p.PYTHON_LANGUAGE&&!(0,f.getAssociatedJupyterNotebook)(e.document)&&this.currentCellTop&&this.currentCellBottom&&this.currentCellTopUnfocused&&this.currentCellBottomUnfocused&&this.extensionChecker.isPythonExtensionInstalled){const t=this.configuration.getSettings(e.document.uri);if(t.decorateCells){const n=(0,g.generateCellRangesFromDocument)(e.document,t).map((e=>e.range)).filter((t=>t.contains(e.selection.anchor))),r=n.length>0?[new l.Range(n[0].start,n[0].start)]:[],o=n.length>0?[new l.Range(n[0].end,n[0].end)]:[];this.documentManager.activeTextEditor===e?(e.setDecorations(this.currentCellTop,r),e.setDecorations(this.currentCellBottom,o),e.setDecorations(this.currentCellTopUnfocused,[]),e.setDecorations(this.currentCellBottomUnfocused,[])):(e.setDecorations(this.currentCellTop,[]),e.setDecorations(this.currentCellBottom,[]),e.setDecorations(this.currentCellTopUnfocused,r),e.setDecorations(this.currentCellBottomUnfocused,o))}else e.setDecorations(this.currentCellTop,[]),e.setDecorations(this.currentCellBottom,[]),e.setDecorations(this.currentCellTopUnfocused,[]),e.setDecorations(this.currentCellBottomUnfocused,[])}}};m=i([(0,c.injectable)(),a(0,(0,c.inject)(d.IDocumentManager)),a(1,(0,c.inject)(h.IDisposableRegistry)),a(2,(0,c.inject)(h.IConfigurationService)),a(3,(0,c.inject)(u.IPythonExtensionChecker))],m),t.Decorator=m},50088:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneratedCodeStorage=void 0;const r=n(56297);t.GeneratedCodeStorage=class{constructor(){this.codeGeneratorsByFile=new r.ResourceMap}clear(){this.codeGeneratorsByFile.clear()}get all(){return[...this.codeGeneratorsByFile.entries()].map((e=>({uri:e[0],generatedCodes:e[1].filter((e=>!e.deleted))}))).filter((e=>e.generatedCodes.length>0))}getFileGeneratedCode(e){return this.codeGeneratorsByFile.get(e)||[]}store(e,t){const n=this.codeGeneratorsByFile.get(e)||[];let r=!1;for(let e=0;e<n.length&&!r;e+=1){const o=n[e];t.line>=o.line&&t.line<=o.endLine?(n.splice(e,1,t),r=!0):o.line>t.line&&(n.splice(e,0,t),r=!0)}r||n.push(t),this.codeGeneratorsByFile.set(e,n)}}},94671:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneratedCodeStorageFactory=void 0;const i=n(86700),s=n(10053),a=n(50088);let c=class{constructor(e){this.notebook=e,this.storages=new WeakMap}getOrCreate(e){return this.storages.has(e)||this.storages.set(e,new a.GeneratedCodeStorage),this.storages.get(e)}get(e){if("notebook"in e)return this.storages.get(e.notebook);{const t=this.notebook.notebookDocuments.find((t=>{const n=this.storages.get(t);return null==n?void 0:n.all.find((t=>t.uri.toString()===e.fileUri.toString()))}));return t?this.storages.get(t):void 0}}};c=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IVSCodeNotebook))],c),t.GeneratedCodeStorageFactory=c},50016:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonCellFoldingProvider=void 0;const i=n(86700),s=n(66828),a=n(15925),c=n(42080),l=n(74858);let u=class{constructor(e,t){this.dataScienceCodeLensProvider=e,this.extensionContext=t}activate(){this.extensionContext.subscriptions.push(s.languages.registerFoldingRangeProvider([a.PYTHON_FILE_ANY_SCHEME],this))}provideFoldingRanges(e,t,n){const r=this.dataScienceCodeLensProvider.getCodeWatcher(e);if(r){const e=r.getCodeLenses();if(n.isCancellationRequested)return;return e.map((e=>new s.FoldingRange(e.range.start.line,e.range.end.line,s.FoldingRangeKind.Region)))}}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IDataScienceCodeLensProvider)),o(1,(0,i.inject)(c.IExtensionContext))],u),t.PythonCellFoldingProvider=u},74858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeGeneratorFactory=t.IGeneratedCodeStorageFactory=t.IGeneratedCodeStore=t.ICodeLensFactory=t.ICodeWatcher=t.IDataScienceCodeLensProvider=void 0,t.IDataScienceCodeLensProvider=Symbol("IDataScienceCodeLensProvider"),t.ICodeWatcher=Symbol("ICodeWatcher"),t.ICodeLensFactory=Symbol("ICodeLensFactory"),t.IGeneratedCodeStore=Symbol("IGeneratedCodeStore"),t.IGeneratedCodeStorageFactory=Symbol("IGeneratedCodeStorageFactory"),t.ICodeGeneratorFactory=Symbol("ICodeGeneratorFactory")},80246:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneratedCodeStorageManager=void 0;const i=n(86700),s=n(94062),a=n(50867),c=n(15925),l=n(20397),u=n(42080),d=n(74858);let p=class{constructor(e,t,n,r,o){this.kernelProvider=e,this.codeGeneratorFactory=n,this.storageFactory=r,this.controllers=o,this.disposables=[],t.push(this)}dispose(){(0,l.disposeAllDisposables)(this.disposables)}activate(){this.kernelProvider.onDidCreateKernel(this.onDidCreateKernel,this,this.disposables),this.controllers.onControllerSelected(this.onNotebookControllerSelected,this,this.disposables)}onNotebookControllerSelected({notebook:e}){var t,n;null===(t=this.storageFactory.get({notebook:e}))||void 0===t||t.clear(),null===(n=this.codeGeneratorFactory.get(e))||void 0===n||n.reset()}onDidCreateKernel(e){var t;const n=e.notebook;"jupyterExtension"===e.creator&&n.notebookType===c.InteractiveWindowView&&(null===(t=this.storageFactory.get({notebook:n}))||void 0===t||t.clear(),e.onRestarted((()=>{var e;null===(e=this.storageFactory.get({notebook:n}))||void 0===e||e.clear(),this.codeGeneratorFactory.getOrCreate(n).reset()}),this,this.disposables))}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IKernelProvider)),o(1,(0,i.inject)(u.IDisposableRegistry)),o(2,(0,i.inject)(d.ICodeGeneratorFactory)),o(3,(0,i.inject)(d.IGeneratedCodeStorageFactory)),o(4,(0,i.inject)(a.IControllerSelection))],p),t.GeneratedCodeStorageManager=p},15139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInteractiveInputTab=t.generateInteractiveCode=t.getInteractiveCellMetadata=void 0;const r=n(86563),o=n(58681),i=n(94523);t.getInteractiveCellMetadata=function(e){if(void 0!==e.metadata.interactive)return e.metadata},t.generateInteractiveCode=function(e,t,n){const o=e.splitLines({trim:!1,removeEmptyEntries:!1}),s=n.stripFirstMarkerNoConcat(o),a=(0,r.removeLinesFromFrontAndBackNoConcat)(s);return(0,r.appendLineFeed)(a,"\n",t.magicCommandsAsComments?i.uncommentMagicCommands:void 0).join("")},t.isInteractiveInputTab=function(e){let t=e;return t&&t.input&&(0,o.isUri)(t.input.uri)&&(0,o.isUri)(t.input.inputBoxUri)}},90760:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getInteractiveWindowTitle=void 0;const s=i(n(15948));n(8513);const a=i(n(25251));t.getInteractiveWindowTitle=function(e){return a.DataScience.interactiveWindowTitleFormat().format(s.basename(e.path))}},602:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveWindow=void 0;const c=s(n(15948)),l=n(66828),u=n(10053),d=n(15925);n(8513);const p=n(11642),h=n(83599),f=a(n(71171)),g=n(42080),m=n(58681),y=n(94062),v=n(85446),b=n(58659),S=n(25251),w=n(43138),C=n(30682),k=n(29629),_=n(94433),I=n(62440),E=n(94523),P=n(49691),D=n(135),T=n(15139),x=n(50867),j=n(88960),M=n(15139),N=n(46799),O=n(35412),A=n(74858),R=n(90541),L=n(9016),F=n(14154),U=n(58880),K=n(61239),W=n(86563);class V{constructor(e,t,n,r,o,i){this.serviceContainer=e,this._owner=t,this.mode=n,this.preferredController=r,this.notebookEditorOrTab=o,this.inputUri=i,this.initialized=!1,this._onDidChangeViewState=new l.EventEmitter,this.closedEvent=new l.EventEmitter,this._submitters=[],this.internalDisposables=[],this.kernelDisposables=[],this.currentKernelInfo={},this.documentManager=this.serviceContainer.get(u.IDocumentManager),this.commandManager=this.serviceContainer.get(u.ICommandManager),this.fs=this.serviceContainer.get(h.IFileSystem),this.configuration=this.serviceContainer.get(g.IConfigurationService),this.jupyterExporter=this.serviceContainer.get(_.INotebookExporter),this.workspaceService=this.serviceContainer.get(u.IWorkspaceService),this.exportDialog=this.serviceContainer.get(I.IExportDialog),this.notebookControllerSelection=this.serviceContainer.get(x.IControllerSelection),this.interactiveWindowDebugger=this.serviceContainer.tryGet(D.IInteractiveWindowDebugger),this.errorHandler=this.serviceContainer.get(R.IDataScienceErrorHandler),this.codeGeneratorFactory=this.serviceContainer.get(A.ICodeGeneratorFactory),this.storageFactory=this.serviceContainer.get(A.IGeneratedCodeStorageFactory),this.debuggingManager=this.serviceContainer.get(D.IInteractiveWindowDebuggingManager),this.isWebExtension=this.serviceContainer.get(g.IsWebExtension),this.controllerRegistration=this.serviceContainer.get(x.IControllerRegistration),this._notebookUri=(0,T.isInteractiveInputTab)(o)?o.input.uri:o.notebook.uri,(0,T.isInteractiveInputTab)(o)||(this._notebookEditor=o),this._owner&&this._submitters.push(this._owner)}get onDidChangeViewState(){return this._onDidChangeViewState.event}get closed(){return this.closedEvent.event}get owner(){return this._owner}get submitters(){return this._submitters}get notebookDocument(){return this.notebookEditor.notebook}get kernelConnectionMetadata(){return this.currentKernelInfo.metadata}get notebookEditor(){return this._notebookEditor}get notebookUri(){return this._notebookUri}initialize(){this.initialized||(this.initialized=!0,l.window.onDidChangeActiveNotebookEditor((e=>{e===this.notebookEditor&&this._onDidChangeViewState.fire()}),this.internalDisposables),l.workspace.onDidCloseNotebookDocument((e=>{e===this.notebookDocument&&this.closedEvent.fire()}),this.internalDisposables),this.cellMatcher=new P.CellMatcher(this.configuration.getSettings(this.owningResource)),l.window.activeNotebookEditor===this.notebookEditor&&this._onDidChangeViewState.fire(),this.listenForControllerSelection(),this.preferredController?this.startKernel(this.preferredController.controller,this.preferredController.connection).ignoreErrors():((0,p.traceWarning)("No preferred controller found for Interactive Window"),this.isWebExtension&&this.insertInfoMessage(S.DataScience.noKernelsSpecifyRemote()).ignoreErrors()),this.codeGeneratorFactory.getOrCreate(this.notebookDocument))}async restore(e){if(e&&(this.preferredController=e),!this.notebookEditor)if((0,T.isInteractiveInputTab)(this.notebookEditorOrTab)){const e=await l.workspace.openNotebookDocument(this.notebookEditorOrTab.input.uri),t=await l.window.showNotebookDocument(e,{viewColumn:this.notebookEditorOrTab.group.viewColumn});this._notebookEditor=t}else this._notebookEditor=this.notebookEditorOrTab;this.initialize()}setPendingCellAdd(e){if(this.kernelConnectionMetadata){this.pendingCellAdd=e;const t=this.controllerRegistration.get(this.kernelConnectionMetadata,"interactive");null==t||t.setPendingCellAddition(this.notebookDocument,e)}}async startKernel(e=this.currentKernelInfo.controller,t=this.currentKernelInfo.metadata){if(!e||!t)throw new Error("Controller not selected");if(this.currentKernelInfo.kernel)return this.currentKernelInfo.kernel.promise;const n=(0,w.createDeferred)();n.promise.catch(m.noop),this.currentKernelInfo={controller:e,metadata:t,kernel:n};const r=this.insertSysInfoMessage(t,C.SysInfoReason.Start);try{await(0,K.initializeInteractiveOrNotebookTelemetryBasedOnUserAction)(this.owner,t);const o=(e,t)=>{"start"!==e&&"restart"!==e||(this.currentKernelInfo.controller=t.controller,this.currentKernelInfo.metadata=t.kernelConnectionMetadata,this.pendingCellAdd&&this.setPendingCellAdd(this.pendingCellAdd),this.updateSysInfoMessage(this.getSysInfoMessage(t.kernelConnectionMetadata,C.SysInfoReason.Start),!1,r))};this.updateSysInfoMessage(this.getSysInfoMessage(t,C.SysInfoReason.Start),!1,r);const i=await N.KernelConnector.connectToNotebookKernel(t,this.serviceContainer,{resource:this.owner,notebook:this.notebookDocument,controller:e},new j.DisplayOptions(!1),this.internalDisposables,"jupyterExtension",o);this.currentKernelInfo.controller=i.controller,this.currentKernelInfo.metadata=i.kernelConnectionMetadata;const s=async e=>{"willRestart"===e&&this.notebookDocument&&this.currentKernelInfo.metadata&&(this._insertSysInfoPromise=void 0,this.insertSysInfoMessage(this.currentKernelInfo.metadata,C.SysInfoReason.Restart).then(m.noop,m.noop))};return i.addEventHook(s),this.kernelDisposables.push(new l.Disposable((()=>i.removeEventHook(s)))),i.onRestarted((async()=>{(0,p.traceInfoIfCI)("Restart event handled in IW"),this.fileInKernel=void 0;const e=Promise.resolve(this.notebookDocument.cellAt(this.notebookDocument.cellCount-1));try{await this.runInitialization(i,this.owner)}catch(e){(0,p.traceError)("Failed to run initialization after restarting")}finally{this.finishSysInfoMessage(i,e,C.SysInfoReason.Restart)}}),this,this.kernelDisposables),this.kernelDisposables.push(i),this.fileInKernel=void 0,await this.runInitialization(i,this.owner),this.finishSysInfoMessage(i,r,C.SysInfoReason.Start),n.resolve(i),i}catch(e){throw n.reject(e),this.currentKernelInfo.kernel=void 0,this.disconnectKernel(),this.owner?await this.deleteSysInfoCell(r):await this.finishSysInfoWithFailureMessage(e,r),e}}getSysInfoMessage(e,t){var n;const r=null===(n=e.interpreter)||void 0===n?void 0:n.displayName;return t===C.SysInfoReason.Restart?r?S.DataScience.restartingKernelCustomHeader().format(r):S.DataScience.restartingKernelHeader():r?S.DataScience.startingNewKernelCustomHeader().format(r):S.DataScience.startingNewKernelHeader()}async insertSysInfoMessage(e,t){const n=this.getSysInfoMessage(e,t);return this.insertInfoMessage(n)}async insertInfoMessage(e){if(!this._insertSysInfoPromise){const t=async()=>(await(0,U.chainWithPendingUpdates)(this.notebookDocument,(t=>{const n=new l.NotebookCellData(l.NotebookCellKind.Markup,e,d.MARKDOWN_LANGUAGE);n.metadata={isInteractiveWindowMessageCell:!0,isPlaceholder:!0};const r=l.NotebookEdit.insertCells(this.notebookDocument.cellCount,[n]);t.set(this.notebookDocument.uri,[r])})),this.notebookDocument.cellAt(this.notebookDocument.cellCount-1));this._insertSysInfoPromise=t()}return this._insertSysInfoPromise}updateSysInfoMessage(e,t,n){t&&(this._insertSysInfoPromise=void 0),n.then((n=>(0,U.chainWithPendingUpdates)(this.notebookDocument,(r=>{if(n.index>=0&&n.kind===l.NotebookCellKind.Markup&&n.metadata.isInteractiveWindowMessageCell&&n.metadata.isPlaceholder)return r.replace(n.document.uri,new l.Range(0,0,n.document.lineCount,0),e),void r.set(this.notebookDocument.uri,[l.NotebookEdit.updateCellMetadata(n.index,{isInteractiveWindowMessageCell:!0,isPlaceholder:!t})])})))).ignoreErrors()}deleteSysInfoCell(e){this._insertSysInfoPromise=void 0,e.then((e=>(0,U.chainWithPendingUpdates)(this.notebookDocument,(t=>{if(e.index>=0&&e.kind===l.NotebookCellKind.Markup&&e.metadata.isInteractiveWindowMessageCell&&e.metadata.isPlaceholder){const n=l.NotebookEdit.deleteCells(new l.NotebookRange(e.index,e.index+1));t.set(this.notebookDocument.uri,[n])}})))).ignoreErrors()}finishSysInfoMessage(e,t,n){var r,o;const i="info"in e?null===(r=e.kernelConnectionMetadata.interpreter)||void 0===r?void 0:r.displayName:"",s="info"in e&&"ok"===(null===(o=e.info)||void 0===o?void 0:o.status)?e.info:void 0,a=s?s.banner.split("\n").join("  \n"):e.toString(),c=n==C.SysInfoReason.Restart?S.DataScience.restartedKernelHeader().format(i||""):a;this.updateSysInfoMessage(c,!0,t)}async finishSysInfoWithFailureMessage(e,t){let n=await this.errorHandler.getErrorMessageForDisplayInCell(e,"start",this.owningResource);n=n.split("\n").join("  \n"),this.updateSysInfoMessage(n,!0,t)}listenForControllerSelection(){this.notebookControllerSelection.onControllerSelected((e=>{var t;e.notebook===this.notebookEditor.notebook&&e.controller.id!==(null===(t=this.currentKernelInfo.controller)||void 0===t?void 0:t.id)&&(this.disconnectKernel(),this.startKernel(e.controller.controller,e.controller.connection).ignoreErrors())}),this,this.internalDisposables)}async show(e=!0){await this.commandManager.executeCommand("interactive.open",{preserveFocus:e},this.notebookUri,void 0,void 0)}dispose(){this.internalDisposables.forEach((e=>e.dispose())),this.disconnectKernel()}async addErrorMessage(e,t){var n,r,o,i,s;const a=new l.NotebookCellData(l.NotebookCellKind.Markup,e,d.MARKDOWN_LANGUAGE);a.metadata={isInteractiveWindowMessageCell:!0};const c=t&&t.index>=0?t.index:this.notebookEditor.notebook.cellCount,u=this.notebookControllerSelection.getSelected(this.notebookEditor.notebook),p=(0,k.createOutputWithErrorMessageForDisplay)(e);if(0!==this.notebookEditor.notebook.cellCount&&u&&p&&t){const e=L.CellExecutionCreator.getOrCreate(t,u.controller);e.started||e.start(null===(r=null===(n=t.executionSummary)||void 0===n?void 0:n.timing)||void 0===r?void 0:r.startTime),e.executionOrder=null===(o=t.executionSummary)||void 0===o?void 0:o.executionOrder,e.appendOutput(p).then(m.noop,m.noop),e.end(!1,null===(s=null===(i=t.executionSummary)||void 0===i?void 0:i.timing)||void 0===s?void 0:s.endTime)}else{const e=new l.WorkspaceEdit,t=l.NotebookEdit.insertCells(c,[a]);e.set(this.notebookDocument.uri,[t]),await l.workspace.applyEdit(e)}}changeMode(e){this.mode!==e&&(this.mode=e)}async addCode(e,t,n){return this.submitCodeImpl(e,t,n,!1)}async debugCode(e,t,n){let r=!0;const o=this.documentManager.textDocuments.find((e=>this.fs.arePathsSame(e.uri,t)));if(o&&o.isUntitled){const e=[...this.documentManager.textDocuments];if(r=await o.save(),r){const n=this.documentManager.textDocuments.filter((t=>-1===e.indexOf(t)));n&&n.length>0&&(t=n[0].uri,await this.documentManager.openTextDocument(t))}}return!r||this.submitCodeImpl(e,t,n,!0)}async submitCodeImpl(e,t,n,r){if(this.cellMatcher.isEmptyCell(e)||!this.currentKernelInfo.controller)return!0;this.updateOwners(t);const o=e.splitLines({trim:!1}),i=new P.CellMatcher(this.configuration.getSettings(t));let s=-1;i.isMarkdown(o[0])&&(0,W.parseForComments)(o,((e,t)=>(0,m.noop)()),((e,t)=>{e&&e.length>0&&-1===s&&(s=t)}));const a=(s>0?[o.slice(0,s).join("\n"),o.slice(s).join("\n")]:[e]).map((e=>{const o=(0,w.createDeferred)();this.setPendingCellAdd(o.promise);const i=this.addNotebookCell(e,t,n),s=this.createExecutionPromise(i,r);return s.catch((e=>{e instanceof b.InteractiveCellResultError?i.then((t=>{e.cell!==t&&this.addErrorMessage(S.DataScience.cellStopOnErrorMessage(),t).then(m.noop,m.noop)})).catch(m.noop):i.then((t=>this.errorHandler.getErrorMessageForDisplayInCell(e,"execution",this.owningResource).then((e=>this.addErrorMessage(e,t))))).catch(m.noop)})).finally((()=>{null==o||o.resolve()})),s}));return a[a.length-1]}disconnectKernel(){this.kernelDisposables.forEach((e=>e.dispose())),this.kernelDisposables=[],this.currentKernelInfo.kernel=void 0}async createExecutionPromise(e,t){var n,r;(0,p.traceInfoIfCI)("InteractiveWindow.ts.createExecutionPromise.start");const o=this.startKernel();o.then(m.noop,m.noop);const i=await e;let s=!0,a=async()=>(0,m.noop)();try{const e=await o,c=this.configuration.getSettings(this.owner);await this.generateCodeAndAddMetadata(i,t,e),!t||!c.forceIPyKernelDebugger&&(0,y.isLocalConnection)(e.kernelConnectionMetadata)?t&&(0,y.isLocalConnection)(e.kernelConnectionMetadata)&&this.interactiveWindowDebugger&&(a=async()=>{var t;return null===(t=this.interactiveWindowDebugger)||void 0===t?void 0:t.detach(e)},await this.interactiveWindowDebugger.attach(e),await this.interactiveWindowDebugger.updateSourceMaps((null===(n=this.storageFactory.get({notebook:i.notebook}))||void 0===n?void 0:n.all)||[]),this.interactiveWindowDebugger.enable(e)):await this.debuggingManager.start(this.notebookEditor,i),(0,p.traceInfoIfCI)("InteractiveWindow.ts.createExecutionPromise.kernel.executeCell");const l=(0,M.getInteractiveCellMetadata)(i);s=await e.executeCell(i,null===(r=null==l?void 0:l.generatedCode)||void 0===r?void 0:r.code)!==y.NotebookCellRunState.Error,(0,p.traceInfoIfCI)("InteractiveWindow.ts.createExecutionPromise.kernel.executeCell.finished")}finally{await a(),(0,p.traceInfoIfCI)("InteractiveWindow.ts.createExecutionPromise.end")}if(!s)throw new b.InteractiveCellResultError(i);return s}async runInitialization(e,t){t?(await this.setFileInKernel(t,e),(0,p.traceInfoIfCI)("file in kernel set for IW")):(0,p.traceInfoIfCI)("Unable to run initialization for IW")}async expandAllCells(){await Promise.all(this.notebookEditor.notebook.getCells().map((async(e,t)=>{await this.commandManager.executeCommand("notebook.cell.expandCellInput",{ranges:[{start:t,end:t+1}],document:this.notebookEditor.notebook.uri})})))}async collapseAllCells(){await Promise.all(this.notebookEditor.notebook.getCells().map((async(e,t)=>{e.kind===l.NotebookCellKind.Code&&await this.commandManager.executeCommand("notebook.cell.collapseCellInput",{ranges:[{start:t,end:t+1}],document:this.notebookEditor.notebook.uri})})))}async scrollToCell(e){await this.show();const t=this.notebookEditor.notebook.getCells().find((t=>{var n;return(null===(n=(0,M.getInteractiveCellMetadata)(t))||void 0===n?void 0:n.id)===e}));if(t){const e=new l.NotebookRange(t.index,t.index+1);this.notebookEditor.revealRange(e,l.NotebookEditorRevealType.Default),this.notebookEditor.selection=e}}async hasCell(e){return this.notebookEditor.notebook.getCells().some((t=>{var n;return(null===(n=(0,M.getInteractiveCellMetadata)(t))||void 0===n?void 0:n.id)===e}))}get owningResource(){if(this.owner)return this.owner;return this.workspaceService.rootFolder||void 0}async setFileInKernel(e,t){const n=(0,O.getFilePath)(e);("perFile"!==this.mode||this.fileInKernel)&&(this.fileInKernel&&this.fs.arePathsSame(this.fileInKernel,e)||"perFile"===this.mode)?(0,p.traceInfoIfCI)(`Not Initializing __file__ in setFileInKernel with ${n} for mode ${this.mode} currently ${this.fileInKernel}`):((0,p.traceInfoIfCI)(`Initializing __file__ in setFileInKernel with ${e} for mode ${this.mode}`),this.fileInKernel=e,await t.executeHidden(`__file__ = '${n.replace(/\\/g,"\\\\")}'`))}updateOwners(e){this._owner||(this._owner=e),this._submitters.find((t=>t.toString()==e.toString()))||this._submitters.push(e)}async addNotebookCell(e,t,n){var r,o;const i=this.notebookEditor.notebook,s=this.configuration.getSettings(this.owningResource),a=this.cellMatcher.getCellType(e)===d.MARKDOWN_LANGUAGE,c=a?(0,W.generateMarkdownFromCodeLines)(e.splitLines()).join(""):(0,T.generateInteractiveCode)(e,s,this.cellMatcher),u=this.cellMatcher.getFirstMarker(e),p=null!==(o=null===(r=l.workspace.textDocuments.find((e=>{var t;return e.uri.toString()===(null===(t=this.owner)||void 0===t?void 0:t.toString())})))||void 0===r?void 0:r.languageId)&&void 0!==o?o:d.PYTHON_LANGUAGE,h=new l.NotebookCellData(a?l.NotebookCellKind.Markup:l.NotebookCellKind.Code,c,a?d.MARKDOWN_LANGUAGE:p),g={interactiveWindowCellMarker:u,interactive:{uristring:t.toString(),lineIndex:n,originalSource:e},id:(0,f.default)()};h.metadata=g,await(0,U.chainWithPendingUpdates)(i,(e=>{const t=l.NotebookEdit.insertCells(i.cellCount,[h]);e.set(i.uri,[t])}));const m=i.cellCount-1;return this.notebookEditor.selection=new l.NotebookRange(m,m+1),i.cellAt(m)}async generateCodeAndAddMetadata(e,t,n){const r=(0,M.getInteractiveCellMetadata)(e);if(!r)return;const o=!(0,y.isLocalConnection)(n.kernelConnectionMetadata)||this.configuration.getSettings(void 0).forceIPyKernelDebugger,i=await this.codeGeneratorFactory.getOrCreate(this.notebookDocument).generateCode(r,e.index,t,o),s={...r,generatedCode:i},a=new l.WorkspaceEdit,c=l.NotebookEdit.updateCellMetadata(e.index,s);a.set(e.notebook.uri,[c]),await l.workspace.applyEdit(a)}async export(){var e;const{magicCommandsAsComments:t}=this.configuration.getSettings(this.owningResource),n=(0,E.generateCellsFromNotebookDocument)(this.notebookEditor.notebook,t);if(n&&this.exportDialog){const t=await this.exportDialog.showDialog(I.ExportFormat.ipynb,this.owningResource);t&&await(null===(e=this.jupyterExporter)||void 0===e?void 0:e.exportToFile(n,(0,O.getFilePath)(t)))}}async exportAs(){const e=await this.startKernel(),t={orig_nbformat:d.defaultNotebookFormat.major};let n;if(e&&await(0,F.updateNotebookMetadata)(t,e.kernelConnectionMetadata),this.submitters&&this.submitters.length){const e=this.submitters[this.submitters.length-1];n=c.basename(e.path,c.extname(e.path))}this.isWebExtension?this.commandManager.executeCommand(d.Commands.ExportAsPythonScript,this.notebookDocument,null==e?void 0:e.kernelConnectionMetadata.interpreter).then(m.noop,m.noop):this.commandManager.executeCommand(d.Commands.Export,this.notebookDocument,n,null==e?void 0:e.kernelConnectionMetadata.interpreter).then(m.noop,m.noop)}}i([(0,v.chainable)()],V.prototype,"addErrorMessage",null),i([(0,v.chainable)()],V.prototype,"createExecutionPromise",null),t.InteractiveWindow=V},24145:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveWindowProvider=t.InteractiveWindowCacheKey=t.AskedForPerFileSettingKey=void 0;const c=n(86700),l=n(66828),u=n(10053),d=n(11642),p=n(83599),h=n(42080),f=s(n(25251)),g=n(58681),m=n(41778),y=n(85249),v=n(602),b=n(15925),S=n(90760),w=n(43138),C=n(35412),k=n(50867),_=n(86563),I=n(15139);t.AskedForPerFileSettingKey="ds_asked_per_file_interactive",t.InteractiveWindowCacheKey="ds_interactive_window_cache";let E=class{constructor(e,t,n,r,o,i,s,a,c,u,d,p){this.serviceContainer=e,this.disposables=n,this.fs=r,this.configService=o,this.globalMemento=i,this.workspaceMemento=s,this.appShell=a,this.workspaceService=c,this.controllerRegistration=u,this.controllerDefaultService=d,this.notebookEditorProvider=p,this._onDidChangeActiveInteractiveWindow=new l.EventEmitter,this._onDidCreateInteractiveWindow=new l.EventEmitter,this._windows=[],t.push(this),this.notebookEditorProvider.registerEmbedNotebookProvider(this),this.restoreWindows()}get onDidChangeActiveInteractiveWindow(){return this._onDidChangeActiveInteractiveWindow.event}get onDidCreateInteractiveWindow(){return this._onDidCreateInteractiveWindow.event}get activeWindow(){return this._windows.find((e=>{var t,n;return void 0!==l.window.activeNotebookEditor&&(null===(t=e.notebookUri)||void 0===t?void 0:t.toString())===(null===(n=l.window.activeNotebookEditor)||void 0===n?void 0:n.notebook.uri.toString())}))}get windows(){return this._windows}restoreWindows(){const e=new Map;l.window.tabGroups.all.forEach((t=>{t.tabs.forEach((t=>{(0,I.isInteractiveInputTab)(t)&&t.input.uri&&e.set(t.input.uri.toString(),t)}))})),this.workspaceMemento.get(t.InteractiveWindowCacheKey,[]).forEach((t=>{if(!t.uriString||!e.get(t.uriString))return;const n=new v.InteractiveWindow(this.serviceContainer,void 0!==t.owner?l.Uri.from(t.owner):void 0,t.mode,void 0,e.get(t.uriString),l.Uri.parse(t.inputBoxUriString));this._windows.push(n)})),this._updateWindowCache()}async getOrCreate(e,t){if(!this.workspaceService.isTrusted)throw new Error("Workspace not trusted");const n=await this.getInteractiveMode(e);this.pendingCreations&&await this.pendingCreations.catch(g.noop);let r=this.getExisting(e,n,t);if(r){const n=t?this.controllerRegistration.get(t,b.InteractiveWindowView):await this.controllerDefaultService.computeDefaultController(e,b.InteractiveWindowView);await r.restore(n)}else r=await this.create(e,n,t),r.initialize();return r}get(e){const t=this.configService.getSettings(e).interactiveWindowMode;return this.getExisting(e,t)}async dispose(){return(0,g.noop)()}async create(e,t,n){const r=(0,w.createDeferred)();this.pendingCreations=r.promise;try{const o=n?this.controllerRegistration.get(n,b.InteractiveWindowView):await this.controllerDefaultService.computeDefaultController(e,b.InteractiveWindowView);(0,d.traceInfo)(`Starting interactive window for resource '${(0,C.getDisplayPath)(e)}' with controller '${null==o?void 0:o.id}'`);const i=this.serviceContainer.get(u.ICommandManager),[s,a]=await this.createEditor(o,e,t,i),c=new v.InteractiveWindow(this.serviceContainer,e,t,o,a,s);this._windows.push(c),this._updateWindowCache(),this.lastActiveInteractiveWindow=c;const l=c.closed(this.onInteractiveWindowClosed.bind(this,c));return this.disposables.push(c),this.disposables.push(l),this.disposables.push(c.onDidChangeViewState(this.raiseOnDidChangeActiveInteractiveWindow.bind(this))),this._onDidCreateInteractiveWindow.fire(c),c}finally{r.resolve()}}async createEditor(e,t,n,r){const o=e?`${b.JVSC_EXTENSION_ID}/${e.id}`:void 0,i=void 0!==t;let s=this.getInteractiveViewColumn(t);const{inputUri:a,notebookEditor:c}=await r.executeCommand("interactive.open",{viewColumn:s,preserveFocus:i},void 0,o,t&&"perFile"===n?(0,S.getInteractiveWindowTitle)(t):void 0);if(!c)throw new Error("Failed to request creation of interactive window from VS Code.");return[a,c]}getInteractiveViewColumn(e){if(e)return l.ViewColumn.Beside;const t=this.configService.getSettings(e).interactiveWindowViewColumn;return"secondGroup"===t?l.ViewColumn.One:"active"===t?l.ViewColumn.Active:l.ViewColumn.Beside}async getInteractiveMode(e){let n=this.configService.getSettings(e).interactiveWindowMode;if("multiple"===n&&e&&!this.globalMemento.get(t.AskedForPerFileSettingKey)&&1===this._windows.length&&(!this._windows[0].owner||!this.fs.arePathsSame(this._windows[0].owner,e))){this.globalMemento.update(t.AskedForPerFileSettingKey,!0).then(g.noop,g.noop);const r=[f.DataScience.interactiveWindowModeBannerSwitchYes(),f.DataScience.interactiveWindowModeBannerSwitchNo()];await this.appShell.showInformationMessage(f.DataScience.interactiveWindowModeBannerTitle(),...r)===r[0]&&(n="perFile",this._windows[0].changeMode(n),await this.configService.updateSetting("interactiveWindowMode",n,e,l.ConfigurationTarget.Global))}return n}_updateWindowCache(){const e=this._windows.map((e=>({owner:e.owner,mode:e.mode,uriString:e.notebookUri.toString(),inputBoxUriString:e.inputUri.toString()})));this.workspaceMemento.update(t.InteractiveWindowCacheKey,e).then(g.noop,g.noop)}getExisting(e,t,n){return"single"===t?this._windows.length>0?this._windows[0]:void 0:"multiple"===t?e?this.activeWindow||this.lastActiveInteractiveWindow||this._windows[0]:void 0:this._windows.find((t=>{var r;return!(e||t.owner||n)||!!(e&&t.owner&&this.fs.arePathsSame(e,t.owner))&&(!n||(null===(r=t.kernelConnectionMetadata)||void 0===r?void 0:r.id)===n.id)}))}raiseOnDidChangeActiveInteractiveWindow(){this.lastActiveInteractiveWindow=this.activeWindow?this.activeWindow:this.lastActiveInteractiveWindow,this._onDidChangeActiveInteractiveWindow.fire(this.activeWindow)}onInteractiveWindowClosed(e){var t;(0,d.traceVerbose)(`Closing interactive window: ${null===(t=e.notebookUri)||void 0===t?void 0:t.toString()}`),e.dispose(),this._windows=this._windows.filter((t=>t!==e)),this._updateWindowCache(),this.lastActiveInteractiveWindow===e&&(this.lastActiveInteractiveWindow=this._windows[0]),this.raiseOnDidChangeActiveInteractiveWindow()}getActiveOrAssociatedInteractiveWindow(){if(this.activeWindow)return this.activeWindow;if(void 0===l.window.activeTextEditor)return;const e=l.window.activeTextEditor.document.uri;return e.scheme!==b.NotebookCellScheme?this.get(e):void 0}findNotebookEditor(e){var t,n;const r=e&&"interactive"===(0,_.getResourceType)(e)?null===(t=this.get(e))||void 0===t?void 0:t.notebookEditor:void 0,o="interactive"===(0,_.getResourceType)(e)?null===(n=this.getActiveOrAssociatedInteractiveWindow())||void 0===n?void 0:n.notebookEditor:void 0;return r||o}findAssociatedNotebookDocument(e){const t=this.windows.find((t=>{var n;return(null===(n=t.inputUri)||void 0===n?void 0:n.toString())===e.toString()}));return null==t?void 0:t.notebookDocument}};E=i([(0,c.injectable)(),a(0,(0,c.inject)(m.IServiceContainer)),a(1,(0,c.inject)(h.IAsyncDisposableRegistry)),a(2,(0,c.inject)(h.IDisposableRegistry)),a(3,(0,c.inject)(p.IFileSystem)),a(4,(0,c.inject)(h.IConfigurationService)),a(5,(0,c.inject)(h.IMemento)),a(5,(0,c.named)(h.GLOBAL_MEMENTO)),a(6,(0,c.inject)(h.IMemento)),a(6,(0,c.named)(h.WORKSPACE_MEMENTO)),a(7,(0,c.inject)(u.IApplicationShell)),a(8,(0,c.inject)(u.IWorkspaceService)),a(9,(0,c.inject)(k.IControllerRegistration)),a(10,(0,c.inject)(k.IControllerDefaultService)),a(11,(0,c.inject)(y.INotebookEditorProvider))],E),t.InteractiveWindowProvider=E},25636:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveWindowTracebackFormatter=void 0;const i=n(86700),s=n(66828),a=n(74858),c=n(72728),l=n(11642),u=n(35412),d=n(83599),p=n(58323),h=n(15925),f=n(3522),g=/(;32m[ ->]*?)(\d+)(.*)/g;let m=class{constructor(e,t){this.storageFactory=e,this.platformService=t}format(e,t){if(e.notebook.notebookType!==h.InteractiveWindowView)return t;const n=this.storageFactory.get({notebook:e.notebook}),r=t.some((e=>/^[Input|Cell|File].*?\n.*/.test(e)));return r||n?t.map((e=>r?this.modifyTracebackFrameIPython8(e,null==n?void 0:n.all):this.modifyTracebackFrameIPython7(e,n.all))):t}modifyTracebackFrameIPython8(e,t){let n,r;e=(e=(e=e.replace(/\u001b\[4\dm/g,"")).replace(/\u001b\[38;.*?\d+m/g,"[39m")).replace(/(;32m[ ->]*?)(\d+)(.*)\n/g,((e,t,n,r)=>`${t}${n}${r=r.replace(/\u001b\[3\d+m/g,"[39m")}\n`)),(0,l.traceInfoIfCI)(`Trace frame to match: ${e}`);const o=/^Input.*?\[.*32mIn\s+\[(\d+).*?0;36m(.*?)\n.*/.exec(e),i=/^Cell.*?\[.*32mIn\s+\[(\d+)\], (.*).\[0m\n/.exec(e);if(o&&o.length>1?(n=parseInt(o[1]),r=o[2]):i&&i.length>1&&(n=parseInt(i[1]),r=i[2]),t&&n){let o,i;for(let e of t)if(i=e.generatedCodes.find((e=>e.executionCount===n)),i){o=e.uri;break}if(i&&o)return e.replace(g,((e,t,n,r)=>{const s=parseInt(n,10),a=(i.hasCellMarker?i.line-1:i.line)-1+i.lineOffsetRelativeToIndexOfFirstLineInCell+s;return`${t}<a href='${null==o?void 0:o.toString()}?line=${a-1}'>${a}</a>${r}`})).replace(/.*?\n/,`[1;32m${(0,u.getFilePath)(o)}[0m in [0;36m${r}\n`)}const a=/^File.*?\[\d;32m(.*):\d+.*\u001b.*\n/.exec(e);if(a&&a.length>1){const t=(0,c.untildify)(a[1],(0,u.getFilePath)(this.platformService.homeDir)),n=s.Uri.file(t);return e.replace(g,((e,t,r,o)=>{const i=parseInt(r,10);return`${t}<a href='${null==n?void 0:n.toString()}?line=${i-1}'>${i}</a>${o}`}))}return e}modifyTracebackFrameIPython7(e,t){return t.map((e=>e.uri)).forEach((t=>{const n=(0,u.getFilePath)(t),r=(0,u.getDisplayPath)(t),o=this.storageFactory.get({fileUri:t});if(o){if(e.includes(n)&&new RegExp(`\\[.*?;32m${f(n)}`).test(e)||e.includes(r)&&new RegExp(`\\[.*?;32m${f(r)}`).test(e)){let n="";const r=/(;32m[ ->]*?)(\d+)(.*)/g;for(let t=r.exec(e);t&&t.length>3;t=r.exec(e))n=`${n}${(0,p.stripAnsi)(t[3]).substr(1)}\n`;const i=this.findCellOffset(o.getFileGeneratedCode(t),n);void 0!==i&&(e=e.replace(g,((e,n,r,o)=>{const s=parseInt(r,10),a=i+s-1;return`${n}<a href='${t.toString()}?line=${a}'>${a+1}</a>${o}`})))}if(e.includes(n)){const n=this.findCellOffset(o.getFileGeneratedCode(t),e);if(n)return e.replace(g,((e,r,o,i)=>{const s=parseInt(o,10),a=n+s-1;return`${r}<a href='${t.toString()}?line=${a}'>${a+1}</a>${i}`}))}}})),e}findCellOffset(e,t){if(e)for(const n of e)if(n.trimmedRightCode.indexOf(t)>=0)return n.firstNonBlankLineIndex}};m=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IGeneratedCodeStorageFactory)),o(1,(0,i.inject)(d.IPlatformService))],m),t.InteractiveWindowTracebackFormatter=m},95247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(94062),o=n(52064),i=n(88232),s=n(2785),a=n(75463),c=n(65410),l=n(11633),u=n(74858),d=n(24145),p=n(135),h=n(2644),f=n(94671),g=n(74858),m=n(80246),y=n(25636),v=n(6821),b=n(64064),S=n(50016),w=n(42277);t.registerTypes=function(e){e.addSingleton(p.IInteractiveWindowProvider,d.InteractiveWindowProvider),e.addSingleton(o.IExtensionSingleActivationService,i.CommandRegistry),e.add(u.ICodeWatcher,c.CodeWatcher),e.addSingleton(u.ICodeLensFactory,s.CodeLensFactory),e.addSingleton(u.IDataScienceCodeLensProvider,a.DataScienceCodeLensProvider),e.addSingleton(o.IExtensionSyncActivationService,w.CodeLensProviderActivator),e.addSingleton(o.IExtensionSyncActivationService,S.PythonCellFoldingProvider),e.addSingleton(o.IExtensionSingleActivationService,l.Decorator),e.addSingleton(o.IExtensionSyncActivationService,m.GeneratedCodeStorageManager),e.addSingleton(u.ICodeGeneratorFactory,h.CodeGeneratorFactory,void 0,[o.IExtensionSyncActivationService]),e.addSingleton(g.IGeneratedCodeStorageFactory,f.GeneratedCodeStorageFactory),e.addSingleton(r.ITracebackFormatter,y.InteractiveWindowTracebackFormatter),e.addSingleton(p.IInteractiveWindowDebuggingManager,v.InteractiveWindowDebuggingManager,void 0,[o.IExtensionSingleActivationService]),e.addSingleton(r.IStartupCodeProvider,b.InteractiveWindowDebuggingStartupCodeProvider)}},135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInteractiveWindowDebuggingManager=t.IInteractiveWindowProvider=t.IInteractiveWindowDebugger=void 0,t.IInteractiveWindowDebugger=Symbol("IInteractiveWindowDebugger"),t.IInteractiveWindowProvider=Symbol("IInteractiveWindowProvider"),t.IInteractiveWindowDebuggingManager=Symbol("IInteractiveWindowDebuggingManager")},79806:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseJupyterSession=t.JupyterSessionStartError=t.suppressShutdownErrors=void 0;const s=n(37875),a=n(66828),c=n(37853),l=n(20397),u=n(11642),d=n(43138),p=i(n(25251)),h=n(58681),f=n(9959),g=n(71798),m=n(413),y=n(33525),v=n(65864),b=n(50936),S=n(86563),w=n(72584),C=n(15925),k=n(61629);function _(e){if((0,C.isTestExecution)()){const t=e;if(t&&t._futures){const e=t._futures;e.forEach&&e.forEach((e=>{void 0!==e._status&&(e._status|=4)}))}t&&t._reconnectLimit&&(t._reconnectLimit=0)}}t.suppressShutdownErrors=_;class I extends c.WrappedError{constructor(e){super(e.message,e),(0,f.sendTelemetryEvent)(f.Telemetry.StartSessionFailedJupyter,void 0,void 0,e)}}t.JupyterSessionStartError=I,t.BaseJupyterSession=class{constructor(e,t,n,r){this.resource=e,this.kernelConnectionMetadata=t,this.workingDirectory=n,this.interruptTimeout=r,this._disposed=new a.EventEmitter,this.disposables=[],this.onStatusChangedEvent=new a.EventEmitter,this.connected=!1,this._kernelSocket=new s.ReplaySubject,this.chainingExecute=new b.ChainingExecuteRequester,this.statusHandler=this.onStatusChanged.bind(this),this.unhandledMessageHandler=(e,t)=>{(0,u.traceInfo)(`Unhandled message found: ${t.header.msg_type}`)}}get disposed(){return!0===this._isDisposed}get onDidDispose(){return this._disposed.event}get session(){return this._session}get kernelId(){var e,t;return(null===(t=null===(e=this.session)||void 0===e?void 0:e.kernel)||void 0===t?void 0:t.id)||""}get kernel(){var e;return this._wrappedKernel?this._wrappedKernel:(null===(e=this._session)||void 0===e?void 0:e.kernel)?(this._wrappedKernel=new k.KernelConnectionWrapper(this._session.kernel,this.disposables),this._wrappedKernel):void 0}get kernelSocket(){return this._kernelSocket}get onSessionStatusChanged(){return this.onStatusChangedEvent.event}get status(){return this.getServerStatus()}get isConnected(){return this.connected}isServerSession(){return!1}async dispose(){await this.shutdownImplementation(!1)}async shutdown(){await this.shutdownImplementation(!0)}async interrupt(){this.session&&this.session.kernel&&((0,u.traceInfo)(`Interrupting kernel: ${this.session.kernel.name}`),await Promise.race([this.session.kernel.interrupt(),(0,d.sleep)(this.interruptTimeout).then((()=>{throw new y.KernelInterruptTimeoutError(this.kernelConnectionMetadata)}))]))}async requestKernelInfo(){var e,t;if(!this.session)throw new Error("Cannot request KernelInfo, Session not initialized.");if(null===(e=this.session.kernel)||void 0===e?void 0:e.info){const e={content:await this.session.kernel.info,channel:"shell",metadata:{},parent_header:{},header:{}};return Promise.resolve(e)}return null===(t=this.session.kernel)||void 0===t?void 0:t.requestKernelInfo()}async restart(){var e,t,n;if((null===(e=this.session)||void 0===e?void 0:e.isRemoteSession)&&this.session.kernel)return await this.session.kernel.restart(),void this.setSession(this.session,!0);(0,u.traceInfo)(`Restarting ${null===(n=null===(t=this.session)||void 0===t?void 0:t.kernel)||void 0===n?void 0:n.id}`);const r=this.session,o=this.statusHandler,i=await this.startRestartSession(!1);this.setSession(i),i.kernel&&((0,u.traceInfo)(`Got new session ${i.kernel.id}`),i.statusChanged.connect(this.statusHandler),i.kernel.connectionStatusChanged.connect(this.onKernelConnectionStatusHandler,this)),(0,u.traceInfo)("Started new restart session"),o&&r&&(r.statusChanged.disconnect(o),r.kernel&&r.kernel.connectionStatusChanged.disconnect(this.onKernelConnectionStatusHandler,this)),this.shutdownSession(r,void 0,!1).ignoreErrors()}requestExecute(e,t,n){var r;if(!(null===(r=this.session)||void 0===r?void 0:r.kernel))throw new v.SessionDisposedError;return this.chainingExecute.requestExecute(this.session.kernel,e,t,n)}requestDebug(e,t){var n;if(!(null===(n=this.session)||void 0===n?void 0:n.kernel))throw new v.SessionDisposedError;return this.session.kernel.requestDebug(e,t)}requestInspect(e){var t;if(!(null===(t=this.session)||void 0===t?void 0:t.kernel))throw new v.SessionDisposedError;return this.session.kernel.requestInspect(e)}requestComplete(e){var t;if(!(null===(t=this.session)||void 0===t?void 0:t.kernel))throw new v.SessionDisposedError;return this.session.kernel.requestComplete(e)}sendInputReply(e){this.session&&this.session.kernel&&this.session.kernel.sendInputReply(e)}registerCommTarget(e,t){if(!this.session||!this.session.kernel)throw new v.SessionDisposedError;this.session.kernel.registerCommTarget(e,t)}registerMessageHook(e,t){var n;if(null===(n=this.session)||void 0===n?void 0:n.kernel)return this.session.kernel.registerMessageHook(e,t);throw new v.SessionDisposedError}removeMessageHook(e,t){var n;if(null===(n=this.session)||void 0===n?void 0:n.kernel)return this.session.kernel.removeMessageHook(e,t);throw new v.SessionDisposedError}async waitForIdleOnSession(e,t,n,r){var o;if(!e||!e.kernel)throw new g.JupyterInvalidKernelError(this.kernelConnectionMetadata);{const i=r?void 0:w.KernelProgressReporter.reportProgress(this.resource,p.DataScience.waitingForJupyterSessionToBeIdle()),s=[];i&&s.push(i);try{(0,u.traceVerbose)(`Waiting for ${t}ms idle on (kernel): ${e.kernel.id} -> ${e.kernel.status}`);const i=(0,d.createDeferred)();n&&n.onCancellationRequested((()=>i.reject(new a.CancellationError)),this,s);const c=(e,t)=>{(0,u.traceVerbose)(`Got status ${t} in waitForIdleOnSession`),"idle"==t&&i.resolve(t)};null===(o=e.kernel.statusChanged)||void 0===o||o.connect(c),s.push(new a.Disposable((()=>(0,h.swallowExceptions)((()=>{var t,n;return null===(n=null===(t=e.kernel)||void 0===t?void 0:t.statusChanged)||void 0===n?void 0:n.disconnect(c)}))))),"idle"==e.kernel.status&&i.resolve(e.kernel.status);const p=(0,d.createDeferred)();e.disposed.connect(p.resolve,p),s.push(new a.Disposable((()=>(0,h.swallowExceptions)((()=>e.disposed.disconnect(p.resolve,p))))));const f=(0,d.sleep)(t);p.promise.ignoreErrors(),f.ignoreErrors(),i.promise.ignoreErrors();const y=await Promise.race([i.promise,f,p.promise]);if(e.isDisposed)throw(0,u.traceError)("Session disposed while waiting for session to be idle."),new g.JupyterInvalidKernelError(this.kernelConnectionMetadata);if((0,u.traceVerbose)(`Finished waiting for idle on (kernel): ${e.kernel.id} -> ${e.kernel.status}`),"string"==typeof y&&"idle"==y.toString())return;throw(0,u.traceError)(`Shutting down after failing to wait for idle on (kernel): ${e.kernel.id} -> ${e.kernel.status}`),this.shutdownSession(e,this.statusHandler,r).ignoreErrors(),new m.JupyterWaitForIdleError(this.kernelConnectionMetadata)}catch(e){throw(0,u.traceInfoIfCI)("Error waiting for idle",e),e}finally{(0,l.disposeAllDisposables)(s)}}}setSession(e,t=!1){var r,o,i,s,a;const c=this._session;null===(r=this.previousAnyMessageHandler)||void 0===r||r.dispose(),c&&(this.unhandledMessageHandler&&c.unhandledMessage.disconnect(this.unhandledMessageHandler),this.statusHandler&&(c.statusChanged.disconnect(this.statusHandler),null===(o=c.kernel)||void 0===o||o.connectionStatusChanged.disconnect(this.onKernelConnectionStatusHandler,this))),this._session=e,e&&(e.kernel&&this._wrappedKernel&&this._wrappedKernel.changeKernel(e.kernel),e.statusChanged.connect(this.statusHandler),null===(i=e.kernel)||void 0===i||i.connectionStatusChanged.connect(this.onKernelConnectionStatusHandler,this),(null===(s=e.kernelSocketInformation.socket)||void 0===s?void 0:s.onAnyMessage)&&(this.previousAnyMessageHandler=null===(a=e.kernelSocketInformation.socket)||void 0===a?void 0:a.onAnyMessage((e=>{try{if(this._wrappedKernel){const t=n(86002),r="string"==typeof e.msg||e.msg instanceof ArrayBuffer?t.deserialize(e.msg):e.msg;this._wrappedKernel.anyMessage.emit({direction:e.direction,msg:r})}}catch(e){(0,u.traceWarning)("failed to deserialize message to broadcast anymessage signal")}}))),e.unhandledMessage&&e.unhandledMessage.connect(this.unhandledMessageHandler),(t||c!==e)&&e.kernel&&this._kernelSocket.next({options:{clientId:e.kernel.clientId,id:e.kernel.id,model:{...e.kernel.model},userName:e.kernel.username},socket:e.kernelSocketInformation.socket}))}async shutdownSession(e,t,n,r){var o,i,s;if(e&&e.kernel){const a=`${e.kernel.id}, ${null===(o=e.kernelConnectionMetadata)||void 0===o?void 0:o.id}`;(0,u.traceVerbose)(`shutdownSession ${a} - start`);try{if(t&&e.statusChanged.disconnect(t),!this.canShutdownSession(e,n,r))return(0,u.traceVerbose)(`Session cannot be shutdown ${null===(i=e.kernelConnectionMetadata)||void 0===i?void 0:i.id}`),void e.dispose();try{(0,u.traceVerbose)(`Session can be shutdown ${null===(s=e.kernelConnectionMetadata)||void 0===s?void 0:s.id}`),_(e.kernel),e.isDisposed||await(0,d.waitForPromise)(e.shutdown(),1e3)}catch(e){(0,h.noop)()}e&&!e.isDisposed&&e.dispose()}catch(e){(0,u.traceWarning)(e)}(0,u.traceVerbose)(`shutdownSession ${a} - shutdown complete`)}}async shutdownImplementation(e){var t;if(this._isDisposed=!0,this.session){try{if((0,u.traceVerbose)(`Shutdown session - current session, called from ${new Error("").stack}`),await this.shutdownSession(this.session,this.statusHandler,!1,e),(0,u.traceVerbose)("Shutdown session - get restart session"),this.restartSessionPromise){this.restartSessionPromise.token.cancel();const e=await this.restartSessionPromise.promise;this.restartSessionPromise.token.dispose(),(0,u.traceVerbose)("Shutdown session - shutdown restart session"),await this.shutdownSession(e,void 0,!0)}}catch(e){(0,h.noop)()}this.setSession(void 0),this.restartSessionPromise=void 0,this.onStatusChangedEvent.fire("dead"),this._disposed.fire(),this._disposed.dispose(),this.onStatusChangedEvent.dispose(),null===(t=this.previousAnyMessageHandler)||void 0===t||t.dispose()}(0,l.disposeAllDisposables)(this.disposables),(0,u.traceVerbose)("Shutdown session -- complete")}canShutdownSession(e,t,n){var r;return!("connectToLiveRemoteKernel"===(null===(r=e.kernelConnectionMetadata)||void 0===r?void 0:r.kind)&&!n||!t&&(!e.resource||"interactive"!==(0,S.getResourceType)(e.resource))&&e.resource&&"notebook"===(0,S.getResourceType)(e.resource)&&!0===e.isRemoteSession&&!n)}getServerStatus(){var e,t;return this.disposed?"dead":(null===(e=this.session)||void 0===e?void 0:e.kernel)?this.session.kernel.status:((0,u.traceInfoIfCI)(`Kernel status not started because real session is ${this.session?"defined":"undefined"} & real kernel is ${(null===(t=this.session)||void 0===t?void 0:t.kernel)?"defined":"undefined"}`),"unknown")}onKernelConnectionStatusHandler(e,t){if((0,u.traceInfoIfCI)(`Server Kernel Status = ${t}`),"disconnected"===t){const e=this.getServerStatus();this.onStatusChangedEvent.fire(e)}}onStatusChanged(e){const t=this.getServerStatus();(0,u.traceInfoIfCI)(`Server Status = ${t}`),this.onStatusChangedEvent.fire(t)}}},50936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChainingExecuteRequester=void 0;const r=n(53355);t.ChainingExecuteRequester=class{requestExecute(e,t,n,o){var i;if(!t.store_history)return e.requestExecute(t,n,o);const s=this.previousExecute&&(null===(i=this.previousKernel)||void 0===i?void 0:i.id)===e.id?new r.DelayedFutureExecute(e,this.previousExecute,t,n,o):e.requestExecute(t,n,o);return this.previousExecute=s,this.previousKernel=e,s.done.then((()=>{this.previousExecute==s&&(this.previousExecute=void 0,this.previousKernel=void 0)})).catch((()=>{this.previousExecute==s&&(this.previousExecute=void 0,this.previousKernel=void 0)})),s}}},73785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeOldCachedItems=t.RemoteKernelSpecsCacheKey=t.LocalKernelSpecsCacheKey=void 0;const r=n(58681);t.LocalKernelSpecsCacheKey="JUPYTER_LOCAL_KERNELSPECS_V4",t.RemoteKernelSpecsCacheKey="JUPYTER_REMOTE_KERNELSPECS_V4",t.removeOldCachedItems=async function(e){await Promise.all(["JUPYTER_LOCAL_KERNELSPECS","JUPYTER_LOCAL_KERNELSPECS_V1","JUPYTER_LOCAL_KERNELSPECS_V2","JUPYTER_LOCAL_KERNELSPECS_V3","JUPYTER_REMOTE_KERNELSPECS","JUPYTER_REMOTE_KERNELSPECS_V1","JUPYTER_REMOTE_KERNELSPECS_V2","JUPYTER_REMOTE_KERNELSPECS_V3"].filter((e=>t.LocalKernelSpecsCacheKey!==e&&t.RemoteKernelSpecsCacheKey!==e)).filter((t=>void 0!==e.get(t,void 0))).map((t=>e.update(t,void 0).then(r.noop,r.noop))))}},53355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelayedFutureExecute=void 0;const r=n(11642),o=n(43138),i=n(66828);t.DelayedFutureExecute=class{constructor(e,t,n,r,s){var a;this.kernelConnection=e,this.content=n,this.disposeOnDone=r,this.metadata=s,this.doneDeferred=(0,o.createDeferred)(),this.pendingHooks=[],this.pendingInputReplies=[],this.disposed=!1,t.done.then((()=>this.requestExecute())).catch((e=>this.doneDeferred.reject(e))),this.statusChangedHandler=(e,t)=>{"unknown"!==t&&"restarting"!==t&&"dead"!==t&&"autorestarting"!==t||this.doneDeferred.reject(new i.CancellationError)},null===(a=e.statusChanged)||void 0===a||a.connect(this.statusChangedHandler),this.statusChangedHandler(e,e.status)}get msg(){return this.requestFuture?this.requestFuture.msg:{content:this.content,channel:"shell",header:{date:Date.now.toString(),msg_id:"1",session:this.kernelConnection.id,msg_type:"execute_request",username:"",version:"1"},parent_header:{},metadata:{}}}get done(){return this.doneDeferred.promise}set onReply(e){this.requestFuture?this.requestFuture.onReply=e:this.pendingOnReply=e}set onIOPub(e){this.requestFuture?this.requestFuture.onIOPub=e:this.pendingOnIOPub=e}set onStdin(e){this.requestFuture?this.requestFuture.onStdin=e:this.pendingOnStdin=e}registerMessageHook(e){this.requestFuture?this.requestFuture.registerMessageHook(e):this.pendingHooks.push(e)}removeMessageHook(e){this.pendingHooks=this.pendingHooks.filter((t=>t!=e)),this.requestFuture&&this.requestFuture.removeMessageHook(e)}sendInputReply(e){this.requestFuture?this.requestFuture.sendInputReply(e):this.pendingInputReplies.push(e)}get isDisposed(){return this.disposed}dispose(){this.disposed=!0,this.kernelConnection.statusChanged.disconnect(this.statusChangedHandler),this.requestFuture&&(this.requestFuture.dispose(),this.requestFuture=void 0,this.clear())}clear(){this.pendingInputReplies=[],this.pendingHooks=[],this.pendingOnReply=void 0,this.pendingOnIOPub=void 0,this.pendingOnStdin=void 0}requestExecute(){if(this.requestFuture)throw new Error("ChainedFuture already executed. Can't execute more than once.");(0,r.traceInfoIfCI)(`DelayedFuture is starting request now for ${this.content}.`),this.requestFuture=this.kernelConnection.requestExecute(this.content,this.disposeOnDone,this.metadata),this.requestFuture&&(this.pendingOnReply&&(this.requestFuture.onReply=this.pendingOnReply),this.pendingOnIOPub&&(this.requestFuture.onIOPub=this.pendingOnIOPub),this.pendingOnStdin&&(this.requestFuture.onStdin=this.pendingOnStdin),this.pendingHooks.length&&this.pendingHooks.forEach((e=>{var t;return null===(t=this.requestFuture)||void 0===t?void 0:t.registerMessageHook(e)})),this.pendingInputReplies&&this.pendingInputReplies.forEach((e=>{var t;return null===(t=this.requestFuture)||void 0===t?void 0:t.sendInputReply(e)})),this.requestFuture.done.then((e=>this.doneDeferred.resolve(e))).catch((e=>this.doneDeferred.reject(e))),this.clear())}}},61629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnectionWrapper=void 0;const r=n(23429);class o extends r.BaseKernelConnectionWrapper{constructor(e,t){super(e,t),this._kernelConnection=e}get possibleKernelConnection(){return this._kernelConnection}get kernel(){return this._kernelConnection}changeKernel(e){this.kernel!==e&&(this.stopHandlingKernelMessages(this.possibleKernelConnection),this._kernelConnection=e,this.startHandleKernelMessages(e))}async shutdown(){await this._kernelConnection.shutdown()}dispose(){this._kernelConnection.dispose()}async interrupt(){await this._kernelConnection.interrupt()}async restart(){await this._kernelConnection.restart()}startHandleKernelMessages(e){super.startHandleKernelMessages(e),this._kernelConnection=e,e.connectionStatusChanged.connect(this.onConnectionStatusChanged,this),e.statusChanged.connect(this.onStatusChanged,this),e.disposed.connect(this.onDisposed,this)}stopHandlingKernelMessages(e){super.stopHandlingKernelMessages(e),e.connectionStatusChanged.disconnect(this.onConnectionStatusChanged,this),e.statusChanged.disconnect(this.onStatusChanged,this),e.disposed.disconnect(this.onDisposed,this)}onDisposed(e){e===this.possibleKernelConnection&&this.disposed.emit()}onStatusChanged(e,t){e===this.possibleKernelConnection&&this.statusChanged.emit(t)}onConnectionStatusChanged(e,t){e===this.possibleKernelConnection&&this.connectionStatusChanged.emit(t)}}t.KernelConnectionWrapper=o},56940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSocketWrapper=void 0;const r=n(66828),o=n(11642);t.KernelSocketWrapper=function(e){return class extends e{constructor(...e){super(...e),this._onAnyMessage=new r.EventEmitter,this.onAnyMessage=this._onAnyMessage.event,this.msgChain=Promise.resolve(),this.sendChain=Promise.resolve(),this.receiveHooks=[],this.sendHooks=[]}patchSuperEmit(e){super.emit=e}sendToRealKernel(e,t){this._onAnyMessage.fire({msg:e,direction:"send"}),super.send(e,t)}send(e,t){this.sendHooks?this.sendChain=this.sendChain.then((()=>Promise.all(this.sendHooks.map((n=>n(e,t)))))).then((()=>super.send(e,t))):super.send(e,t)}handleEvent(e,t,...n){return"message"===t&&this.receiveHooks.length?(this.msgChain=this.msgChain.then((()=>Promise.all(this.receiveHooks.map((e=>e(n[0])))))).then((()=>e(t,...n))).catch((e=>(0,o.traceError)(`Exception while handling messages: ${e}`))),!0):e(t,...n)}emit(e,...t){return this.handleEvent(((e,...t)=>super.emit(e,...t)),e,...t)}addReceiveHook(e){this.receiveHooks.push(e)}removeReceiveHook(e){this.receiveHooks=this.receiveHooks.filter((t=>t!==e))}addSendHook(e){this.sendHooks.push(e)}removeSendHook(e){this.sendHooks=this.sendHooks.filter((t=>t!==e))}}}},83428:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugStartupCodeProvider=void 0;const o=n(86700),i=n(98729);let s=class{constructor(){this.priority=0}async getCode(e){return(0,i.isPythonKernelConnection)(e.kernelConnectionMetadata)?["import os as __VSCODE_os",'__VSCODE_os.environ["PYDEVD_IPYTHON_COMPATIBLE_DEBUGGING"] = "1"',"del __VSCODE_os"]:[]}};s=r([(0,o.injectable)()],s),t.DebugStartupCodeProvider=s},88960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayOptions=void 0;const r=n(66828);t.DisplayOptions=class{constructor(e){this._event=new r.EventEmitter,this._disableUI=e}get disableUI(){return this._disableUI}set disableUI(e){const t=this._disableUI!==e;this._disableUI=e,t&&this._event.fire()}get onDidChangeDisableUI(){return this._event.event}dispose(){this._event.dispose()}}},55134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidRemoteJupyterServerUriHandleError=void 0;const r=n(37853);class o extends r.BaseError{constructor(e,t,n,r){super("invalidremotejupyterserverurihandle","Server handle not in list of known handles"),this.providerId=e,this.handle=t,this.extensionId=n,this.serverId=r}}t.InvalidRemoteJupyterServerUriHandleError=o},71798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInvalidKernelError=void 0;const r=n(25251),o=n(98729),i=n(90541);class s extends i.BaseKernelError{constructor(e){super("invalidkernel",r.DataScience.kernelInvalid().format((0,o.getDisplayNameOrNameOfKernelConnection)(e)),e)}}t.JupyterInvalidKernelError=s},3236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterKernelDependencyError=void 0;const r=n(25251),o=n(98729),i=n(90541);class s extends i.BaseKernelError{constructor(e,t){super("noipykernel",r.DataScience.kernelInvalid().format((0,o.getDisplayNameOrNameOfKernelConnection)(t)),t),this.reason=e}}t.JupyterKernelDependencyError=s},413:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterWaitForIdleError=void 0;const r=n(25251),o=n(90541);class i extends o.BaseKernelError{constructor(e){super("timeout",r.DataScience.jupyterLaunchTimedOut(),e)}}t.JupyterWaitForIdleError=i},91494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnectionTimeoutError=void 0;const r=n(25251),o=n(98729),i=n(90541);class s extends i.BaseKernelError{constructor(e){super("timeout",r.DataScience.rawKernelStartFailedDueToTimeout().format((0,o.getDisplayNameOrNameOfKernelConnection)(e)),e)}}t.KernelConnectionTimeoutError=s},66690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDeadError=void 0;const r=n(25251),o=n(98729),i=n(90541);class s extends i.WrappedKernelError{constructor(e){super(r.DataScience.kernelDiedWithoutError().format((0,o.getDisplayNameOrNameOfKernelConnection)(e)),void 0,e)}}t.KernelDeadError=s},36690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDiedError=void 0;const r=n(90541);class o extends r.WrappedKernelError{constructor(e,t,n,r){super(e,n,r),this.stdErr=t}}t.KernelDiedError=o},71437:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceErrorHandler=void 0;const i=n(86700),s=n(41779),a=n(84079),c=n(66828),l=n(91494),u=n(36690),d=n(36723),p=n(80530),h=n(10053),f=n(11642),g=n(42080),m=n(25251),y=n(9959),v=n(15925),b=n(98729),S=n(23856),w=n(59985),C=n(83902),k=n(94062),_=n(29629),I=n(30002),E=n(3236),P=n(37853),D=n(58681),T=n(47891),x=n(66690),j=n(88960),M=n(94433),N=n(46875),O=n(35412),A=n(6491),R=n(44501),L=n(54990),F=n(42751),U=n(55134),K=n(90541),W=n(47684);let V=class{constructor(e,t,n,r,o,i,s,a,c,l){this.applicationShell=e,this.dependencyManager=t,this.browser=n,this.configuration=r,this.kernelDependency=o,this.workspaceService=i,this.serverUriStorage=s,this.commandManager=a,this.isWebExtension=c,this.extensions=l,this.handledErrors=new WeakSet,this.handledKernelErrors=new WeakSet}async handleError(e){var t;if((0,f.traceWarning)("DataScience Error",e),e=P.WrappedError.unwrap(e),!this.handledErrors.has(e))if(this.handledErrors.add(e),e instanceof s.JupyterInstallError)await(null===(t=this.dependencyManager)||void 0===t?void 0:t.installMissingDependencies(e));else if(e instanceof a.JupyterSelfCertsError)await(0,N.handleSelfCertsError)(this.applicationShell,this.configuration,e.message);else if(e instanceof R.JupyterExpiredCertsError)await(0,N.handleExpiredCertsError)(this.applicationShell,this.configuration,e.message);else if((0,A.isCancellationError)(e));else if(e instanceof l.KernelConnectionTimeoutError||e instanceof d.KernelPortNotUsedTimeoutError)this.applicationShell.showErrorMessage(e.message).then(D.noop,D.noop);else if(e instanceof u.KernelDiedError||e instanceof p.KernelProcessExitedError||e instanceof I.JupyterConnectError)this.applicationShell.showErrorMessage(H(e)).then(D.noop,D.noop);else if(e instanceof L.RemoteJupyterServerConnectionError&&this.isWebExtension)this.applicationShell.showErrorMessage(m.DataScience.jupyterNotebookRemoteConnectFailedWeb().format(e.baseUrl)).then(D.noop,D.noop);else{const t=J(e.message||e.toString());this.applicationShell.showErrorMessage(t).then(D.noop,D.noop)}}async getErrorMessageForDisplayInCell(e,t,n){var r,o,i,a;if(e=P.WrappedError.unwrap(e),(0,A.isCancellationError)(e)||(0,f.traceError)("Error in execution (get message for cell)",e),e instanceof x.KernelDeadError)return"";if(e instanceof E.JupyterKernelDependencyError)return q(e.kernelConnectionMetadata)||e.message;if(e instanceof s.JupyterInstallError)return function(e){const t=`${w.ProductNames.get(C.Product.jupyter)} ${m.Common.and()} ${w.ProductNames.get(C.Product.notebook)}`,n=[C.Product.jupyter,C.Product.notebook].map(S.translateProductToModule).join(" "),r=`python -m pip install ${n} -U\nor\nconda install ${n} -U`,o=m.DataScience.installPackageInstructions().format(t,r);return e.message+"\n"+o+"\n"+m.Common.clickHereForMoreInfoWithHtml().format("https://aka.ms/installJupyterForVSCode")}(e)||e.message;if(e instanceof L.RemoteJupyterServerConnectionError&&!this.isWebExtension)return e.message;if(e instanceof L.RemoteJupyterServerConnectionError&&this.isWebExtension)return m.DataScience.jupyterNotebookRemoteConnectFailedWeb().format(e.baseUrl);if((0,A.isCancellationError)(e))return"";if((e instanceof u.KernelDiedError||e instanceof p.KernelProcessExitedError)&&("startUsingLocalKernelSpec"===e.kernelConnectionMetadata.kind||"startUsingPythonInterpreter"===e.kernelConnectionMetadata.kind)&&e.kernelConnectionMetadata.interpreter&&this.kernelDependency&&!await this.kernelDependency.areDependenciesInstalled(e.kernelConnectionMetadata,void 0,!0))return q(e.kernelConnectionMetadata)||e.message;if(e instanceof K.BaseKernelError||e instanceof K.WrappedKernelError){const t=await this.getFilesInWorkingDirectoryThatCouldPotentiallyOverridePythonModules(n),o=(0,_.analyzeKernelErrors)(c.workspace.workspaceFolders||[],e,(0,b.getDisplayNameOrNameOfKernelConnection)(e.kernelConnectionMetadata),null===(r=e.kernelConnectionMetadata.interpreter)||void 0===r?void 0:r.sysPrefix,t.map((e=>e.uri)));if(o){if(o.reason===_.KernelFailureReason.moduleNotFoundFailure&&["ipykernel_launcher","ipykernel"].includes(o.moduleName))return q(e.kernelConnectionMetadata)||e.message;const t=[o.message];return o.moreInfoLink&&t.push(m.Common.clickHereForMoreInfoWithHtml().format(o.moreInfoLink)),(0,k.isLocalConnection)(e.kernelConnectionMetadata)&&o.reason===_.KernelFailureReason.moduleNotFoundFailure&&!["ipykernel_launcher","ipykernel"].includes(o.moduleName)&&await this.addErrorMessageIfPythonArePossiblyOverridingPythonModules(t,n),t.join("\n")}}else{if(e instanceof L.RemoteJupyterServerConnectionError||e instanceof F.RemoteJupyterServerUriProviderError){const n=await this.serverUriStorage.getSavedUriList(),r=e instanceof L.RemoteJupyterServerConnectionError?e.originalError.message||"":(null===(o=e.originalError)||void 0===o?void 0:o.message)||e.message,s=(L.RemoteJupyterServerConnectionError,e.serverId),a=null===(i=n.find((e=>e.serverId===s)))||void 0===i?void 0:i.displayName,c=e instanceof L.RemoteJupyterServerConnectionError?e.baseUrl:"",l=e instanceof F.RemoteJupyterServerUriProviderError?`${e.providerId}:${e.handle}`:"",u=a&&c?`${a} (${c})`:a||c||l;return H(m.DataScience.remoteJupyterConnectionFailedWithServerWithError().format(u,r),t)}if(e instanceof U.InvalidRemoteJupyterServerUriHandleError){const n=(null===(a=this.extensions.getExtension(e.extensionId))||void 0===a?void 0:a.packageJSON.displayName)||e.extensionId;return H(m.DataScience.remoteJupyterServerProvidedBy3rdPartyExtensionNoLongerValid().format(n),t)}}return H(e,t)}async handleKernelError(e,t,n,r,o){var i,l,u,d;if((0,A.isCancellationError)(e)||(0,f.traceWarning)(`Kernel Error, context = ${t}`,e),e=P.WrappedError.unwrap(e),(0,A.isCancellationError)(e))return this.sendKernelTelemetry(e,t,r,"cancelled"),k.KernelInterpreterDependencyResponse.cancel;if(e instanceof E.JupyterKernelDependencyError){if((0,f.traceWarning)(`Jupyter Kernel Dependency Error, reason=${e.reason}`,e),this.sendKernelTelemetry(e,t,r,e.category),e.reason!==k.KernelInterpreterDependencyResponse.uiHidden||!this.kernelDependency)return e.reason;{const e=new c.CancellationTokenSource;try{const t="3rdPartyExtension"===o;return this.kernelDependency.installMissingDependencies(r,n,new j.DisplayOptions(!1),e.token,!0,t)}finally{e.dispose()}}}else{if(("start"===t||"restart"===t)&&e instanceof s.JupyterInstallError)return this.sendKernelTelemetry(e,t,r,e.category),(this.dependencyManager?await this.dependencyManager.installMissingDependencies(e):M.JupyterInterpreterDependencyResponse.cancel)===M.JupyterInterpreterDependencyResponse.ok?k.KernelInterpreterDependencyResponse.ok:k.KernelInterpreterDependencyResponse.cancel;if(e instanceof L.RemoteJupyterServerConnectionError||e instanceof F.RemoteJupyterServerUriProviderError||e instanceof U.InvalidRemoteJupyterServerUriHandleError){this.sendKernelTelemetry(e,t,r,e.category);const n=await this.serverUriStorage.getSavedUriList(),s=e instanceof U.InvalidRemoteJupyterServerUriHandleError?"":e instanceof L.RemoteJupyterServerConnectionError?e.originalError.message||"":(null===(i=e.originalError)||void 0===i?void 0:i.message)||e.message,a=(L.RemoteJupyterServerConnectionError,e.serverId),c=null===(l=n.find((e=>e.serverId===a)))||void 0===l?void 0:l.displayName,d=e instanceof L.RemoteJupyterServerConnectionError?e.baseUrl:"",p=e instanceof F.RemoteJupyterServerUriProviderError?`${e.providerId}:${e.handle}`:"",h=c&&d?`${c} (${d})`:c||d||p,f=e instanceof U.InvalidRemoteJupyterServerUriHandleError?(null===(u=this.extensions.getExtension(e.extensionId))||void 0===u?void 0:u.packageJSON.displayName)||e.extensionId:"",g="jupyterExtension"===o?[m.DataScience.selectDifferentKernel()]:[];switch(await this.applicationShell.showErrorMessage(e instanceof U.InvalidRemoteJupyterServerUriHandleError?m.DataScience.remoteJupyterServerProvidedBy3rdPartyExtensionNoLongerValid().format(f):m.DataScience.remoteJupyterConnectionFailedWithServer().format(h),{detail:s,modal:!0},m.DataScience.removeRemoteJupyterConnectionButtonText(),m.DataScience.changeRemoteJupyterConnectionButtonText(),...g)){case m.DataScience.removeRemoteJupyterConnectionButtonText():{const e=(await this.serverUriStorage.getSavedUriList()).find((e=>e.serverId===a));return e&&await this.serverUriStorage.removeUri(e.uri),k.KernelInterpreterDependencyResponse.cancel}case m.DataScience.changeRemoteJupyterConnectionButtonText():return await this.commandManager.executeCommand(v.Commands.SelectJupyterURI,!0,"errorHandler",void 0),k.KernelInterpreterDependencyResponse.cancel;case m.DataScience.selectDifferentKernel():return k.KernelInterpreterDependencyResponse.selectDifferentKernel}return k.KernelInterpreterDependencyResponse.cancel}if(e instanceof a.JupyterSelfCertsError){this.sendKernelTelemetry(e,t,r,e.category);const n=m.DataScience.jupyterSelfCertEnable(),o=m.DataScience.jupyterSelfCertClose();return this.applicationShell.showErrorMessage(m.DataScience.jupyterSelfCertFail().format(e.message),n,o).then((e=>{e===n?((0,y.sendTelemetryEvent)(y.Telemetry.SelfCertsMessageEnabled),this.configuration.updateSetting("allowUnauthorizedRemoteConnection",!0,void 0,c.ConfigurationTarget.Workspace).catch(D.noop)):e===o&&(0,y.sendTelemetryEvent)(y.Telemetry.SelfCertsMessageClose)})).then(D.noop,D.noop),k.KernelInterpreterDependencyResponse.failed}if("start"!==t&&"restart"!==t||!this.kernelDependency||await this.kernelDependency.areDependenciesInstalled(n,void 0,!0)){const o=await this.getFilesInWorkingDirectoryThatCouldPotentiallyOverridePythonModules(r),i=(0,_.analyzeKernelErrors)(this.workspaceService.workspaceFolders||[],e,(0,b.getDisplayNameOrNameOfKernelConnection)(n),null===(d=n.interpreter)||void 0===d?void 0:d.sysPrefix,o.map((e=>e.uri)));return this.sendKernelTelemetry(e,t,r,null==i?void 0:i.reason),i?this.showMessageWithMoreInfo(i.message,null==i?void 0:i.moreInfoLink).catch(D.noop):this.showMessageWithMoreInfo(H(e,t)).catch(D.noop),k.KernelInterpreterDependencyResponse.failed}{this.sendKernelTelemetry(e,t,r,"noipykernel");const i=new c.CancellationTokenSource;try{const e="3rdPartyExtension"===o;return this.kernelDependency.installMissingDependencies(r,n,new j.DisplayOptions(!1),i.token,!0,e)}finally{i.dispose()}}}}sendKernelTelemetry(e,t,n,r){this.handledKernelErrors.has(e)||(this.handledKernelErrors.add(e),"start"===t&&(0,W.sendKernelTelemetryEvent)(n,y.Telemetry.NotebookStart,void 0,{disableUI:!1,failureCategory:r},e))}async showMessageWithMoreInfo(e,t){e.includes(v.Commands.ViewJupyterOutput)||(e=`${e} \n${m.DataScience.viewJupyterLogForFurtherInfo()}`);const n=t?[m.Common.learnMore()]:[];await this.applicationShell.showErrorMessage(e,...n).then((e=>{e===m.Common.learnMore()&&t&&this.browser.launch(t)}))}};V=r([o(0,(0,i.inject)(h.IApplicationShell)),o(1,(0,i.inject)(M.IJupyterInterpreterDependencyManager)),o(1,(0,i.optional)()),o(2,(0,i.inject)(g.IBrowserService)),o(3,(0,i.inject)(g.IConfigurationService)),o(4,(0,i.inject)(k.IKernelDependencyService)),o(4,(0,i.optional)()),o(5,(0,i.inject)(h.IWorkspaceService)),o(6,(0,i.inject)(M.IJupyterServerUriStorage)),o(7,(0,i.inject)(h.ICommandManager)),o(8,(0,i.inject)(g.IsWebExtension)),o(9,(0,i.inject)(g.IExtensions))],V),t.DataScienceErrorHandler=V;const B={restart:m.DataScience.failedToRestartKernel(),start:m.DataScience.failedToStartKernel(),interrupt:m.DataScience.failedToInterruptKernel(),execution:""};function H(e,t){e="string"==typeof e?e:P.WrappedError.unwrap(e);const n=t?B[t]:"";return e instanceof P.BaseError?J(n,(0,_.getErrorMessageFromPythonTraceback)(e.stdErr)||e.stdErr||e.message):J(n,"string"==typeof e?e:e.message)}function J(e,t){const n=[e||"",t||""].map((e=>e.trim())).filter((e=>e.length>0)).join(" \n");return!function(e){var t,n;return(null!==(n=null===(t=new RegExp(/\[([^\[]+)\]\((.*)\)/).exec(e))||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0}(n)&&n.length&&-1===n.indexOf("command:jupyter.viewOutput")?`${n.endsWith(".")?n:n+"."} \n${m.DataScience.viewJupyterLogForFurtherInfo()}`:n}function q(e){var t,n,r,o,i,s;if("connectToLiveRemoteKernel"===e.kind||"startUsingRemoteKernelSpec"===e.kind||!e.interpreter)return;const a=e.interpreter.displayName||(0,O.getFilePath)(e.interpreter.uri),c=w.ProductNames.get(C.Product.ipykernel),l=(0,S.translateProductToModule)(C.Product.ipykernel);let u=`${(0,O.getFilePath)(e.interpreter.uri).fileToCommandArgument()} -m pip install ${l} -U --force-reinstall`;return(null===(t=e.interpreter)||void 0===t?void 0:t.envType)===T.EnvironmentType.Conda?(null===(n=e.interpreter)||void 0===n?void 0:n.envName)?u=`conda install -n ${null===(r=e.interpreter)||void 0===r?void 0:r.envName} ${l} --update-deps --force-reinstall`:(null===(o=e.interpreter)||void 0===o?void 0:o.envPath)&&(u=`conda install -p ${(0,O.getFilePath)(null===(i=e.interpreter)||void 0===i?void 0:i.envPath)} ${l} --update-deps --force-reinstall`):(null===(s=e.interpreter)||void 0===s?void 0:s.envType)===T.EnvironmentType.Unknown&&(u=`${(0,O.getFilePath)(e.interpreter.uri).fileToCommandArgument()} -m pip install ${l} -U --user --force-reinstall`),m.DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreter().format(a,w.ProductNames.get(C.Product.ipykernel))+"\n"+m.DataScience.installPackageInstructions().format(c,u)}},26320:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceErrorHandlerWeb=void 0;const o=n(86700),i=n(71437);let s=class extends i.DataScienceErrorHandler{async addErrorMessageIfPythonArePossiblyOverridingPythonModules(e,t){}async getFilesInWorkingDirectoryThatCouldPotentiallyOverridePythonModules(e){return[]}};s=r([(0,o.injectable)()],s),t.DataScienceErrorHandlerWeb=s},33525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelInterruptTimeoutError=void 0;const r=n(25251),o=n(90541);class i extends o.BaseKernelError{constructor(e){super("kernelpromisetimeout",r.DataScience.interruptingKernelFailed(),e)}}t.KernelInterruptTimeoutError=i},36723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelPortNotUsedTimeoutError=void 0;const r=n(25251),o=n(98729),i=n(90541);class s extends i.BaseKernelError{constructor(e){super("timeout",r.DataScience.rawKernelStartFailedDueToTimeout().format((0,o.getDisplayNameOrNameOfKernelConnection)(e)),e)}}t.KernelPortNotUsedTimeoutError=s},80530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelProcessExitedError=void 0;const r=n(25251),o=n(90541);class i extends o.BaseKernelError{constructor(e=-1,t,n){super("kerneldied",r.DataScience.kernelDied().format(t.trim()),n),this.exitCode=e,this.stdErr=t}}t.KernelProcessExitedError=i},36065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecNotTrustedError=void 0;const r=n(66828),o=n(35412),i=n(25251),s=n(98729),a=n(90541);class c extends a.WrappedKernelError{constructor(e){super(i.DataScience.failedToStartAnUntrustedKernelSpec().format((0,s.getDisplayNameOrNameOfKernelConnection)(e),e.kernelSpec.specFile?(0,o.getDisplayPath)(r.Uri.file(e.kernelSpec.specFile)):""),void 0,e)}}t.KernelSpecNotTrustedError=c},42751:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteJupyterServerUriProviderError=void 0;const r=n(37853);class o extends r.BaseError{constructor(e,t,n,r){super("remotejupyterserveruriprovider",n.message||n.toString()),this.providerId=e,this.handle=t,this.originalError=n,this.serverId=r}}t.RemoteJupyterServerUriProviderError=o},90541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedKernelError=t.BaseKernelError=t.IDataScienceErrorHandler=void 0;const r=n(37853);t.IDataScienceErrorHandler=Symbol("IDataScienceErrorHandler");class o extends r.BaseError{constructor(e,t,n){super(e,t),this.kernelConnectionMetadata=n}}t.BaseKernelError=o;class i extends r.WrappedError{constructor(e,t,n){super(e,t),this.kernelConnectionMetadata=n}}t.WrappedKernelError=i},81296:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CellOutputDisplayIdTracker=void 0;const o=n(86700),i=n(66828),s=n(86563);let a=class{constructor(){this.displayIdCellOutputMappingPerDocument=new WeakMap,this.cellToDisplayIdMapping=new WeakMap,i.workspace.onDidChangeNotebookDocument((e=>{(0,s.isJupyterNotebook)(e.notebook)&&e.cellChanges.filter((e=>{var t;return 0===(null===(t=e.outputs)||void 0===t?void 0:t.length)})).map((t=>{var n;const r=this.cellToDisplayIdMapping.get(t.cell);r&&(this.cellToDisplayIdMapping.delete(t.cell),null===(n=this.displayIdCellOutputMappingPerDocument.get(e.notebook))||void 0===n||n.delete(r))}))}))}trackOutputByDisplayId(e,t,n){let r=this.displayIdCellOutputMappingPerDocument.get(e.notebook);r||(r=new Map,this.displayIdCellOutputMappingPerDocument.set(e.notebook,r)),r.set(t,{output:n,cell:e}),this.cellToDisplayIdMapping.set(e,t)}getMappedOutput(e,t){const n=this.displayIdCellOutputMappingPerDocument.get(e);if(!n)return;const r=n.get(t);return(null==r?void 0:r.cell.document.isClosed)||null==r?void 0:r.output}};a=r([(0,o.injectable)()],a),t.CellOutputDisplayIdTracker=a},1988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellExecution=t.CellExecutionFactory=void 0;const r=n(66828),o=n(9016),i=n(29629),s=n(37853),a=n(20397),c=n(11642),l=n(43138),u=n(11386),d=n(58681),p=n(98729),h=n(6491),f=n(67572),g=n(94062),m=n(14154),y=n(35412);t.CellExecutionFactory=class{constructor(e,t){this.controller=e,this.requestListener=t}create(e,t,n){return v.fromCell(e,t,n,this.controller,this.requestListener)}};class v{constructor(e,t,n,i,s){this.cell=e,this.codeOverride=t,this.kernelConnection=n,this.controller=i,this.requestListener=s,this.stopWatch=new u.StopWatch,this._result=(0,l.createDeferred)(),this.cancelHandled=!1,this.disposables=[],this._preExecuteEmitter=new r.EventEmitter,r.workspace.onDidCloseTextDocument((e=>{var t;if(e===this.cell.document){(0,c.traceVerbose)(`Disposing request as the cell was deleted ${(0,y.getDisplayPath)(this.cell.notebook.uri)}`);try{null===(t=this.request)||void 0===t||t.dispose()}catch(e){(0,c.traceError)(`Error during cell execution dispose: ${e}`)}this.started&&!this._completed&&this.completedDueToCancellation()}}),this,this.disposables),m.NotebookCellStateTracker.setCellState(e,r.NotebookCellExecutionState.Idle);const a=o.CellExecutionCreator.get(e);this.canExecuteCell()?(this.execution=o.CellExecutionCreator.getOrCreate(e,this.controller),m.NotebookCellStateTracker.setCellState(e,r.NotebookCellExecutionState.Pending)):a&&(a.start(),a.end(void 0))}get result(){return this._result.promise}get preExecute(){return this._preExecuteEmitter.event}static fromCell(e,t,n,r,o){return new v(e,t,n,r,o)}async start(e){var t,n,o;if(this.cancelHandled)(0,m.traceCellMessage)(this.cell,"Not starting as it was cancelled");else{if((0,m.traceCellMessage)(this.cell,"Start execution"),(0,c.traceInfoIfCI)(`Cell Exec contents ${this.cell.document.getText().substring(0,50)}...`),!this.canExecuteCell())return null===(t=this.execution)||void 0===t||t.end(void 0),this.execution=void 0,void this._result.resolve();if(this.started)return(0,m.traceCellMessage)(this.cell,"Cell has already been started yet CellExecution.Start invoked again"),(0,c.traceError)(`Cell has already been started yet CellExecution.Start invoked again ${this.cell.index}`),this.result;this.started=!0,this.startTime=(new Date).getTime(),f.activeNotebookCellExecution.set(this.cell.notebook,this.execution),null===(n=this.execution)||void 0===n||n.start(this.startTime),m.NotebookCellStateTracker.setCellState(this.cell,r.NotebookCellExecutionState.Executing),await(null===(o=this.execution)||void 0===o?void 0:o.clearOutput()),this.stopWatch.reset(),this.execute(this.codeOverride||this.cell.document.getText().replace(/\r\n/g,"\n"),e).catch((e=>this.completedWithErrors(e))).catch(d.noop)}}async cancel(e=!1){if(!this.cancelHandled)return this.started&&!e?((0,m.traceCellMessage)(this.cell,"Cell is already running, waiting for it to finish or kernel to start"),void await this.result):void(this.cancelHandled||this._completed||((0,m.traceCellMessage)(this.cell,"Execution cancelled"),this.cancelHandled=!0,this.completedDueToCancellation(),this.dispose()))}dispose(){(0,m.traceCellMessage)(this.cell,"Execution disposed"),(0,a.disposeAllDisposables)(this.disposables)}completedWithErrors(e){var t,n;let o,a;if((0,c.traceWarning)("Cell completed with errors",e),(0,m.traceCellMessage)(this.cell,"Completed with errors"),(0,m.traceCellMessage)(this.cell,"Update with error state & output"),e instanceof s.BaseError){const n=(0,i.analyzeKernelErrors)(r.workspace.workspaceFolders||[],e,(0,p.getDisplayNameOrNameOfKernelConnection)(this.kernelConnection),null===(t=this.kernelConnection.interpreter)||void 0===t?void 0:t.sysPrefix);o=null==n?void 0:n.message}else o=e.message||e.name||e.stack;a=(0,i.createOutputWithErrorMessageForDisplay)(o||""),a&&(null===(n=this.execution)||void 0===n||n.appendOutput(a).then(d.noop,d.noop)),this.endCellTask("failed"),this._completed=!0,(0,m.traceCellMessage)(this.cell,"Completed with errors, & resolving"),this._result.resolve(g.NotebookCellRunState.Error)}get isEmptyCodeCell(){return 0===this.cell.document.getText().trim().length}completedSuccessfully(){var e;(0,m.traceCellMessage)(this.cell,"Completed successfully");let t=this.isEmptyCodeCell?g.NotebookCellRunState.Idle:g.NotebookCellRunState.Success,n="success";(null===(e=this.cellExecutionHandler)||void 0===e?void 0:e.hasErrorOutput)&&(n="failed",t=g.NotebookCellRunState.Error),this.endCellTask(n),this._completed=!0,(0,m.traceCellMessage)(this.cell,`Completed successfully & resolving with status = ${n}`),this._result.resolve(t)}endCellTask(e){var t,n,o;this.isEmptyCodeCell?(this.execution&&(this.execution.executionOrder=void 0),null===(t=this.execution)||void 0===t||t.end(void 0)):"success"===e||"failed"===e?(this.endTime=(new Date).getTime(),null===(n=this.execution)||void 0===n||n.end("success"===e,this.endTime)):null===(o=this.execution)||void 0===o||o.end(void 0),f.activeNotebookCellExecution.get(this.cell.notebook)===this.execution&&f.activeNotebookCellExecution.set(this.cell.notebook,void 0),m.NotebookCellStateTracker.setCellState(this.cell,r.NotebookCellExecutionState.Idle),this.execution=void 0}completedDueToCancellation(){(0,m.traceCellMessage)(this.cell,"Completed due to cancellation"),this.endCellTask("cancelled"),this._completed=!0,(0,m.traceCellMessage)(this.cell,"Cell cancelled & resolving"),this._result.resolve(g.NotebookCellRunState.Idle)}canExecuteCell(){return!((0,p.isPythonKernelConnection)(this.kernelConnection)&&"raw"===this.cell.document.languageId||this.cell.document.isClosed)}async execute(e,t){(0,m.traceCellMessage)(this.cell,"Send code for execution"),await this.executeCodeCell(e,t)}async executeCodeCell(e,t){var n,r;if(0===e.trim().length||this.cell.document.isClosed)return(0,m.traceCellMessage)(this.cell,"Empty cell execution"),this.completedSuccessfully();const o={cellId:this.cell.document.uri.toString(),...(null===(r=null===(n=this.cell.metadata)||void 0===n?void 0:n.custom)||void 0===r?void 0:r.metadata)||{}};try{this._preExecuteEmitter.fire(this.cell),this.request=t.requestExecute({code:e,silent:!1,stop_on_error:!1,allow_stdin:!0,store_history:!0},!1,o)}catch(e){return(0,c.traceError)(`Cell execution failed without request, for cell Index ${this.cell.index}`,e),this.completedWithErrors(e)}this.cellExecutionHandler=this.requestListener.registerListener(this.cell,{kernel:t.kernel,cellExecution:this.execution,request:this.request,onErrorHandlingExecuteRequestIOPubMessage:e=>{(0,c.traceError)(`Cell (index = ${this.cell.index}) execution completed with errors (2).`,e),this.completedWithErrors(e)}});try{(0,m.traceCellMessage)(this.cell,"Wait for jupyter execution"),await this.request.done,(0,m.traceCellMessage)(this.cell,"Jupyter execution completed"),this.completedSuccessfully(),(0,m.traceCellMessage)(this.cell,"Executed successfully in executeCell")}catch(e){(0,c.traceError)("Error in waiting for cell to complete",e),(0,m.traceCellMessage)(this.cell,"Some other execution error"),e&&e instanceof Error&&(0,h.isCancellationError)(e,!0)?this.completedWithErrors({message:e.message}):this.completedWithErrors(e)}}}t.CellExecution=v},9016:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellExecutionCreator=t.NotebookCellExecutionWrapper=void 0;class n{constructor(e,t,n){this._impl=e,this.controllerId=t,this._endCallback=n,this.started=!1}get cell(){return this._impl.cell}get token(){return this._impl.token}get executionOrder(){return this._impl.executionOrder}set executionOrder(e){this._impl.executionOrder=e}start(e){this.started||(this.started=!0,this._impl.start(e))}end(e,t){if(this._endCallback)try{this._impl.end(e,t)}finally{this._endCallback(),this._endCallback=void 0}}clearOutput(e){return this._impl.clearOutput(e)}replaceOutput(e,t){return this._impl.replaceOutput(e,t)}appendOutput(e,t){return this._impl.appendOutput(e,t)}replaceOutputItems(e,t){return this._impl.replaceOutputItems(e,t)}appendOutputItems(e,t){return this._impl.appendOutputItems(e,t)}}t.NotebookCellExecutionWrapper=n;class r{static getOrCreate(e,t){let n;const o=e.document.uri.toString();if(n=this.get(e),n){if(n.controllerId!==t.id){const i=n;i.end(void 0),n=r.create(o,e,t),i.started&&n.start((new Date).getTime())}}else n=r.create(o,e,t);return n}static get(e){const t=e.document.uri.toString();return r._map.get(t)}static create(e,t,o){const i=new n(o.createNotebookCellExecution(t),o.id,(()=>{r._map.delete(e)}));return r._map.set(e,i),i}}t.CellExecutionCreator=r,r._map=new Map},67572:function(e,t,n){"use strict";var r=n(48764).Buffer,o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CellExecutionMessageHandler=t.activeNotebookCellExecution=void 0;const s=i(n(64063)),a=n(66828),c=n(9016),l=n(20397),u=n(11642),d=n(86563),p=n(14154),h=n(85446),f=n(58681),g=n(79821),m=n(13218),y=n(15925),v=n(62624);function b(e){if(e.parent_header&&"msg_id"in e.parent_header)return e.parent_header.msg_id}t.activeNotebookCellExecution=new WeakMap;class S{constructor(e,t,n,r,o,i,s,c,l){this.cell=e,this.applicationService=t,this.controller=n,this.outputDisplayIdTracker=r,this.context=o,this.formatters=i,this.kernel=s,this._onErrorHandlingIOPubMessage=new a.EventEmitter,this.onErrorHandlingExecuteRequestIOPubMessage=this._onErrorHandlingIOPubMessage.event,this.outputsAreSpecificToAWidget=[],this.commIdsMappedToParentWidgetModel=new Map,this.disposables=[],this.prompts=new Set,this.ownedCommIds=new Set,this.commIdsMappedToWidgetOutputModels=new Set,this.ownedRequestMsgIds=new Set,this.executeRequestMessageId=c.msg.header.msg_id,this.ownedRequestMsgIds.add(c.msg.header.msg_id),a.workspace.onDidChangeNotebookDocument((e=>{var t;if(!(0,d.isJupyterNotebook)(e.notebook))return;const n=e.cellChanges.find((({cell:e})=>e===this.cell));n&&0===(null===(t=n.outputs)||void 0===t?void 0:t.length)&&(this.clearLastUsedStreamOutput(),this.cellHasErrorsInOutput=!1)}),this,this.disposables),this.execution=l,this.kernel.anyMessage.connect(this.onKernelAnyMessage,this),this.kernel.iopubMessage.connect(this.onKernelIOPubMessage,this),c.onIOPub=()=>{this.cell.document.isClosed&&!this.completedExecution&&c.dispose()},c.onReply=e=>{this.cell.document.isClosed?c.dispose():this.handleReply(e)},c.onStdin=this.handleInputRequest.bind(this),c.done.finally((()=>{this.completedExecution=!0,this.endCellExecution()})).catch(f.noop)}get hasErrorOutput(){return!0===this.cellHasErrorsInOutput}dispose(){(0,p.traceCellMessage)(this.cell,"Execution disposed"),(0,l.disposeAllDisposables)(this.disposables),this.prompts.forEach((e=>e.dispose())),this.prompts.clear(),this.clearLastUsedStreamOutput(),this.execution=void 0,this.kernel.anyMessage.disconnect(this.onKernelAnyMessage,this),this.kernel.iopubMessage.disconnect(this.onKernelIOPubMessage,this)}endCellExecution(){this.prompts.forEach((e=>e.dispose())),this.prompts.clear(),this.clearLastUsedStreamOutput(),this.execution=void 0}onKernelAnyMessage(e,{direction:t,msg:r}){if(this.cell.document.isClosed)return this.endCellExecution();"send"===t&&this.completedExecution&&n(76240).KernelMessage.isCommMsgMsg(r)&&this.ownedCommIds.has(r.content.comm_id)&&this.ownedRequestMsgIds.add(r.header.msg_id)}onKernelIOPubMessage(e,t){if(this.cell.document.isClosed)return this.endCellExecution();if(t.parent_header&&"msg_id"in t.parent_header&&this.ownedRequestMsgIds.has(t.parent_header.msg_id)&&"iopub"===t.channel)try{this.handleIOPub(t)}catch(e){(0,u.traceError)("Failed to handle iopub message as a result of some comm message",t,e),this.completedExecution||this.cell.document.isClosed||this._onErrorHandlingIOPubMessage.fire(e)}}clearLastUsedStreamOutput(){this.lastUsedStreamOutput=void 0}createTemporaryTask(){var e,n;if(this.cell.document.isClosed)return;return t.activeNotebookCellExecution.get(this.cell.notebook)||(this.previousResultsToRestore={...this.cell.executionSummary||{}},this.temporaryExecution=c.CellExecutionCreator.getOrCreate(this.cell,this.controller),null===(e=this.temporaryExecution)||void 0===e||e.start(),(null===(n=this.previousResultsToRestore)||void 0===n?void 0:n.executionOrder)&&this.execution&&(this.execution.executionOrder=this.previousResultsToRestore.executionOrder),this.temporaryExecution)}endTemporaryTask(){var e,t,n;(null===(e=this.previousResultsToRestore)||void 0===e?void 0:e.executionOrder)&&this.execution&&(this.execution.executionOrder=this.previousResultsToRestore.executionOrder),this.previousResultsToRestore&&this.temporaryExecution?(this.previousResultsToRestore.executionOrder&&(this.temporaryExecution.executionOrder=this.previousResultsToRestore.executionOrder),this.temporaryExecution.end(this.previousResultsToRestore.success,null===(t=this.previousResultsToRestore.timing)||void 0===t?void 0:t.endTime)):null===(n=this.temporaryExecution)||void 0===n||n.end(void 0),this.previousResultsToRestore=void 0,this.temporaryExecution=void 0}handleIOPub(e){const t=n(76240);if(t.KernelMessage.isCommOpenMsg(e))this.handleCommOpen(e);else if(t.KernelMessage.isExecuteResultMsg(e))this.handleExecuteResult(e);else if(t.KernelMessage.isExecuteInputMsg(e))this.handleExecuteInput(e);else if(t.KernelMessage.isStatusMsg(e)){const t=e;this.handleStatusMessage(t)}else t.KernelMessage.isStreamMsg(e)?this.handleStreamMessage(e):t.KernelMessage.isDisplayDataMsg(e)?this.handleDisplayData(e):t.KernelMessage.isUpdateDisplayDataMsg(e)?this.handleUpdateDisplayDataMessage(e):t.KernelMessage.isClearOutputMsg(e)?this.handleClearOutput(e):t.KernelMessage.isErrorMsg(e)?this.handleError(e):t.KernelMessage.isCommOpenMsg(e)||(t.KernelMessage.isCommMsgMsg(e)?this.handleCommMsg(e):t.KernelMessage.isCommCloseMsg(e)||(0,u.traceWarning)(`Unknown message ${e.header.msg_type} : hasData=${"data"in e.content}`));"execution_count"in e.content&&"number"==typeof e.content.execution_count&&this.execution&&(this.execution.executionOrder=e.content.execution_count)}handleCommOpen(e){var t;this.ownedCommIds.add(e.content.comm_id);const n=(null===(t=e.content.data)||void 0===t?void 0:t.state)||void 0;e.content.target_name===y.Identifiers.DefaultCommTarget&&n&&"@jupyter-widgets/output"===n._model_module&&this.commIdsMappedToWidgetOutputModels.add(e.content.comm_id)}handleCommMsg(e){const t=e.content.data;if(m(t)&&"update"===t.method&&m(t.state))if("msg_id"in t.state&&"string"==typeof t.state.msg_id){const n="msg_id"in e.parent_header?e.parent_header:void 0;(this.ownedRequestMsgIds.has(e.content.comm_id)||n&&this.ownedRequestMsgIds.has(n.msg_id))&&(t.state.msg_id?this.outputsAreSpecificToAWidget.push({handlingCommId:e.content.comm_id,msgIdsToSwallow:t.state.msg_id}):this.outputsAreSpecificToAWidget.length&&this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].handlingCommId===e.content.comm_id&&this.outputsAreSpecificToAWidget.pop())}else if("children"in t.state&&Array.isArray(t.state.children)&&this.ownedCommIds.has(e.content.comm_id)){const n="IPY_MODEL_";t.state.children.forEach((t=>{if("string"!=typeof t)return(0,u.traceWarning)("Came across a comm update message a child that isn't a string",t);if(!t.startsWith(n))return(0,u.traceWarning)(`Came across a comm update message a child that start start with ${n}`,t);const r=t.substring(n.length);this.ownedCommIds.add(r),this.commIdsMappedToParentWidgetModel.set(r,e.content.comm_id)}))}}clearOutputIfNecessary(e){return this.clearOutputOnNextUpdateToOutput?((0,p.traceCellMessage)(this.cell,"Clear cell output"),this.clearLastUsedStreamOutput(),null==e||e.clearOutput().then(f.noop,f.noop),this.clearOutputOnNextUpdateToOutput=!1,{previousValueOfClearOutputOnNextUpdateToOutput:!0}):{previousValueOfClearOutputOnNextUpdateToOutput:!1}}addToCellData(e,t){var n,r,o;if(e.data&&"object"==typeof e.data&&y.WIDGET_MIMETYPE in e.data){const t=e.data[y.WIDGET_MIMETYPE];if(t&&this.context.extensionMode===a.ExtensionMode.Test&&(t._vsc_test_cellIndex=this.cell.index),t&&"model_id"in t){const e=S.modelIdsOwnedByCells.get(this.cell)||new Set;e.add(t.model_id),S.modelIdsOwnedByCells.set(this.cell,e)}}const i=(0,p.cellOutputToVSCCellOutput)(e),s="transient"in e&&"object"==typeof e.transient&&e.transient&&"display_id"in e.transient&&"string"==typeof(null===(n=e.transient)||void 0===n?void 0:n.display_id)?null===(r=e.transient)||void 0===r?void 0:r.display_id:void 0;if(this.cell.document.isClosed)return;(0,p.traceCellMessage)(this.cell,"Update output"),this.clearOutputIfNecessary(this.execution),s&&this.outputDisplayIdTracker.trackOutputByDisplayId(this.cell,s,i);let c=new v.Lazy((()=>this.execution||this.createTemporaryTask()));this.clearLastUsedStreamOutput(),(0,p.traceCellMessage)(this.cell,"Append output in addToCellData");let l=!0;const u=b(t);if(this.outputsAreSpecificToAWidget.length&&this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].msgIdsToSwallow===u&&i.items.every((e=>this.canMimeTypeBeRenderedByWidgetManager(e))))l=!1;else if(this.outputsAreSpecificToAWidget.length&&this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].msgIdsToSwallow===u){const e=this.updateJupyterOutputWidgetWithOutput({commId:this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].handlingCommId,outputToAppend:i},c.getValue());(null==e?void 0:e.outputAdded)&&(l=!1)}l&&(null===(o=c.getValue())||void 0===o||o.appendOutput([i]).then(f.noop,f.noop)),this.endTemporaryTask()}canMimeTypeBeRenderedByWidgetManager(e){const t=e.mime;if(t==p.CellOutputMimeTypes.stderr||t==p.CellOutputMimeTypes.stdout||t==p.CellOutputMimeTypes.error)return!0;if(t===y.WIDGET_MIMETYPE){const t=JSON.parse(r.from(e.data).toString());return"string"!=typeof t.model_id||!this.commIdsMappedToWidgetOutputModels.has(t.model_id)}return!t.startsWith("application/vnd")}updateJupyterOutputWidgetWithOutput(e,t){const n=this.outputsAreSpecificToAWidget.length?this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].handlingCommId:void 0,o="commId"in e?e.commId:n;if(!o)return;const i="outputToAppend"in e?e.outputToAppend:void 0,s=this.commIdsMappedToParentWidgetModel.get(o)||o,a=this.cell.notebook.getCells().find((e=>{var t;return null===(t=S.modelIdsOwnedByCells.get(e))||void 0===t?void 0:t.has(s)}));if(!a)return void(0,u.traceWarning)(`Unable to find a cell that owns the model ${s}`);const c=a.outputs.find((e=>e.items.find((e=>{if(e.mime!==y.WIDGET_MIMETYPE)return!1;try{return JSON.parse(r.from(e.data).toString()).model_id===s}catch(e){(0,u.traceWarning)("Failed to deserialize the widget data",e)}return!1}))));if(!c)return;const l=S.outputsOwnedByWidgetModel.get(s)||new Set,d="clearOutput"in e&&e.clearOutput||!!this.outputsAreSpecificToAWidget.length&&!0===this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].clearOutputOnNextUpdateToOutput;this.outputsAreSpecificToAWidget.length&&(this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].clearOutputOnNextUpdateToOutput=!1);const p=a.outputs.slice().filter((e=>!d||!l.has(e.id))),h=p.slice(0,p.indexOf(c)+1),g=p.slice(p.indexOf(c)+1);S.outputsOwnedByWidgetModel.set(s,l),i&&l.add(i.id);const m=i?h.concat(i).concat(g):h.concat(g);return 0===g.length&&i?null==t||t.appendOutput(i,a).then(f.noop,f.noop):d&&!i&&0===g.length||null==t||t.replaceOutput(m,a).then(f.noop,f.noop),{outputAdded:!0}}async handleInputRequest(e){if(e.content&&"prompt"in e.content){const t=new a.CancellationTokenSource;this.prompts.add(t);const n=null!==e.content.password&&e.content.password;await this.applicationService.showInputBox({prompt:e.content.prompt?e.content.prompt.toString():"",ignoreFocusOut:!0,password:n},t.token).then((e=>{this.kernel.sendInputReply({value:e||"",status:"ok"})}),f.noop),this.prompts.delete(t)}}handleExecuteResult(e){this.addToCellData({output_type:"execute_result",data:e.content.data,metadata:e.content.metadata,transient:e.content.transient,execution_count:e.content.execution_count},e)}handleExecuteReply(e){const t=e.content;t.payload&&t.payload.forEach((n=>{n.source&&"set_next_input"===n.source&&"text"in n&&"replace"in n&&this.handleSetNextInput(n),n.data&&n.data.hasOwnProperty("text/plain")&&this.addToCellData({output_type:"stream",text:n.data["text/plain"].toString(),name:"stdout",metadata:{},execution_count:t.execution_count},e)}))}handleSetNextInput(e){const t=new a.WorkspaceEdit;if(e.replace)t.replace(this.cell.document.uri,new a.Range(this.cell.document.lineAt(0).range.start,this.cell.document.lineAt(this.cell.document.lineCount-1).range.end),e.text);else{(0,p.traceCellMessage)(this.cell,"Create new cell after current");const n=new a.NotebookCellData(a.NotebookCellKind.Code,e.text,this.cell.document.languageId);n.outputs=[],n.metadata={};const r=a.NotebookEdit.insertCells(this.cell.index+1,[n]);t.set(this.cell.notebook.uri,[r])}a.workspace.applyEdit(t).then(f.noop,f.noop)}handleExecuteInput(e){e.content.execution_count&&this.execution&&(this.execution.executionOrder=e.content.execution_count)}handleStatusMessage(e){(0,p.traceCellMessage)(this.cell,`Kernel switching to ${e.content.execution_state}`)}handleStreamMessage(e){var t;if(b(e)&&this.outputsAreSpecificToAWidget.length&&this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].msgIdsToSwallow==b(e))return;(0,p.traceCellMessage)(this.cell,`Update streamed output, new output '${e.content.text.substring(0,100)}'`);const n=this.execution||this.createTemporaryTask(),{previousValueOfClearOutputOnNextUpdateToOutput:r}=this.clearOutputIfNecessary(n);if((null===(t=this.lastUsedStreamOutput)||void 0===t?void 0:t.stream)===e.content.name){const t=(0,p.cellOutputToVSCCellOutput)({output_type:"stream",name:e.content.name,text:e.content.text});(0,p.traceCellMessage)(this.cell,`Append output items '${e.content.text.substring(0,100)}`),null==n||n.appendOutputItems(t.items,this.lastUsedStreamOutput.output).then(f.noop,f.noop)}else if(r){const t=(0,d.concatMultilineString)(e.content.text),r=(0,p.cellOutputToVSCCellOutput)({output_type:"stream",name:e.content.name,text:t});this.lastUsedStreamOutput={output:r,stream:e.content.name},(0,p.traceCellMessage)(this.cell,`Replace output with '${t.substring(0,100)}'`),null==n||n.replaceOutput([r]).then(f.noop,f.noop)}else{const t=(0,d.formatStreamText)((0,d.concatMultilineString)(e.content.text)),r=(0,p.cellOutputToVSCCellOutput)({output_type:"stream",name:e.content.name,text:t});this.lastUsedStreamOutput={output:r,stream:e.content.name},(0,p.traceCellMessage)(this.cell,`Append new output '${t.substring(0,100)}'`),null==n||n.appendOutput([r]).then(f.noop,f.noop)}this.endTemporaryTask()}handleDisplayData(e){const t={output_type:"display_data",data:(0,g.handleTensorBoardDisplayDataOutput)(e.content.data),metadata:e.content.metadata,transient:e.content.transient};this.addToCellData(t,e)}handleClearOutput(e){if(this.outputsAreSpecificToAWidget.length&&this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].msgIdsToSwallow===b(e))if(e.content.wait)this.outputsAreSpecificToAWidget.length&&(this.outputsAreSpecificToAWidget[this.outputsAreSpecificToAWidget.length-1].clearOutputOnNextUpdateToOutput=!0);else{const e=this.execution||this.createTemporaryTask();this.updateJupyterOutputWidgetWithOutput({clearOutput:!0},e),this.endTemporaryTask()}else if(e.content.wait)this.clearOutputOnNextUpdateToOutput=!0;else{const e=this.execution||this.createTemporaryTask();this.clearLastUsedStreamOutput(),null==e||e.clearOutput().then(f.noop,f.noop),this.endTemporaryTask()}}handleError(e){let t=e.content.traceback;this.formatters.forEach((e=>{t=e.format(this.cell,t)}));const n={output_type:"error",ename:e.content.ename,evalue:e.content.evalue,traceback:t};this.addToCellData(n,e),this.cellHasErrorsInOutput=!0}handleReply(e){n(76240).KernelMessage.isExecuteReplyMsg(e)&&(this.handleExecuteReply(e),"execution_count"in e.content&&"number"==typeof e.content.execution_count&&this.execution&&(this.execution.executionOrder=e.content.execution_count))}handleUpdateDisplayDataMessage(e){const t=e.content.transient.display_id;if(!t)return;const n=this.outputDisplayIdTracker.getMappedOutput(this.cell.notebook,t);if(!n)return;const r=(0,p.translateCellDisplayOutput)(n),o=(0,p.cellOutputToVSCCellOutput)({...r,data:e.content.data,metadata:e.content.metadata});if(0===n.items.length&&0===o.items.length)return;if(n.items.length===o.items.length){let e=!0;for(let t=0;t<n.items.length;t++)if(!(0,s.default)(n.items[t],o.items[t])){e=!1;break}if(e)return}const i=this.execution||this.createTemporaryTask();(0,p.traceCellMessage)(this.cell,`Replace output items in display data ${o.items.length}`),null==i||i.replaceOutputItems(o.items,n).then(f.noop,f.noop),this.endTemporaryTask()}}S.modelIdsOwnedByCells=new WeakMap,S.outputsOwnedByWidgetModel=new Map,o([(0,h.swallowExceptions)()],S.prototype,"handleReply",null),t.CellExecutionMessageHandler=S},3130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellExecutionMessageHandlerService=void 0;const r=n(66828),o=n(20397),i=n(67572);t.CellExecutionMessageHandlerService=class{constructor(e,t,n,o,i){this.appShell=e,this.controller=t,this.outputDisplayIdTracker=n,this.context=o,this.formatters=i,this.disposables=[],this.messageHandlers=new WeakMap,r.workspace.onDidChangeNotebookDocument((e=>{e.notebook===this.notebook&&e.contentChanges.forEach((e=>e.removedCells.forEach((e=>{var t;return null===(t=this.messageHandlers.get(e))||void 0===t?void 0:t.dispose()}))))}),this,this.disposables)}dispose(){(0,o.disposeAllDisposables)(this.disposables),this.notebook&&this.notebook.getCells().forEach((e=>{var t;return null===(t=this.messageHandlers.get(e))||void 0===t?void 0:t.dispose()}))}registerListener(e,t){var n;this.notebook=e.notebook,null===(n=this.messageHandlers.get(e))||void 0===n||n.dispose();const r=new i.CellExecutionMessageHandler(e,this.appShell,this.controller,this.outputDisplayIdTracker,this.context,this.formatters,t.kernel,t.request,t.cellExecution);return this.messageHandlers.set(e,r),r}}},14644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellExecutionQueue=void 0;const r=n(66828),o=n(11642),i=n(58681),s=n(14154),a=n(94062);t.CellExecutionQueue=class{constructor(e,t,n,o){this.session=e,this.executionFactory=t,this.metadata=n,this.resourceUri=o,this.queueOfCellsToExecute=[],this.cancelledOrCompletedWithErrors=!1,this.startedRunningCells=!1,this._onPreExecute=new r.EventEmitter,this.disposables=[]}get isEmpty(){return 0===this.queueOfCellsToExecute.length}get failed(){return this.cancelledOrCompletedWithErrors}get queue(){return this.queueOfCellsToExecute.map((e=>e.cell))}dispose(){var e;this.disposables.forEach((e=>e.dispose())),null===(e=this.lastCellExecution)||void 0===e||e.dispose()}get onPreExecute(){return this._onPreExecute.event}queueCell(e,t){if(this.queueOfCellsToExecute.find((t=>t.cell===e)))return void(0,s.traceCellMessage)(e,"Use existing cell execution");const n=this.executionFactory.create(e,t,this.metadata);this.disposables.push(n),n.preExecute((e=>this._onPreExecute.fire(e)),this,this.disposables),this.queueOfCellsToExecute.push(n),(0,s.traceCellMessage)(e,"User queued cell for execution"),this.startExecutingCells()}async cancel(e){var t;this.cancelledOrCompletedWithErrors=!0,(0,o.traceVerbose)("Cancel pending cells"),await Promise.all(this.queueOfCellsToExecute.map((t=>t.cancel(e)))),null===(t=this.lastCellExecution)||void 0===t||t.dispose(),this.queueOfCellsToExecute.splice(0,this.queueOfCellsToExecute.length)}async waitForCompletion(e){const t=Array.isArray(e)&&e.length>0?this.queueOfCellsToExecute.filter((t=>e.includes(t.cell))):this.queueOfCellsToExecute;return Promise.all(t.map((e=>e.result)))}startExecutingCells(){this.startedRunningCells||this.start().catch(i.noop),this.startedRunningCells=!0}async start(){try{await this.executeQueuedCells()}catch(e){(0,o.traceError)("Failed to execute cells in CellExecutionQueue",e),this.cancelledOrCompletedWithErrors=!0,await this.cancel()}}async executeQueuedCells(){var e;let t;const n=await this.session;for(this.queueOfCellsToExecute.forEach((e=>(0,s.traceCellMessage)(e.cell,"Ready to execute")));this.queueOfCellsToExecute.length;){null===(e=this.lastCellExecution)||void 0===e||e.dispose();const r=this.queueOfCellsToExecute[0];let i;this.lastCellExecution=r,(0,s.traceCellMessage)(r.cell,"Before Execute individual cell");try{r.cell.notebook.isClosed?t=!0:this.cancelledOrCompletedWithErrors||(await r.start(n),i=await r.result)}finally{(0,s.traceCellMessage)(r.cell,`After Execute individual cell ${i}`);const e=this.queueOfCellsToExecute.indexOf(r);e>=0&&this.queueOfCellsToExecute.splice(e,1)}if(t||this.cancelledOrCompletedWithErrors||i===a.NotebookCellRunState.Error){this.cancelledOrCompletedWithErrors=!0,(0,o.traceInfo)(`Cancel all remaining cells ${this.cancelledOrCompletedWithErrors} || ${i} || ${t}`),await this.cancel();break}if("dead"===n.status||"terminating"===n.status){this.cancelledOrCompletedWithErrors=!0,(0,o.traceInfo)("Cancel all remaining cells due to dead kernel"),await this.cancel();break}}}}},79821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleTensorBoardDisplayDataOutput=void 0,t.handleTensorBoardDisplayDataOutput=function(e){if(e.hasOwnProperty("text/html")){const t=e["text/html"];"string"==typeof t&&t.includes('<iframe id="tensorboard-frame-')&&(e["text/html"]=t.replace(/new URL\((.*), window.location\)/,'new URL("http://localhost")'))}return e}},14154:function(e,t,n){"use strict";var r=n(48764).Buffer,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endCellAndDisplayErrorsInCell=t.updateNotebookMetadata=t.hasErrorOutput=t.getTextOutputValues=t.getTextOutputValue=t.translateErrorOutput=t.translateCellDisplayOutput=t.translateCellErrorOutput=t.getOutputStreamType=t.cellOutputToVSCCellOutput=t.traceCellMessage=t.NotebookCellStateTracker=t.createJupyterCellFromVSCNotebookCell=t.CellOutputMimeTypes=void 0;const a=n(66828),c=n(50361),l=n(64063),u=s(n(15948)),d=s(n(52859)),p=n(15925),h=n(86563),f=n(11642),g=n(46031),m=n(9959),y=n(29629),v=n(9016),b=n(98729);var S;!function(e){e.error="application/vnd.code.notebook.error",e.stderr="application/vnd.code.notebook.stderr",e.stdout="application/vnd.code.notebook.stdout"}(S=t.CellOutputMimeTypes||(t.CellOutputMimeTypes={})),t.createJupyterCellFromVSCNotebookCell=function(e){let t;return t=e.kind===a.NotebookCellKind.Markup?function(e){var t;const n=null===(t=e.metadata)||void 0===t?void 0:t.custom,r={cell_type:"markdown",source:(0,h.splitMultilineString)("document"in e?e.document.getText():e.value),metadata:(null==n?void 0:n.metadata)||{}};return(null==n?void 0:n.attachments)&&(r.attachments=n.attachments),r}(e):"document"in e&&"raw"===e.document.languageId||"languageId"in e&&"raw"===e.languageId?function(e){var t;const n=null===(t=e.metadata)||void 0===t?void 0:t.custom,r={cell_type:"raw",source:(0,h.splitMultilineString)("document"in e?e.document.getText():e.value),metadata:(null==n?void 0:n.metadata)||{}};return(null==n?void 0:n.attachments)&&(r.attachments=n.attachments),r}(e):function(e){var t,n,r;const o=null===(t=e.metadata)||void 0===t?void 0:t.custom,i="document"in e?e.document.getText():e.value;return{cell_type:"code",execution_count:null!==(r=null===(n=e.executionSummary)||void 0===n?void 0:n.executionOrder)&&void 0!==r?r:null,source:(0,h.splitMultilineString)(i),outputs:(e.outputs||[]).map(O),metadata:(null==o?void 0:o.metadata)||{}}}(e),t};const w=["application/vnd.*","application/vdom.*","application/geo+json","application/x-nteract-model-debug+json","text/html","application/javascript","image/gif","text/latex","text/markdown","image/png","image/svg+xml","image/jpeg","application/json","text/plain"];function C(e){if(e.mime.startsWith("application/vnd."))try{return 0===r.from(e.data).toString().length}catch(e){}return!1}class k{static getCellState(e){return k.cellStates.get(e)}static setCellState(e,t){k.cellStates.set(e,t)}}t.NotebookCellStateTracker=k,k.cellStates=new WeakMap,t.traceCellMessage=function(e,t){var n;(0,f.traceInfoIfCI)(`Cell Index:${e.index}, of document ${d.basename(e.notebook.uri)} with state:${k.getCellState(e)}, exec: ${null===(n=e.executionSummary)||void 0===n?void 0:n.executionOrder}. ${t}.`)};const _=new Map;function I(e){const t={outputType:e.output_type};switch(e.transient&&(t.transient=e.transient),e.output_type){case"display_data":case"execute_result":case"update_display_data":t.executionCount=e.execution_count,t.metadata=e.metadata?c(e.metadata):{}}return t}function E(e){const t=I(e);("image/svg+xml"in e.data||"image/png"in e.data)&&(t.__displayOpenPlotIcon=!0);const n=[];if(e.data)for(const t in e.data)n.push(M(t,e.data[t]));return new a.NotebookCellOutput(n.sort(((e,t)=>{const n=(e,t)=>(e.endsWith(".*")&&(e=e.substr(0,e.indexOf(".*"))),t.startsWith(e));let r=w.findIndex((t=>n(t,e.mime))),o=w.findIndex((e=>n(e,t.mime)));return C(e)&&(r=-1),C(t)&&(o=-1),r=-1==r?100:r,o=-1==o?100:o,r-o})),t)}function P(e){if(e.items.length>0)return e.items[0].mime===S.stderr?"stderr":"stdout"}function D(e){var t;const n=e.items[0];if(!n.data)return{output_type:"error",ename:"",evalue:"",traceback:[]};const o=null===(t=e.metadata)||void 0===t?void 0:t.originalError,i=JSON.parse(r.from(n.data).toString("utf8"));return{output_type:"error",ename:i.name,evalue:i.message,traceback:(null==o?void 0:o.traceback)||(0,h.splitMultilineString)(i.stack||i.message||"")}}_.set("display_data",E),_.set("error",A),_.set("execute_result",E),_.set("stream",(function(e){const t=(0,h.concatMultilineString)(e.text),n="stderr"===e.name?a.NotebookCellOutputItem.stderr:a.NotebookCellOutputItem.stdout;return new a.NotebookCellOutput([n(t)],I(e))})),_.set("update_display_data",E),t.cellOutputToVSCCellOutput=function(e){const t=_.get(e.output_type);let n;return t?n=t(e):((0,f.traceWarning)(`Unable to translate cell from ${e.output_type} to NotebookCellData for VS Code.`),n=E(e)),n},t.getOutputStreamType=P,t.translateCellErrorOutput=D;const T=new TextDecoder,x=["text/plain","text/markdown",S.stderr,S.stdout];function j(e,t){if(!t)return"";try{if(e===S.error){const e=T.decode(t);return JSON.parse(e)}if(e.startsWith("text/")||x.includes(e)){const e=T.decode(t);return(0,h.splitMultilineString)(e)}if(e.startsWith("image/")&&"image/svg+xml"!==e){if(void 0!==r&&"function"==typeof r.from)return r.from(t).toString("base64");{const e=T.decode(t);return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number.parseInt("0x"+t))})))}}if(!e.toLowerCase().startsWith("application/vnd.holoviews_load.v")||!e.toLowerCase().endsWith("+json")){if(e.toLowerCase().includes("json")){const e=T.decode(t);return e.length>0?JSON.parse(e):e}return T.decode(t)}{const e=T.decode(t);try{return e.length>0?JSON.parse(e):e}catch(t){return e}}}catch(n){return(0,f.traceError)(`Failed to convert ${e} output from a buffer ${typeof t}, ${t}`,n),""}}function M(e,t){if(!t)return a.NotebookCellOutputItem.text("",e);try{if(!e.startsWith("text/")&&!x.includes(e)||!Array.isArray(t)&&"string"!=typeof t){if(e.startsWith("image/")&&"string"==typeof t&&"image/svg+xml"!==e){if(void 0!==r&&"function"==typeof r.from)return new a.NotebookCellOutputItem(r.from(t,"base64"),e);{const n=Uint8Array.from(atob(t),(e=>e.charCodeAt(0)));return new a.NotebookCellOutputItem(n,e)}}return"object"!=typeof t||null===t||Array.isArray(t)?(t=Array.isArray(t)?(0,h.concatMultilineString)(t):t,a.NotebookCellOutputItem.text(t,e)):a.NotebookCellOutputItem.text(JSON.stringify(t),e)}{const n=Array.isArray(t)?(0,h.concatMultilineString)(t):t;return a.NotebookCellOutputItem.text(n,e)}}catch(n){return(0,f.traceError)(`Failed to convert ${e} output to a buffer ${typeof t}, ${t}`,n),a.NotebookCellOutputItem.text("")}}function N(e){const t=[];e.items.filter((e=>e.mime===S.stderr||e.mime===S.stdout)).map((e=>T.decode(e.data))).forEach((e=>{const n=e.split("\n");t.length&&n.length&&n[0].length>0&&(t[t.length-1]=`${t[t.length-1]}${n.shift()}`);for(const e of n)t.push(e)}));for(let e=0;e<t.length-1;e++)t[e]=`${t[e]}\n`;return t.length&&0===t[t.length-1].length&&t.pop(),{output_type:"stream",name:P(e)||"stdout",text:t}}function O(e){const t=e.metadata;let n;switch(null==t?void 0:t.outputType){case"error":n=D(e);break;case"stream":n=N(e);break;case"display_data":n={output_type:"display_data",data:e.items.reduce(((e,t)=>(e[t.mime]=j(t.mime,t.data),e)),{}),metadata:(null==t?void 0:t.metadata)||{}};break;case"execute_result":n={output_type:"execute_result",data:e.items.reduce(((e,t)=>(e[t.mime]=j(t.mime,t.data),e)),{}),metadata:(null==t?void 0:t.metadata)||{},execution_count:"number"==typeof(null==t?void 0:t.executionCount)?null==t?void 0:t.executionCount:null};break;case"update_display_data":n={output_type:"update_display_data",data:e.items.reduce(((e,t)=>(e[t.mime]=j(t.mime,t.data),e)),{}),metadata:(null==t?void 0:t.metadata)||{}};break;default:{const r=1===e.items.length&&e.items.every((e=>e.mime===S.error)),o=e.items.every((e=>e.mime===S.stderr||e.mime===S.stdout));if(r)return D(e);const i=(null==t?void 0:t.outputType)||(o?"stream":"display_data");let s;(0,m.sendTelemetryEvent)(m.Telemetry.VSCNotebookCellTranslationFailed,void 0,{outputType:i}),s="stream"===i?N(e):"display_data"===i?{data:{},metadata:{},output_type:"display_data"}:{output_type:i},(null==t?void 0:t.metadata)&&(s.metadata=t.metadata),e.items.length>0&&(s.data=e.items.reduce(((e,t)=>(e[t.mime]=j(t.mime,t.data),e)),{})),n=s;break}}return n&&t&&t.transient&&(n.transient=t.transient),n}function A(e){return e=e||{output_type:"error",ename:"",evalue:"",traceback:[]},new a.NotebookCellOutput([a.NotebookCellOutputItem.error({name:(null==e?void 0:e.ename)||"",message:(null==e?void 0:e.evalue)||"",stack:((null==e?void 0:e.traceback)||[]).join("\n")})],{...I(e),originalError:e})}function R(e){var t;const n=null===(t=null==e?void 0:e.items)||void 0===t?void 0:t.find((e=>e.mime===S.stdout||e.mime===S.stderr||"text/plain"===e.mime||"text/markdown"===e.mime));if(n){const e=j(n.mime,n.data);return Array.isArray(e)?e.join(""):e}return""}t.translateCellDisplayOutput=O,t.translateErrorOutput=A,t.getTextOutputValue=R,t.getTextOutputValues=function(e){return e.outputs.map(R).join("")},t.hasErrorOutput=function(e){return!!e.find((e=>e.items.length&&!e.items.some((e=>e.mime!==S.error))))},t.updateNotebookMetadata=async function(e,t,n){var r,o,i,s,a,d,h,f,m,y,v,S,w,C;let k,_,I=!1;if(!e)return{changed:I,kernelId:k};switch((null===(r=null==e?void 0:e.language_info)||void 0===r?void 0:r.name)||(e.language_info=e.language_info||{name:""}),null==t?void 0:t.kind){case"connectToLiveRemoteKernel":_=t.kernelModel.language;break;case"startUsingRemoteKernelSpec":case"startUsingLocalKernelSpec":_=t.kernelSpec.language;break;case"startUsingPythonInterpreter":_=p.PYTHON_LANGUAGE}if(e.language_info.name!==_&&_&&(e.language_info.name=_,I=!0),n&&"language_info"in n&&n.language_info)l(e.language_info,n.language_info)||(e.language_info=c(n.language_info),I=!0);else{const n=(0,b.isPythonKernelConnection)(t),r=n?(0,b.getInterpreterFromKernelConnectionMetadata)(t):void 0;r&&r.version&&e&&e.language_info&&e.language_info.version!==r.version.raw?(e.language_info.version=r.version.raw,I=!0):!r&&(null==e?void 0:e.language_info)&&n&&(e.language_info=void 0,I=!0)}const E=t&&(0,b.kernelConnectionMetadataHasKernelModel)(t)?t.kernelModel:null==t?void 0:t.kernelSpec;if("startUsingPythonInterpreter"===(null==t?void 0:t.kind)){const n=t.kernelSpec;let r=n.display_name||t.interpreter.displayName||"",c="";switch((0,b.getKernelRegistrationInfo)(n)){case"registeredByOldVersionOfExt":case"registeredByNewVersionOfExt":c="python3";break;case"registeredByNewVersionOfExtForCustomKernelSpec":c=((null===(i=null===(o=n.metadata)||void 0===o?void 0:o.vscode)||void 0===i?void 0:i.originalSpecFile)?u.basename(u.dirname(n.metadata.vscode.originalSpecFile)):void 0)||n.name,r=(null===(a=null===(s=n.metadata)||void 0===s?void 0:s.vscode)||void 0===a?void 0:a.originalDisplayName)||r;break;default:c=n.name}const l=(0,b.getInterpreterFromKernelConnectionMetadata)(t),h=(null==l?void 0:l.uri)?await(0,g.getInterpreterHash)({uri:null==l?void 0:l.uri}):void 0,f="interpreter"in e?e.interpreter:"vscode"in e&&e.vscode&&"object"==typeof e.vscode&&"interpreter"in e.vscode?e.vscode.interpreter:void 0,m=null==f?void 0:f.hash;((null===(d=e.kernelspec)||void 0===d?void 0:d.name)!==c||h&&h!==m)&&(I=!0,e.kernelspec={name:c,language:p.PYTHON_LANGUAGE,display_name:r},(0,b.getKernelRegistrationInfo)(n)&&(e.vscode={interpreter:{hash:await(0,g.getInterpreterHash)(t.interpreter)}},"interpreter"in e&&delete e.interpreter))}else if(E&&!e.kernelspec){const t=(null===(f=null===(h=E.metadata)||void 0===h?void 0:h.vscode)||void 0===f?void 0:f.originalSpecFile)?u.basename(u.dirname(E.metadata.vscode.originalSpecFile)):void 0;e.kernelspec={name:t||E.name||E.display_name||"",display_name:(null===(y=null===(m=E.metadata)||void 0===m?void 0:m.vscode)||void 0===y?void 0:y.originalDisplayName)||E.display_name||E.name||""},E.language&&(e.kernelspec.language=E.language),k=E.id,I=!0}else if(E&&e.kernelspec){const t=((null===(S=null===(v=E.metadata)||void 0===v?void 0:v.vscode)||void 0===S?void 0:S.originalSpecFile)?u.basename(u.dirname(E.metadata.vscode.originalSpecFile)):void 0)||E.name||E.display_name||"",n=(null===(C=null===(w=E.metadata)||void 0===w?void 0:w.vscode)||void 0===C?void 0:C.originalDisplayName)||E.display_name||E.name||"",r=E.language||E.language||"";e.kernelspec.name===t&&e.kernelspec.language===r&&e.kernelspec.display_name===n&&k===E.id||(I=!0,e.kernelspec.name=t,e.kernelspec.display_name=n,e.kernelspec.language=r,k=E.id);try{delete e.kernelspec.metadata}catch(e){}}return{changed:I,kernelId:k}},t.endCellAndDisplayErrorsInCell=async function(e,t,n,r){var o,i,s,a,c,l,u;const d=v.CellExecutionCreator.getOrCreate(e,t),p=(0,y.createOutputWithErrorMessageForDisplay)(n);p?(d.started||(d.start(null===(a=null===(s=e.executionSummary)||void 0===s?void 0:s.timing)||void 0===a?void 0:a.endTime),d.executionOrder=null===(c=e.executionSummary)||void 0===c?void 0:c.executionOrder),await d.appendOutput(p),d.end(!!r&&void 0,null===(u=null===(l=e.executionSummary)||void 0===l?void 0:l.timing)||void 0===u?void 0:u.endTime)):d.started&&d.end(!!r&&void 0,null===(i=null===(o=e.executionSummary)||void 0===o?void 0:o.timing)||void 0===i?void 0:i.endTime)}},95011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelExecution=t.ThirdPartyKernelExecution=t.BaseKernelExecution=void 0;const r=n(66828),o=n(1988),i=n(14644),s=n(11642),a=n(43138),c=n(11386),l=n(47684),u=n(9959),d=n(94062),p=n(14154),h=n(35412),f=n(3130),g=n(58681);class m{constructor(e,t){this.kernel=e,this.interruptTimeout=t,this.disposables=[]}get restarting(){return this._restartPromise||Promise.resolve()}async cancel(){(0,g.noop)()}async interrupt(e){const t=e?await e.catch((()=>{})):void 0,n=this.cancelPendingExecutions();if((0,s.traceInfo)("Interrupt kernel execution"),!t)return(0,s.traceInfo)("No kernel session to interrupt"),this._interruptPromise=void 0,await n,d.InterruptResult.Success;const r=this._interruptPromise?await this._interruptPromise:await(this._interruptPromise=this.interruptExecution(t,n));return this._interruptPromise=void 0,r}async cancelPendingExecutions(){(0,g.noop)()}async restart(e){const t=e?await e.catch((()=>{})):void 0;if(!t)return(0,s.traceInfo)("No kernel session to interrupt"),void(this._restartPromise=void 0);this._restartPromise||(this._restartPromise=this.restartExecution(t),this._restartPromise.finally((()=>this._restartPromise=void 0)).catch(g.noop)),await this._restartPromise}dispose(){(0,s.traceInfoIfCI)("Dispose KernelExecution"),this.disposables.forEach((e=>e.dispose()))}async interruptExecution(e,t){const n=(0,a.createDeferred)(),r=new c.StopWatch,o=e.onSessionStatusChanged((e=>{"restarting"!==e&&"autorestarting"!==e||((0,s.traceWarning)("Kernel restarting during interrupt"),n.resolve(!0))}));return e.interrupt().catch((e=>{(0,s.traceWarning)(`Error during interrupt: ${e}`),n.resolve(!0)})),(async()=>{try{const e=await(0,a.waitForPromise)(Promise.race([t,n.promise]),this.interruptTimeout);return n.completed?d.InterruptResult.Restarted:null===e?d.InterruptResult.TimedOut:d.InterruptResult.Success}catch(e){if(n.completed)return d.InterruptResult.Restarted;throw(0,l.sendKernelTelemetryEvent)(this.kernel.resourceUri,u.Telemetry.NotebookInterrupt,{duration:r.elapsedTime},void 0,e),e}finally{o.dispose()}})().then((e=>((0,l.sendKernelTelemetryEvent)(this.kernel.resourceUri,u.Telemetry.NotebookInterrupt,{duration:r.elapsedTime},{result:e}),e)))}async restartExecution(e){await e.restart()}}t.BaseKernelExecution=m,t.ThirdPartyKernelExecution=class extends m{},t.KernelExecution=class extends m{constructor(e,t,n,i,s,a){super(e,n),this.documentExecutions=new WeakMap,this._onPreExecute=new r.EventEmitter;const c=new f.CellExecutionMessageHandlerService(t,e.controller,i,s,a);this.disposables.push(c),this.executionFactory=new o.CellExecutionFactory(this.kernel.controller,c)}get onPreExecute(){return this._onPreExecute.event}get queue(){var e;return(null===(e=this.documentExecutions.get(this.kernel.notebook))||void 0===e?void 0:e.queue)||[]}async executeCell(e,t,n){if((0,p.traceCellMessage)(t,`KernelExecution.executeCell (1), ${(0,h.getDisplayPath)(t.notebook.uri)}`),t.kind==r.NotebookCellKind.Markup)return d.NotebookCellRunState.Success;await this.restarting,(0,p.traceCellMessage)(t,`KernelExecution.executeCell (2), ${(0,h.getDisplayPath)(t.notebook.uri)}`);const o=this.getOrCreateCellExecutionQueue(t.notebook,e);o.queueCell(t,n);const i=await o.waitForCompletion([t]);return(0,p.traceCellMessage)(t,`KernelExecution.executeCell completed (3), ${(0,h.getDisplayPath)(t.notebook.uri)}`),i[0]}async cancel(){await super.cancel();const e=this.documentExecutions.get(this.kernel.notebook);e&&await e.cancel(!0)}async interrupt(e){return this.documentExecutions.get(this.kernel.notebook)||"connectToLiveRemoteKernel"===this.kernel.kernelConnectionMetadata.kind?super.interrupt(e):d.InterruptResult.Success}async cancelPendingExecutions(){const e=this.documentExecutions.get(this.kernel.notebook);if(!e&&"connectToLiveRemoteKernel"!==this.kernel.kernelConnectionMetadata.kind)return;(0,s.traceInfo)("Interrupt kernel execution");const t=e?e.cancel().then((()=>e.waitForCompletion())):Promise.resolve();await t}async restart(e){const t=this.documentExecutions.get(this.kernel.notebook),n=e?await e.catch((()=>{})):void 0;(0,s.traceInfo)("Restart kernel execution");const r=t?t.cancel(!0).then((()=>t.waitForCompletion())):Promise.resolve();return n||((0,s.traceInfo)("No kernel session to interrupt"),await r),super.restart(e)}getOrCreateCellExecutionQueue(e,t){const n=this.documentExecutions.get(e);if(n&&!n.isEmpty&&!n.failed)return n;const o=new i.CellExecutionQueue(t,this.executionFactory,this.kernel.kernelConnectionMetadata,this.kernel.resourceUri);return this.disposables.push(o),r.workspace.onDidCloseNotebookDocument((async t=>{t===e&&((0,s.traceVerbose)(`Cancel executions after closing notebook ${(0,h.getDisplayPath)(t.uri)}`),o.failed&&o.isEmpty||await o.cancel(!0))}),this,this.disposables),o.onPreExecute((e=>this._onPreExecute.fire(e)),this,this.disposables),this.documentExecutions.set(e,o),o}}},58880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearPendingChainedUpdatesForTests=t.chainWithPendingUpdates=void 0;const r=n(25472),o=n(66828),i=n(43138),s=n(58681),a=new WeakMap;t.chainWithPendingUpdates=async function(e,t){const n=e;if(e.isClosed)return!0;const c=a.has(n)?a.get(n):Promise.resolve(),l=(0,i.createDeferred)(),u=c.finally((async()=>{const e=new o.WorkspaceEdit,n=t(e);(0,r.isPromise)(n)&&await n,await o.workspace.applyEdit(e).then((e=>l.resolve(e)),(e=>l.reject(e)))})).catch(s.noop);return a.set(n,u),l.promise},t.clearPendingChainedUpdatesForTests=function(){const e=o.window.activeNotebookEditor;(null==e?void 0:e.notebook)&&a.delete(e.notebook)}},98729:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeKernelConnection=t.serializeKernelConnection=t.executeSilently=t.isLocalHostConnection=t.detectDefaultKernelName=t.areKernelConnectionsEqual=t.getKernelRegistrationInfo=t.getInterpreterWorkspaceFolder=t.getInterpreterKernelSpecName=t.getLanguageInKernelSpec=t.getLanguageInNotebookMetadata=t.getKernelConnectionLanguage=t.isPythonKernelSpec=t.isPythonKernelConnection=t.getInterpreterFromKernelConnectionMetadata=t.getKernelConnectionPath=t.getRemoteKernelSessionInformation=t.getKernelPathFromKernelConnection=t.getNameOfKernelConnection=t.getDisplayNameOrNameOfKernelConnection=t.getKernelId=t.kernelConnectionMetadataHasKernelModel=t.kernelConnectionMetadataHasKernelSpec=t.removeNotebookSuffixAddedByExtension=t.isDefaultKernelSpec=t.isPythonNotebook=t.cleanEnvironment=t.createInterpreterKernelSpec=t.isDefaultPythonKernelSpecName=t.jvscIdentifier=t.findIndexOfConnectionFile=t.connectionFilePlaceholder=void 0;const a=n(84266),c=i(n(15948)),l=i(n(52859)),u=n(50361),d=s(n(84564)),p=n(66828),h=n(15925),f=n(11642),g=n(35412),m=n(25251),y=n(46031),v=n(96434),b=n(47891),S=n(24353),w=n(47028),C=n(9959);function k(e){var n,r,o,i,s;const a=(null===(r=null===(n=e.metadata)||void 0===n?void 0:n.vscode)||void 0===r?void 0:r.originalSpecFile)||(null===(o=e.metadata)||void 0===o?void 0:o.originalSpecFile),l=a?c.basename(c.dirname(a)):e.name||"",u=(null===(s=null===(i=e.metadata)||void 0===i?void 0:i.vscode)||void 0===s?void 0:s.originalDisplayName)||e.display_name||"";return!(!l.toLowerCase().match(t.isDefaultPythonKernelSpecName)&&"python 3 (ipykernel)"!==u.toLowerCase()&&"python 3"!==u.toLowerCase())}function _(e){if(e.includes(t.jvscIdentifier)){const n=/[a-f0-9]$/;if(-1!==e.substring(e.lastIndexOf(t.jvscIdentifier)+t.jvscIdentifier.length).search(n)){const n=e.substring(0,e.lastIndexOf(t.jvscIdentifier));return n.toLowerCase().endsWith(".ipynb")?n:`${n}.ipynb`}}return e}function I(e){return"connectToLiveRemoteKernel"!==e.kind}function E(e){return"connectToLiveRemoteKernel"===e.kind}function P(e){let t=e.envName;return e.envPath&&e.envType===b.EnvironmentType.Conda&&!e.envName&&(t=l.basename(e.envPath)),t}function D(e){var t,n,r,o;if(!e)return;const i=E(e)?e.kernelModel:void 0,s=I(e)?e.kernelSpec:void 0;if("startUsingPythonInterpreter"===e.kind||("startUsingRemoteKernelSpec"===e.kind||"startUsingLocalKernelSpec"===e.kind)&&e.kernelSpec.language===h.PYTHON_LANGUAGE){const e=(null===(n=null===(t=null==s?void 0:s.metadata)||void 0===t?void 0:t.interpreter)||void 0===n?void 0:n.path)||(null==s?void 0:s.interpreterPath)||(null==s?void 0:s.executable);return e?p.Uri.file(e):void 0}{const e=(null==i?void 0:i.executable)||(null==s?void 0:s.executable)||(null===(o=null===(r=null==s?void 0:s.metadata)||void 0===r?void 0:r.interpreter)||void 0===o?void 0:o.path)||(null==s?void 0:s.interpreterPath);return e?p.Uri.file(e):void 0}}function T(e){return((null==e?void 0:e.language)||"").toLowerCase()===h.PYTHON_LANGUAGE}function x(e){return null==e?void 0:e.language}t.connectionFilePlaceholder="{connection_file}",t.findIndexOfConnectionFile=function(e){return e.argv.findIndex((e=>e.includes(t.connectionFilePlaceholder)))},t.jvscIdentifier="-jvsc-",t.isDefaultPythonKernelSpecName=/^python\d*.?\d*$/,t.createInterpreterKernelSpec=async function(e,n){const r=e?{path:(0,g.getFilePath)(e.uri)}:{},o={name:await M(e),language:"python",display_name:(null==e?void 0:e.displayName)||"Python 3",metadata:{interpreter:r},argv:["python","-m","ipykernel_launcher","-f",t.connectionFilePlaceholder],env:{},resources:{}},i=n&&o.name?l.joinPath(n,o.name,"kernel.json"):void 0;return new w.JupyterKernelSpec(o,i?(0,g.getFilePath)(i):void 0,(0,g.getFilePath)(null==e?void 0:e.uri),"registeredByNewVersionOfExt")},t.cleanEnvironment=function(e){const t=u(e);return t.env&&Object.keys(t.env).forEach((e=>{if(t.env){const n=t.env[e];null!=n&&(t.env[e]=n.toString())}})),t},t.isPythonNotebook=function(e){var t,n,r;const o=null==e?void 0:e.kernelspec;return!((null===(t=null==e?void 0:e.language_info)||void 0===t?void 0:t.name)&&e.language_info.name!==h.PYTHON_LANGUAGE||!(null===(n=null==o?void 0:o.name)||void 0===n?void 0:n.includes(h.PYTHON_LANGUAGE))&&(null==o?void 0:o.language)!==h.PYTHON_LANGUAGE&&(null===(r=null==e?void 0:e.language_info)||void 0===r?void 0:r.name)!==h.PYTHON_LANGUAGE)},t.isDefaultKernelSpec=k,t.removeNotebookSuffixAddedByExtension=_,t.kernelConnectionMetadataHasKernelSpec=I,t.kernelConnectionMetadataHasKernelModel=E,t.getKernelId=function(e,t,n){var r,o,i;t=T(e)?t:void 0;let s=e.name;const a=N(e);if(a&&s.includes(j)&&(s=s.substring(s.indexOf(j)),"registeredByNewVersionOfExtForCustomKernelSpec"===a)){const t=(null===(o=null===(r=e.metadata)||void 0===r?void 0:r.vscode)||void 0===o?void 0:o.originalSpecFile)||(null===(i=e.metadata)||void 0===i?void 0:i.originalSpecFile);t&&(s=`${s}#${c.basename(c.dirname(t))}`)}let l="";l=T(e)?e.argv.slice(1).filter((e=>!["-f","{connection_file}"].includes(e))).join("#").toLowerCase():e.argv.join("#").toLowerCase();const u=n?`${n}.`:"",d=(0,g.getFilePath)((0,y.getNormalizedInterpreterPath)(e.interpreterPath?p.Uri.file(e.interpreterPath):p.Uri.file(e.executable))),h=(0,g.getFilePath)((0,y.getNormalizedInterpreterPath)(null==t?void 0:t.uri))||"";return`${u}${e.id||""}.${s}.${d}.${h}.${l}`},t.getDisplayNameOrNameOfKernelConnection=function(e){var t,n,r,o,i,s,a;const c=function(e){var t,n;if(!e)return"";const r="connectToLiveRemoteKernel"===e.kind?e.kernelModel.display_name:null===(t=e.kernelSpec)||void 0===t?void 0:t.display_name,o="connectToLiveRemoteKernel"===e.kind?e.kernelModel.name:null===(n=e.kernelSpec)||void 0===n?void 0:n.name,i="startUsingPythonInterpreter"===e.kind?e.interpreter.displayName:void 0;return r||o||i||""}(e);if(!e)return c;switch(e.kind){case"connectToLiveRemoteKernel":{const i=_((null===(n=null===(t=e.kernelModel)||void 0===t?void 0:t.notebook)||void 0===n?void 0:n.path)||(null===(o=null===(r=e.kernelModel)||void 0===r?void 0:r.model)||void 0===o?void 0:o.path)||"");return i?`${c} (${i})`:c}case"startUsingRemoteKernelSpec":case"startUsingLocalKernelSpec":if((null===(i=e.interpreter)||void 0===i?void 0:i.envType)&&e.interpreter.envType!==b.EnvironmentType.Unknown){const t=P(e.interpreter);if(e.kernelSpec.language===h.PYTHON_LANGUAGE){const t=`Python ${(0,v.getTelemetrySafeVersion)((null===(s=e.interpreter.version)||void 0===s?void 0:s.raw)||"")||""}`.trim();return e.interpreter.envName?`${c} (${t})`:c}return t?`${c} (${t})`:c}return c;case"startUsingPythonInterpreter":if(e.interpreter.envType&&e.interpreter.envType!==b.EnvironmentType.Unknown){const t=`Python ${(0,v.getTelemetrySafeVersion)((null===(a=e.interpreter.version)||void 0===a?void 0:a.raw)||"")||""}`.trim();if(e.kernelSpec.display_name&&"registeredByNewVersionOfExtForCustomKernelSpec"===N(e.kernelSpec))return e.kernelSpec.display_name;const n=t.trim(),r=P(e.interpreter);return r?`${r} (${n})`:n}}return c},t.getNameOfKernelConnection=function(e,t=""){var n;return e?"connectToLiveRemoteKernel"===e.kind?e.kernelModel.name:null===(n=e.kernelSpec)||void 0===n?void 0:n.name:t},t.getKernelPathFromKernelConnection=D,t.getRemoteKernelSessionInformation=function(e,t=""){return"connectToLiveRemoteKernel"===(null==e?void 0:e.kind)?m.DataScience.jupyterSelectURIRunningDetailFormat().format(e.kernelModel.lastActivityTime.toLocaleString(),e.kernelModel.numberOfConnections.toString()):t},t.getKernelConnectionPath=function(e,t){if("connectToLiveRemoteKernel"===(null==e?void 0:e.kind))return;const n=D(e),r=t.workspaceFolders?t.workspaceFolders:[];return n?(0,g.getDisplayPath)(n,r):""},t.getInterpreterFromKernelConnectionMetadata=function(e){var t,n,r;if(!e)return;if(e.interpreter)return e.interpreter;const o=E(e)?e.kernelModel:void 0;if(null===(t=null==o?void 0:o.metadata)||void 0===t?void 0:t.interpreter)return(0,S.deserializePythonEnvironment)(null===(n=null==o?void 0:o.metadata)||void 0===n?void 0:n.interpreter,"");const i=I(e)?e.kernelSpec:void 0;return(0,S.deserializePythonEnvironment)(null===(r=null==i?void 0:i.metadata)||void 0===r?void 0:r.interpreter,"")},t.isPythonKernelConnection=function(e){if(!e)return!1;if("startUsingPythonInterpreter"===e.kind)return!0;const t=E(e)?e.kernelModel:void 0,n=I(e)?e.kernelSpec:void 0;return(null==t?void 0:t.language)===h.PYTHON_LANGUAGE||T(n)},t.isPythonKernelSpec=T,t.getKernelConnectionLanguage=function(e){if(!e)return;if("startUsingPythonInterpreter"===e.kind)return h.PYTHON_LANGUAGE;const t=E(e)?e.kernelModel:void 0,n=I(e)?e.kernelSpec:void 0;return(null==t?void 0:t.language)||x(n)},t.getLanguageInNotebookMetadata=function(e){var t;if(e)return x(e.kernelspec)||(null===(t=e.language_info)||void 0===t?void 0:t.name)},t.getLanguageInKernelSpec=x;const j="jvsc74a57bd0";async function M(e){const t=((null==e?void 0:e.sysVersion)?(0,v.getTelemetrySafeVersion)(e.sysVersion)||"3":"").replace(/\./g,"");return e?`${e?`python${t}`:""}${j}${await(0,y.getInterpreterHash)(e)}`:"python3"}function N(e){var t,n,r,o;if(e.isRegisteredByVSC)return e.isRegisteredByVSC;if(!e.name)return;const i=(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.vscode)||void 0===n?void 0:n.originalSpecFile)||(null===(r=e.metadata)||void 0===r?void 0:r.originalSpecFile),s=i?c.basename(c.dirname(i)):e.name,a=k({...e,name:s})?Object.keys(e.env||{}).length>0:"string"==typeof i&&!i.includes(j);return e.name.includes(j)?a?"registeredByNewVersionOfExtForCustomKernelSpec":"registeredByNewVersionOfExt":(null===(o=e.metadata)||void 0===o?void 0:o.interpreter)&&-1!==e.name.toLowerCase().search(/[a-f0-9]{32}$/)?"registeredByOldVersionOfExt":void 0}t.getInterpreterKernelSpecName=M,t.getInterpreterWorkspaceFolder=function(e,t){const n=t.getWorkspaceFolder(e.uri);return(null==n?void 0:n.uri)||t.rootFolder},t.getKernelRegistrationInfo=N,t.areKernelConnectionsEqual=function(e,t){return!((e||t)&&(!e&&t||e&&!t||(null==e?void 0:e.id)!==(null==t?void 0:t.id)))},t.detectDefaultKernelName=function(e){return a("python\\s*(?<version>(\\d+))","g").exec(e.toLowerCase())},t.isLocalHostConnection=function(e){if("connectToLiveRemoteKernel"===e.kind||"startUsingRemoteKernelSpec"===e.kind){const t=new d.default(e.baseUrl);return"localhost"===t.hostname.toLocaleLowerCase()||"127.0.0.1"===t.hostname}return!1},t.executeSilently=async function(e,t,r){(0,f.traceVerbose)(`Executing silently Code (${e.status}) = ${t.substring(0,100).splitLines().join("\\n")}`);const o=n(76240),i=e.requestExecute({code:t.replace(/\r\n/g,"\n"),silent:!1,stop_on_error:!1,allow_stdin:!0,store_history:!1},!0),s=[];i.onIOPub=e=>{if(o.KernelMessage.isStreamMsg(e))if((0,f.traceInfoIfCI)(`Got io pub message (stream), ${e.content.text.substr(0,100).splitLines().join("\\n")}`),s.length>0&&"stream"===s[s.length-1].output_type&&s[s.length-1].name===e.content.name)s[s.length-1].text+=e.content.text;else{const t={name:e.content.name,text:e.content.text,output_type:"stream"};s.push(t)}else if(o.KernelMessage.isExecuteResultMsg(e)){(0,f.traceInfoIfCI)("Got io pub message (execresult)}");const t={data:e.content.data,execution_count:e.content.execution_count,metadata:e.content.metadata,output_type:"execute_result"};s.push(t)}else if(o.KernelMessage.isDisplayDataMsg(e)){(0,f.traceInfoIfCI)("Got io pub message (displaydata)}");const t={data:e.content.data,metadata:e.content.metadata,output_type:"display_data"};s.push(t)}else if(o.KernelMessage.isErrorMsg(e)){(0,f.traceInfoIfCI)(`Got io pub message (error), ${e.content.ename},${e.content.evalue}, ${e.content.traceback.join().substring(0,100)}}`);const t={ename:e.content.ename,evalue:e.content.evalue,traceback:e.content.traceback,output_type:"error"};s.push(t)}else(0,f.traceInfoIfCI)(`Got io pub message (${e.header.msg_type})`)},await i.done;const a=t.substring(0,100).splitLines().join("\\n");return r&&function(e,t,n){e.filter((e=>"error"===e.output_type)).forEach((e=>{const r=e,o=`${r.ename}: ${r.evalue} \n ${r.traceback.map((e=>`    ${e}`)).join("\n")}`,i=`${t.traceErrorsMessage||""} ${n} ${o}`;t.traceErrors?(0,f.traceError)(i):(0,f.traceWarning)(i),t.telemetryName&&(0,C.sendTelemetryEvent)(t.telemetryName,void 0,{ename:r.ename,evalue:r.evalue})}))}(s,r,a),(0,f.traceVerbose)(`Executing silently Code (completed) = ${a} with ${s.length} output(s)`),s},t.serializeKernelConnection=function(e){return e.interpreter?{...e,interpreter:(0,S.serializePythonEnvironment)(e.interpreter)}:e},t.deserializeKernelConnection=function(e){return e.interpreter?{...e,interpreter:(0,S.deserializePythonEnvironment)(e.interpreter,"")}:e}},65537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isModulePresentInEnvironmentCache=t.clearInstalledIntoInterpreterMemento=t.trackPackageInstalledIntoInterpreter=void 0;const r=n(59985),o=n(58681),i=n(46031);t.trackPackageInstalledIntoInterpreter=async function(e,t,n){if((0,o.isResource)(n))return;const s=`${await(0,i.getInterpreterHash)(n)}#${r.ProductNames.get(t)}`;await e.update(s,!0)},t.clearInstalledIntoInterpreterMemento=async function(e,t,n){const o=`${await(0,i.getInterpreterHash)({uri:n})}#${r.ProductNames.get(t)}`;await e.update(o,void 0)},t.isModulePresentInEnvironmentCache=async function(e,t,n){const o=`${await(0,i.getInterpreterHash)(n)}#${r.ProductNames.get(t)}`;return e.get(o,!1)}},59985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductNames=void 0;const r=n(83902);t.ProductNames=new Map,t.ProductNames.set(r.Product.jupyter,"jupyter"),t.ProductNames.set(r.Product.notebook,"notebook"),t.ProductNames.set(r.Product.ipykernel,"ipykernel"),t.ProductNames.set(r.Product.nbconvert,"nbconvert"),t.ProductNames.set(r.Product.kernelspec,"kernelspec"),t.ProductNames.set(r.Product.pandas,"pandas"),t.ProductNames.set(r.Product.pip,"pip"),t.ProductNames.set(r.Product.ensurepip,"ensurepip")},83902:(e,t)=>{"use strict";var n,r,o,i,s,a,c;Object.defineProperty(t,"__esModule",{value:!0}),t.IInstaller=t.ModuleInstallFlags=t.IProductPathService=t.IProductService=t.IInstallationChannelManager=t.IPythonInstallation=t.IModuleInstaller=t.ProductType=t.ModuleInstallerType=t.ModuleNamePurpose=t.ProductInstallStatus=t.Product=t.InstallerResponse=void 0,(c=t.InstallerResponse||(t.InstallerResponse={}))[c.Installed=0]="Installed",c[c.Disabled=1]="Disabled",c[c.Ignore=2]="Ignore",c[c.Cancelled=3]="Cancelled",(a=t.Product||(t.Product={}))[a.jupyter=18]="jupyter",a[a.ipykernel=19]="ipykernel",a[a.notebook=20]="notebook",a[a.kernelspec=21]="kernelspec",a[a.nbconvert=22]="nbconvert",a[a.pandas=23]="pandas",a[a.pip=27]="pip",a[a.ensurepip=28]="ensurepip",(s=t.ProductInstallStatus||(t.ProductInstallStatus={}))[s.Installed=0]="Installed",s[s.NotInstalled=1]="NotInstalled",s[s.NeedsUpgrade=2]="NeedsUpgrade",(i=t.ModuleNamePurpose||(t.ModuleNamePurpose={}))[i.install=1]="install",i[i.run=2]="run",(o=t.ModuleInstallerType||(t.ModuleInstallerType={})).Unknown="Unknown",o.Conda="Conda",o.Pip="Pip",o.Poetry="Poetry",o.Pipenv="Pipenv",(r=t.ProductType||(t.ProductType={})).Linter="Linter",r.Formatter="Formatter",r.TestFramework="TestFramework",r.RefactoringLibrary="RefactoringLibrary",r.DataScience="DataScience",t.IModuleInstaller=Symbol("IModuleInstaller"),t.IPythonInstallation=Symbol("IPythonInstallation"),t.IInstallationChannelManager=Symbol("IInstallationChannelManager"),t.IProductService=Symbol("IProductService"),t.IProductPathService=Symbol("IProductPathService"),(n=t.ModuleInstallFlags||(t.ModuleInstallFlags={}))[n.upgrade=1]="upgrade",n[n.updateDependencies=2]="updateDependencies",n[n.reInstall=4]="reInstall",n[n.installPipIfRequired=8]="installPipIfRequired",t.IInstaller=Symbol("IInstaller")},23856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translateProductToModule=void 0;const r=n(83902);t.translateProductToModule=function(e){switch(e){case r.Product.jupyter:return"jupyter";case r.Product.notebook:return"notebook";case r.Product.pandas:return"pandas";case r.Product.ipykernel:return"ipykernel";case r.Product.nbconvert:return"nbconvert";case r.Product.kernelspec:return"kernelspec";case r.Product.pip:return"pip";case r.Product.ensurepip:return"ensurepip";default:throw new Error(`Product ${e} cannot be installed as a Python Module.`)}}},38994:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ContributedKernelFinderKind=void 0,(n=t.ContributedKernelFinderKind||(t.ContributedKernelFinderKind={})).Remote="remote",n.Local="local"},23429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseKernelConnectionWrapper=void 0;const r=n(4016),o=n(66828);t.BaseKernelConnectionWrapper=class{constructor(e,t){this._previousKernelConnection=e,this.statusChanged=new r.Signal(this),this.connectionStatusChanged=new r.Signal(this),this.iopubMessage=new r.Signal(this),this.unhandledMessage=new r.Signal(this),this.anyMessage=new r.Signal(this),this.disposed=new r.Signal(this),this.startHandleKernelMessages(e),t.push(new o.Disposable((()=>{this.possibleKernelConnection&&this.stopHandlingKernelMessages(this.possibleKernelConnection)})))}get serverSettings(){return(this.possibleKernelConnection||this._previousKernelConnection).serverSettings}getKernelConnection(){if(!this.possibleKernelConnection)throw new Error(`Kernel connection is not available, status = ${this.status}, connection = ${this.connectionStatus}`);return this.possibleKernelConnection}get id(){return(this.possibleKernelConnection||this._previousKernelConnection).id}get name(){return(this.possibleKernelConnection||this._previousKernelConnection).name}get isDisposed(){var e;return!this.possibleKernelConnection||!0===(null===(e=this.possibleKernelConnection)||void 0===e?void 0:e.isDisposed)}get model(){return(this.possibleKernelConnection||this._previousKernelConnection).model}get username(){return(this.possibleKernelConnection||this._previousKernelConnection).username}get clientId(){return(this.possibleKernelConnection||this._previousKernelConnection).clientId}get status(){var e;return(null===(e=this.possibleKernelConnection)||void 0===e?void 0:e.status)||"dead"}get connectionStatus(){var e;return(null===(e=this.possibleKernelConnection)||void 0===e?void 0:e.connectionStatus)||"disconnected"}get info(){return(this.possibleKernelConnection||this._previousKernelConnection).info}get spec(){return(this.possibleKernelConnection||this._previousKernelConnection).spec}get handleComms(){return(this.possibleKernelConnection||this._previousKernelConnection).handleComms}sendShellMessage(e,t,n){return this.getKernelConnection().sendShellMessage(e,t,n)}sendControlMessage(e,t,n){return this.getKernelConnection().sendControlMessage(e,t,n)}reconnect(){return this.getKernelConnection().reconnect()}requestKernelInfo(){return this.getKernelConnection().requestKernelInfo()}requestComplete(e){return this.getKernelConnection().requestComplete(e)}requestInspect(e){return this.getKernelConnection().requestInspect(e)}requestHistory(e){return this.getKernelConnection().requestHistory(e)}requestExecute(e,t,n){return this.getKernelConnection().requestExecute(e,t,n)}requestDebug(e,t){return this.getKernelConnection().requestDebug(e,t)}requestIsComplete(e){return this.getKernelConnection().requestIsComplete(e)}requestCommInfo(e){return this.getKernelConnection().requestCommInfo(e)}sendInputReply(e){return this.getKernelConnection().sendInputReply(e)}createComm(e,t){return this.getKernelConnection().createComm(e,t)}hasComm(e){return this.getKernelConnection().hasComm(e)}registerCommTarget(e,t){return this.getKernelConnection().registerCommTarget(e,t)}removeCommTarget(e,t){return this.getKernelConnection().removeCommTarget(e,t)}registerMessageHook(e,t){return this.getKernelConnection().registerMessageHook(e,t)}removeMessageHook(e,t){return this.getKernelConnection().removeMessageHook(e,t)}clone(e){throw new Error("Method not implemented.")}startHandleKernelMessages(e){e.anyMessage.connect(this.onAnyMessage,this),e.iopubMessage.connect(this.onIOPubMessage,this),e.unhandledMessage.connect(this.onUnhandledMessage,this)}stopHandlingKernelMessages(e){e.anyMessage.disconnect(this.onAnyMessage,this),e.iopubMessage.disconnect(this.onIOPubMessage,this),e.unhandledMessage.disconnect(this.onUnhandledMessage,this)}onAnyMessage(e,t){e===this.possibleKernelConnection&&this.anyMessage.emit(t)}onIOPubMessage(e,t){e===this.possibleKernelConnection&&this.iopubMessage.emit(t)}onUnhandledMessage(e,t){e===this.possibleKernelConnection&&this.unhandledMessage.emit(t)}}},56667:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterCommandLineSelectorCommand=void 0;const i=n(86700),s=n(10053),a=n(15925),c=n(71225);let l=class{constructor(e,t){this.commandManager=e,this.commandSelector=t,this.disposables=[]}register(){this.disposables.push(this.commandManager.registerCommand(a.Commands.SelectJupyterCommandLine,this.commandSelector.selectJupyterCommandLine,this.commandSelector))}dispose(){this.disposables.forEach((e=>e.dispose()))}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(s.ICommandManager)),o(1,(0,i.inject)(c.JupyterCommandLineSelector))],l),t.JupyterCommandLineSelectorCommand=l},18026:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRegistry=void 0;const i=n(86700),s=n(10053),a=n(56667);let c=class{constructor(e,t){this.commandLineCommand=e,this.workspace=t,this.disposables=[]}async activate(){this.registerCommandsIfTrusted()}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommandsIfTrusted(){this.workspace.isTrusted&&this.commandLineCommand.register()}};c=r([(0,i.injectable)(),o(0,(0,i.inject)(a.JupyterCommandLineSelectorCommand)),o(1,(0,i.inject)(s.IWorkspaceService))],c),t.CommandRegistry=c},89566:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteKernelFinder=void 0;const c=n(86700),l=n(66828),u=n(98729),d=n(94062),p=n(42080),h=n(84570),f=n(9959),g=n(94433),m=n(85493),y=n(11642),v=n(77886),b=n(46875),S=n(15925),w=n(6491),C=n(88960),k=n(98708),_=n(98729),I=s(n(25251)),E=n(58681),P=n(10053),D=n(73785),T=n(38994);let x=class{constructor(e,t,n,r,o,i,s,a,c,u,d,p,h,f){this.jupyterSessionManagerFactory=e,this.interpreterService=t,this.extensionChecker=n,this.notebookProvider=r,this.serverUriStorage=o,this.serverConnectionType=i,this.globalState=s,this.env=a,this.cachedRemoteKernelValidator=c,this.disposables=d,this.kernelProvider=p,this.extensions=h,this.isWebExtension=f,this.kernelIdsToHide=new Set,this.kind=T.ContributedKernelFinderKind.Remote,this.id="currentremote",this.displayName=I.DataScience.remoteKernelFinderDisplayName(),this.cache=[],this._onDidChangeKernels=new l.EventEmitter,this.onDidChangeKernels=this._onDidChangeKernels.event,this.wasPythonInstalledWhenFetchingKernels=!1,u.registerKernelFinder(this)}async activate(){this.loadCache().then(E.noop,E.noop),this.disposables.push(this.serverUriStorage.onDidChangeUri((()=>{this.updateCache().then(E.noop,E.noop)}))),this.kernelProvider.onDidStartKernel((e=>{(0,d.isRemoteConnection)(e.kernelConnectionMetadata)&&this.updateCache().then(E.noop,E.noop)}),this,this.disposables),this.kernelProvider.onDidDisposeKernel((e=>{if(e&&(0,d.isRemoteConnection)(e.kernelConnectionMetadata))return setTimeout((()=>{this.updateCache().then(E.noop,E.noop)}),2e3)}),this,this.disposables),this.extensions.onDidChange((()=>{!this.wasPythonInstalledWhenFetchingKernels&&this.extensionChecker.isPythonExtensionInstalled&&this.updateCache().then(E.noop,E.noop)}),this,this.disposables),this.wasPythonInstalledWhenFetchingKernels=this.extensionChecker.isPythonExtensionInstalled}async loadCache(){if((0,y.traceVerbose)("RemoteKernelFinder: load cache",this.serverConnectionType.isLocalLaunch),this.serverConnectionType.isLocalLaunch)return void await this.writeToCache([]);const e=await this.getFromCache();let t=[];if(Array.isArray(e)&&e.length>0)t=e;else try{const e=(async()=>{const e=await this.getRemoteConnectionInfo();return e?this.listKernelsFromConnection(e):Promise.resolve([])})();t=await e}catch(e){(0,y.traceError)("RemoteKernelFinder: Failed to get kernels without cache",e)}await this.writeToCache(t),(0,y.traceVerbose)("RemoteKernelFinder: load cache finished")}async updateCache(){var e;let t=[];null===(e=this._cacheUpdateCancelTokenSource)||void 0===e||e.dispose();const n=new l.CancellationTokenSource;this._cacheUpdateCancelTokenSource=n;try{const e=(async()=>{const e=await this.getRemoteConnectionInfo(n.token);return e?this.listKernelsFromConnection(e):Promise.resolve([])})();t=await e}catch(e){(0,y.traceWarning)(`Could not fetch kernels from the ${this.kind} server, falling back to cache: ${e}`),t=await this.getFromCache(n.token),t=t.filter((e=>"connectToLiveRemoteKernel"===e.kind))}n.token.isCancellationRequested||(await this.writeToCache(t),this._onDidChangeKernels.fire())}get kernels(){return this.cache}async getRemoteConnectionInfo(e){const t=new C.DisplayOptions(!1),n=await this.serverUriStorage.getRemoteUri();if(n&&n.isValidated)return this.notebookProvider.connect({resource:void 0,ui:t,localJupyter:!1,token:e,serverId:this.serverUriStorage.currentServerId})}async getFromCache(e){try{(0,y.traceVerbose)("RemoteKernelFinder: get from cache");let t=this.cache;const n=this.getCacheKey();if(!t||0===t.length){const e=this.globalState.get(n,{kernels:[],extensionVersion:""});e&&(0,k.isArray)(e.kernels)&&e.extensionVersion===this.env.extensionVersion&&(t=e.kernels.map(_.deserializeKernelConnection),this.cache=t)}const r=[],o=Promise.all(t.map((async e=>{await this.isValidCachedKernel(e)&&r.push(e)})));return e?await Promise.race([o,(0,w.createPromiseFromCancellation)({token:e,cancelAction:"resolve",defaultValue:void 0})]):await o,r}catch(e){(0,y.traceError)("RemoteKernelFinder: Failed to get from cache",e)}return[]}async listKernelsFromConnection(e){let t;if("jupyter"===e.type)try{t=await this.jupyterSessionManagerFactory.create(e);const[n,r,o,i]=await Promise.all([t.getRunningKernels(),t.getKernelSpecs(),t.getRunningSessions(),(0,b.computeServerId)(e.url)]),s=await Promise.all(r.map((async t=>((0,m.sendKernelSpecTelemetry)(t,"remote"),{kind:"startUsingRemoteKernelSpec",interpreter:await this.getInterpreter(t,e.baseUrl),kernelSpec:t,id:(0,u.getKernelId)(t,void 0,i),baseUrl:e.baseUrl,serverId:i}))));return[...o.map((t=>{var o,s;const a=t.kernel,c=a.last_activity?new Date(Date.parse(a.last_activity.toString())):new Date,l=a.connections?parseInt(a.connections.toString(),10):0,u=n.find((e=>{var n;return e.id===(null===(n=t.kernel)||void 0===n?void 0:n.id)}))||{},d=r.find((e=>{var n;return e.name===(null===(n=t.kernel)||void 0===n?void 0:n.name)}))||{};return{kind:"connectToLiveRemoteKernel",kernelModel:{...t.kernel,...d,...u,name:(null===(o=t.kernel)||void 0===o?void 0:o.name)||"",lastActivityTime:c,numberOfConnections:l,model:t},baseUrl:e.baseUrl,id:(null===(s=t.kernel)||void 0===s?void 0:s.id)||"",serverId:i}})).filter((e=>!this.kernelIdsToHide.has(e.kernelModel.id||""))),...s]}catch(e){throw(0,y.traceError)("Error fetching remote kernels:",e),e}finally{t&&await t.dispose()}return[]}async getInterpreter(e,t){const n=new URL(t);if(("localhost"===n.hostname.toLocaleLowerCase()||"127.0.0.1"===n.hostname)&&this.extensionChecker.isPythonExtensionInstalled&&!this.isWebExtension&&(0,u.getLanguageInKernelSpec)(e)===S.PYTHON_LANGUAGE)try{return(0,y.traceInfoIfCI)(`Getting interpreter details for localhost remote kernel: ${e.name}`),await this.interpreterService.getInterpreterDetails(l.Uri.file(e.argv[0]))}catch(e){(0,y.traceError)("Failure getting interpreter details for remote kernel: ",e)}}getCacheKey(){return D.RemoteKernelSpecsCacheKey}async writeToCache(e){try{(0,y.traceVerbose)(`RemoteKernelFinder: Writing ${e.length} remote kernel connection metadata to cache`);const t=this.getCacheKey();this.cache=e;const n=e.map(u.serializeKernelConnection);await Promise.all([(0,D.removeOldCachedItems)(this.globalState),this.globalState.update(t,{kernels:n,extensionVersion:this.env.extensionVersion})])}catch(e){(0,y.traceError)("RemoteKernelFinder: Failed to write to cache",e)}}async isValidCachedKernel(e){switch(e.kind){case"startUsingRemoteKernelSpec":return!1;case"connectToLiveRemoteKernel":return this.cachedRemoteKernelValidator.isValid(e)}}};i([(0,f.capturePerfTelemetry)(f.Telemetry.KernelListingPerf,{kind:"remote"})],x.prototype,"listKernelsFromConnection",null),x=i([(0,c.injectable)(),a(0,(0,c.inject)(g.IJupyterSessionManagerFactory)),a(1,(0,c.inject)(h.IInterpreterService)),a(2,(0,c.inject)(v.IPythonExtensionChecker)),a(3,(0,c.inject)(d.INotebookProvider)),a(4,(0,c.inject)(g.IJupyterServerUriStorage)),a(5,(0,c.inject)(g.IServerConnectionType)),a(6,(0,c.inject)(p.IMemento)),a(6,(0,c.named)(p.GLOBAL_MEMENTO)),a(7,(0,c.inject)(P.IApplicationEnvironment)),a(8,(0,c.inject)(g.IJupyterRemoteCachedKernelValidator)),a(9,(0,c.inject)(d.IKernelFinder)),a(10,(0,c.inject)(p.IDisposableRegistry)),a(11,(0,c.inject)(d.IKernelProvider)),a(12,(0,c.inject)(p.IExtensions)),a(13,(0,c.inject)(p.IsWebExtension))],x),t.RemoteKernelFinder=x},80798:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UniversalRemoteKernelFinder=void 0;const a=n(66828),c=n(98729),l=n(94062),u=n(9959),d=n(85493),p=n(11642),h=n(46875),f=n(15925),g=n(6491),m=n(88960),y=s(n(25251)),v=n(98708),b=n(98729),S=n(58681),w=n(73785),C=n(38994),k=n(20397);class _{constructor(e,t,n,r,o,i,s,c,l,u,d,p){this.jupyterSessionManagerFactory=e,this.interpreterService=t,this.extensionChecker=n,this.notebookProvider=r,this.globalState=o,this.env=i,this.cachedRemoteKernelValidator=s,this.kernelProvider=l,this.extensions=u,this.isWebExtension=d,this.serverUri=p,this.kernelIdsToHide=new Set,this.kind=C.ContributedKernelFinderKind.Remote,this.cache=[],this._onDidChangeKernels=new a.EventEmitter,this.onDidChangeKernels=this._onDidChangeKernels.event,this.disposables=[],this.wasPythonInstalledWhenFetchingKernels=!1,this.id=`${this.kind}-${p.serverId}`,this.displayName=y.DataScience.universalRemoteKernelFinderDisplayName().format(p.displayName||p.uri),this.disposables.push(c.registerKernelFinder(this)),this.disposables.push(this._onDidChangeKernels)}dispose(){this.kernelDisposeDelayTimer&&clearTimeout(this.kernelDisposeDelayTimer),(0,k.disposeAllDisposables)(this.disposables)}async activate(){this.loadCache().then(S.noop,S.noop),this.kernelProvider.onDidStartKernel((e=>{(0,l.isRemoteConnection)(e.kernelConnectionMetadata)&&this.updateCache().then(S.noop,S.noop)}),this,this.disposables),this.kernelProvider.onDidDisposeKernel((e=>{if(e&&(0,l.isRemoteConnection)(e.kernelConnectionMetadata)){this.kernelDisposeDelayTimer&&(clearTimeout(this.kernelDisposeDelayTimer),this.kernelDisposeDelayTimer=void 0);const e=setTimeout((()=>{this.updateCache().then(S.noop,S.noop)}),2e3);return this.kernelDisposeDelayTimer=e,e}}),this,this.disposables),this.extensions.onDidChange((()=>{!this.wasPythonInstalledWhenFetchingKernels&&this.extensionChecker.isPythonExtensionInstalled&&this.updateCache().then(S.noop,S.noop)}),this,this.disposables),this.wasPythonInstalledWhenFetchingKernels=this.extensionChecker.isPythonExtensionInstalled}async loadCache(){(0,p.traceInfoIfCI)(`Remote Kernel Finder load cache Server: ${this.id}`);const e=await this.getFromCache();let t=[];if(Array.isArray(e)&&e.length>0)t=e;else{const e=(async()=>{const e=await this.getRemoteConnectionInfo();return e?this.listKernelsFromConnection(e):Promise.resolve([])})();t=await e}await this.writeToCache(t)}async updateCache(){var e;let t=[];null===(e=this._cacheUpdateCancelTokenSource)||void 0===e||e.dispose();const n=new a.CancellationTokenSource;this._cacheUpdateCancelTokenSource=n;try{const e=(async()=>{const e=await this.getRemoteConnectionInfo(n.token);return e?this.listKernelsFromConnection(e):Promise.resolve([])})();t=await e}catch(e){(0,p.traceWarning)(`Could not fetch kernels from the ${this.kind} server, falling back to cache: ${e}`),t=await this.getFromCache(n.token),t=t.filter((e=>"connectToLiveRemoteKernel"===e.kind))}n.token.isCancellationRequested||(await this.writeToCache(t),this._onDidChangeKernels.fire())}get kernels(){return this.cache}async getRemoteConnectionInfo(e){const t=new m.DisplayOptions(!1);return this.notebookProvider.connect({resource:void 0,ui:t,localJupyter:!1,token:e,serverId:this.serverUri.serverId})}async getFromCache(e){let t=this.cache;const n=this.getCacheKey();if(!t||0===t.length){const e=this.globalState.get(n,{kernels:[],extensionVersion:""});e&&(0,v.isArray)(e.kernels)&&e.extensionVersion===this.env.extensionVersion&&(t=e.kernels.map(b.deserializeKernelConnection),this.cache=t)}const r=[],o=Promise.all(t.map((async e=>{await this.isValidCachedKernel(e)&&r.push(e)})));return e?await Promise.race([o,(0,g.createPromiseFromCancellation)({token:e,cancelAction:"resolve",defaultValue:void 0})]):await o,r}async listKernelsFromConnection(e){let t;if("jupyter"===e.type)try{t=await this.jupyterSessionManagerFactory.create(e);const[n,r,o,i]=await Promise.all([t.getRunningKernels(),t.getKernelSpecs(),t.getRunningSessions(),(0,h.computeServerId)(e.url)]),s=await Promise.all(r.map((async t=>(await(0,d.sendKernelSpecTelemetry)(t,"remote"),{kind:"startUsingRemoteKernelSpec",interpreter:await this.getInterpreter(t,e.baseUrl),kernelSpec:t,id:(0,c.getKernelId)(t,void 0,i),baseUrl:e.baseUrl,serverId:i}))));return[...o.map((t=>{var o,s;const a=t.kernel,c=a.last_activity?new Date(Date.parse(a.last_activity.toString())):new Date,l=a.connections?parseInt(a.connections.toString(),10):0,u=n.find((e=>{var n;return e.id===(null===(n=t.kernel)||void 0===n?void 0:n.id)}))||{},d=r.find((e=>{var n;return e.name===(null===(n=t.kernel)||void 0===n?void 0:n.name)}))||{};return{kind:"connectToLiveRemoteKernel",kernelModel:{...t.kernel,...d,...u,name:(null===(o=t.kernel)||void 0===o?void 0:o.name)||"",lastActivityTime:c,numberOfConnections:l,model:t},baseUrl:e.baseUrl,id:(null===(s=t.kernel)||void 0===s?void 0:s.id)||"",serverId:i}})).filter((e=>!this.kernelIdsToHide.has(e.kernelModel.id||""))),...s]}catch(e){throw(0,p.traceError)("Error fetching remote kernels:",e),e}finally{t&&await t.dispose()}return[]}async getInterpreter(e,t){const n=new URL(t);if(("localhost"===n.hostname.toLocaleLowerCase()||"127.0.0.1"===n.hostname)&&this.extensionChecker.isPythonExtensionInstalled&&!this.isWebExtension&&(0,c.getLanguageInKernelSpec)(e)===f.PYTHON_LANGUAGE)try{return(0,p.traceInfoIfCI)(`Getting interpreter details for localhost remote kernel: ${e.name}`),await this.interpreterService.getInterpreterDetails(a.Uri.file(e.argv[0]))}catch(e){(0,p.traceError)("Failure getting interpreter details for remote kernel: ",e)}}getCacheKey(){return`${w.RemoteKernelSpecsCacheKey}-${this.serverUri.serverId}`}async writeToCache(e){const t=this.getCacheKey();this.cache=e;const n=e.map(c.serializeKernelConnection);await Promise.all([(0,w.removeOldCachedItems)(this.globalState),this.globalState.update(t,{kernels:n,extensionVersion:this.env.extensionVersion})])}async isValidCachedKernel(e){switch(e.kind){case"startUsingRemoteKernelSpec":return!1;case"connectToLiveRemoteKernel":return this.cachedRemoteKernelValidator.isValid(e)}}}i([(0,u.capturePerfTelemetry)(u.Telemetry.KernelListingPerf,{kind:"remote"})],_.prototype,"listKernelsFromConnection",null),t.UniversalRemoteKernelFinder=_},23767:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UniversalRemoteKernelFinderController=void 0;const i=n(86700),s=n(94062),a=n(42080),c=n(84570),l=n(94433),u=n(77886),d=n(58681),p=n(10053),h=n(80798);let f=class{constructor(e,t,n,r,o,i,s,a,c,l,u,d,p){this.jupyterSessionManagerFactory=e,this.interpreterService=t,this.extensionChecker=n,this.notebookProvider=r,this.serverUriStorage=o,this.globalState=i,this.env=s,this.cachedRemoteKernelValidator=a,this.kernelFinder=c,this.disposables=l,this.kernelProvider=u,this.extensions=d,this.isWebExtension=p,this.serverFinderMapping=new Map}async activate(){(await this.serverUriStorage.getSavedUriList()).forEach(this.createRemoteKernelFinder.bind(this)),this.serverUriStorage.onDidAddUri(this.createRemoteKernelFinder,this,this.disposables),this.serverUriStorage.onDidRemoveUris(this.urisRemoved,this,this.disposables)}createRemoteKernelFinder(e){if(!this.serverFinderMapping.has(e.serverId)){const t=new h.UniversalRemoteKernelFinder(this.jupyterSessionManagerFactory,this.interpreterService,this.extensionChecker,this.notebookProvider,this.globalState,this.env,this.cachedRemoteKernelValidator,this.kernelFinder,this.kernelProvider,this.extensions,this.isWebExtension,e);this.disposables.push(t),this.serverFinderMapping.set(e.serverId,t),t.activate().then(d.noop,d.noop)}}urisRemoved(e){e.forEach((e=>{const t=this.serverFinderMapping.get(e.serverId);t&&t.dispose(),this.serverFinderMapping.delete(e.serverId)}))}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IJupyterSessionManagerFactory)),o(1,(0,i.inject)(c.IInterpreterService)),o(2,(0,i.inject)(u.IPythonExtensionChecker)),o(3,(0,i.inject)(s.INotebookProvider)),o(4,(0,i.inject)(l.IJupyterServerUriStorage)),o(5,(0,i.inject)(a.IMemento)),o(5,(0,i.named)(a.GLOBAL_MEMENTO)),o(6,(0,i.inject)(p.IApplicationEnvironment)),o(7,(0,i.inject)(l.IJupyterRemoteCachedKernelValidator)),o(8,(0,i.inject)(s.IKernelFinder)),o(9,(0,i.inject)(a.IDisposableRegistry)),o(10,(0,i.inject)(s.IKernelProvider)),o(11,(0,i.inject)(a.IExtensions)),o(12,(0,i.inject)(a.IsWebExtension))],f),t.UniversalRemoteKernelFinderController=f},86590:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CellOutputMimeTypeTracker=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(15925),l=n(20397),u=n(42080),d=n(86563),p=n(9959),h=n(9959),f=n(85564);let g=class{constructor(e,t,n){this.vscNotebook=e,this.workspace=n,this.sentMimeTypes=new Set,this.disposables=[],t.push(this)}get isTelemetryDisabled(){return(0,h.isTelemetryDisabled)(this.workspace)}activate(){this.vscNotebook.onDidOpenNotebookDocument(this.onDidOpenCloseDocument,this,this.disposables),this.vscNotebook.onDidCloseNotebookDocument(this.onDidOpenCloseDocument,this,this.disposables),this.vscNotebook.onDidSaveNotebookDocument(this.onDidOpenCloseDocument,this,this.disposables),this.vscNotebook.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,this.disposables)}dispose(){(0,l.disposeAllDisposables)(this.disposables)}async onDidChangeNotebookCellExecutionState(e){(0,d.isJupyterNotebook)(e.cell.notebook)&&!this.isTelemetryDisabled&&this.checkCell(e.cell,"onExecution")}onDidOpenCloseDocument(e){(0,d.isJupyterNotebook)(e)&&!this.isTelemetryDisabled&&e.getCells().forEach((e=>this.checkCell(e,"onOpenCloseOrSave")))}checkCell(e,t){if(e.kind===s.NotebookCellKind.Markup)return[];if("raw"===e.document.languageId)return[];const n=e.notebook.notebookType===c.JupyterNotebookView?"notebook":"interactive";return f(e.outputs.map((e=>e.items.map((e=>e.mime))))).map((e=>this.sendTelemetry(e,t,n)))}sendTelemetry(e,t,n){const r=`${e}-${t}`;this.sentMimeTypes.has(r)||(this.sentMimeTypes.add(r),e=e.replace(/\//g,"_").replace(/\\/g,"_"),(0,p.sendTelemetryEvent)(p.Telemetry.CellOutputMimeType,void 0,{mimeType:e,when:t,resourceType:n}))}};g=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IVSCodeNotebook)),o(1,(0,i.inject)(u.IDisposableRegistry)),o(2,(0,i.inject)(a.IWorkspaceService))],g),t.CellOutputMimeTypeTracker=g},24319:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterConnection=void 0;const i=n(86700),s=n(42080),a=n(58681),c=n(42751),l=n(37853),u=n(46875),d=n(94433);let p=class{constructor(e,t,n,r,o){this.jupyterPickerRegistration=e,this.jupyterSessionManagerFactory=t,this.disposables=n,this.serverConnectionType=r,this.serverUriStorage=o,this.uriToJupyterServerUri=new Map,this.pendingTimeouts=[],n.push(this)}activate(){this.serverConnectionType.onDidChange((()=>this.clearTimeouts()),this,this.disposables)}dispose(){this.clearTimeouts()}clearTimeouts(){this.pendingTimeouts.forEach((e=>clearTimeout(e))),this.pendingTimeouts=[]}async createConnectionInfo(e){const t="uri"in e?e.uri:await this.getUriFromServerId(e.serverId);if(!t)throw new Error("Server Not found");return this.createConnectionInfoFromUri(t)}async validateRemoteUri(e){return this.validateRemoteConnection(await this.createConnectionInfoFromUri(e))}async getUriFromServerId(e){var t;return null===(t=(await this.serverUriStorage.getSavedUriList()).find((t=>t.serverId===e)))||void 0===t?void 0:t.uri}async createConnectionInfoFromUri(e){return await this.updateServerUri(e),(0,u.createRemoteConnectionInfo)(e,this.getServerUri.bind(this))}async validateRemoteConnection(e){let t;try{t=await this.jupyterSessionManagerFactory.create(e,!1),await Promise.all([t.getRunningKernels(),t.getKernelSpecs()])}finally{e.dispose(),t&&t.dispose().catch(a.noop)}}async updateServerUri(e){const t=(0,u.extractJupyterServerHandleAndId)(e);if(t)try{const n=await this.jupyterPickerRegistration.getJupyterServerUri(t.id,t.handle);if(this.uriToJupyterServerUri.set(e,n),n.expiration){const t=n.expiration.getTime()-Date.now();t>0&&t<6048e5&&this.pendingTimeouts.push(setTimeout((()=>this.updateServerUri(e).ignoreErrors()),t))}}catch(e){if(e instanceof l.BaseError)throw e;const n=await(0,u.computeServerId)((0,u.generateUriFromRemoteProvider)(t.id,t.handle));throw new c.RemoteJupyterServerUriProviderError(t.id,t.handle,e,n)}}getServerUri(e){if((0,u.extractJupyterServerHandleAndId)(e))return this.uriToJupyterServerUri.get(e)}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(d.IJupyterUriProviderRegistration)),o(1,(0,i.inject)(d.IJupyterSessionManagerFactory)),o(2,(0,i.inject)(s.IDisposableRegistry)),o(3,(0,i.inject)(d.IServerConnectionType)),o(4,(0,i.inject)(d.IJupyterServerUriStorage))],p),t.JupyterConnection=p},24048:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterKernelService=void 0;const i=n(86700);n(8513);const s=n(11642);let a=class{async ensureKernelIsUsable(e,t,n,r,o){(0,s.traceVerbose)("Check if a kernel is usable")}};r([o(1,(0,s.logValue)("id")),o(2,(0,s.logValue)("disableUI")),o(3,(0,s.ignoreLogging)())],a.prototype,"ensureKernelIsUsable",null),a=r([(0,i.injectable)()],a),t.JupyterKernelService=a},47028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterKernelSpec=void 0,t.JupyterKernelSpec=class{constructor(e,t,n,r){this.specFile=t,this.interpreterPath=n,this.isRegisteredByVSC=r,this.name=e.name,this.argv=e.argv,this.language=e.language,this.executable=e.argv&&e.argv.length>0?e.argv[0]:"",this.display_name=e.display_name,this.metadata=e.metadata,this.env=e.env,this.interrupt_mode=e.interrupt_mode}}},26585:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterRemoteCachedKernelValidator=void 0;const i=n(86700),s=n(11642),a=n(46875),c=n(94433);let l=class{constructor(e,t,n){this.liveKernelConnectionTracker=e,this.uriStorage=t,this.providerRegistration=n}async isValid(e){if(!this.liveKernelConnectionTracker.wasKernelUsed(e))return!1;const t=this.providerRegistration.getProviders(),n=(await this.uriStorage.getSavedUriList()).find((t=>t.serverId===e.serverId));if(!n)return!1;const r=(0,a.extractJupyterServerHandleAndId)(n.uri);if(!r)return!0;const o=(await t).find((e=>e.id===r.id));return o?!o.getHandles||(!!(await o.getHandles()).includes(r.handle)||((0,s.traceWarning)(`Hiding remote kernel ${e.id} as the remote Jupyter Server ${n.uri} is no longer available`),!1)):((0,s.traceWarning)(`Extension may have been uninstalled for provider ${r.id}, handle ${r.handle}`),!1)}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(c.ILiveRemoteKernelConnectionUsageTracker)),o(1,(0,i.inject)(c.IJupyterServerUriStorage)),o(2,(0,i.inject)(c.IJupyterUriProviderRegistration))],l),t.JupyterRemoteCachedKernelValidator=l},54179:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterUriProviderRegistration=void 0;const c=n(86700),l=n(66828),u=n(42080),d=n(85446),p=s(n(25251)),h=n(58681),f=n(55134),g=n(26105),m=n(46875),y="REGISTRATION_ID_EXTENSION_OWNER_MEMENTO_KEY";let v=class{constructor(e,t,n){this.extensions=e,this.disposables=t,this.globalMemento=n,this._onProvidersChanged=new l.EventEmitter,this.providers=new Map,this.providerExtensionMapping=new Map,this.onDidChangeProviders=this._onProvidersChanged.event,t.push(this._onProvidersChanged)}async getProviders(){return await this.checkOtherExtensions(),Promise.all([...this.providers.values()])}async registerProvider(e){if(this.providers.has(e.id))throw new Error(`IJupyterUriProvider already exists with id ${e.id}`);this.providers.set(e.id,this.createProvider(e)),this._onProvidersChanged.fire()}async getJupyterServerUri(e,t){await this.checkOtherExtensions();const n=this.providers.get(e);if(n){const r=await n;if(r.getHandles&&!(await r.getHandles()).includes(t)){const n=this.providerExtensionMapping.get(e),r=await(0,m.computeServerId)((0,m.generateUriFromRemoteProvider)(e,t));throw new f.InvalidRemoteJupyterServerUriHandleError(e,t,n,r)}return r.getServerUri(t)}throw new Error(p.DataScience.unknownServerUri())}checkOtherExtensions(){return this.loadedOtherExtensionsPromise||(this.loadedOtherExtensionsPromise=this.loadOtherExtensions()),this.loadedOtherExtensionsPromise}async loadOtherExtensions(){this.loadExistingProviderExtensionMapping();const e=new Set;this.globalMemento.get(y,[]).forEach((t=>e.add(t.extensionId)));const t=this.extensions.all.filter((t=>{var n,r;return(null===(r=null===(n=t.packageJSON)||void 0===n?void 0:n.contributes)||void 0===r?void 0:r.pythonRemoteServerProvider)||e.has(t.id)})).map((e=>e.isActive?Promise.resolve():e.activate().then(h.noop,h.noop)));await Promise.all(t)}async createProvider(e){const t=await this.extensions.determineExtensionFromCallStack();return this.updateRegistrationInfo(e.id,t.extensionId).catch(h.noop),new g.JupyterUriProviderWrapper(e,t.extensionId,this.disposables)}async updateRegistrationInfo(e,t){this.loadExistingProviderExtensionMapping(),this.providerExtensionMapping.set(e,t);const n=[];this.providerExtensionMapping.forEach(((e,t)=>{n.push({extensionId:t,providerId:e})})),await this.globalMemento.update(y,n)}loadExistingProviderExtensionMapping(){this.globalMemento.get(y,[]).forEach((e=>this.providerExtensionMapping.set(e.providerId,e.extensionId)))}};i([(0,d.swallowExceptions)()],v.prototype,"updateRegistrationInfo",null),v=i([(0,c.injectable)(),a(0,(0,c.inject)(u.IExtensions)),a(1,(0,c.inject)(u.IDisposableRegistry)),a(2,(0,c.inject)(u.IMemento)),a(2,(0,c.named)(u.GLOBAL_MEMENTO))],v),t.JupyterUriProviderRegistration=v},26105:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterUriProviderWrapper=void 0;const s=i(n(66828)),a=i(n(25251));t.JupyterUriProviderWrapper=class{constructor(e,t,n){if(this.provider=e,this.packageName=t,e.onDidChangeHandles){const t=new s.EventEmitter;this.onDidChangeHandles=t.event.bind(this),n.push(t),n.push(e.onDidChangeHandles((()=>{t.fire()})))}e.getHandles&&(this.getHandles=async()=>e.getHandles())}get id(){return this.provider.id}getQuickPickEntryItems(){return this.provider.getQuickPickEntryItems?this.provider.getQuickPickEntryItems().map((e=>({...e,description:a.DataScience.uriProviderDescriptionFormat().format(e.description||"",this.packageName),original:e}))):[]}async handleQuickPick(e,t){if(this.provider.handleQuickPick)return e.original?this.provider.handleQuickPick(e.original,t):this.provider.handleQuickPick(e,t)}getServerUri(e){return this.provider.getServerUri(e)}}},46875:function(e,t,n){"use strict";var r=n(34155),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.extractJupyterServerHandleAndId=t.generateUriFromRemoteProvider=t.computeServerId=t.createRemoteConnectionInfo=t.handleExpiredCertsError=t.handleSelfCertsError=t.expandWorkingDir=void 0,n(8513);const a=s(n(15948)),c=n(66828),l=n(58681),u=n(8714),d=n(35412),p=n(25251),h=n(9959),f=n(15925),g=n(46729);t.expandWorkingDir=function(e,t,n,o){if(e)return o.createSystemVariables(t).resolve(e);if(t)return a.dirname((0,d.getFilePath)(t));const i=n.getWorkspaceFolder(void 0);return i?(0,d.getFilePath)(i.uri):r.cwd()},t.handleSelfCertsError=async function(e,t,n){const r=p.DataScience.jupyterSelfCertEnable(),o=p.DataScience.jupyterSelfCertClose(),i=await e.showErrorMessage(p.DataScience.jupyterSelfCertFail().format(n),{modal:!0},r,o);return i===r?((0,h.sendTelemetryEvent)(f.Telemetry.SelfCertsMessageEnabled),await t.updateSetting("allowUnauthorizedRemoteConnection",!0,void 0,c.ConfigurationTarget.Workspace),!0):(i===o&&(0,h.sendTelemetryEvent)(f.Telemetry.SelfCertsMessageClose),!1)},t.handleExpiredCertsError=async function(e,t,n){const r=p.DataScience.jupyterSelfCertEnable(),o=p.DataScience.jupyterSelfCertClose(),i=await e.showErrorMessage(p.DataScience.jupyterExpiredCertFail().format(n),{modal:!0},r,o);return i===r?((0,h.sendTelemetryEvent)(f.Telemetry.SelfCertsMessageEnabled),await t.updateSetting("allowUnauthorizedRemoteConnection",!0,void 0,c.ConfigurationTarget.Workspace),!0):(i===o&&(0,h.sendTelemetryEvent)(f.Telemetry.SelfCertsMessageClose),!1)},t.createRemoteConnectionInfo=function(e,t){let n;try{n=new URL(e)}catch(e){throw e}const r=t(e),o=r?r.baseUrl:`${n.protocol}//${n.host}${"/lab"===n.pathname?"":n.pathname}`,i=r?r.token:`${n.searchParams.get("token")}`;return{type:"jupyter",baseUrl:o,token:i,hostName:r?new URL(r.baseUrl).hostname:n.hostname,localLaunch:!1,displayName:r&&r.displayName?r.displayName:(0,u.getJupyterConnectionDisplayName)(i,o),disconnected:e=>({dispose:l.noop}),dispose:l.noop,rootDirectory:c.Uri.file(""),getAuthHeader:r?()=>{var n;return null===(n=t(e))||void 0===n?void 0:n.authorizationHeader}:void 0,url:e}},t.computeServerId=async function(e){return(0,g.computeHash)(e,"SHA-256")},t.generateUriFromRemoteProvider=function(e,t){return`${f.Identifiers.REMOTE_URI}?${f.Identifiers.REMOTE_URI_ID_PARAM}=${e}&${f.Identifiers.REMOTE_URI_HANDLE_PARAM}=${encodeURI(t)}`},t.extractJupyterServerHandleAndId=function(e){const t=new URL(e),n=t.searchParams.get(f.Identifiers.REMOTE_URI_ID_PARAM),r=t.searchParams.get(f.Identifiers.REMOTE_URI_HANDLE_PARAM);return n&&r?{handle:r,id:n}:void 0}},71225:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterCommandLineSelector=void 0;const s=n(86700),a=i(n(24837)),c=n(66828),l=n(10053),u=n(42080),d=n(25251),p=n(58681),h=n(19450),f=n(9959);let g=class{constructor(e,t,n,r,o){this.multiStepFactory=e,this.configuration=t,this.appShell=r,this.commandManager=o,this.defaultLabel=`$(zap) ${d.DataScience.jupyterCommandLineDefaultLabel()}`,this.customLabel=`$(gear) ${d.DataScience.jupyterCommandLineCustomLabel()}`,this.validate=async e=>{},n.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this))}async selectJupyterCommandLine(e){const t=this.multiStepFactory.create();await t.run(this.startSelectingCommandLine.bind(this,e),{})}async onDidChangeConfiguration(e){if(e.affectsConfiguration("jupyter.jupyterCommandLineArguments")){const e=d.DataScience.jupyterCommandLineReloadAnswer();await this.appShell.showInformationMessage(d.DataScience.jupyterCommandLineReloadQuestion(),e)===e&&this.commandManager.executeCommand("workbench.action.reloadWindow").then(p.noop,p.noop)}}async startSelectingCommandLine(e,t,n){if((await t.showQuickPick({placeholder:d.DataScience.jupyterCommandLineQuickPickPlaceholder(),items:this.getPickList(),title:d.DataScience.jupyterCommandLineQuickPickTitle()})).label!==this.defaultLabel)return this.selectCustomCommandLine.bind(this,e);await this.setJupyterCommandLine("")}async selectCustomCommandLine(e,t,n){const r=await t.showInputBox({title:d.DataScience.jupyterCommandLinePrompt(),value:this.configuration.getSettings(e).jupyterCommandLineArguments.join(" "),validate:this.validate,prompt:""});r&&await this.setJupyterCommandLine(r)}async setJupyterCommandLine(e){e&&(0,f.sendTelemetryEvent)(f.Telemetry.JupyterCommandLineNonDefault);const t=(0,a.default)(e);await this.configuration.updateSetting("jupyterCommandLineArguments",t,void 0,c.ConfigurationTarget.Workspace)}getPickList(){const e=[];return e.push({label:this.defaultLabel,detail:d.DataScience.jupyterCommandLineDefaultDetail()}),e.push({label:this.customLabel,detail:d.DataScience.jupyterCommandLineCustomDetail()}),e}};g=r([(0,s.injectable)(),o(0,(0,s.inject)(h.IMultiStepInputFactory)),o(1,(0,s.inject)(u.IConfigurationService)),o(2,(0,s.inject)(l.IWorkspaceService)),o(3,(0,s.inject)(l.IApplicationShell)),o(4,(0,s.inject)(l.ICommandManager))],g),t.JupyterCommandLineSelector=g},8714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJupyterConnectionDisplayName=void 0,t.getJupyterConnectionDisplayName=function(e,t){return`${t}${e.length>0?`?token=${e}`:""}`}},16242:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExecutionBase=void 0;const a=i(n(52859)),c=s(n(71171)),l=n(66828),u=n(6491),d=n(11642),p=n(25251),h=n(84079),f=n(413),g=n(9959),m=n(46875),y=n(54990),v=n(95739),b=n(50689),S=["localhost","127.0.0.1","::1"];t.JupyterExecutionBase=class{constructor(e,t,n,r,o,i,s,a){this.interpreterService=e,this.disposableRegistry=t,this.workspace=n,this.configuration=r,this.notebookStarter=o,this.jupyterInterpreterService=i,this.notebookServerFactory=s,this.jupyterConnection=a,this.disposed=!1,this.disposableRegistry.push(this.interpreterService.onDidChangeInterpreter((()=>this.onSettingsChanged()))),this.disposableRegistry.push(this),n&&n.onDidChangeConfiguration((e=>{e.affectsConfiguration("python.dataScience",void 0)&&this.onSettingsChanged()}),this,this.disposableRegistry)}dispose(){return this.disposed=!0,Promise.resolve()}async refreshCommands(){var e;await(null===(e=this.jupyterInterpreterService)||void 0===e?void 0:e.refreshCommands())}async isNotebookSupported(e){return!!this.jupyterInterpreterService&&this.jupyterInterpreterService.isNotebookSupported(e)}async getNotebookError(){return this.jupyterInterpreterService?this.jupyterInterpreterService.getReasonForJupyterNotebookNotBeingSupported():p.DataScience.webNotSupported()}async getUsableJupyterPython(e){return this.usablePythonInterpreter||this.disposed||!this.jupyterInterpreterService||(this.usablePythonInterpreter=await u.Cancellation.race((()=>this.jupyterInterpreterService.getSelectedInterpreter(e)),e)),this.usablePythonInterpreter}connectToNotebookServer(e,t){return u.Cancellation.race((async()=>{let n,r;(0,d.traceInfo)("Connecting to server");let o=1;const i=Math.max(1,this.configuration.getSettings(void 0).jupyterLaunchRetries);let s;for(;o<=i&&!this.disposed;){try{return r=await this.startOrConnect(e,t),!r.localLaunch&&S.includes(r.hostName.toLowerCase())&&(0,g.sendTelemetryEvent)(g.Telemetry.ConnectRemoteJupyterViaLocalHost),(0,d.traceInfo)("Connecting to process server"),n=await this.notebookServerFactory.createNotebookServer(r),(0,d.traceInfo)("Connection complete server"),n}catch(t){if(s=t,n&&((0,d.traceInfo)(`Killing server because of error ${t}`),await n.dispose()),!(t instanceof f.JupyterWaitForIdleError&&o<i)){if(r){if(this.disposed)throw t;throw e.localJupyter?((0,g.sendTelemetryEvent)(g.Telemetry.ConnectFailedJupyter,void 0,void 0,t),new v.LocalJupyterServerConnectionError(t)):((0,g.sendTelemetryEvent)(g.Telemetry.ConnectRemoteFailedJupyter,void 0,void 0,t),h.JupyterSelfCertsError.isSelfCertsError(t)?((0,g.sendTelemetryEvent)(g.Telemetry.ConnectRemoteSelfCertFailedJupyter),new h.JupyterSelfCertsError(r.baseUrl)):b.JupyterSelfCertsExpiredError.isSelfCertsExpiredError(t)?((0,g.sendTelemetryEvent)(g.Telemetry.ConnectRemoteExpiredCertFailedJupyter),new b.JupyterSelfCertsExpiredError(r.baseUrl)):new y.RemoteJupyterServerConnectionError(r.baseUrl,e.serverId,t))}throw t}(0,d.traceInfo)("Retry because of wait for idle problem."),null==r||r.dispose(),o+=1}throw s}throw new Error("Max number of attempts reached")}),t)}getServer(e){return Promise.resolve(void 0)}async startOrConnect(e,t){if(e.localJupyter){(0,d.traceInfo)("Launching server");const n=this.configuration.getSettings(e.resource),r=n.useDefaultConfigForJupyter,o=await this.workspace.computeWorkingDirectory(e.resource),i=(0,m.expandWorkingDir)(o,this.workspace.rootFolder?a.joinPath(this.workspace.rootFolder,`${(0,c.default)()}.txt`):void 0,this.workspace,n);return this.startNotebookServer(e.resource,r,this.configuration.getSettings(void 0).jupyterCommandLineArguments,l.Uri.file(i),t)}return this.jupyterConnection.createConnectionInfo({serverId:e.serverId})}async startNotebookServer(e,t,n,r,o){if(!this.notebookStarter)throw new Error("Notebook Starter cannot be undefined");return this.notebookStarter.start(e,t,n,r,o)}onSettingsChanged(){this.usablePythonInterpreter=void 0}}},41090:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterNotebookProvider=void 0;const i=n(86700),s=n(94062),a=n(6491),c=n(94433);let l=class{constructor(e,t){this.serverProvider=e,this.serverStorage=t}async connect(e){const{connection:t}=await this.serverProvider.getOrCreateServer(e);return e.localJupyter||this.serverStorage.addToUriList(t.url||t.displayName,Date.now(),t.displayName).ignoreErrors(),t}async createNotebook(e){const t=e.kernelConnection,n=(0,s.isLocalConnection)(t)?{ui:e.ui,resource:e.resource,token:e.token,localJupyter:!0}:{ui:e.ui,resource:e.resource,token:e.token,localJupyter:!1,serverId:t.serverId},r=await this.serverProvider.getOrCreateServer(n);return a.Cancellation.throwIfCanceled(e.token),r.createNotebook(e.resource,e.kernelConnection,e.token,e.ui,e.creator)}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IJupyterServerProvider)),o(1,(0,i.inject)(c.IJupyterServerUriStorage))],l),t.JupyterNotebookProvider=l},2219:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterPasswordConnect=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(42080),l=n(25251),u=n(19450),d=n(11642),p=n(9959),h=n(94433);let f=class{constructor(e,t,n,r,o,i,s,a){this.appShell=e,this.multiStepFactory=t,this.asyncDisposableRegistry=n,this.configService=r,this.agentCreator=o,this.requestCreator=i,this.serverUriStorage=s,this.disposables=a,this.savedConnectInfo=new Map,this.serverUriStorage.onDidRemoveUris(this.onDidRemoveUris,this,this.disposables)}getPasswordConnectionInfo(e){if(!e||e.length<1)return Promise.resolve(void 0);const t=g(e);let n=this.savedConnectInfo.get(t);return n||(n=this.getNonCachedPasswordConnectionInfo(t).then((e=>((0,d.traceInfo)(`Password for ${t} was invalid.`),e||this.savedConnectInfo.delete(t),e))),this.savedConnectInfo.set(t,n)),n}getSessionCookieString(e,t,n){return`_xsrf=${e}; ${t}=${n}`}async getNonCachedPasswordConnectionInfo(e){return await this.isJupyterHub(e)?this.getJupyterHubConnectionInfo(e):this.getJupyterConnectionInfo(e)}async getJupyterHubConnectionInfo(e){const t=await this.getUserNameAndPassword();if(t.username||t.password){return await this.getJupyterHubConnectionInfoFromLogin(e,t.username,t.password)||this.getJupyterHubConnectionInfoFromApi(e,t.username,t.password)}}async getJupyterHubConnectionInfoFromLogin(e,t,n){const r=new URL(e),o=`${r.protocol}//${r.host}`,i=new URLSearchParams;i.append("username",t||""),i.append("password",n||"");let s=await this.makeRequest(`${o}/hub/login?next=`,{method:"POST",headers:{Connection:"keep-alive",Referer:`${o}/hub/login`,"content-type":"application/x-www-form-urlencoded;charset=UTF-8"},body:i.toString(),redirect:"manual"});if(s&&302===s.status){const e=[...this.getCookies(s).entries()].reduce(((e,t)=>`${e};${t[0]}=${t[1]}`),"");if(s=await this.makeRequest(`${o}/hub/api/users/${t}/tokens`,{method:"POST",headers:{Connection:"keep-alive",Cookie:e,Referer:`${o}/hub/login`}}),s.ok&&200===s.status){const n=await s.json();if(n&&n.token&&n.id)return await this.makeRequest(`${o}/hub/api/users/${t}/server`,{method:"POST",headers:{Connection:"keep-alive",Cookie:e,Referer:`${o}/hub/login`}}),this.asyncDisposableRegistry.push({dispose:async()=>{this.makeRequest(`${o}/hub/api/users/${t}/tokens/${n.id}`,{method:"DELETE",headers:{Connection:"keep-alive",Cookie:e,Referer:`${o}/hub/login`}}).ignoreErrors()}}),{requestHeaders:{},remappedBaseUrl:`${o}/user/${t}`,remappedToken:n.token}}}}async getJupyterHubConnectionInfoFromApi(e,t,n){const r=new URL(e),o=`${r.protocol}//${r.host}`,i=await this.makeRequest(`${o}/hub/api/authorizations/token`,{method:"POST",headers:{Connection:"keep-alive","content-type":"application/json;charset=UTF-8"},body:`{ "username": "${t||""}", "password": "${n||""}"  }`,redirect:"manual"});if(i.ok&&200===i.status){const e=await i.json();if(e&&e.user&&e.user.server&&e.token)return{requestHeaders:{},remappedBaseUrl:`${o}${e.user.server}`,remappedToken:e.token}}}async getJupyterConnectionInfo(e){let t,n,r;if(!await this.needPassword(e))return{};{let o=await this.getUserPassword();if(!o)return{};if(t=await this.getXSRFToken(e,""),t){const i=await this.getSessionCookie(e,t,o);n=i.sessionCookieName,r=i.sessionCookieValue}else n="authservice_session",r=o,t=await this.getXSRFToken(e,`${n}=${r}`);o=void 0}if(t&&n&&r)return(0,p.sendTelemetryEvent)(p.Telemetry.GetPasswordSuccess),{requestHeaders:{Cookie:this.getSessionCookieString(t,n,r),"X-XSRFToken":t}};(0,p.sendTelemetryEvent)(p.Telemetry.GetPasswordFailure)}addAllowUnauthorized(e,t,n){if(e.startsWith("https")&&t&&this.agentCreator){const e=this.agentCreator.createHttpRequestAgent();return{...n,agent:e}}return n}async getUserNameAndPassword(){const e=this.multiStepFactory.create(),t={username:"",password:""};return await e.run(this.getUserNameMultiStep.bind(this),t),t}async getUserNameMultiStep(e,t){if(t.username=await e.showInputBox({title:l.DataScience.jupyterSelectUserAndPasswordTitle(),prompt:l.DataScience.jupyterSelectUserPrompt(),validate:this.validateUserNameOrPassword,value:""}),t.username)return this.getPasswordMultiStep.bind(this)}async validateUserNameOrPassword(e){}async getPasswordMultiStep(e,t){t.password=await e.showInputBox({title:l.DataScience.jupyterSelectUserAndPasswordTitle(),prompt:l.DataScience.jupyterSelectPasswordPrompt(),validate:this.validateUserNameOrPassword,value:"",password:!0})}async getUserPassword(){return this.appShell.showInputBox({prompt:l.DataScience.jupyterSelectPasswordPrompt(),ignoreFocusOut:!0,password:!0})}async getXSRFToken(e,t){var n;let r,o,i=`${e}login?`;""!=t?(i=`${e}tree`,o={Connection:"keep-alive",Cookie:t}):o={Connection:"keep-alive"};const s=await this.makeRequest(i,{method:"get",redirect:"manual",headers:o});if(void 0!==s&&s.ok){const e=this.getCookies(s);e.has("_xsrf")&&(r=null===(n=e.get("_xsrf"))||void 0===n?void 0:n.split(";")[0])}return r}async needPassword(e){return 200!==(await this.makeRequest(`${e}tree?`,{method:"get",redirect:"manual",headers:{Connection:"keep-alive"}})).status}async makeRequest(e,t){const n=this.configService.getSettings(void 0).allowUnauthorizedRemoteConnection;try{return await this.requestCreator.getFetchMethod()(e,this.addAllowUnauthorized(e,!!n,t))}catch(n){if(n.message.indexOf("reason: self signed certificate")>=0){const r=l.DataScience.jupyterSelfCertEnable(),o=l.DataScience.jupyterSelfCertClose(),i=await this.appShell.showErrorMessage(l.DataScience.jupyterSelfCertFail().format(n.message),{modal:!0},r,o);if(i===r)return(0,p.sendTelemetryEvent)(p.Telemetry.SelfCertsMessageEnabled),await this.configService.updateSetting("allowUnauthorizedRemoteConnection",!0,void 0,s.ConfigurationTarget.Workspace),this.requestCreator.getFetchMethod()(e,this.addAllowUnauthorized(e,!0,t));i===o&&(0,p.sendTelemetryEvent)(p.Telemetry.SelfCertsMessageClose)}throw n}}async isJupyterHub(e){return!!e.toLowerCase().includes("/user/")||200===(await this.makeRequest(`${e}hub/api`,{method:"get",redirect:"manual",headers:{Connection:"keep-alive"}})).status}async getSessionCookie(e,t,n){let r,o;const i=new URLSearchParams;i.append("_xsrf",t),i.append("password",n);const s=await this.makeRequest(`${e}login?`,{method:"post",headers:{Cookie:`_xsrf=${t}`,Connection:"keep-alive","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},body:i.toString(),redirect:"manual"});if(302===s.status){const e=this.getCookies(s);e.size>0&&(r=e.entries().next().value[0],o=e.entries().next().value[1])}return{sessionCookieName:r,sessionCookieValue:o}}getCookies(e){const t=new Map,n=(e.headers.raw?e.headers.raw():e.headers)["set-cookie"];return n&&n.forEach((e=>{const n=e.substring(0,e.indexOf("=")),r=e.substring(e.indexOf("=")+1);t.set(n,r)})),t}onDidRemoveUris(e){e.forEach((e=>{const t=g(e.uri);this.savedConnectInfo.delete(t)}))}};function g(e){let t=e;return"/"!==t[t.length-1]&&(t=`${t}/`),t}f=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IApplicationShell)),o(1,(0,i.inject)(u.IMultiStepInputFactory)),o(2,(0,i.inject)(c.IAsyncDisposableRegistry)),o(3,(0,i.inject)(c.IConfigurationService)),o(4,(0,i.inject)(h.IJupyterRequestAgentCreator)),o(4,(0,i.optional)()),o(5,(0,i.inject)(h.IJupyterRequestCreator)),o(6,(0,i.inject)(h.IJupyterServerUriStorage)),o(7,(0,i.inject)(c.IDisposableRegistry))],f),t.JupyterPasswordConnect=f},72964:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HostJupyterExecution=void 0,n(8513);const s=i(n(71171)),a=n(16242),c=n(27660),l=n(86700),u=n(10053),d=n(11642),p=n(42080),h=n(85446),f=n(84570),g=n(94433),m=n(89727),y=n(24319);let v=class extends a.JupyterExecutionBase{constructor(e,t,n,r,o,i,a,l,u,d){super(e,t,r,o,i,a,l,d),this.serverUriStorage=u,this._disposed=!1,this._id=(0,s.default)(),this.serverCache=new c.ServerCache,this.serverUriStorage.onDidChangeUri((()=>{this.serverCache.clearCache()}),this,t),n.push(this)}clearCache(){this.serverCache.clearCache()}async dispose(){(0,d.traceInfo)(`Disposing HostJupyterExecution ${this._id}`),this._disposed||(this._disposed=!0,(0,d.traceInfo)(`Disposing super HostJupyterExecution ${this._id}`),await super.dispose(),this.serverCache&&((0,d.traceInfo)(`Cleaning up server cache ${this._id}`),await this.serverCache.dispose())),(0,d.traceInfo)(`Finished disposing HostJupyterExecution  ${this._id}`)}async hostConnectToNotebookServer(e,t){if(!this._disposed)return super.connectToNotebookServer(await this.serverCache.generateDefaultOptions(e),t);throw new Error("Notebook server is disposed")}async connectToNotebookServer(e,t){if(!this._disposed)return this.serverCache.getOrCreate(this.hostConnectToNotebookServer.bind(this),e,t);throw new Error("Notebook server is disposed")}async getServer(e){if(!this._disposed)return this.serverCache.get(e)}};r([(0,h.testOnlyMethod)()],v.prototype,"clearCache",null),v=r([(0,l.injectable)(),o(0,(0,l.inject)(f.IInterpreterService)),o(1,(0,l.inject)(p.IDisposableRegistry)),o(2,(0,l.inject)(p.IAsyncDisposableRegistry)),o(3,(0,l.inject)(u.IWorkspaceService)),o(4,(0,l.inject)(p.IConfigurationService)),o(5,(0,l.inject)(g.INotebookStarter)),o(5,(0,l.optional)()),o(6,(0,l.inject)(m.IJupyterSubCommandExecutionService)),o(6,(0,l.optional)()),o(7,(0,l.inject)(g.INotebookServerFactory)),o(8,(0,l.inject)(g.IJupyterServerUriStorage)),o(9,(0,l.inject)(y.JupyterConnection))],v),t.HostJupyterExecution=v},76498:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HostJupyterServer=void 0,n(8513);const i=n(86700),s=n(10053),a=n(15925),c=n(11642),l=n(42080),u=n(43138),d=n(25251),p=n(65864),h=n(94062),f=n(58681),g=n(6491),m=n(35412),y=n(66828),v=n(54990);let b=class{constructor(e,t,n,r,o,i){this.asyncRegistry=e,this.workspaceService=t,this.jupyterOutputChannel=n,this.disposables=r,this.connection=o,this.sessionManager=i,this.sessions=new Set,this.disposed=!1,this.asyncRegistry.push(this),this.connectionInfoDisconnectHandler=this.connection.disconnected((e=>{try{this.serverExitCode=e,(0,c.traceError)(d.DataScience.jupyterServerCrashed().format(e.toString())),this.shutdown().ignoreErrors()}catch(e){(0,f.noop)()}}))}async dispose(){this.disposed||(this.disposed=!0,(0,c.traceInfo)("Disposing HostJupyterServer"),await this.shutdown(),(0,c.traceInfo)("Finished disposing HostJupyterServer"))}get isDisposed(){return this.disposed}throwIfDisposedOrCancelled(e){if(this.isDisposed)throw new p.SessionDisposedError;g.Cancellation.throwIfCanceled(e)}async createNotebookInstance(e,t,n,r,o,i){this.throwIfDisposedOrCancelled(r);const s=(0,u.createDeferred)();this.trackDisposable(s.promise);const a=async()=>{this.throwIfDisposedOrCancelled(r);const s=(0,h.isLocalConnection)(n)?await this.workspaceService.computeWorkingDirectory(e):"";this.throwIfDisposedOrCancelled(r);const a=await t.startNew(e,n,y.Uri.file(s),o,r,i);return this.throwIfDisposedOrCancelled(r),(0,c.traceInfo)(`Started session for kernel ${n.kind}:${n.id}`),a};try{const e=await a();this.throwIfDisposedOrCancelled(r),e?s.resolve(e):s.reject(this.getDisposedError())}catch(e){s.reject(e)}return s.promise}async createNotebook(e,t,n,r,o){var i;if(this.throwIfDisposedOrCancelled(n),(0,c.traceInfoIfCI)(`HostJupyterServer.createNotebook for ${(0,m.getDisplayPath)(e)} with ui.disableUI=${r.disableUI}, cancelToken.isCancellationRequested=${n.isCancellationRequested}`),!this.sessionManager||this.isDisposed)throw new p.SessionDisposedError;if(this.sessionManager&&!this.isDisposed&&("connectToLiveRemoteKernel"===t.kind||"startUsingRemoteKernelSpec"===t.kind))try{await Promise.all([this.sessionManager.getRunningKernels(),this.sessionManager.getKernelSpecs()])}catch(e){throw(0,c.traceError)("Failed to fetch running kernels from remote server, connection may be outdated or remote server may be unreachable",e),new v.RemoteJupyterServerConnectionError(t.baseUrl,t.serverId,e)}const s=await this.createNotebookInstance(e,this.sessionManager,t,n,r,o);this.throwIfDisposedOrCancelled(n);const a=(null===(i=this.connection)||void 0===i?void 0:i.baseUrl)||"";return this.logRemoteOutput(d.DataScience.createdNewNotebook().format(a)),s}async shutdown(){try{this.connectionInfoDisconnectHandler&&(this.connectionInfoDisconnectHandler.dispose(),this.connectionInfoDisconnectHandler=void 0),(0,c.traceInfo)("Shutting down notebooks");const e=await Promise.all([...this.sessions.values()]);await Promise.all(e.map((e=>e.dispose()))),(0,c.traceInfo)("Shut down session manager : "+(this.sessionManager?"existing":"undefined")),this.sessionManager&&1e4===await Promise.race([(0,u.sleep)(1e4),this.sessionManager.dispose()])&&(0,c.traceError)("Session shutdown timed out."),this.connection&&this.connection&&((0,c.traceInfo)("Shutdown server - dispose conn info"),this.connection.dispose())}catch(e){(0,c.traceError)("Error during shutdown: ",e)}}getConnectionInfo(){if(!this.connection)throw new Error("Not connected");return{...this.connection,dispose:f.noop}}getDisposedError(){return this.serverExitCode?new Error(d.DataScience.jupyterServerCrashed().format(this.serverExitCode.toString())):new p.SessionDisposedError}trackDisposable(e){e.then((t=>{t.onDidDispose((()=>this.sessions.delete(e)),this,this.disposables)})).catch((()=>this.sessions.delete(e))),this.sessions.add(e)}logRemoteOutput(e){var t;(null===(t=this.connection)||void 0===t?void 0:t.localLaunch)||this.jupyterOutputChannel.appendLine(e)}};b=r([o(0,(0,i.inject)(l.IAsyncDisposableRegistry)),o(1,(0,i.inject)(s.IWorkspaceService)),o(2,(0,i.inject)(l.IOutputChannel)),o(2,(0,i.named)(a.STANDARD_OUTPUT_CHANNEL)),o(3,(0,i.inject)(l.IDisposableRegistry))],b),t.HostJupyterServer=b},89847:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HostJupyterServerFactory=void 0;const i=n(86700),s=n(10053),a=n(15925),c=n(42080),l=n(25251),u=n(11642),d=n(94433),p=n(76498);let h=class{constructor(e,t,n,r,o){this.asyncRegistry=e,this.sessionManagerFactory=t,this.workspaceService=n,this.jupyterOutputChannel=r,this.disposables=o}async createNotebookServer(e){(0,u.traceInfo)(`Connecting server kernel ${e.baseUrl}`),e.localLaunch||this.jupyterOutputChannel.appendLine(l.DataScience.connectingToJupyterUri().format(e.baseUrl));const t=await this.sessionManagerFactory.create(e);return new p.HostJupyterServer(this.asyncRegistry,this.workspaceService,this.jupyterOutputChannel,this.disposables,e,t)}};h=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IAsyncDisposableRegistry)),o(1,(0,i.inject)(d.IJupyterSessionManagerFactory)),o(2,(0,i.inject)(s.IWorkspaceService)),o(3,(0,i.inject)(c.IOutputChannel)),o(3,(0,i.named)(a.STANDARD_OUTPUT_CHANNEL)),o(4,(0,i.inject)(c.IDisposableRegistry))],h),t.HostJupyterServerFactory=h},27660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCache=void 0,n(8513);const r=n(11642),o=n(43138);t.ServerCache=class{constructor(){this.cache=new Map,this.disposed=!1}clearCache(){this.cache.clear()}async getOrCreate(e,t,n){const r=await this.generateDefaultOptions(t),o=this.generateKey(r);let i;return i=this.cache.get(o),i||(i={promise:e(t,n),options:r,resolved:!1},this.cache.set(o,i)),i.promise.then((e=>{const t=e.dispose.bind(e);return e.dispose=()=>(this.cache.delete(o),t()),i&&(i.resolved=!0),e})).catch((e=>{throw this.cache.delete(o),e}))}async get(e){var t;const n=await this.generateDefaultOptions(e),r=this.generateKey(n);if(this.cache.has(r))return null===(t=this.cache.get(r))||void 0===t?void 0:t.promise}async dispose(){if(!this.disposed){this.disposed=!0;const e=[...this.cache.values()];this.cache.clear(),await Promise.all(e.map((async e=>{try{const t=await Promise.race([e.promise,(0,o.sleep)(1e3)]);"number"!=typeof t?await t.dispose():(0,r.traceInfo)("ServerCache Dispose, no server")}catch(e){(0,r.traceError)("Dispose error in ServerCache: ",e)}})))}}async generateDefaultOptions(e){return e.localJupyter?{resource:null==e?void 0:e.resource,ui:e.ui,localJupyter:!0}:{serverId:e.serverId,resource:null==e?void 0:e.resource,ui:e.ui,localJupyter:!1}}generateKey(e){return`serverId=${e.localJupyter?"":e.serverId};local=${e.localJupyter};`}}},89517:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookProvider=void 0;const i=n(86700),s=n(77886),a=n(94062),c=n(6491),l=n(88960),u=n(99216),d=n(94433);let p=class{constructor(e,t,n,r){this.rawNotebookProvider=e,this.jupyterNotebookProvider=t,this.extensionChecker=n,this.serverConnectionType=r,this.startupUi=new l.DisplayOptions(!0)}async connect(e){var t;e.ui.disableUI||(this.startupUi.disableUI=!1);const n=e.ui.onDidChangeDisableUI((()=>{e.ui.disableUI||(this.startupUi.disableUI=!1,n.dispose())}));if(e.ui=this.startupUi,(null===(t=this.rawNotebookProvider)||void 0===t?void 0:t.isSupported)&&e.localJupyter)throw new Error("Connect method should not be invoked for local Connections when Raw is supported");if(this.extensionChecker.isPythonExtensionInstalled||!this.serverConnectionType.isLocalLaunch)return this.jupyterNotebookProvider.connect(e).finally((()=>n.dispose()));throw n.dispose(),this.startupUi.disableUI||await this.extensionChecker.showPythonExtensionInstallRequiredPrompt(),new Error("Python Extension is not installed")}async create(e){var t;const n=e.kernelConnection,r=(0,a.isLocalConnection)(n),o=(null===(t=this.rawNotebookProvider)||void 0===t?void 0:t.isSupported)&&r;if(!o){const t=r?{resource:e.resource,token:e.token,ui:e.ui,localJupyter:!0}:{resource:e.resource,token:e.token,ui:e.ui,localJupyter:!1,serverId:n.serverId};await this.jupyterNotebookProvider.connect(t)}return c.Cancellation.throwIfCanceled(e.token),o?this.rawNotebookProvider.createNotebook(e.resource,e.kernelConnection,e.ui,e.token):this.jupyterNotebookProvider.createNotebook(e)}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IRawNotebookProvider)),o(0,(0,i.optional)()),o(1,(0,i.inject)(d.IJupyterNotebookProvider)),o(2,(0,i.inject)(s.IPythonExtensionChecker)),o(3,(0,i.inject)(d.IServerConnectionType))],p),t.NotebookProvider=p},25153:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookServerProvider=void 0;const i=n(86700),s=n(20397),a=n(11642),c=n(42080),l=n(85446),u=n(25251),d=n(84570),p=n(41779),h=n(72584),f=n(88960),g=n(94433),m=n(4169),y=n(35412),v=n(6491),b="LocalJupyterSererCacheKey";let S=class{constructor(e,t,n,r){this.jupyterExecution=e,this.interpreterService=t,this.disposables=r,this.serverPromise=new Map,this.ui=new f.DisplayOptions(!0),n.onDidChangeUri((()=>{const e=this.serverPromise.get("local");this.serverPromise.clear(),e&&this.serverPromise.set(b,e)}),this,this.disposables)}clearCache(){this.serverPromise.clear()}async getOrCreateServer(e){const t=this.getNotebookServerOptions(e);if(e.localJupyter&&this.jupyterExecution){const e=await this.jupyterExecution.getServer(t);if(e)return e}return this.createServer(e)}async createServer(e){var t;e.ui.disableUI||(this.ui.disableUI=!1),e.ui.onDidChangeDisableUI((()=>this.ui.disableUI=e.ui.disableUI),this,this.disposables);const n=e.localJupyter?b:e.serverId;this.serverPromise.has(n)||this.serverPromise.set(n,this.startServer(e));try{const r=await this.serverPromise.get(n);return!r&&(null===(t=e.token)||void 0===t?void 0:t.isCancellationRequested)&&this.serverPromise.delete(n),r}catch(e){throw this.serverPromise.delete(n),e}}async startServer(e){var t;const n=this.jupyterExecution;if(!n)throw new m.NotSupportedInWebError;const r=this.getNotebookServerOptions(e);(0,a.traceInfo)("Checking for server existence.");const o=[];let i;const c=async()=>{this.ui.disableUI||i||(i=await n.getServer(r)?h.KernelProgressReporter.createProgressReporter(e.resource,u.DataScience.connectingToJupyter()):h.KernelProgressReporter.createProgressReporter(e.resource,u.DataScience.startingJupyter()),o.push(i))};this.ui.disableUI&&this.ui.onDidChangeDisableUI(c,this,o);try{if(await c(),(0,a.traceInfo)("Checking for server usability."),!await this.checkUsable(r))throw(0,a.traceInfo)("Server not usable (should ask for install now)"),new p.JupyterInstallError(u.DataScience.jupyterNotSupported().format(await n.getNotebookError()));(0,a.traceInfo)("Starting notebook server.");const t=await n.connectToNotebookServer(r,e.token);return(0,a.traceInfo)("Server started."),t}catch(r){if((0,s.disposeAllDisposables)(o),(null===(t=e.token)||void 0===t?void 0:t.isCancellationRequested)&&(0,v.isCancellationError)(r))throw r;throw await n.refreshCommands(),r}finally{(0,s.disposeAllDisposables)(o)}}async checkUsable(e){try{return!e.localJupyter||!this.jupyterExecution||!!await this.jupyterExecution.getUsableJupyterPython()}catch(e){const t=await this.interpreterService.getActiveInterpreter(void 0);if(t){const n=t.displayName?t.displayName:(0,y.getFilePath)(t.uri);throw new Error(u.DataScience.jupyterNotSupportedBecauseOfEnvironment().format(n,e.toString()))}throw new p.JupyterInstallError(u.DataScience.jupyterNotSupported().format(this.jupyterExecution?await this.jupyterExecution.getNotebookError():"Error"))}}getNotebookServerOptions(e){return e.localJupyter?{resource:e.resource,ui:this.ui,localJupyter:!0}:{serverId:e.serverId,resource:e.resource,ui:this.ui,localJupyter:!1}}};r([(0,l.testOnlyMethod)()],S.prototype,"clearCache",null),S=r([(0,i.injectable)(),o(0,(0,i.inject)(g.IJupyterExecution)),o(0,(0,i.optional)()),o(1,(0,i.inject)(d.IInterpreterService)),o(2,(0,i.inject)(g.IJupyterServerUriStorage)),o(3,(0,i.inject)(c.IDisposableRegistry))],S),t.NotebookServerProvider=S},10651:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterServerUriStorage=t.currentServerHashKey=t.mementoKeyToIndicateIfConnectingToLocalKernelsOnly=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(15925),l=n(35412),u=n(42080),d=n(11642),p=n(46875),h=n(94433);t.mementoKeyToIndicateIfConnectingToLocalKernelsOnly="connectToLocalKernelsOnly",t.currentServerHashKey="currentServerHash";let f=class{constructor(e,n,r,o,i,a,c,l){this.workspaceService=e,this.crypto=n,this.encryptedStorage=r,this.appEnv=o,this.globalMemento=i,this.isWebExtension=a,this.configService=c,this.jupyterPickerRegistration=l,this._localOnly=!1,this._onDidChangeUri=new s.EventEmitter,this._onDidRemoveUris=new s.EventEmitter,this._onDidAddUri=new s.EventEmitter,(0,d.traceInfoIfCI)(`JupyterServerUriStorage: isWebExtension: ${a}`),(0,d.traceInfoIfCI)(`Global memento: ${this.globalMemento.get(t.mementoKeyToIndicateIfConnectingToLocalKernelsOnly,!0)}`),this._localOnly=!a&&this.globalMemento.get(t.mementoKeyToIndicateIfConnectingToLocalKernelsOnly,!0),this._currentServerId=this.globalMemento.get(t.currentServerHashKey,void 0),this.getUri().ignoreErrors()}get onDidChangeUri(){return this._onDidChangeUri.event}get onDidRemoveUris(){return this._onDidRemoveUris.event}get onDidAddUri(){return this._onDidAddUri.event}get currentServerId(){return this._currentServerId}get onDidChange(){return this._onDidChangeUri.event}get isLocalLaunch(){return this._localOnly}async addToUriList(e,t,n){const r=await this.getSavedUriList(),o=await(0,p.computeServerId)(e);if("Insiders"===this.configService.getSettings().kernelPickerType){const e=r.find((e=>e.serverId===o));e&&e.displayName&&(n=e.displayName)}const i=r.filter(((t,n)=>t.uri!==e&&n<c.Settings.JupyterServerUriListMax-1)),s={uri:e,time:t,serverId:o,displayName:n||e,isValidated:!0};if(i.push(s),this.currentUriPromise){const t=await this.currentUriPromise;t&&t.uri===e&&(this.currentUriPromise=Promise.resolve(s))}return this._onDidAddUri.fire(s),this.updateMemento(i)}async removeUri(e){const t=await this.getUri(),n=await this.getSavedUriList(),r=n.filter((t=>t.uri!==e));await this.updateMemento(r),(null==t?void 0:t.uri)===e&&await this.setUriToLocal();const o=n.find((t=>t.uri===e));o&&this._onDidRemoveUris.fire([o])}async updateMemento(e){const t=e.sort(((e,t)=>t.time-e.time)),n=t.map(((e,t)=>({index:t,time:e.time})));this.lastSavedList=Promise.resolve(t),await this.globalMemento.update(c.Settings.JupyterServerUriList,n);const r=t.map((e=>`${e.uri}${c.Settings.JupyterServerRemoteLaunchNameSeparator}${e.displayName&&e.displayName!==e.uri?e.displayName:c.Settings.JupyterServerRemoteLaunchUriEqualsDisplayName}`)).join(c.Settings.JupyterServerRemoteLaunchUriSeparator);return this.encryptedStorage.store(c.Settings.JupyterServerRemoteLaunchService,c.Settings.JupyterServerRemoteLaunchUriListKey,r)}async getSavedUriList(){return this.lastSavedList||(this.lastSavedList=(async()=>{const e=this.globalMemento.get(c.Settings.JupyterServerUriList);if(e&&e.length>0){const t=await this.encryptedStorage.retrieve(c.Settings.JupyterServerRemoteLaunchService,c.Settings.JupyterServerRemoteLaunchUriListKey);if(t){const n=t.split(c.Settings.JupyterServerRemoteLaunchUriSeparator),r=await Promise.all(n.slice(0,Math.min(n.length,e.length)).map((async(t,n)=>{const r=t.split(c.Settings.JupyterServerRemoteLaunchNameSeparator),o=r[0],i=await(0,p.computeServerId)(o),s=r[1]!==c.Settings.JupyterServerRemoteLaunchUriEqualsDisplayName&&r[1]?r[1]:o,a={time:e[n].time,serverId:i,displayName:s,uri:o,isValidated:!0};if(o===c.Settings.JupyterServerLocalLaunch)return a;try{const e=(0,p.extractJupyterServerHandleAndId)(o);if(e)return this.jupyterPickerRegistration.getJupyterServerUri(e.id,e.handle).then((()=>a),(()=>(a.isValidated=!1,a)))}catch(e){return(0,d.traceVerbose)(`Failed to extract jupyter server uri ${o} ${e}`),a.isValidated=!1,a}return a})));return(0,d.traceVerbose)(`Found ${r.length} saved URIs, ${JSON.stringify(r)}`),r}}return[]})()),this.lastSavedList}async clearUriList(){const e=await this.getSavedUriList();this.lastSavedList=Promise.resolve([]),await this.globalMemento.update(c.Settings.JupyterServerUriList,[]),await this.encryptedStorage.store(c.Settings.JupyterServerRemoteLaunchService,c.Settings.JupyterServerRemoteLaunchUriListKey,void 0),this._onDidRemoveUris.fire(e.map((e=>e)))}getUri(){return this.currentUriPromise||(this.currentUriPromise=this.getUriInternal()),this.currentUriPromise}async getRemoteUri(){try{const e=await this.getUri();return(0,d.traceInfoIfCI)(`getRemoteUri: ${null==e?void 0:e.uri}`),e}catch(e){return void(0,d.traceError)(`Exception getting uri: ${e}`)}}async setUriToLocal(){(0,d.traceInfoIfCI)("setUriToLocal"),await this.setUri(c.Settings.JupyterServerLocalLaunch,void 0)}async setUriToRemote(e,t){await this.addToUriList(e,Date.now(),t),await this.setUri(e,t)}async setUriToNone(){return(0,d.traceInfoIfCI)("setUriToNone"),this.setUri(void 0,void 0)}async setUri(e,n){this._currentServerId=e?await(0,p.computeServerId)(e):void 0;const r=e&&this._currentServerId?{uri:e,time:Date.now(),serverId:this._currentServerId,displayName:n||e,isValidated:!0}:void 0;if(this.currentUriPromise=Promise.resolve(r),(0,d.traceInfoIfCI)(`setUri: ${e}`),this._localOnly=(e===c.Settings.JupyterServerLocalLaunch||void 0===e)&&!this.isWebExtension,this._onDidChangeUri.fire(),await this.globalMemento.update(t.mementoKeyToIndicateIfConnectingToLocalKernelsOnly,this._localOnly),await this.globalMemento.update(t.currentServerHashKey,this._currentServerId),!this._localOnly&&e){await this.addToUriList(e,Date.now(),null!=n?n:e);const t=await this.getUriAccountKey();await this.encryptedStorage.store(c.Settings.JupyterServerRemoteLaunchService,t,e)}}async getUriInternal(){var e;const t=await this.getSavedUriList();if(this.isLocalLaunch)return null!==(e=t.find((e=>e.uri===c.Settings.JupyterServerLocalLaunch)))&&void 0!==e?e:{uri:c.Settings.JupyterServerLocalLaunch,time:Date.now(),serverId:"",displayName:"local",isValidated:!0};{const e=await this.getUriAccountKey(),n=await this.encryptedStorage.retrieve(c.Settings.JupyterServerRemoteLaunchService,e);return!this._currentServerId&&n&&(this._currentServerId=await(0,p.computeServerId)(n)),t.find((e=>e.serverId===this._currentServerId))}}async getUriAccountKey(){return this.workspaceService.rootFolder?this.crypto.createHash((0,l.getFilePath)(this.workspaceService.rootFolder),"SHA-512"):this.workspaceService.workspaceFile?this.crypto.createHash((0,l.getFilePath)(this.workspaceService.workspaceFile),"SHA-512"):this.appEnv.machineId}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IWorkspaceService)),o(1,(0,i.inject)(u.ICryptoUtils)),o(2,(0,i.inject)(a.IEncryptedStorage)),o(3,(0,i.inject)(a.IApplicationEnvironment)),o(4,(0,i.inject)(u.IMemento)),o(4,(0,i.named)(u.GLOBAL_MEMENTO)),o(5,(0,i.inject)(u.IsWebExtension)),o(6,(0,i.inject)(u.IConfigurationService)),o(7,(0,i.inject)(h.IJupyterUriProviderRegistration))],f),t.JupyterServerUriStorage=f},40262:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LiveRemoteKernelConnectionUsageTracker=t.mementoKeyToTrackRemoveKernelUrisAndSessionsUsedByResources=void 0;const i=n(86700),s=n(42080),a=n(58681),c=n(46875),l=n(94433);t.mementoKeyToTrackRemoveKernelUrisAndSessionsUsedByResources="removeKernelUrisAndSessionsUsedByResources";let u=class{constructor(e,t,n){this.disposables=e,this.uriStorage=t,this.memento=n,this.usedRemoteKernelServerIdsAndSessions={}}activate(){this.usedRemoteKernelServerIdsAndSessions=this.memento.get(t.mementoKeyToTrackRemoveKernelUrisAndSessionsUsedByResources,{}),this.uriStorage.onDidRemoveUris(this.onDidRemoveUris,this,this.disposables)}wasKernelUsed(e){return e.serverId in this.usedRemoteKernelServerIdsAndSessions&&"string"==typeof e.kernelModel.id&&e.kernelModel.id in this.usedRemoteKernelServerIdsAndSessions[e.serverId]}trackKernelIdAsUsed(e,n,r){this.usedRemoteKernelServerIdsAndSessions[n]=this.usedRemoteKernelServerIdsAndSessions[n]||{},this.usedRemoteKernelServerIdsAndSessions[n][r]=this.usedRemoteKernelServerIdsAndSessions[n][r]||[];const o=this.usedRemoteKernelServerIdsAndSessions[n][r];o.includes(e.toString())||(o.push(e.toString()),this.memento.update(t.mementoKeyToTrackRemoveKernelUrisAndSessionsUsedByResources,this.usedRemoteKernelServerIdsAndSessions).then(a.noop,a.noop))}trackKernelIdAsNotUsed(e,n,r){if(!(n in this.usedRemoteKernelServerIdsAndSessions))return;if(!(r in this.usedRemoteKernelServerIdsAndSessions[n]))return;const o=this.usedRemoteKernelServerIdsAndSessions[n][r];Array.isArray(o)&&o.includes(e.toString())&&(o.splice(o.indexOf(e.toString()),1),0===o.length&&delete this.usedRemoteKernelServerIdsAndSessions[n][r],0===Object.keys(this.usedRemoteKernelServerIdsAndSessions[n]).length&&delete this.usedRemoteKernelServerIdsAndSessions[n],this.memento.update(t.mementoKeyToTrackRemoveKernelUrisAndSessionsUsedByResources,this.usedRemoteKernelServerIdsAndSessions).then(a.noop,a.noop))}onDidRemoveUris(e){e.forEach((e=>{(0,c.computeServerId)(e.uri).then((e=>{delete this.usedRemoteKernelServerIdsAndSessions[e],this.memento.update(t.mementoKeyToTrackRemoveKernelUrisAndSessionsUsedByResources,this.usedRemoteKernelServerIdsAndSessions).then(a.noop,a.noop)})).ignoreErrors()}))}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IDisposableRegistry)),o(1,(0,i.inject)(l.IJupyterServerUriStorage)),o(2,(0,i.inject)(s.IMemento)),o(2,(0,i.named)(s.GLOBAL_MEMENTO))],u),t.LiveRemoteKernelConnectionUsageTracker=u},76385:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferredRemoteKernelIdProvider=t.MaximumKernelIdListSize=t.ActiveKernelIdList=void 0;const i=n(86700),s=n(50361),a=n(11642),c=n(35412),l=n(42080),u=n(9959);t.ActiveKernelIdList="Active_Kernel_Id_List",t.MaximumKernelIdListSize=100;let d=class{constructor(e,t){this.globalMemento=e,this.crypto=t}async getPreferredRemoteKernelId(e){const n=this.globalMemento.get(t.ActiveKernelIdList,[]);if(n){const t=await this.crypto.createHash(e.toString()),r=n.find((e=>e.fileHash===t));return(0,a.traceInfo)(`Preferred Remote kernel for ${(0,c.getDisplayPath)(e)} is ${null==r?void 0:r.kernelId}`),null==r?void 0:r.kernelId}}async clearPreferredRemoteKernelId(e){await this.updatePreferredRemoteKernelIdInternal(e)}async storePreferredRemoteKernelId(e,t){await this.updatePreferredRemoteKernelIdInternal(e,t)}async updatePreferredRemoteKernelIdInternal(e,n){let r=!1;const o=s(this.globalMemento.get(t.ActiveKernelIdList,[])),i=await this.crypto.createHash(e.toString()),l=o.findIndex((e=>e.fileHash===i));for(l>=0&&(r=!0,o.splice(l,1)),n&&(r=!0,o.push({fileHash:i,kernelId:n})),(0,u.sendTelemetryEvent)(u.Telemetry.NumberOfSavedRemoteKernelIds,{count:o.length});o.length>t.MaximumKernelIdListSize;)r=!0,o.shift();(0,a.traceVerbose)(`Storing Preferred remote kernel for ${(0,c.getDisplayPath)(e)} is ${n}`),r&&await this.globalMemento.update(t.ActiveKernelIdList,o)}};d=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IMemento)),o(0,(0,i.named)(l.GLOBAL_MEMENTO)),o(1,(0,i.inject)(l.ICryptoUtils))],d),t.PreferredRemoteKernelIdProvider=d},27527:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterServerSelector=void 0;const i=n(86700),s=n(14293),a=n(66828),c=n(10053),l=n(11642),u=n(25251),d=n(19450),p=n(58681),h=n(9959),f=n(9959),g=n(94433),m=n(90541),y=n(42080),v=n(46875),b=n(24319),S=n(84079),w=n(54990),C=n(50689),k="https://hostname:8080/?token=849d61a414abafab97bc4aab1f3547755ddc232c2b8cb7fe";let _=class{constructor(e,t,n,r,o,i,s,a,c,l,u){this.clipboard=e,this.multiStepFactory=t,this.extraUriProviders=n,this.serverUriStorage=r,this.errorHandler=o,this.applicationShell=i,this.configService=s,this.jupyterConnection=a,this.isWebExtension=c,this.workspaceService=l,this.disposableRegistry=u,this.createImpl(this.configService.getSettings().kernelPickerType),this.disposableRegistry.push(this.configService.getSettings().onDidChange((()=>{this.createImpl(this.configService.getSettings().kernelPickerType)})))}selectJupyterURI(e="nonUser",t){return this.impl.selectJupyterURI(e,t)}setJupyterURIToLocal(){return this.impl.setJupyterURIToLocal()}setJupyterURIToRemote(e,t){return this.impl.setJupyterURIToRemote(e,t)}createImpl(e){"OnlyOneTypeOfKernel"===e&&"OnlyOneTypeOfKernel"!==this.implType?(this.impl=new I(this.multiStepFactory,this.extraUriProviders,this.serverUriStorage,this.errorHandler,this.applicationShell,this.configService,this.jupyterConnection,this.isWebExtension),this.implType="OnlyOneTypeOfKernel"):"Stable"===e&&"Stable"!==this.implType?(this.impl=new E(this.clipboard,this.multiStepFactory,this.extraUriProviders,this.serverUriStorage,this.errorHandler,this.applicationShell,this.configService,this.jupyterConnection,this.isWebExtension),this.implType="Stable"):"Insiders"===e&&"Insiders"!==this.implType&&(this.impl=new P(this.clipboard,this.multiStepFactory,this.extraUriProviders,this.serverUriStorage,this.errorHandler,this.applicationShell,this.configService,this.jupyterConnection,this.isWebExtension),this.implType="Insiders")}};_=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IClipboard)),o(1,(0,i.inject)(d.IMultiStepInputFactory)),o(2,(0,i.inject)(g.IJupyterUriProviderRegistration)),o(3,(0,i.inject)(g.IJupyterServerUriStorage)),o(4,(0,i.inject)(m.IDataScienceErrorHandler)),o(5,(0,i.inject)(c.IApplicationShell)),o(6,(0,i.inject)(y.IConfigurationService)),o(7,(0,i.inject)(b.JupyterConnection)),o(8,(0,i.inject)(y.IsWebExtension)),o(9,(0,i.inject)(c.IWorkspaceService)),o(10,(0,i.inject)(y.IDisposableRegistry))],_),t.JupyterServerSelector=_;class I{constructor(e,t,n,r,o,i,s,a){this.multiStepFactory=e,this.extraUriProviders=t,this.serverUriStorage=n,this.errorHandler=r,this.applicationShell=o,this.configService=i,this.jupyterConnection=s,this.isWebExtension=a}selectJupyterURI(e="nonUser",t){return(0,h.sendTelemetryEvent)(f.Telemetry.SetJupyterURIUIDisplayed,void 0,{commandSource:e}),t?this.startSelectingURI(t,{}):this.multiStepFactory.create().run(this.startSelectingURI.bind(this),{})}async setJupyterURIToLocal(){await this.serverUriStorage.setUriToLocal()}async setJupyterURIToRemote(e,t){try{!t&&e&&await this.jupyterConnection.validateRemoteUri(e)}catch(t){if(S.JupyterSelfCertsError.isSelfCertsError(t)){if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleSelfCertsError)(this.applicationShell,this.configService,t.message))return}else if(C.JupyterSelfCertsExpiredError.isSelfCertsExpiredError(t)){if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleExpiredCertsError)(this.applicationShell,this.configService,t.message))return}else if(e){const n=await(0,v.computeServerId)(e);return void await this.errorHandler.handleError(new w.RemoteJupyterServerConnectionError(e,n,t))}}if(e){const t=await this.jupyterConnection.createConnectionInfo({uri:e});await this.serverUriStorage.setUriToRemote(e,t.displayName),(0,h.sendTelemetryEvent)(f.Telemetry.SetJupyterURIToUserSpecified,void 0,{azure:e.toLowerCase().includes("azure")})}else await this.serverUriStorage.setUriToNone()}async startSelectingURI(e,t){const n=await this.serverUriStorage.getRemoteUri(),r=await this.getUriPickList(n),o=r.find((e=>e.url===n)),i=n?null==o?void 0:o.label:u.DataScience.jupyterSelectURINoneLabel(),c=i?u.DataScience.jupyterSelectURIQuickPickCurrent().format(i):u.DataScience.jupyterSelectURIQuickPickPlaceholder();let p=Promise.resolve();const h=new a.EventEmitter,f=await e.showQuickPick({placeholder:c,items:r,activeItem:o,acceptFilterBoxTextAsSelection:!0,validate:this.validateSelectJupyterURI.bind(this),title:u.DataScience.jupyterSelectURIQuickPickTitle(),onDidTriggerItemButton:e=>{const t=e.item.url;if(t&&e.button.tooltip===u.DataScience.removeRemoteJupyterServerEntryInQuickPick())p=p.then((()=>this.serverUriStorage.removeUri(t).catch((e=>(0,l.traceError)("Failed to update Uri list",e))))),r.splice(r.indexOf(e.item),1),h.fire(r.concat([]));else if(e.button)throw d.InputFlowAction.back},onDidChangeItems:h.event});if(await p.catch((e=>(0,l.traceError)("Failed to update Uri list",e))),"string"==typeof f)await this.setJupyterURIToRemote(f);else{if(f.provider)return this.selectProviderURI.bind(this,f.provider,f);await this.setJupyterURIToRemote(s(f.url)?f.label:f.url)}}async selectProviderURI(e,t,n,r){if(!e.handleQuickPick)return;const o=await e.handleQuickPick(t,!0);if("back"===o)throw d.InputFlowAction.back;o&&await this.handleProviderQuickPick(e.id,o)}async handleProviderQuickPick(e,t){if(t){const n=(0,v.generateUriFromRemoteProvider)(e,t);await this.setJupyterURIToRemote(n)}}async validateSelectJupyterURI(e){let t="";if(!("provider"in e)){t="label"in e?e.label.trim():e.value.trim();try{new URL(t)}catch(e){return u.DataScience.jupyterSelectURIInvalidURI()}if(!t.toLowerCase().startsWith("http"))return u.DataScience.validationErrorMessageForRemoteUrlProtocolNeedsToBeHttpOrHttps();try{await this.jupyterConnection.validateRemoteUri(t)}catch(e){if((0,l.traceWarning)("Uri verification error",e),S.JupyterSelfCertsError.isSelfCertsError(e)){if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleSelfCertsError)(this.applicationShell,this.configService,e.message))return u.DataScience.jupyterSelfCertFailErrorMessageOnly()}else{if(!C.JupyterSelfCertsExpiredError.isSelfCertsExpiredError(e))return this.isWebExtension?u.DataScience.remoteJupyterConnectionFailedWithoutServerWithErrorWeb().format(e.message||e.toString()):u.DataScience.remoteJupyterConnectionFailedWithoutServerWithError().format(e.message||e.toString());if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleExpiredCertsError)(this.applicationShell,this.configService,e.message))return u.DataScience.jupyterSelfCertExpiredErrorMessageOnly()}}}}async getUriPickList(e){let t=[];const n=await this.extraUriProviders.getProviders();n&&n.forEach((e=>{if(!e.getQuickPickEntryItems)return;const n=e.getQuickPickEntryItems().map((t=>({...t,newChoice:!1,provider:e})));t=t.concat(n)}));let r=[...t];return(await this.serverUriStorage.getSavedUriList()).forEach((t=>{if(t.uri&&t.isValidated){const n=new Date(t.time),o=(null==e?void 0:e.uri)===t.uri;r.push({label:s(t.displayName)?t.uri:t.displayName,detail:u.DataScience.jupyterSelectURIMRUDetail().format(n.toLocaleString()),url:t.uri,buttons:o?[]:[{iconPath:new a.ThemeIcon("trash"),tooltip:u.DataScience.removeRemoteJupyterServerEntryInQuickPick()}]})}})),r}}r([(0,h.capturePerfTelemetry)(f.Telemetry.SelectJupyterURI)],I.prototype,"selectJupyterURI",null),r([(0,h.capturePerfTelemetry)(f.Telemetry.SetJupyterURIToLocal)],I.prototype,"setJupyterURIToLocal",null),r([(0,h.capturePerfTelemetry)(f.Telemetry.EnterJupyterURI),(0,l.traceDecoratorError)("Failed to enter Jupyter Uri")],I.prototype,"setJupyterURIToRemote",null);let E=class{constructor(e,t,n,r,o,i,s,a,c){this.clipboard=e,this.multiStepFactory=t,this.extraUriProviders=n,this.serverUriStorage=r,this.errorHandler=o,this.applicationShell=i,this.configService=s,this.jupyterConnection=a,this.isWebExtension=c,this.localLabel=`$(zap) ${u.DataScience.jupyterSelectURINoneLabel()}`,this.newLabel=`$(server) ${u.DataScience.jupyterSelectURINewLabel()}`,this.remoteLabel=`$(server) ${u.DataScience.jupyterSelectURIRemoteLabel()}`,this.validateSelectJupyterURI=async e=>{e=e.trim();try{new URL(e)}catch(e){return u.DataScience.jupyterSelectURIInvalidURI()}if(!e.toLowerCase().startsWith("http"))return u.DataScience.validationErrorMessageForRemoteUrlProtocolNeedsToBeHttpOrHttps();try{await this.jupyterConnection.validateRemoteUri(e)}catch(e){if((0,l.traceWarning)("Uri verification error",e),S.JupyterSelfCertsError.isSelfCertsError(e)){if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleSelfCertsError)(this.applicationShell,this.configService,e.message))return u.DataScience.jupyterSelfCertFailErrorMessageOnly()}else{if(!C.JupyterSelfCertsExpiredError.isSelfCertsExpiredError(e))return this.isWebExtension&&this.applicationShell.showErrorMessage(u.DataScience.remoteJupyterConnectionFailedWebExtension()).then(p.noop,p.noop),u.DataScience.remoteJupyterConnectionFailedWithoutServerWithError().format(e.message||e.toString());if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleExpiredCertsError)(this.applicationShell,this.configService,e.message))return u.DataScience.jupyterSelfCertExpiredErrorMessageOnly()}}}}selectJupyterURI(e="nonUser"){const t="nonUser"!==e;return(0,h.sendTelemetryEvent)(f.Telemetry.SetJupyterURIUIDisplayed,void 0,{commandSource:e}),this.multiStepFactory.create().run(this.startSelectingURI.bind(this,t),{})}async setJupyterURIToLocal(){await this.serverUriStorage.setUriToLocal()}async setJupyterURIToRemote(e,t){try{t||await this.jupyterConnection.validateRemoteUri(e)}catch(t){if(S.JupyterSelfCertsError.isSelfCertsError(t)){if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleSelfCertsError)(this.applicationShell,this.configService,t.message))return}else{if(!C.JupyterSelfCertsExpiredError.isSelfCertsExpiredError(t)){const n=await(0,v.computeServerId)(e);return void await this.errorHandler.handleError(new w.RemoteJupyterServerConnectionError(e,n,t))}if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleExpiredCertsError)(this.applicationShell,this.configService,t.message))return}}const n=await this.jupyterConnection.createConnectionInfo({uri:e});await this.serverUriStorage.setUriToRemote(e,n.displayName),(0,h.sendTelemetryEvent)(f.Telemetry.SetJupyterURIToUserSpecified,void 0,{azure:e.toLowerCase().includes("azure")})}async startSelectingURI(e,t,n){const r=await this.serverUriStorage.getRemoteUri(),o=await this.getUriPickList(e,r),i=o.find((e=>e.url===r||e.label===this.localLabel&&!r)),c=r?null==i?void 0:i.label:u.DataScience.jupyterSelectURINoneLabel(),d=c?u.DataScience.jupyterSelectURIQuickPickCurrent().format(c):u.DataScience.jupyterSelectURIQuickPickPlaceholder();let p=Promise.resolve();const h=new a.EventEmitter,f=await t.showQuickPick({placeholder:d,items:o,activeItem:i,title:e?u.DataScience.jupyterSelectURIQuickPickTitleOld():u.DataScience.jupyterSelectURIQuickPickTitleRemoteOnly(),onDidTriggerItemButton:e=>{const t=e.item.url;t&&e.button.tooltip===u.DataScience.removeRemoteJupyterServerEntryInQuickPick()&&(p=p.then((()=>this.serverUriStorage.removeUri(t).catch((e=>(0,l.traceError)("Failed to update Uri list",e))))),o.splice(o.indexOf(e.item),1),h.fire(o.concat([])))},onDidChangeItems:h.event});if(await p.catch((e=>(0,l.traceError)("Failed to update Uri list",e))),f.label===this.localLabel)await this.setJupyterURIToLocal();else{if(f.newChoice||f.provider)return f.provider?this.selectProviderURI.bind(this,f.provider,f):this.selectRemoteURI.bind(this);await this.setJupyterURIToRemote(s(f.url)?f.label:f.url)}}async selectProviderURI(e,t,n,r){if(!e.handleQuickPick)return;const o=await e.handleQuickPick(t,!0);if("back"===o)throw d.InputFlowAction.back;o&&await this.handleProviderQuickPick(e.id,o)}async handleProviderQuickPick(e,t){if(t){const n=(0,v.generateUriFromRemoteProvider)(e,t);await this.setJupyterURIToRemote(n)}}async selectRemoteURI(e,t){let n=k;try{const e=await this.clipboard.readText().catch((()=>"")),t=a.Uri.parse(e.trim(),!0);n=e&&t&&t.scheme.toLowerCase().startsWith("http")?e:k}catch(e){}const r=await e.showInputBox({title:u.DataScience.jupyterSelectURIPrompt(),value:n||k,validate:this.validateSelectJupyterURI,prompt:""});r&&await this.setJupyterURIToRemote(r,!0)}async getUriPickList(e,t){let n=[];const r=await this.extraUriProviders.getProviders();r&&r.forEach((e=>{if(!e.getQuickPickEntryItems)return;const t=e.getQuickPickEntryItems().map((t=>({...t,newChoice:!1,provider:e})));n=n.concat(t)}));let o=[];return e?(o.push({label:this.localLabel,detail:u.DataScience.jupyterSelectURINoneDetail(),newChoice:!1}),o=o.concat(n),o.push({label:this.newLabel,detail:u.DataScience.jupyterSelectURINewDetail(),newChoice:!0})):(o=o.concat(n),o.push({label:this.remoteLabel,detail:u.DataScience.jupyterSelectURIRemoteDetail(),newChoice:!0})),(await this.serverUriStorage.getSavedUriList()).forEach((e=>{if(e.uri&&e.isValidated){const n=new Date(e.time),r=(null==t?void 0:t.uri)===e.uri;o.push({label:s(e.displayName)?e.uri:e.displayName,detail:u.DataScience.jupyterSelectURIMRUDetail().format(n.toLocaleString()),newChoice:!1,url:e.uri,buttons:r?[]:[{iconPath:new a.ThemeIcon("trash"),tooltip:u.DataScience.removeRemoteJupyterServerEntryInQuickPick()}]})}})),o}};r([(0,h.capturePerfTelemetry)(f.Telemetry.SelectJupyterURI),(0,l.traceDecoratorError)("Failed to select Jupyter Uri")],E.prototype,"selectJupyterURI",null),r([(0,h.capturePerfTelemetry)(f.Telemetry.SetJupyterURIToLocal)],E.prototype,"setJupyterURIToLocal",null),E=r([o(7,(0,i.inject)(b.JupyterConnection)),o(8,(0,i.inject)(y.IsWebExtension))],E);let P=class{constructor(e,t,n,r,o,i,s,a,c){this.clipboard=e,this.multiStepFactory=t,this.extraUriProviders=n,this.serverUriStorage=r,this.errorHandler=o,this.applicationShell=i,this.configService=s,this.jupyterConnection=a,this.isWebExtension=c,this.localLabel=`$(zap) ${u.DataScience.jupyterSelectURINoneLabel()}`,this.newLabel=`$(server) ${u.DataScience.jupyterSelectURINewLabel()}`,this.remoteLabel=`$(server) ${u.DataScience.jupyterSelectURIRemoteLabel()}`,this.validateSelectJupyterURI=async e=>{e=e.trim();try{new URL(e)}catch(e){return u.DataScience.jupyterSelectURIInvalidURI()}if(!e.toLowerCase().startsWith("http"))return u.DataScience.validationErrorMessageForRemoteUrlProtocolNeedsToBeHttpOrHttps();try{await this.jupyterConnection.validateRemoteUri(e)}catch(e){if((0,l.traceWarning)("Uri verification error",e),S.JupyterSelfCertsError.isSelfCertsError(e)){if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleSelfCertsError)(this.applicationShell,this.configService,e.message))return u.DataScience.jupyterSelfCertFailErrorMessageOnly()}else{if(!C.JupyterSelfCertsExpiredError.isSelfCertsExpiredError(e))return this.isWebExtension&&this.applicationShell.showErrorMessage(u.DataScience.remoteJupyterConnectionFailedWebExtension()).then(p.noop,p.noop),u.DataScience.remoteJupyterConnectionFailedWithoutServerWithError().format(e.message||e.toString());if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleExpiredCertsError)(this.applicationShell,this.configService,e.message))return u.DataScience.jupyterSelfCertExpiredErrorMessageOnly()}}}}selectJupyterURI(e="nonUser"){const t="nonUser"!==e;return(0,h.sendTelemetryEvent)(f.Telemetry.SetJupyterURIUIDisplayed,void 0,{commandSource:e}),this.multiStepFactory.create().run(this.startSelectingURI.bind(this,t),{})}async setJupyterURIToLocal(){await this.serverUriStorage.setUriToLocal()}async setJupyterURIToRemote(e,t,n){try{t||await this.jupyterConnection.validateRemoteUri(e)}catch(t){if(S.JupyterSelfCertsError.isSelfCertsError(t)){if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleSelfCertsError)(this.applicationShell,this.configService,t.message))return}else{if(!C.JupyterSelfCertsExpiredError.isSelfCertsExpiredError(t)){const n=await(0,v.computeServerId)(e);return void await this.errorHandler.handleError(new w.RemoteJupyterServerConnectionError(e,n,t))}if((0,h.sendTelemetryEvent)(f.Telemetry.ConnectRemoteSelfCertFailedJupyter),!await(0,v.handleExpiredCertsError)(this.applicationShell,this.configService,t.message))return}}const r=await this.jupyterConnection.createConnectionInfo({uri:e});n&&(r.displayName=n),await this.serverUriStorage.setUriToRemote(e,r.displayName),(0,h.sendTelemetryEvent)(f.Telemetry.SetJupyterURIToUserSpecified,void 0,{azure:e.toLowerCase().includes("azure")})}async startSelectingURI(e,t,n){const r=await this.serverUriStorage.getRemoteUri(),o=await this.getUriPickList(e,r),i=o.find((e=>e.url===r||e.label===this.localLabel&&!r)),c=r?null==i?void 0:i.label:u.DataScience.jupyterSelectURINoneLabel(),d=c?u.DataScience.jupyterSelectURIQuickPickCurrent().format(c):u.DataScience.jupyterSelectURIQuickPickPlaceholder();let p=Promise.resolve();const h=new a.EventEmitter,f=await t.showQuickPick({placeholder:d,items:o,activeItem:i,title:e?u.DataScience.jupyterSelectURIQuickPickTitleOld():u.DataScience.jupyterSelectURIQuickPickTitleRemoteOnly(),onDidTriggerItemButton:e=>{const t=e.item.url;t&&e.button.tooltip===u.DataScience.removeRemoteJupyterServerEntryInQuickPick()&&(p=p.then((()=>this.serverUriStorage.removeUri(t).catch((e=>(0,l.traceError)("Failed to update Uri list",e))))),o.splice(o.indexOf(e.item),1),h.fire(o.concat([])))},onDidChangeItems:h.event});if(await p.catch((e=>(0,l.traceError)("Failed to update Uri list",e))),f.label===this.localLabel)await this.setJupyterURIToLocal();else{if(f.newChoice||f.provider)return f.provider?this.selectProviderURI.bind(this,f.provider,f):this.selectRemoteURI.bind(this);await this.setJupyterURIToRemote(s(f.url)?f.label:f.url,!1,f.label)}}async selectProviderURI(e,t,n,r){if(!e.handleQuickPick)return;const o=await e.handleQuickPick(t,!0);if("back"===o)throw d.InputFlowAction.back;o&&await this.handleProviderQuickPick(e.id,o)}async handleProviderQuickPick(e,t){if(t){const n=(0,v.generateUriFromRemoteProvider)(e,t);await this.setJupyterURIToRemote(n)}}async selectRemoteURI(e,t){let n=k;try{const e=await this.clipboard.readText().catch((()=>"")),t=a.Uri.parse(e.trim(),!0);n=e&&t&&t.scheme.toLowerCase().startsWith("http")?e:k}catch(e){}const r=await e.showInputBox({title:u.DataScience.jupyterSelectURIPrompt(),value:n||k,validate:this.validateSelectJupyterURI,prompt:""}),o=await this.applicationShell.showInputBox({title:u.DataScience.jupyterRenameServer()});r&&await this.setJupyterURIToRemote(r,!0,o||r)}async getUriPickList(e,t){let n=[];const r=await this.extraUriProviders.getProviders();r&&r.forEach((e=>{if(!e.getQuickPickEntryItems)return;const t=e.getQuickPickEntryItems().map((t=>({...t,newChoice:!1,provider:e})));n=n.concat(t)}));let o=[];return e?(o.push({label:this.localLabel,detail:u.DataScience.jupyterSelectURINoneDetail(),newChoice:!1}),o=o.concat(n),o.push({label:this.newLabel,detail:u.DataScience.jupyterSelectURINewDetail(),newChoice:!0})):(o=o.concat(n),o.push({label:this.remoteLabel,detail:u.DataScience.jupyterSelectURIRemoteDetail(),newChoice:!0})),(await this.serverUriStorage.getSavedUriList()).forEach((e=>{if(e.uri){const n=new Date(e.time),r=(null==t?void 0:t.uri)===e.uri;o.push({label:s(e.displayName)?e.uri:e.displayName,detail:u.DataScience.jupyterSelectURIMRUDetail().format(n.toLocaleString()),description:s(e.displayName)||e.displayName===e.uri?void 0:e.uri,newChoice:!1,url:e.uri,buttons:r?[]:[{iconPath:new a.ThemeIcon("trash"),tooltip:u.DataScience.removeRemoteJupyterServerEntryInQuickPick()}]})}})),o}};r([(0,h.capturePerfTelemetry)(f.Telemetry.SelectJupyterURI),(0,l.traceDecoratorError)("Failed to select Jupyter Uri")],P.prototype,"selectJupyterURI",null),r([(0,h.capturePerfTelemetry)(f.Telemetry.SetJupyterURIToLocal)],P.prototype,"setJupyterURIToLocal",null),P=r([o(7,(0,i.inject)(b.JupyterConnection)),o(8,(0,i.inject)(y.IsWebExtension))],P)},24150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(52064),o=n(26320),i=n(90541),s=n(94062),a=n(56667),c=n(18026),l=n(24319),u=n(24048),d=n(26585),p=n(54179),h=n(71225),f=n(41090),g=n(2219),m=n(72964),y=n(89847),v=n(89517),b=n(25153),S=n(10651),w=n(40262),C=n(89566),k=n(27527),_=n(58851),I=n(15352),E=n(19785),P=n(94433),D=n(86590),T=n(42080),x=n(23767);t.registerTypes=function(e,t){e.addSingleton(P.IJupyterNotebookProvider,f.JupyterNotebookProvider),e.addSingleton(r.IExtensionSingleActivationService,C.RemoteKernelFinder),e.addSingleton(P.IJupyterExecution,m.HostJupyterExecution),e.add(P.INotebookServerFactory,y.HostJupyterServerFactory),e.addSingleton(P.IJupyterPasswordConnect,g.JupyterPasswordConnect),e.addSingleton(P.IJupyterSessionManagerFactory,E.JupyterSessionManagerFactory),e.addSingleton(k.JupyterServerSelector,k.JupyterServerSelector),e.addSingleton(P.IJupyterKernelService,u.JupyterKernelService),e.addSingleton(P.IJupyterUriProviderRegistration,p.JupyterUriProviderRegistration),e.addSingleton(P.IJupyterServerUriStorage,S.JupyterServerUriStorage),e.addBinding(P.IJupyterServerUriStorage,P.IServerConnectionType),e.addSingleton(s.INotebookProvider,v.NotebookProvider),e.addSingleton(P.IJupyterBackingFileCreator,_.BackingFileCreator),e.addSingleton(r.IExtensionSingleActivationService,c.CommandRegistry),e.addSingleton(h.JupyterCommandLineSelector,h.JupyterCommandLineSelector),e.addSingleton(a.JupyterCommandLineSelectorCommand,a.JupyterCommandLineSelectorCommand),e.addSingleton(P.IJupyterServerProvider,b.NotebookServerProvider),e.addSingleton(P.IJupyterRequestCreator,I.JupyterRequestCreator),e.addSingleton(l.JupyterConnection,l.JupyterConnection),e.addBinding(l.JupyterConnection,r.IExtensionSyncActivationService),e.addSingleton(P.ILiveRemoteKernelConnectionUsageTracker,w.LiveRemoteKernelConnectionUsageTracker),e.addBinding(P.ILiveRemoteKernelConnectionUsageTracker,r.IExtensionSyncActivationService),e.addSingleton(P.IJupyterRemoteCachedKernelValidator,d.JupyterRemoteCachedKernelValidator),e.addSingleton(i.IDataScienceErrorHandler,o.DataScienceErrorHandlerWeb),e.addSingleton(r.IExtensionSyncActivationService,D.CellOutputMimeTypeTracker),"Insiders"===e.get(T.IConfigurationService).getSettings().kernelPickerType?e.addSingleton(r.IExtensionSingleActivationService,x.UniversalRemoteKernelFinderController):e.addSingleton(r.IExtensionSingleActivationService,C.RemoteKernelFinder)}},7958:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBackingFileCreator=t.generateBackingIPyNbFileName=void 0;const a=s(n(71171)),c=n(11642),l=n(25251),u=n(98729),d=n(94062),p=i(n(52859)),h=i(n(15948));function f(e){const t=`${u.jvscIdentifier}${(0,a.default)()}${(0,a.default)()}.ipynb`;return e?`${p.basename(e,".ipynb")}${t}`:`${l.DataScience.defaultNotebookName()}${t}`}t.generateBackingIPyNbFileName=f,t.BaseBackingFileCreator=class{async createBackingFile(e,t,n,r,o){var i;let s;const a=null===(i=p.relativePath(r.rootDirectory,t))||void 0===i?void 0:i.replace(/\\/g,"/"),l=(0,d.isLocalConnection)(n)&&a&&!a.startsWith("..")?{type:"notebook",path:a}:{type:"notebook"},u=f(e);try{s=await o.newUntitled(l);const e=h.dirname(s.path);s=await o.rename(s.path,e.length&&"."!==e?`${e}/${u}`:u)}catch(e){if((0,d.isLocalConnection)(n))try{s=await o.newUntitled({type:"notebook"});const e=h.dirname(s.path);s=await o.rename(s.path,e.length&&"."!==e?`${e}/${u}`:u)}catch(e){}else(0,c.traceError)(`Backing file not supported: ${e}`)}if(s){const e=s.path;return{filePath:e,dispose:()=>o.delete(e)}}}}},58851:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BackingFileCreator=void 0;const o=n(86700),i=n(7958);let s=class extends i.BaseBackingFileCreator{};s=r([(0,o.injectable)()],s),t.BackingFileCreator=s},15352:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterRequestCreator=void 0;const i=n(86700),s=o(n(46792)),a=n(11642),c=n(56940),l=new Map;let u=class{getRequestCtor(e,t,n){class r extends Request{constructor(t,r){super(t,r);const o=this.headers;if(n){const e=n();Object.keys(e).forEach((t=>o.append(t,e[t].toString()))),o.set("Content-Type","application/json");const t=o.append.bind(o);o.append=(e,n)=>{"authorization"!==e.toLowerCase()&&t(e,n)}}e&&this.headers.append("Cookie",e)}}return r}getWebsocketCtor(e,t,n){class r extends((0,c.KernelSocketWrapper)(s.default)){constructor(e,t){super(e,t),this.timer=0,this.boundOpenHandler=this.openHandler.bind(this);const n=/.*\/kernels\/(.*)\/.*/.exec(e);n&&n.length>1&&(this.kernelId=n[1]),this.kernelId?(l.set(this.kernelId,this),this.onclose=()=>{l.get(this.kernelId)===this&&l.delete(this.kernelId)}):(0,a.traceError)("KernelId not extracted from Kernel WebSocket URL"),this.addEventListener("open",this.boundOpenHandler)}openHandler(){const e=this.onmessage;this.onmessage=t=>{this.handleEvent(((t,...n)=>{const r={data:n[0],type:t.toString(),target:this};return e(r),!0}),"message",t.data)},this.removeEventListener("open",this.boundOpenHandler)}}return r}getWebsocket(e){return l.get(e)}getFetchMethod(){return fetch}getHeadersCtor(){return Headers}getRequestInit(){return{cache:"no-store"}}};u=r([(0,i.injectable)()],u),t.JupyterRequestCreator=u},82341:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSession=void 0;const i=o(n(71171)),s=n(39054),a=n(6491),c=n(37853),l=n(11642),u=n(43138),d=n(25251),p=n(71798),h=n(65864),f=n(9959),g=n(79806),m=n(98729),y=n(94062),v=n(88960),b=n(66828),S=n(7958),w=n(58681);class C extends g.BaseJupyterSession{constructor(e,t,n,r,o,i,s,a,c,l,u,d,p,h){super(e,n,a,u),this.connInfo=t,this.specsManager=r,this.sessionManager=o,this.contentsManager=i,this.outputChannel=s,this.workingDirectory=a,this.idleTimeout=c,this.kernelService=l,this.backingFileCreator=d,this.requestCreator=p,this.sessionCreator=h,this.kind=t.localLaunch?"localJupyter":"remoteJupyter"}isServerSession(){return!0}waitForIdle(e,t){return this.waitForIdleOnSession(this.session,e,t)}async connect(e){var t;this.setSession(await this.createNewKernelSession(e)),null===(t=this.session)||void 0===t||t.statusChanged.connect(this.statusHandler),this.connected=!0}async createNewKernelSession(e){var t;let n;try{if(this.kernelConnectionMetadata&&"connectToLiveRemoteKernel"===this.kernelConnectionMetadata.kind&&this.kernelConnectionMetadata.kernelModel.id&&this.kernelConnectionMetadata.kernelModel.model){if(n=this.sessionManager.connectTo({...this.kernelConnectionMetadata.kernelModel,model:this.kernelConnectionMetadata.kernelModel.model}),n.kernelConnectionMetadata=this.kernelConnectionMetadata,n.kernelSocketInformation={socket:this.requestCreator.getWebsocket(this.kernelConnectionMetadata.id),options:{clientId:"",id:this.kernelConnectionMetadata.id,model:{...this.kernelConnectionMetadata.kernelModel.model},userName:""}},n.isRemoteSession=!0,n.resource=this.resource,await(0,u.waitForCondition)((async()=>{var t;return"connected"===(null===(t=null==n?void 0:n.kernel)||void 0===t?void 0:t.connectionStatus)||e.token.isCancellationRequested}),this.idleTimeout,100),e.token.isCancellationRequested)throw new b.CancellationError}else(0,l.traceVerbose)(`createNewKernelSession ${null===(t=this.kernelConnectionMetadata)||void 0===t?void 0:t.id}`),n=await this.createSession(e),n.resource=this.resource,await this.waitForIdleOnSession(n,this.idleTimeout,e.token)}catch(t){const n=e.ui.disableUI?l.traceVerbose:l.traceError;throw t instanceof c.BaseError?(n("Failed to change kernel, re-throwing",t),t):(n("Failed to change kernel",t),new p.JupyterInvalidKernelError(this.kernelConnectionMetadata))}return n}async createRestartSession(e,t,n){var r;if(!t||!this.contentsManager||!this.sessionManager)throw new h.SessionDisposedError;let o;const i=new v.DisplayOptions(e);try{return(0,l.traceVerbose)(`JupyterSession.createNewKernelSession 0, id is ${null===(r=this.kernelConnectionMetadata)||void 0===r?void 0:r.id}`),o=await this.createSession({token:n,ui:i}),await this.waitForIdleOnSession(o,this.idleTimeout,n),o}catch(e){throw(0,l.traceInfo)(`Error waiting for restart session: ${e}`),o&&this.shutdownSession(o,void 0,!0).ignoreErrors(),o=void 0,e}finally{i.dispose()}}startRestartSession(e){if(!this.session)throw new Error("Session disposed or not initialized");const t=new s.CancellationTokenSource,n=this.createRestartSession(e,this.session,t.token);return this.restartSessionPromise={token:t,promise:n},n.finally((()=>{var e;t.dispose(),(null===(e=this.restartSessionPromise)||void 0===e?void 0:e.promise)===n&&(this.restartSessionPromise=void 0)})).catch(w.noop),n}async invokeWithFileSynced(e,t){if(!this.resource)return;const n=await this.backingFileCreator.createBackingFile(this.resource,this.workingDirectory,this.kernelConnectionMetadata,this.connInfo,this.contentsManager);n&&(await this.contentsManager.save(n.filePath,{content:JSON.parse(e),type:"notebook"}).ignoreErrors(),await t({filePath:n.filePath,dispose:n.dispose.bind(n)}),await n.dispose(),await this.contentsManager.delete(n.filePath).ignoreErrors())}async createTempfile(e){return(await this.contentsManager.newUntitled({type:"file",ext:e})).path}async deleteTempfile(e){await this.contentsManager.delete(e)}async getContents(e,t){return await this.contentsManager.get(e,{type:"file",format:t,content:!0})}async createSession(e){var t,n,r,o,s;const c=await this.backingFileCreator.createBackingFile(this.resource,this.workingDirectory,this.kernelConnectionMetadata,this.connInfo,this.contentsManager);if((null===(t=this.kernelConnectionMetadata)||void 0===t?void 0:t.interpreter)&&(0,y.isLocalConnection)(this.kernelConnectionMetadata)&&this.kernelService)try{await this.kernelService.ensureKernelIsUsable(this.resource,this.kernelConnectionMetadata,e.ui,e.token,"3rdPartyExtension"===this.sessionCreator)}catch(e){throw this.connInfo&&c&&this.contentsManager.delete(c.filePath).ignoreErrors(),e}const l=null!==(s=null!==(n=(0,m.getNameOfKernelConnection)(this.kernelConnectionMetadata))&&void 0!==n?n:null===(o=null===(r=this.specsManager)||void 0===r?void 0:r.specs)||void 0===o?void 0:o.default)&&void 0!==s?s:"",u={path:(null==c?void 0:c.filePath)||(0,S.generateBackingIPyNbFileName)(this.resource),kernel:{name:l},name:(0,i.default)(),type:"notebook"},p=this.requestCreator;return a.Cancellation.race((()=>this.sessionManager.startNew(u,{kernelConnectionOptions:{handleComms:!0}}).then((async e=>{var t;if(e.kernel){this.logRemoteOutput(d.DataScience.createdNewKernel().format(this.connInfo.baseUrl,(null===(t=null==e?void 0:e.kernel)||void 0===t?void 0:t.id)||""));const n=e;return n.resource=this.resource,n.kernelConnectionMetadata=this.kernelConnectionMetadata,n.kernelSocketInformation={get socket(){return p.getWebsocket(e.kernel.id)},options:{clientId:e.kernel.clientId,id:e.kernel.id,model:{...e.kernel.model},userName:e.kernel.username}},(0,y.isLocalConnection)(this.kernelConnectionMetadata)||(n.isRemoteSession=!0),n}throw new g.JupyterSessionStartError(new Error("No kernel created"))})).catch((e=>Promise.reject(new g.JupyterSessionStartError(e)))).finally((async()=>{this.connInfo&&c&&this.contentsManager.delete(c.filePath).ignoreErrors()}))),e.token)}logRemoteOutput(e){(0,y.isLocalConnection)(this.kernelConnectionMetadata)||this.outputChannel.appendLine(e)}}r([(0,f.capturePerfTelemetry)(f.Telemetry.WaitForIdleJupyter)],C.prototype,"waitForIdle",null),t.JupyterSession=C},28866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSessionManager=void 0;const r=n(11642),o=n(25251),i=n(65864),s=n(98729),a=n(47028),c=n(82341),l=n(43138);class u{constructor(e,t,n,r,o,i,s,a,c,l,u){this.jupyterPasswordConnect=e,this.failOnPassword=n,this.outputChannel=r,this.configService=o,this.appShell=i,this.stateFactory=s,this.kernelService=a,this.backingFileCreator=c,this.requestAgentCreator=l,this.requestCreator=u,this.userAllowsInsecureConnections=this.stateFactory.createGlobalPersistentState("DataScienceAllowInsecureConnections",!1)}get jupyterlab(){return this._jupyterlab||(this._jupyterlab=n(76240)),this._jupyterlab}async dispose(){var e,t,n,o;if(!this.disposed){this.disposed=!0,(0,r.traceVerbose)("Disposing session manager");try{this.contentsManager&&((0,r.traceVerbose)("SessionManager - dispose contents manager"),this.contentsManager.dispose(),this.contentsManager=void 0),this.sessionManager&&!this.sessionManager.isDisposed&&((0,r.traceVerbose)("ShutdownSessionAndConnection - dispose session manager"),await Promise.race([(0,l.sleep)(1e4),this.sessionManager.ready]),this.sessionManager.dispose(),this.sessionManager=void 0),(null===(e=this.kernelManager)||void 0===e?void 0:e.isDisposed)||null===(t=this.kernelManager)||void 0===t||t.dispose(),(null===(n=this.specsManager)||void 0===n?void 0:n.isDisposed)||(null===(o=this.specsManager)||void 0===o||o.dispose(),this.specsManager=void 0)}catch(e){(0,r.traceError)("Exception on session manager shutdown: ",e)}finally{(0,r.traceVerbose)("Finished disposing jupyter session manager")}}}async initialize(e){this.connInfo=e,this.serverSettings=await this.getServerConnectSettings(e),this.specsManager=new this.jupyterlab.KernelSpecManager({serverSettings:this.serverSettings}),this.kernelManager=new this.jupyterlab.KernelManager({serverSettings:this.serverSettings}),this.sessionManager=new this.jupyterlab.SessionManager({serverSettings:this.serverSettings,kernelManager:this.kernelManager}),this.contentsManager=new this.jupyterlab.ContentsManager({serverSettings:this.serverSettings})}async getRunningSessions(){if(!this.sessionManager)return[];await this.sessionManager.refreshRunning();const e=[],t=this.sessionManager.running();let n=t.next();for(;n;)e.push(n),n=t.next();return e}async getRunningKernels(){const e=await this.jupyterlab.KernelAPI.listRunning(this.serverSettings),t=new Set;return e.map((e=>{const t=e;return{id:e.id,name:e.name,lastActivityTime:t.last_activity?new Date(Date.parse(t.last_activity.toString())):new Date,numberOfConnections:t.connections?parseInt(t.connections.toString(),10):0}})).filter((e=>!t.has(e.id)&&(t.add(e.id),!0)))}async startNew(e,t,n,r,o,s){if(!(this.connInfo&&this.sessionManager&&this.contentsManager&&this.serverSettings&&this.specsManager))throw new i.SessionDisposedError;const a=new c.JupyterSession(e,this.connInfo,t,this.specsManager,this.sessionManager,this.contentsManager,this.outputChannel,n,this.configService.getSettings(e).jupyterLaunchTimeout,this.kernelService,this.configService.getSettings(e).jupyterInterruptTimeout,this.backingFileCreator,this.requestCreator,s);try{await a.connect({token:o,ui:r})}finally{a.isConnected||await a.dispose()}return a}async getKernelSpecs(){var e,t,n;if(!this.connInfo||!this.sessionManager||!this.contentsManager)throw new i.SessionDisposedError;try{const o=(null===(e=this.specsManager)||void 0===e?void 0:e.specs)&&Object.keys(this.specsManager.specs.kernelspecs).length?this.specsManager.specs.kernelspecs:{};await Promise.race([(0,l.sleep)(1e4),this.sessionManager.ready]),await Promise.race([(0,l.sleep)(1e4),null===(t=this.specsManager)||void 0===t?void 0:t.refreshSpecs()]);const i=(null===(n=this.specsManager)||void 0===n?void 0:n.specs)&&Object.keys(this.specsManager.specs.kernelspecs).length?this.specsManager.specs.kernelspecs:o,c=Object.keys(i);return c&&c.length?c.map((e=>{const t=i[e];return new a.JupyterKernelSpec(t)})):((0,r.traceError)(`SessionManager cannot enumerate kernelspecs. Returning default ${JSON.stringify(i)}.`),[await(0,s.createInterpreterKernelSpec)()])}catch(e){return(0,r.traceError)("SessionManager:getKernelSpecs failure: ",e),[]}}async getServerConnectSettings(e){let t={baseUrl:e.baseUrl,appUrl:"",wsUrl:e.baseUrl.replace("http","ws")};await this.secureConnectionCheck(e);let n,i=this.requestCreator.getRequestInit();if(""!==e.token&&"null"!==e.token||e.getAuthHeader)t={...t,token:e.token,appendToken:!0};else{if(this.failOnPassword)throw new Error("Password request not allowed.");t={...t,token:""};const r=await this.jupyterPasswordConnect.getPasswordConnectionInfo(e.baseUrl);if(r&&r.requestHeaders)i={...i,headers:r.requestHeaders},n=r.requestHeaders.Cookie||"",r.remappedBaseUrl&&(t.baseUrl=r.remappedBaseUrl,t.wsUrl=r.remappedBaseUrl.replace("http","ws")),r.remappedToken&&(t.token=r.remappedToken);else{if(!r)throw new Error(o.DataScience.passwordFailure());t={...t,token:e.token}}}const s=this.configService.getSettings(void 0).allowUnauthorizedRemoteConnection;if(e.baseUrl.startsWith("https")&&s&&this.requestAgentCreator){const e=this.requestAgentCreator.createHttpRequestAgent();i={...i,agent:e}}return t={...t,init:i,WebSocket:this.requestCreator.getWebsocketCtor(n,s,e.getAuthHeader),fetch:this.requestCreator.getFetchMethod(),Request:this.requestCreator.getRequestCtor(n,s,e.getAuthHeader),Headers:this.requestCreator.getHeadersCtor()},(0,r.traceInfo)(`Creating server with url : ${t.baseUrl}`),this.jupyterlab.ServerConnection.makeSettings(t)}async insecureServerWarningPrompt(){const e=o.DataScience.insecureSessionMessage(),t=[o.Common.bannerLabelYes(),o.Common.bannerLabelNo(),o.Common.doNotShowAgain()];switch(await this.appShell.showWarningMessage(e,...t)){case o.Common.bannerLabelYes():return!0;case o.Common.doNotShowAgain():return await this.userAllowsInsecureConnections.updateValue(!0),!0;case o.Common.bannerLabelNo():default:return!1}}async secureConnectionCheck(e){if(this.userAllowsInsecureConnections.value)return;if(e.localLaunch||e.baseUrl.startsWith("https")||"null"!==e.token)return;let t=u.secureServers.get(e.baseUrl);if(void 0===t&&(t=this.insecureServerWarningPrompt(),u.secureServers.set(e.baseUrl,t)),!await t)throw new Error(o.DataScience.insecureSessionDenied())}}t.JupyterSessionManager=u,u.secureServers=new Map},19785:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSessionManagerFactory=void 0;const i=n(86700),s=n(28866),a=n(10053),c=n(15925),l=n(42080),u=n(94433);let d=class{constructor(e,t,n,r,o,i,s,a,c){this.jupyterPasswordConnect=e,this.config=t,this.jupyterOutput=n,this.appShell=r,this.stateFactory=o,this.kernelService=i,this.backingFileCreator=s,this.requestAgentCreator=a,this.requestCreator=c}async create(e,t){const n=new s.JupyterSessionManager(this.jupyterPasswordConnect,this.config,t,this.jupyterOutput,this.config,this.appShell,this.stateFactory,this.kernelService,this.backingFileCreator,this.requestAgentCreator,this.requestCreator);return await n.initialize(e),n}};d=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IJupyterPasswordConnect)),o(1,(0,i.inject)(l.IConfigurationService)),o(2,(0,i.inject)(l.IOutputChannel)),o(2,(0,i.named)(c.JUPYTER_OUTPUT_CHANNEL)),o(3,(0,i.inject)(a.IApplicationShell)),o(4,(0,i.inject)(l.IPersistentStateFactory)),o(5,(0,i.inject)(u.IJupyterKernelService)),o(5,(0,i.optional)()),o(6,(0,i.inject)(u.IJupyterBackingFileCreator)),o(7,(0,i.inject)(u.IJupyterRequestAgentCreator)),o(7,(0,i.optional)()),o(8,(0,i.inject)(u.IJupyterRequestCreator))],d),t.JupyterSessionManagerFactory=d},89727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IJupyterSubCommandExecutionService=t.IJupyterCommandFactory=void 0,t.IJupyterCommandFactory=Symbol("IJupyterCommandFactory"),t.IJupyterSubCommandExecutionService=Symbol("IJupyterSubCommandExecutionService")},94433:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IServerConnectionType=t.IJupyterRemoteCachedKernelValidator=t.ILiveRemoteKernelConnectionUsageTracker=t.INotebookStarter=t.IJupyterRequestCreator=t.IJupyterRequestAgentCreator=t.IJupyterKernelService=t.IJupyterBackingFileCreator=t.IJupyterServerUriStorage=t.IJupyterUriProviderRegistration=t.IJupyterServerProvider=t.INbConvertExportToPythonService=t.INbConvertInterpreterDependencyChecker=t.IJupyterInterpreterDependencyManager=t.INotebookExporter=t.INotebookImporter=t.IJupyterSessionManagerFactory=t.IJupyterPasswordConnect=t.IJupyterExecution=t.IJupyterNotebookProvider=t.INotebookServerFactory=t.INotebookServer=t.JupyterInterpreterDependencyResponse=void 0,(n=t.JupyterInterpreterDependencyResponse||(t.JupyterInterpreterDependencyResponse={}))[n.ok=0]="ok",n[n.selectAnotherInterpreter=1]="selectAnotherInterpreter",n[n.cancel=2]="cancel",t.INotebookServer=Symbol("INotebookServer"),t.INotebookServerFactory=Symbol("INotebookServerFactory"),t.IJupyterNotebookProvider=Symbol("IJupyterNotebookProvider"),t.IJupyterExecution=Symbol("IJupyterExecution"),t.IJupyterPasswordConnect=Symbol("IJupyterPasswordConnect"),t.IJupyterSessionManagerFactory=Symbol("IJupyterSessionManagerFactory"),t.INotebookImporter=Symbol("INotebookImporter"),t.INotebookExporter=Symbol("INotebookExporter"),t.IJupyterInterpreterDependencyManager=Symbol("IJupyterInterpreterDependencyManager"),t.INbConvertInterpreterDependencyChecker=Symbol("INbConvertInterpreterDependencyChecker"),t.INbConvertExportToPythonService=Symbol("INbConvertExportToPythonService"),t.IJupyterServerProvider=Symbol("IJupyterServerProvider"),t.IJupyterUriProviderRegistration=Symbol("IJupyterUriProviderRegistration"),t.IJupyterServerUriStorage=Symbol("IJupyterServerUriStorage"),t.IJupyterBackingFileCreator=Symbol("IJupyterBackingFileCreator"),t.IJupyterKernelService=Symbol("IJupyterKernelService"),t.IJupyterRequestAgentCreator=Symbol("IJupyterRequestAgentCreator"),t.IJupyterRequestCreator=Symbol("IJupyterRequestCreator"),t.INotebookStarter=Symbol("INotebookStarter"),t.ILiveRemoteKernelConnectionUsageTracker=Symbol("ILiveRemoteKernelConnectionUsageTracker"),t.IJupyterRemoteCachedKernelValidator=Symbol("IJupyterRemoteCachedKernelValidator"),t.IServerConnectionType=Symbol("IServerConnectionType")},22021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlainTextOrStreamOutput=t.Kernel=t.ThirdPartyKernel=void 0;const r=n(37875),o=n(66828),i=n(15925),s=n(37853),a=n(20397),c=n(11642),l=n(35412),u=n(43138),d=n(25251),p=n(58681),h=n(11386),f=n(86563),g=n(30002),m=n(47684),y=n(61239),v=n(9959),b=n(98729),S=n(94062),w=n(6491),C=n(72584),k=n(88960),_=n(14154),I=n(95011);class E{constructor(e,t,n,i,s,a,c,l,u,d,p){this.uri=e,this.resourceUri=t,this.kernelConnectionMetadata=n,this.notebookProvider=i,this.launchTimeout=s,this.interruptTimeout=a,this.appShell=c,this.configService=l,this.statusProvider=u,this.startupCodeProviders=d,this._creator=p,this.disposables=[],this._kernelSocket=new r.ReplaySubject,this._onStatusChanged=new o.EventEmitter,this._onRestarted=new o.EventEmitter,this._onStarted=new o.EventEmitter,this._onDisposed=new o.EventEmitter,this.hookedSessionForEvents=new WeakSet,this.eventHooks=[],this.startCancellation=new o.CancellationTokenSource,this.startupUI=new k.DisplayOptions(!0),this.disposables.push(this._onStatusChanged),this.disposables.push(this._onRestarted),this.disposables.push(this._onStarted),this.disposables.push(this._onDisposed),this.disposables.push({dispose:()=>this._kernelSocket.unsubscribe()}),(0,y.trackKernelResourceInformation)(this.resourceUri,{kernelConnection:this.kernelConnectionMetadata,actionSource:this.creator,disableUI:this.startupUI.disableUI}).ignoreErrors(),this.startupUI.onDidChangeDisableUI((()=>{this.startupUI.disableUI||(0,y.trackKernelResourceInformation)(this.resourceUri,{disableUI:!1}).ignoreErrors()}),this.disposables)}get onStatusChanged(){return this._onStatusChanged.event}get onRestarted(){return this._onRestarted.event}get onStarted(){return this._onStarted.event}get onDisposed(){return this._onDisposed.event}get creator(){return this._creator}get startedAtLeastOnce(){return this._startedAtLeastOnce}get info(){return this._info}get status(){var e,t;return this._jupyterSessionPromise&&!this._session?"starting":null!==(t=null===(e=this._session)||void 0===e?void 0:e.status)&&void 0!==t?t:this.isKernelDead?"dead":"unknown"}get disposed(){var e;return!0===this._disposed||!0===(null===(e=this._session)||void 0===e?void 0:e.disposed)}get disposing(){return!0===this._disposing}get kernelSocket(){return this._kernelSocket.asObservable()}get session(){return this._session}addEventHook(e){this.eventHooks.push(e)}removeEventHook(e){this.eventHooks=this.eventHooks.filter((t=>t!==e))}async start(e){await this.startJupyterSession(e)}async interrupt(){await Promise.all(this.eventHooks.map((e=>e("willInterrupt")))),(0,c.traceInfo)(`Interrupt requested ${(0,l.getDisplayPath)(this.resourceUri||this.uri)}`),this.startCancellation.cancel();const e=this.kernelExecution.interrupt(this._jupyterSessionPromise),t=this.statusProvider.set(d.DataScience.interruptKernelStatus());let n;try{if((0,c.traceInfo)(`Interrupt requested & sent for ${(0,l.getDisplayPath)(this.uri)} in notebookEditor.`),n=await e,n===S.InterruptResult.TimedOut){const e=d.DataScience.restartKernelAfterInterruptMessage(),t=d.DataScience.restartKernelMessageYes();await this.appShell.showInformationMessage(e,{modal:!0},t)===t&&await this.restart()}}finally{t.dispose()}}async dispose(){if((0,c.traceInfo)(`Dispose Kernel '${(0,l.getDisplayPath)(this.uri)}' associated with '${(0,l.getDisplayPath)(this.resourceUri)}'`),(0,c.traceInfoIfCI)(`Dispose Kernel '${(0,l.getDisplayPath)(this.uri)}' associated with '${(0,l.getDisplayPath)(this.resourceUri)}' called from ${new Error("").stack}`),this._disposing=!0,this.disposingPromise)return this.disposingPromise;this._ignoreJupyterSessionDisposedErrors=!0,this.startCancellation.cancel(),this.disposingPromise=(async()=>{const e=[];e.push(this.kernelExecution.cancel()),this._session=this._session?this._session:this._jupyterSessionPromise?await this._jupyterSessionPromise.catch((()=>{})):void 0,this._jupyterSessionPromise=void 0,this._session&&(e.push(this._session.dispose().catch(p.noop)),this._session=void 0),this._disposed=!0,this._onDisposed.fire(),this._onStatusChanged.fire("dead"),this.kernelExecution.dispose();try{await Promise.all(e)}finally{(0,a.disposeAllDisposables)(this.disposables)}})(),await this.disposingPromise}async restart(){try{const e=(0,f.getResourceType)(this.resourceUri);await Promise.all(this.eventHooks.map((e=>e("willRestart")))),(0,c.traceInfo)(`Restart requested ${this.uri}`),this.startCancellation.cancel();const t=this.statusProvider.set(d.DataScience.restartingKernelStatus().format("")),n=C.KernelProgressReporter.createProgressReporter(this.resourceUri,d.DataScience.restartingKernelStatus().format(`: ${(0,b.getDisplayNameOrNameOfKernelConnection)(this.kernelConnectionMetadata)}`)),r=new h.StopWatch;try{await(this._jupyterSessionPromise?this.kernelExecution.restart(this._jupyterSessionPromise):this.start(new k.DisplayOptions(!1))),(0,m.sendKernelTelemetryEvent)(this.resourceUri,v.Telemetry.NotebookRestart,{duration:r.elapsedTime},{resourceType:e})}catch(e){(0,c.traceError)(`Restart failed ${(0,l.getDisplayPath)(this.uri)}`,e),this._ignoreJupyterSessionDisposedErrors=!0;const t=this._session;throw this._session=void 0,this._jupyterSessionPromise=void 0,(0,m.sendKernelTelemetryEvent)(this.resourceUri,v.Telemetry.NotebookRestart,{duration:r.elapsedTime},void 0,e),await(null==t?void 0:t.dispose().catch(p.noop)),this._ignoreJupyterSessionDisposedErrors=!1,e}finally{t.dispose(),n.dispose()}await this.initializeAfterStart(this._session),this._onRestarted.fire()}catch(e){throw(0,c.traceError)(`Failed to restart kernel ${(0,l.getDisplayPath)(this.uri)}`,e),e}}async startJupyterSession(e=new k.DisplayOptions(!1)){if((0,c.traceVerbose)(`Start Jupyter Session in kernel.ts with disableUI = ${e.disableUI}`),this._startedAtLeastOnce=!0,e.disableUI||(this.startupUI.disableUI=!1),e.onDidChangeDisableUI((()=>{!e.disableUI&&this.startupUI.disableUI&&(this.startupUI.disableUI=!1)})),this.startupUI.disableUI?this.startupUI.onDidChangeDisableUI((()=>{this.disposing||this.disposed||this.startupUI.disableUI||(0,y.initializeInteractiveOrNotebookTelemetryBasedOnUserAction)(this.resourceUri,this.kernelConnectionMetadata).ignoreErrors()}),this,this.disposables):await(0,y.initializeInteractiveOrNotebookTelemetryBasedOnUserAction)(this.resourceUri,this.kernelConnectionMetadata),!this._jupyterSessionPromise){this.startCancellation.token.isCancellationRequested&&(this.startCancellation=new o.CancellationTokenSource);const e=new h.StopWatch;await(0,y.trackKernelResourceInformation)(this.resourceUri,{kernelConnection:this.kernelConnectionMetadata,actionSource:this.creator}),this._jupyterSessionPromise=this.createJupyterSession().then((t=>((0,m.sendKernelTelemetryEvent)(this.resourceUri,v.Telemetry.PerceivedJupyterStartupNotebook,{duration:e.elapsedTime}),t))).catch((e=>{throw(0,c.traceInfoIfCI)(`Failed to create Jupyter Session in Kernel.startNotebook for ${(0,l.getDisplayPath)(this.uri)}`),this.startCancellation.cancel(),this._jupyterSessionPromise=void 0,e}))}return this._jupyterSessionPromise}async createJupyterSession(){var e;let t=[];try{let n="";if(this.kernelConnectionMetadata.interpreter){const t=[];t.push(`Python Path: ${(0,l.getDisplayPath)(this.kernelConnectionMetadata.interpreter.envPath)}`),t.push(`EnvType: ${this.kernelConnectionMetadata.interpreter.envType}`),t.push(`EnvName: '${this.kernelConnectionMetadata.interpreter.envName}'`),t.push(`Version: ${null===(e=this.kernelConnectionMetadata.interpreter.version)||void 0===e?void 0:e.raw}`),n=` (${t.join(", ")})`}(0,c.traceInfo)(`Starting Jupyter Session ${this.kernelConnectionMetadata.kind}, ${this.kernelConnectionMetadata.id}${n} for '${(0,l.getDisplayPath)(this.uri)}' (disableUI=${this.startupUI.disableUI})`),this.createProgressIndicator(t),this.isKernelDead=!1,this._onStatusChanged.fire("starting");const r=await this.notebookProvider.create({resource:this.resourceUri,ui:this.startupUI,kernelConnection:this.kernelConnectionMetadata,token:this.startCancellation.token,creator:this.creator});return w.Cancellation.throwIfCanceled(this.startCancellation.token),await this.initializeAfterStart(r),this.sendKernelStartedTelemetry(),this._session=r,this._onStarted.fire(),r}catch(e){if(this.startupUI.disableUI?(0,c.traceVerbose)(`failed to create IJupyterKernelConnectionSession in kernel, UI Disabled = ${this.startupUI.disableUI}`,e):this.startCancellation.token||(0,w.isCancellationError)(e)||(0,c.traceError)(`failed to create IJupyterKernelConnectionSession in kernel, UI Disabled = ${this.startupUI.disableUI}`,e),w.Cancellation.throwIfCanceled(this.startCancellation.token),e instanceof g.JupyterConnectError)throw e;const t=d.DataScience.sessionStartFailedWithKernel().format((0,b.getDisplayNameOrNameOfKernelConnection)(this.kernelConnectionMetadata));throw s.WrappedError.from(t+" "+("message"in e?e.message:e.toString()),e)}finally{(0,a.disposeAllDisposables)(t)}}sendKernelStartedTelemetry(){this.uiWasDisabledWhenKernelStartupTelemetryWasLastSent&&this.uiWasDisabledWhenKernelStartupTelemetryWasLastSent===this.startupUI.disableUI||(this.uiWasDisabledWhenKernelStartupTelemetryWasLastSent=!0===this.startupUI.disableUI,(0,m.sendKernelTelemetryEvent)(this.resourceUri,v.Telemetry.NotebookStart,void 0,{disableUI:this.startupUI.disableUI}))}createProgressIndicator(e){const t=C.KernelProgressReporter.createProgressReporter(this.resourceUri,d.DataScience.connectingToKernel().format((0,b.getDisplayNameOrNameOfKernelConnection)(this.kernelConnectionMetadata)),this.startupUI.disableUI);e.push(t),this.startupUI.disableUI&&this.startupUI.onDidChangeDisableUI((()=>{this.disposing||this.disposed||this.startupUI.disableUI||t.show&&t.show()}),this,e)}async initializeAfterStart(e){if((0,c.traceVerbose)(`Started running kernel initialization for ${(0,l.getDisplayPath)(this.uri)}`),!e)return void(0,c.traceVerbose)("Not running kernel initialization");if(!this.hookedSessionForEvents.has(e)){this.hookedSessionForEvents.add(e),e.kernelSocket.subscribe(this._kernelSocket),e.onDidDispose((()=>{if((0,c.traceInfoIfCI)(`Kernel got disposed as a result of session.onDisposed ${(0,l.getDisplayPath)(this.resourceUri||this.uri)}`),!this._ignoreJupyterSessionDisposedErrors){(0,c.traceInfo)(`Kernel got disposed as a result of session.onDisposed ${(0,l.getDisplayPath)(this.resourceUri||this.uri)} & _ignoreJupyterSessionDisposedErrors = false.`);const t=this._session===e;this._jupyterSessionPromise=void 0,this._session=void 0,t&&(this.isKernelDead=!0,this._onStatusChanged.fire("dead"))}}));const t=e=>{this._onStatusChanged.fire(e)};this.disposables.push(e.onSessionStatusChanged(t))}e.registerCommTarget(i.Identifiers.DefaultCommTarget,p.noop);const t=await this.gatherInternalStartupCode();await this.executeSilently(e,t,{traceErrors:!0,traceErrorsMessage:"Error executing jupyter extension internal startup code"}),"connectToLiveRemoteKernel"!==this.kernelConnectionMetadata.kind&&await this.executeSilently(e,this.getUserStartupCommands(),{traceErrors:!1});try{(0,c.traceVerbose)("Requesting Kernel info");const t=[],n={banner:"",help_links:[],implementation:"",implementation_version:"",language_info:{name:"",version:""},protocol_version:"",status:"ok"};t.push(e.requestKernelInfo().then((e=>null==e?void 0:e.content))),"connectToLiveRemoteKernel"===this.kernelConnectionMetadata.kind&&t.push((0,u.sleep)(5e3).then((()=>n)));const r=await Promise.race(t);r===n?(0,c.traceWarning)("Failed to Kernel info in a timely manner, defaulting to empty info!"):(0,c.traceVerbose)("Got Kernel info"),this._info=r}catch(e){(0,c.traceWarning)("Failed to request KernelInfo",e)}"connectToLiveRemoteKernel"!==this.kernelConnectionMetadata.kind&&((0,c.traceVerbose)("End running kernel initialization, now waiting for idle"),await e.waitForIdle(this.launchTimeout,this.startCancellation.token),(0,c.traceVerbose)("End running kernel initialization, session is idle"))}async gatherInternalStartupCode(){const e=[],t=await Promise.all(this.startupCodeProviders.sort(((e,t)=>t.priority-e.priority)).map((e=>e.getCode(this))));for(let n of t)e.push(...n);if((0,b.isPythonKernelConnection)(this.kernelConnectionMetadata)&&"connectToLiveRemoteKernel"!==this.kernelConnectionMetadata.kind){const t=(0,l.getFilePath)(this.resourceUri);t&&e.push(`__vsc_ipynb_file__ = "${t.replace(/\\/g,"\\\\")}"`),this.configService.getSettings(void 0).enableExtendedKernelCompletions||e.push(i.CodeSnippets.DisableJedi),e.push(...(n=this.getMatplotLibInitializeCode(),n&&0!==n.length?((n=n.map((e=>`    ${e}`))).unshift("try:"),n.push("except:","    print('Failed to initialize matplotlib startup code. Matplotlib might be missing.')"),n):n))}var n;return e}getMatplotLibInitializeCode(){const e=[],t=this.configService.getSettings(this.resourceUri);if(t&&t.themeMatplotlibPlots){(0,c.traceInfoIfCI)(`Initialize config for plots for ${(0,l.getDisplayPath)(this.resourceUri||this.uri)}`);const n=i.CodeSnippets.MatplotLibInit;(0,c.traceVerbose)(`Initialize matplotlib for ${(0,l.getDisplayPath)(this.resourceUri||this.uri)}`),e.push(...n.splitLines({trim:!1}));const r=this.appShell.activeColorTheme.kind===o.ColorThemeKind.Dark;t.ignoreVscodeTheme||e.push(r?"matplotlib.style.use('dark_background')":`matplotlib.rcParams.update(${i.Identifiers.MatplotLibDefaultParams})`)}return t.generateSVGPlots&&(e.push(...i.CodeSnippets.AppendSVGFigureFormat.splitLines({trim:!1})),(0,c.traceVerbose)("Add SVG to matplotlib figure formats")),e}getUserStartupCommands(){let e=this.configService.getSettings(this.resourceUri).runStartupCommands;return Array.isArray(e)&&(e=e.join("\n")),e?e.replace(/\\n/g,"\n").splitLines({trim:!1}):[]}async executeSilently(e,t,n){e&&0!==t.join("").trim().length?await(0,b.executeSilently)(e,t.join("\n"),n):(0,c.traceVerbose)(`Not executing startup session: ${e?"Object":"undefined"}, code: ${t}`)}}t.ThirdPartyKernel=class extends E{get creator(){return"3rdPartyExtension"}constructor(e,t,n,r,o,i,s,a,c,l){super(e,t,n,r,o,i,s,a,c,l,"3rdPartyExtension"),this.kernelExecution=new I.ThirdPartyKernelExecution(this,this.interruptTimeout),this.disposables.push(this.kernelExecution)}},t.Kernel=class extends E{constructor(e,t,n,r,i,s,a,c,l,u,d,p,h,f,g,m){super(e,t,r,i,s,a,c,u,p,g,"jupyterExtension"),this.notebook=n,this.controller=l,this.sendTelemetryForPythonKernelExecutable=m,this._visibleExecutionCount=0,this._onPreExecute=new o.EventEmitter,this.kernelExecution=new I.KernelExecution(this,c,a,d,h,f),this.kernelExecution.onPreExecute((e=>this._onPreExecute.fire(e)),this,this.disposables),this.disposables.push(this.kernelExecution),this.disposables.push(this._onPreExecute),this.disposables.push(this.kernelExecution)}get creator(){return"jupyterExtension"}get onPreExecute(){return this._onPreExecute.event}get executionCount(){return this._visibleExecutionCount}get pendingCells(){return this.kernelExecution.queue}async executeCell(e,t){(0,_.traceCellMessage)(e,`kernel.executeCell, ${(0,l.getDisplayPath)(e.notebook.uri)}`),await(0,y.initializeInteractiveOrNotebookTelemetryBasedOnUserAction)(this.resourceUri,this.kernelConnectionMetadata),(0,m.sendKernelTelemetryEvent)(this.resourceUri,v.Telemetry.ExecuteCell),this.sendKernelStartedTelemetry();const n=this.startJupyterSession(),r=this.kernelExecution.executeCell(n,e,t);return r.finally((()=>this._visibleExecutionCount+=1)),r.then((t=>(0,c.traceVerbose)(`Cell ${e.index} executed with state ${t}`)),p.noop),r}async executeHidden(e){return this.startJupyterSession().then((t=>(0,b.executeSilently)(t,e)))}async initializeAfterStart(e){return this._visibleExecutionCount=0,e&&(0,b.isPythonKernelConnection)(this.kernelConnectionMetadata)&&(this.requestEmptyCompletions(e),(0,S.isLocalConnection)(this.kernelConnectionMetadata)&&await this.sendTelemetryForPythonKernelExecutable()),super.initializeAfterStart(e)}requestEmptyCompletions(e){null==e||e.requestComplete({code:"__file__.",cursor_pos:9}).ignoreErrors()}},t.getPlainTextOrStreamOutput=function(e){if(e.length>0){const t=e[0].data;if(t&&t.hasOwnProperty("text/plain"))return(0,f.concatMultilineString)(t["text/plain"]);if("stream"===e[0].output_type){const t=e[0];return(0,f.concatMultilineString)(t.text)}}}},23046:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelAutoReConnectFailedMonitor=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(42080),l=n(86563),u=n(25251),d=n(58681),p=n(9959),h=n(14154),f=n(98729),g=n(47684),m=n(94062);let y=class{constructor(e,t,n){this.appShell=e,this.disposableRegistry=t,this.kernelProvider=n,this.kernelsStartedSuccessfully=new WeakSet,this.kernelConnectionToKernelMapping=new WeakMap,this.kernelsRestarting=new WeakSet,this.kernelReconnectProgress=new WeakSet,this.lastExecutedCellPerKernel=new WeakMap}activate(){this.kernelProvider.onDidStartKernel(this.onDidStartKernel,this,this.disposableRegistry),this.disposableRegistry.push(this.kernelProvider.onDidDisposeKernel((e=>{this.kernelReconnectProgress.delete(e)}),this)),this.disposableRegistry.push(this.kernelProvider.onDidRestartKernel((e=>{this.kernelReconnectProgress.delete(e)}),this)),s.notebooks.onDidChangeNotebookCellExecutionState((e=>{if(!(0,l.isJupyterNotebook)(e.cell.notebook))return;if(e.state!==s.NotebookCellExecutionState.Idle)return;const t=this.kernelProvider.get(e.cell.notebook);t&&this.lastExecutedCellPerKernel.get(t)===e.cell&&this.lastExecutedCellPerKernel.delete(t)}))}onDidStartKernel(e){var t,n,r;if(!this.kernelsStartedSuccessfully.has(e)){if(e.onPreExecute((t=>this.lastExecutedCellPerKernel.set(e,t)),this,this.disposableRegistry),!(null===(t=e.session)||void 0===t?void 0:t.kernel))return;this.kernelsStartedSuccessfully.add(e),this.kernelConnectionToKernelMapping.set(e.session.kernel,e),null===(r=null===(n=e.session)||void 0===n?void 0:n.kernel)||void 0===r||r.connectionStatusChanged.connect(this.onKernelStatusChanged,this),e.addEventHook((async t=>{"willRestart"===t&&(this.kernelReconnectProgress.delete(e),this.kernelsRestarting.add(e))})),e.onRestarted((()=>this.kernelsRestarting.delete(e)))}}onKernelStatusChanged(e,t){var n;const r=this.kernelConnectionToKernelMapping.get(e);if(r&&!this.kernelsRestarting.has(r))switch(t){case"connected":return void this.kernelReconnectProgress.delete(r);case"disconnected":return void(this.kernelReconnectProgress.has(r)&&(this.kernelReconnectProgress.delete(r),null===(n=this.onKernelDisconnected(r))||void 0===n||n.ignoreErrors()));case"connecting":return void this.kernelReconnectProgress.add(r);default:return}}async onKernelDisconnected(e){var t;if(e.disposed||e.disposing)return;(0,g.sendKernelTelemetryEvent)(e.resourceUri,p.Telemetry.KernelCrash);const n=(0,m.isLocalConnection)(e.kernelConnectionMetadata)?u.DataScience.kernelDisconnected().format((0,f.getDisplayNameOrNameOfKernelConnection)(e.kernelConnectionMetadata)):u.DataScience.remoteJupyterConnectionFailedWithServer().format(e.kernelConnectionMetadata.baseUrl);this.appShell.showErrorMessage(n).then(d.noop,d.noop);try{const r=this.lastExecutedCellPerKernel.get(e);if(!r||r.document.isClosed||r.notebook.isClosed)return;if(!1===(null===(t=r.executionSummary)||void 0===t?void 0:t.success))return;await(0,h.endCellAndDisplayErrorsInCell)(r,e.controller,n,!1)}finally{await e.dispose()}}};y=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IApplicationShell)),o(1,(0,i.inject)(c.IDisposableRegistry)),o(2,(0,i.inject)(m.IKernelProvider))],y),t.KernelAutoReConnectFailedMonitor=y},57410:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelAutoReconnectMonitor=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(42080),l=n(43138),u=n(25251),d=n(58681),p=n(98729),h=n(94062);let f=class{constructor(e,t,n){this.appShell=e,this.disposableRegistry=t,this.kernelProvider=n,this.kernelsStartedSuccessfully=new WeakSet,this.kernelConnectionToKernelMapping=new WeakMap,this.kernelsRestarting=new WeakSet,this.kernelReconnectProgress=new WeakMap}activate(){this.kernelProvider.onDidStartKernel(this.onDidStartKernel,this,this.disposableRegistry),this.disposableRegistry.push(this.kernelProvider.onDidDisposeKernel((e=>{var t;null===(t=this.kernelReconnectProgress.get(e))||void 0===t||t.dispose(),this.kernelReconnectProgress.delete(e)}),this)),this.disposableRegistry.push(this.kernelProvider.onDidRestartKernel((e=>{var t;null===(t=this.kernelReconnectProgress.get(e))||void 0===t||t.dispose(),this.kernelReconnectProgress.delete(e)}),this))}onDidStartKernel(e){var t,n,r;if(!this.kernelsStartedSuccessfully.has(e)){if(!(null===(t=e.session)||void 0===t?void 0:t.kernel))return;this.kernelsStartedSuccessfully.add(e),this.kernelConnectionToKernelMapping.set(e.session.kernel,e),null===(r=null===(n=e.session)||void 0===n?void 0:n.kernel)||void 0===r||r.connectionStatusChanged.connect(this.onKernelStatusChanged,this),e.addEventHook((async t=>{var n;"willRestart"===t&&(null===(n=this.kernelReconnectProgress.get(e))||void 0===n||n.dispose(),this.kernelReconnectProgress.delete(e),this.kernelsRestarting.add(e))})),e.onRestarted((()=>this.kernelsRestarting.delete(e)))}}onKernelStatusChanged(e,t){var n;const r=this.kernelConnectionToKernelMapping.get(e);if(!r)return;if(this.kernelsRestarting.has(r))return;if(this.kernelReconnectProgress.has(r))return void("connecting"!==t&&(null===(n=this.kernelReconnectProgress.get(r))||void 0===n||n.dispose(),this.kernelReconnectProgress.delete(r)));if("connecting"!==t)return;const o=(0,l.createDeferred)(),i=u.DataScience.automaticallyReconnectingToAKernelProgressMessage().format((0,p.getDisplayNameOrNameOfKernelConnection)(r.kernelConnectionMetadata));this.appShell.withProgress({location:s.ProgressLocation.Notification,title:i},(async()=>o.promise)).then(d.noop,d.noop);const a=new s.Disposable((()=>o.resolve()));this.kernelReconnectProgress.set(r,a),this.disposableRegistry.push(a)}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IApplicationShell)),o(1,(0,i.inject)(c.IDisposableRegistry)),o(2,(0,i.inject)(h.IKernelProvider))],f),t.KernelAutoReconnectMonitor=f},24649:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelCrashMonitor=void 0;const i=n(86700),s=n(10053),a=n(15925),c=n(42080),l=n(25251),u=n(58681),d=n(47684),p=n(14154),h=n(98729),f=n(94062),g=n(85446);let m=class{constructor(e,t,n){this.disposableRegistry=e,this.applicationShell=t,this.kernelProvider=n,this.lastExecutedCellPerKernel=new WeakMap,this.kernelsStartedSuccessfully=new WeakSet}activate(){this.kernelProvider.onKernelStatusChanged(this.onKernelStatusChanged,this,this.disposableRegistry),this.kernelProvider.onDidStartKernel(this.onDidStartKernel,this,this.disposableRegistry)}onDidStartKernel(e){this.kernelsStartedSuccessfully.add(e),e.onPreExecute((t=>this.lastExecutedCellPerKernel.set(e,t)),this,this.disposableRegistry)}async onKernelStatusChanged({kernel:e}){this.kernelsStartedSuccessfully.has(e)&&(e.disposed||e.disposing||!e.session||("localRaw"===e.session.kind&&"dead"===e.status&&(this.applicationShell.showErrorMessage(l.DataScience.kernelDiedWithoutError().format((0,h.getDisplayNameOrNameOfKernelConnection)(e.kernelConnectionMetadata))).then(u.noop,u.noop),await this.endCellAndDisplayErrorsInCell(e)),"localRaw"!==e.session.kind&&"autorestarting"===e.status&&(this.applicationShell.showErrorMessage(l.DataScience.kernelDiedWithoutErrorAndAutoRestarting().format((0,h.getDisplayNameOrNameOfKernelConnection)(e.kernelConnectionMetadata))).then(u.noop,u.noop),await this.endCellAndDisplayErrorsInCell(e))))}async endCellAndDisplayErrorsInCell(e){const t=this.lastExecutedCellPerKernel.get(e);if((0,d.sendKernelTelemetryEvent)(e.resourceUri,a.Telemetry.KernelCrash),t)return(0,p.endCellAndDisplayErrorsInCell)(t,e.controller,l.DataScience.kernelCrashedDueToCodeInCurrentOrPreviousCell(),!1)}};r([(0,g.swallowExceptions)()],m.prototype,"onKernelStatusChanged",null),m=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IDisposableRegistry)),o(1,(0,i.inject)(s.IApplicationShell)),o(2,(0,i.inject)(f.IKernelProvider))],m),t.KernelCrashMonitor=m},30038:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelFinder=void 0;const i=n(86700),s=n(66828),a=n(42080),c=n(11642);let l=class{constructor(e){this.disposables=e,this._finders=[],this.connectionFinderMapping=new Map,this._onDidChangeKernels=new s.EventEmitter,this.onDidChangeKernels=this._onDidChangeKernels.event}registerKernelFinder(e){this._finders.push(e);const t=e.onDidChangeKernels((()=>this._onDidChangeKernels.fire()));return this.disposables.push(t),this._onDidChangeKernels.fire(),{dispose:()=>{const n=this._finders.findIndex((t=>t===e));this._finders.splice(n,1),t.dispose(),this._onDidChangeKernels.fire()}}}get kernels(){const e=[];this.connectionFinderMapping.clear();for(const t of this._finders){const n=t.kernels;n.forEach((e=>{this.connectionFinderMapping.set(e.id,t)})),e.push(...n)}return(0,c.traceInfoIfCI)(`list kernel specs ${e.length}: ${e.map((e=>{var t;return`${e.id}, ${e.kind}, ${null===(t=e.interpreter)||void 0===t?void 0:t.uri}`})).join("\n")}`),e}getFinderForConnection(e){return this.connectionFinderMapping.get(e.id)}get registered(){return this._finders}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IDisposableRegistry))],l),t.KernelFinder=l},2055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseThirdPartyKernelProvider=t.BaseCoreKernelProvider=void 0;const r=n(66828),o=n(11642),i=n(35412),s=n(58681);t.BaseCoreKernelProvider=class{constructor(e,t,n){this.asyncDisposables=e,this.disposables=t,this.notebook=n,this.kernelsByNotebook=new WeakMap,this.pendingDisposables=new Set,this._onDidRestartKernel=new r.EventEmitter,this._onDidStartKernel=new r.EventEmitter,this._onDidCreateKernel=new r.EventEmitter,this._onDidDisposeKernel=new r.EventEmitter,this._onKernelStatusChanged=new r.EventEmitter,this.onKernelStatusChanged=this._onKernelStatusChanged.event,this.asyncDisposables.push(this),this.notebook.onDidCloseNotebookDocument((e=>this.disposeOldKernel(e)),this,t),t.push(this._onDidDisposeKernel),t.push(this._onDidRestartKernel),t.push(this._onKernelStatusChanged),t.push(this._onDidStartKernel),t.push(this._onDidCreateKernel)}get kernels(){const e=new Set;return this.notebook.notebookDocuments.forEach((t=>{const n=this.get(t);n&&e.add(n)})),Array.from(e)}get onDidDisposeKernel(){return this._onDidDisposeKernel.event}get onDidRestartKernel(){return this._onDidRestartKernel.event}get onDidStartKernel(){return this._onDidStartKernel.event}get onDidCreateKernel(){return this._onDidCreateKernel.event}get(e){var t;if((0,s.isUri)(e)){const t=this.notebook.notebookDocuments.find((t=>t.uri.toString()===e.toString()));return t?this.get(t):void 0}return null===(t=this.kernelsByNotebook.get(e))||void 0===t?void 0:t.kernel}getInternal(e){return this.kernelsByNotebook.get(e)}async dispose(){(0,o.traceInfoIfCI)("Disposing all kernels from kernel provider");const e=Array.from(this.pendingDisposables.values());this.pendingDisposables.clear(),await Promise.all(e),await Promise.all(this.kernels.map((e=>e.dispose())))}storeKernel(e,t,n){this.kernelsByNotebook.set(e,{options:t,kernel:n}),this._onDidCreateKernel.fire(n)}deleteMappingIfKernelIsDisposed(e,t){t.onDisposed((()=>{this.get(t.notebook)===t&&(this.kernelsByNotebook.delete(t.notebook),(0,o.traceVerbose)(`Kernel got disposed, hence there is no longer a kernel associated with ${(0,i.getDisplayPath)(e)}`)),this.pendingDisposables.delete(t)}),this,this.disposables)}disposeOldKernel(e){const t=this.kernelsByNotebook.get(e);t&&((0,o.traceInfoIfCI)(`Disposing kernel associated with ${(0,i.getDisplayPath)(e.uri)}, isClosed=${e.isClosed}`),this.pendingDisposables.add(t.kernel),t.kernel.dispose().catch((e=>(0,o.traceWarning)("Failed to dispose old kernel",e))).finally((()=>this.pendingDisposables.delete(t.kernel))).catch(s.noop)),this.kernelsByNotebook.delete(e)}},t.BaseThirdPartyKernelProvider=class{constructor(e,t,n){this.asyncDisposables=e,this.disposables=t,this.notebook=n,this.kernelsByUri=new Map,this.pendingDisposables=new Set,this._onDidRestartKernel=new r.EventEmitter,this._onDidStartKernel=new r.EventEmitter,this._onDidCreateKernel=new r.EventEmitter,this._onDidDisposeKernel=new r.EventEmitter,this._onKernelStatusChanged=new r.EventEmitter,this.onKernelStatusChanged=this._onKernelStatusChanged.event,this.asyncDisposables.push(this),this.notebook.onDidCloseNotebookDocument((e=>this.disposeOldKernel(e.uri)),this,t),t.push(this._onDidDisposeKernel),t.push(this._onDidRestartKernel),t.push(this._onKernelStatusChanged),t.push(this._onDidStartKernel),t.push(this._onDidCreateKernel)}get kernels(){return Array.from(this.kernelsByUri.values()).map((e=>e.kernel))}get onDidDisposeKernel(){return this._onDidDisposeKernel.event}get onDidRestartKernel(){return this._onDidRestartKernel.event}get onDidStartKernel(){return this._onDidStartKernel.event}get onDidCreateKernel(){return this._onDidCreateKernel.event}get(e){var t;return null===(t=this.kernelsByUri.get(e.toString()))||void 0===t?void 0:t.kernel}getInternal(e){return this.kernelsByUri.get(e.toString())}async dispose(){(0,o.traceInfoIfCI)("Disposing all kernels from kernel provider");const e=Array.from(this.pendingDisposables.values());this.pendingDisposables.clear(),await Promise.all(e),await Promise.all(this.kernels.map((e=>e.dispose())))}storeKernel(e,t,n){this.kernelsByUri.set(e.toString(),{options:t,kernel:n}),this._onDidCreateKernel.fire(n)}deleteMappingIfKernelIsDisposed(e,t){t.onDisposed((()=>{this.get(e)===t&&(this.kernelsByUri.delete(e.toString()),(0,o.traceVerbose)(`Kernel got disposed, hence there is no longer a kernel associated with ${(0,i.getDisplayPath)(e)}`)),this.pendingDisposables.delete(t)}),this,this.disposables)}disposeOldKernel(e){const t=this.kernelsByUri.get(e.toString());t&&((0,o.traceInfoIfCI)(`Disposing kernel associated with ${(0,i.getDisplayPath)(e)}`),this.pendingDisposables.add(t.kernel),t.kernel.dispose().catch((e=>(0,o.traceWarning)("Failed to dispose old kernel",e))).finally((()=>this.pendingDisposables.delete(t.kernel))).catch(s.noop)),this.kernelsByUri.delete(e.toString())}}},38404:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThirdPartyKernelProvider=t.KernelProvider=void 0;const i=n(86700),s=n(10053),a=n(15925),c=n(42080),l=n(2055),u=n(40453),d=n(81296),p=n(22021),h=n(94062);let f=class extends l.BaseCoreKernelProvider{constructor(e,t,n,r,o,i,s,a,c,l,u){super(e,t,s),this.notebookProvider=n,this.configService=r,this.appShell=o,this.outputTracker=i,this.statusProvider=a,this.context=c,this.formatters=l,this.startupCodeProviders=u}getOrCreate(e,t){const n=e.uri,r=this.getInternal(e);if(r&&r.options.metadata.id===t.metadata.id)return r.kernel;this.disposeOldKernel(e);const o=(null==e?void 0:e.notebookType)===a.InteractiveWindowView?t.resourceUri:n,i=this.configService.getSettings(o).jupyterLaunchTimeout,s=this.configService.getSettings(o).jupyterInterruptTimeout,c=new p.Kernel(n,o,e,t.metadata,this.notebookProvider,i,s,this.appShell,t.controller,this.configService,this.outputTracker,this.statusProvider,this.context,this.formatters,this.startupCodeProviders,(()=>Promise.resolve()));return c.onRestarted((()=>this._onDidRestartKernel.fire(c)),this,this.disposables),c.onDisposed((()=>this._onDidDisposeKernel.fire(c)),this,this.disposables),c.onStarted((()=>this._onDidStartKernel.fire(c)),this,this.disposables),c.onStatusChanged((e=>this._onKernelStatusChanged.fire({kernel:c,status:e})),this,this.disposables),this.asyncDisposables.push(c),this.storeKernel(e,t,c),this.deleteMappingIfKernelIsDisposed(n,c),c}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IAsyncDisposableRegistry)),o(1,(0,i.inject)(c.IDisposableRegistry)),o(2,(0,i.inject)(h.INotebookProvider)),o(3,(0,i.inject)(c.IConfigurationService)),o(4,(0,i.inject)(s.IApplicationShell)),o(5,(0,i.inject)(d.CellOutputDisplayIdTracker)),o(6,(0,i.inject)(s.IVSCodeNotebook)),o(7,(0,i.inject)(u.IStatusProvider)),o(8,(0,i.inject)(c.IExtensionContext)),o(9,(0,i.multiInject)(h.ITracebackFormatter)),o(10,(0,i.multiInject)(h.IStartupCodeProvider))],f),t.KernelProvider=f;let g=class extends l.BaseThirdPartyKernelProvider{constructor(e,t,n,r,o,i,s,a){super(e,t,i),this.notebookProvider=n,this.configService=r,this.appShell=o,this.statusProvider=s,this.startupCodeProviders=a}getOrCreate(e,t){const n=this.getInternal(e);if(n&&n.options.metadata.id===t.metadata.id)return n.kernel;this.disposeOldKernel(e);const r=e,o=this.configService.getSettings(r).jupyterLaunchTimeout,i=this.configService.getSettings(r).jupyterInterruptTimeout,s=new p.ThirdPartyKernel(e,r,t.metadata,this.notebookProvider,o,i,this.appShell,this.configService,this.statusProvider,this.startupCodeProviders);return s.onRestarted((()=>this._onDidRestartKernel.fire(s)),this,this.disposables),s.onDisposed((()=>this._onDidDisposeKernel.fire(s)),this,this.disposables),s.onStarted((()=>this._onDidStartKernel.fire(s)),this,this.disposables),s.onStatusChanged((e=>this._onKernelStatusChanged.fire({kernel:s,status:e})),this,this.disposables),this.asyncDisposables.push(s),this.storeKernel(e,t,s),this.deleteMappingIfKernelIsDisposed(e,s),s}};g=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IAsyncDisposableRegistry)),o(1,(0,i.inject)(c.IDisposableRegistry)),o(2,(0,i.inject)(h.INotebookProvider)),o(3,(0,i.inject)(c.IConfigurationService)),o(4,(0,i.inject)(s.IApplicationShell)),o(5,(0,i.inject)(s.IVSCodeNotebook)),o(6,(0,i.inject)(u.IStatusProvider)),o(7,(0,i.multiInject)(h.IStartupCodeProvider))],g),t.ThirdPartyKernelProvider=g},85493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendKernelSpecTelemetry=void 0;const r=n(15925),o=n(9959),i=["/bin/sh","/bin/bash","/bin/zsh"];t.sendKernelSpecTelemetry=function(e,t){const n=(e.argv||[]).some((e=>(e=e.toLowerCase(),i.some((t=>e.includes(t))))));(0,o.sendTelemetryEvent)(r.Telemetry.KernelSpecLanguage,void 0,{language:e.language,kind:t,usesShell:n})}},15467:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TrustedKernelPaths=void 0;const o=n(86700);let i=class{isTrusted(e){return!0}};i=r([(0,o.injectable)()],i),t.TrustedKernelPaths=i},32378:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITrustedKernelPaths=void 0,t.ITrustedKernelPaths=Symbol("ITrustedKernelPaths")},99216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IRawNotebookProvider=t.IRawNotebookSupportedService=t.IKernelLauncher=void 0,t.IKernelLauncher=Symbol("IKernelLauncher"),t.IRawNotebookSupportedService=Symbol("IRawNotebookSupportedService"),t.IRawNotebookProvider=Symbol("IRawNotebookProvider")},9086:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const o=n(52064),i=n(77886),s=n(15925),a=n(9959),c=n(99216),l=n(24649),u=n(24150),d=n(86700),p=n(94062),h=n(38404),f=n(30038),g=n(76385),m=n(7214),y=n(43719),v=n(75e3),b=n(68650),S=n(81296),w=n(23046),C=n(57410),k=n(83428),_=n(15467),I=n(32378);let E=class{constructor(){this.isSupported=!1}};E=r([(0,d.injectable)()],E),t.registerTypes=function(e,t){e.addSingleton(c.IRawNotebookSupportedService,E),(0,a.setSharedProperty)("isInsiderExtension",(0,s.isPreReleaseVersion)());const n=e.get(i.IPythonExtensionChecker);(0,a.setSharedProperty)("isPythonExtensionInstalled",n.isPythonExtensionInstalled?"true":"false");const r=e.get(c.IRawNotebookSupportedService);(0,a.setSharedProperty)("rawKernelSupported",r.isSupported?"true":"false"),e.addSingleton(m.IKernelVariableRequester,b.PythonVariablesRequester,s.Identifiers.PYTHON_VARIABLES_REQUESTER),e.addSingleton(m.IJupyterVariables,v.JupyterVariables,s.Identifiers.ALL_VARIABLES),e.addSingleton(m.IJupyterVariables,y.KernelVariables,s.Identifiers.KERNEL_VARIABLES),e.addSingleton(o.IExtensionSyncActivationService,l.KernelCrashMonitor),e.addSingleton(o.IExtensionSyncActivationService,w.KernelAutoReConnectFailedMonitor),e.addSingleton(o.IExtensionSyncActivationService,C.KernelAutoReconnectMonitor),e.addSingleton(p.IKernelProvider,h.KernelProvider),e.addSingleton(I.ITrustedKernelPaths,_.TrustedKernelPaths),e.addSingleton(p.IThirdPartyKernelProvider,h.ThirdPartyKernelProvider),e.addSingleton(g.PreferredRemoteKernelIdProvider,g.PreferredRemoteKernelIdProvider),e.addSingleton(p.IKernelFinder,f.KernelFinder),(0,u.registerTypes)(e,t),e.addSingleton(S.CellOutputDisplayIdTracker,S.CellOutputDisplayIdTracker),e.addSingleton(p.IStartupCodeProvider,k.DebugStartupCodeProvider)}},61239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeInteractiveOrNotebookTelemetryBasedOnUserAction=t.trackKernelResourceInformation=void 0;const r=n(17835),o=n(15925),i=n(96434),s=n(46031),a=n(86563),c=n(52859),l=n(35412),u=n(10499);async function d(e,t){if(!e)return;const n=(0,c.getComparisonKey)(e),[d,p]=u.trackedInfo.get(n)||[{resourceType:(0,a.getResourceType)(e),resourceHash:e?await(0,i.getTelemetrySafeHashedString)(e.toString()):void 0,kernelSessionId:await(0,i.getTelemetrySafeHashedString)(Date.now().toString())},{previouslySelectedKernelConnectionId:""}];"boolean"==typeof t.capturedEnvVars&&(d.capturedEnvVars=t.capturedEnvVars),t.userExecutedCell&&(d.userExecutedCell=!0),"boolean"==typeof t.disableUI&&(d.disableUI=t.disableUI);const h=t.kernelConnection;if(h){const n=h.id;let a;switch(p.previouslySelectedKernelConnectionId!==n&&(d.userExecutedCell=t.userExecutedCell,d.disableUI=t.disableUI),p.previouslySelectedKernelConnectionId&&p.previouslySelectedKernelConnectionId!==n&&(d.kernelSessionId=await(0,i.getTelemetrySafeHashedString)(Date.now().toString())),h.kind){case"connectToLiveRemoteKernel":a=h.kernelModel.language;break;case"startUsingRemoteKernelSpec":case"startUsingLocalKernelSpec":a=h.kernelSpec.language;break;case"startUsingPythonInterpreter":a=o.PYTHON_LANGUAGE}[d.kernelLanguage,d.kernelId]=await Promise.all([a,(0,i.getTelemetrySafeHashedString)(h.id)]),p.previouslySelectedKernelConnectionId=h.id;const c=h.interpreter;if(c){if(d.isUsingActiveInterpreter=r.WorkspaceInterpreterTracker.isActiveWorkspaceInterpreter(e,c),d.pythonEnvironmentType=c.envType,d.pythonEnvironmentPath=await(0,i.getTelemetrySafeHashedString)((0,l.getFilePath)((0,s.getNormalizedInterpreterPath)(c.uri))),u.pythonEnvironmentsByHash.set(d.pythonEnvironmentPath,c),c.version){const{major:e,minor:t,patch:n}=c.version;d.pythonEnvironmentVersion=`${e}.${t}.${n}`}else d.pythonEnvironmentVersion=void 0;(0,u.updatePythonPackages)(d)}d.kernelConnectionType=d.kernelConnectionType||(null==h?void 0:h.kind)}else p.previouslySelectedKernelConnectionId="";u.trackedInfo.set(n,[d,p])}t.trackKernelResourceInformation=d,t.initializeInteractiveOrNotebookTelemetryBasedOnUserAction=async function(e,t){await d(e,{kernelConnection:t,userExecutedCell:!0})}},47684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendKernelTelemetryEvent=void 0;const r=n(9959),o=n(10499);t.sendKernelTelemetryEvent=function(e,t,n,i,s){(0,o.getContextualPropsForTelemetry)(e).then((e=>{Object.assign(e,i||{}),(0,r.sendTelemetryEvent)(t,n,e,s)})).ignoreErrors()}},94062:(e,t)=>{"use strict";function n(e){return"startUsingLocalKernelSpec"===e.kind||"startUsingPythonInterpreter"===e.kind}var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.IStartupCodeProvider=t.ITracebackFormatter=t.IKernelFinder=t.IKernelDependencyService=t.KernelInterpreterDependencyResponse=t.INotebookProvider=t.InterruptResult=t.IThirdPartyKernelProvider=t.IKernelProvider=t.isRemoteConnection=t.isLocalConnection=t.NotebookCellRunState=void 0,(i=t.NotebookCellRunState||(t.NotebookCellRunState={})).Idle="Idle",i.Success="Success",i.Error="Error",t.isLocalConnection=n,t.isRemoteConnection=function(e){return!n(e)},t.IKernelProvider=Symbol("IKernelProvider"),t.IThirdPartyKernelProvider=Symbol("IThirdPartyKernelProvider"),(o=t.InterruptResult||(t.InterruptResult={})).Success="success",o.TimedOut="timeout",o.Restarted="restart",t.INotebookProvider=Symbol("INotebookProvider"),(r=t.KernelInterpreterDependencyResponse||(t.KernelInterpreterDependencyResponse={}))[r.ok=0]="ok",r[r.cancel=1]="cancel",r[r.failed=2]="failed",r[r.selectDifferentKernel=3]="selectDifferentKernel",r[r.uiHidden=4]="uiHidden",t.IKernelDependencyService=Symbol("IKernelDependencyService"),t.IKernelFinder=Symbol("IKernelFinder"),t.ITracebackFormatter=Symbol("ITracebackFormatter"),t.IStartupCodeProvider=Symbol("IStartupCodeProvider")},50068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertDebugProtocolVariableToIJupyterVariable=t.DataViewableTypes=void 0,t.DataViewableTypes=new Set(["DataFrame","list","dict","ndarray","Series","Tensor","EagerTensor","DataArray"]),t.convertDebugProtocolVariableToIJupyterVariable=function(e){var n;return{name:null!==(n=e.evaluateName)&&void 0!==n?n:e.name,type:e.type,count:0,shape:"",size:0,supportsDataExplorer:t.DataViewableTypes.has(e.type||""),value:e.value,truncated:!0,frameId:e.variablesReference}}},75e3:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterVariables=void 0;const i=n(86700),s=n(66828),a=n(42080),c=n(15925),l=n(9959),u=n(7214);let d=class{constructor(e,t,n){this.kernelVariables=t,this.debuggerVariables=n,this.refreshEventEmitter=new s.EventEmitter,e.push(n.refreshRequired(this.fireRefresh.bind(this))),e.push(t.refreshRequired(this.fireRefresh.bind(this)))}get refreshRequired(){return this.refreshEventEmitter.event}async getVariables(e,t){return this.variableHandler.getVariables(e,t)}async getFullVariable(e,t){return this.variableHandler.getFullVariable(e,t)}async getMatchingVariable(e,t,n){return this.variableHandler.getMatchingVariable(e,t,n)}async getDataFrameInfo(e,t,n,r){return this.variableHandler.getDataFrameInfo(e,t,n,r)}async getDataFrameRows(e,t,n,r,o){return this.variableHandler.getDataFrameRows(e,t,n,r,o)}get variableHandler(){return this.debuggerVariables.active?this.debuggerVariables:this.kernelVariables}fireRefresh(){this.refreshEventEmitter.fire()}};r([(0,l.capturePerfTelemetry)(l.Telemetry.VariableExplorerFetchTime)],d.prototype,"getVariables",null),d=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IDisposableRegistry)),o(1,(0,i.inject)(u.IJupyterVariables)),o(1,(0,i.named)(c.Identifiers.KERNEL_VARIABLES)),o(2,(0,i.inject)(u.IJupyterVariables)),o(2,(0,i.named)(c.Identifiers.DEBUGGER_VARIABLES))],d),t.JupyterVariables=d},43719:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelVariables=void 0;const i=n(86700),s=n(66828),a=n(15925),c=n(65738),l=n(42080),u=n(43138),d=n(98729),p=n(7214),h=/.*?\[.*?;31mType:.*?\[0m\s+(\w+)/,f=/.*?\[.*?;31mValue:.*?\[0m\s+(.*)/,g=/.*?\[.*?;31mString form:.*?\[0m\s+?([\s\S]+?)\n(.*\[.*;31m?)/,m=/.*?\[.*?;31mDocstring:.*?\[0m\s+(.*)/,y=/.*?\[.*?;31mLength:.*?\[0m\s+(.*)/,v=/^\s+\[(\d+) rows x (\d+) columns\]/m,b=new Set(["DataFrame","list","dict","ndarray","Series","Tensor","EagerTensor","DataArray"]);let S=class{constructor(e,t,n,r){this.configService=e,this.experimentService=t,this.disposables=r,this.variableRequesters=new Map,this.cachedVariables=new Map,this.refreshEventEmitter=new s.EventEmitter,this.variableRequesters.set(a.PYTHON_LANGUAGE,n)}get refreshRequired(){return this.refreshEventEmitter.event}async getVariables(e,t){return this.getVariablesBasedOnKernel(t,e)}async getMatchingVariable(e,t,n){const r=this.cachedVariables.get(t.uri.toString());if(r){let o=r.variables.find((t=>t.name===e));return o&&!o.value&&(o=await this.getVariableValueFromKernel(o,t,n)),o}{const r=await this.getVariableNamesAndTypesFromKernel(t,n);if(r){const o=r.find((t=>t.name===e));if(o)return this.getVariableValueFromKernel({name:e,value:void 0,supportsDataExplorer:!1,type:o.type,size:0,count:0,shape:"",truncated:!0},t,n)}}}async getDataFrameInfo(e,t,n,r){const o=(0,d.getKernelConnectionLanguage)(null==t?void 0:t.kernelConnectionMetadata)||a.PYTHON_LANGUAGE,i=this.variableRequesters.get(o);if(i){r&&(e=await this.getFullVariable(e,t));let o=e.name;return n&&(o=`${e.name}${n}`),i.getDataFrameInfo(e,t,o)}return e}async getDataFrameRows(e,t,n,r,o){const i=(0,d.getKernelConnectionLanguage)(null==r?void 0:r.kernelConnectionMetadata)||a.PYTHON_LANGUAGE,s=this.variableRequesters.get(i);if(s){let i=e.name;return o&&(i=`${e.name}${o}`),s.getDataFrameRows(t,n,r,i)}return{data:[]}}async getFullVariable(e,t,n){const r=(0,d.getKernelConnectionLanguage)(null==t?void 0:t.kernelConnectionMetadata)||a.PYTHON_LANGUAGE,o=this.variableRequesters.get(r);return o?o.getFullVariable(e,t,n):e}async getVariablesBasedOnKernel(e,t){var n;let r=this.cachedVariables.get(e.uri.toString());r&&r.currentExecutionCount===t.executionCount&&r.currentExecutionCount===e.executionCount||(r={currentExecutionCount:e.executionCount,variables:(await this.getVariableNamesAndTypesFromKernel(e)).map((e=>({name:e.name,value:void 0,supportsDataExplorer:!1,type:e.type,size:0,shape:"",count:0,truncated:!0})))});const o=this.configService.getSettings(e.resourceUri).variableExplorerExclude?null===(n=this.configService.getSettings().variableExplorerExclude)||void 0===n?void 0:n.split(";"):[],i={executionCount:e.executionCount,pageStartIndex:-1,pageResponse:[],totalCount:0,refreshCount:t.refreshCount};if(r){const n=t.sortColumn,s=(e,r)=>{const o=e[n]?e[n]:"",i=r[n]?r[n]:"";return t.sortAscending?o.localeCompare(i,void 0,{sensitivity:"base"}):i.localeCompare(o,void 0,{sensitivity:"base"})};r.variables.sort(s);const a=t.startIndex?t.startIndex:0,c=t.pageSize?t.pageSize:100;i.pageStartIndex=a;for(let t=a;t<a+c&&t<r.variables.length;){const n=r.variables[t].value?r.variables[t]:await this.getVariableValueFromKernel(r.variables[t],e);o&&o.indexOf(n.type)>=0?r.variables.splice(t,1):(r.variables[t]=n,i.pageResponse.push(n),t+=1)}this.cachedVariables.set(e.uri.toString(),r),i.totalCount=r.variables.length}return i}async getVariableProperties(e,t,n){const r=await this.getMatchingVariable(e,t,n),o=this.configService.getSettings().variableTooltipFields,i=(0,d.getKernelConnectionLanguage)(t.kernelConnectionMetadata)||a.PYTHON_LANGUAGE,s=o[i],c=await this.inEnhancedTooltipsExperiment(),l=this.variableRequesters.get(i);return l?l.getVariableProperties(e,t,n,r,s,c):{}}async getVariableNamesAndTypesFromKernel(e,t){const n=(0,d.getKernelConnectionLanguage)(e.kernelConnectionMetadata)||a.PYTHON_LANGUAGE,r=this.variableRequesters.get(n);return r?r.getVariableNamesAndTypesFromKernel(e,t):[]}inspect(e,t,n=0,r){const o=(0,u.createDeferred)();try{e.requestInspect({code:t,cursor_pos:n,detail_level:0}).then((e=>{e&&"ok"===e.content.status?o.resolve(e.content.data):o.resolve(void 0)})).catch((e=>{o.reject(e)}))}catch(e){o.reject(e)}return r&&this.disposables.push(r.onCancellationRequested((()=>o.reject(new s.CancellationError)))),o.promise}async getVariableValueFromKernel(e,t,n){let r={...e};if(!t.disposed&&t.session){const o=await this.inspect(t.session,e.name,0,n);if(o&&o.hasOwnProperty("text/plain")){const e=o["text/plain"].toString(),t=h.exec(e),n=f.exec(e),i=g.exec(e),s=m.exec(e),a=y.exec(e),c=v.exec(e);t&&(r.type=t[1]),r.value=n?n[1]:i?i[1]:s?s[1]:"",a&&(r.count=parseInt(a[1],10)),c&&(r.shape=`(${c[1]}, ${c[2]})`)}o&&o.type&&(r.type=o.type.toString()),o&&o.value&&(r.value=o.value.toString()),b.has(r.type)&&(r.supportsDataExplorer=!0)}return r.type&&r.count&&!r.shape&&(0,d.isPythonKernelConnection)(t.kernelConnectionMetadata)&&r.supportsDataExplorer&&"list"!==r.type&&(r=await this.getFullVariable(r,t)),r}async inEnhancedTooltipsExperiment(){return this.enhancedTooltipsExperimentPromise||(this.enhancedTooltipsExperimentPromise=await this.experimentService.inExperiment(c.Experiments.EnhancedTooltips)),this.enhancedTooltipsExperimentPromise}};S=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IConfigurationService)),o(1,(0,i.inject)(l.IExperimentService)),o(2,(0,i.inject)(p.IKernelVariableRequester)),o(2,(0,i.named)(a.Identifiers.PYTHON_VARIABLES_REQUESTER)),o(3,(0,i.inject)(l.IDisposableRegistry))],S),t.KernelVariables=S},68650:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonVariablesRequester=t.parseDataFrame=void 0;const i=n(86700),s=n(11642),a=n(25251),c=n(58323),l=n(89112),u=n(9959),d=n(98729),p=n(42080),h=n(65864);function f(e){const t=e.index,n=e.columns;return{data:e.data.map(((e,r)=>{const o={index:t[r]};return n.forEach(((t,n)=>{o[t]=e[n]})),o}))}}async function g(e,{code:t,initializeCode:n,cleanupCode:r},o){if(e.disposed||e.disposing||!e.session||!e.session.kernel||e.session.disposed)return[];try{return n&&await(0,d.executeSilently)(e.session,n,o),await(0,d.executeSilently)(e.session,t,o)}catch(e){if(e instanceof h.SessionDisposedError)return[];throw e}finally{r&&await(0,d.executeSilently)(e.session,r,o)}}t.parseDataFrame=f;let m=class{constructor(e,t){this.varScriptGenerator=e,this.dfScriptGenerator=t}async getDataFrameInfo(e,t,n){var r;const{code:o,cleanupCode:i,initializeCode:s}=await this.dfScriptGenerator.generateCodeToGetDataFrameInfo({isDebugging:!1,variableName:n}),a=await g(t,{code:o,cleanupCode:i,initializeCode:s},{traceErrors:!0,traceErrorsMessage:"Failure in execute_request for getDataFrameInfo",telemetryName:u.Telemetry.PythonVariableFetchingCodeFailure}),c=(null===(r=t.notebook)||void 0===r?void 0:r.uri)||t.resourceUri||t.uri;return{...e,...this.deserializeJupyterResult(a),fileName:c}}async getDataFrameRows(e,t,n,r){const{code:o,cleanupCode:i,initializeCode:s}=await this.dfScriptGenerator.generateCodeToGetDataFrameRows({isDebugging:!1,variableName:r,startIndex:e,endIndex:t}),a=await g(n,{code:o,cleanupCode:i,initializeCode:s},{traceErrors:!0,traceErrorsMessage:"Failure in execute_request for getDataFrameRows",telemetryName:u.Telemetry.PythonVariableFetchingCodeFailure});return f(this.deserializeJupyterResult(a))}async getVariableProperties(e,t,n,r,o,i){let s={};if(r&&r.value){const n=null==r?void 0:r.type;if(n&&n in o&&i){const e="["+o[n].reduce(((e,t)=>e+`"${t}", `),"")+"]",{code:i,cleanupCode:a,initializeCode:c}=await this.varScriptGenerator.generateCodeToGetVariableProperties({isDebugging:!1,variableName:r.name,stringifiedAttributeNameList:e}),l=await g(t,{code:i,cleanupCode:a,initializeCode:c},{traceErrors:!0,traceErrorsMessage:"Failure in execute_request for getVariableProperties",telemetryName:u.Telemetry.PythonVariableFetchingCodeFailure});s={...s,...this.deserializeJupyterResult(l)}}else s[`${e}`]=r.value}return s}async getVariableNamesAndTypesFromKernel(e,t){if(e.session){const{code:t,cleanupCode:n,initializeCode:r}=await this.varScriptGenerator.generateCodeToGetVariableTypes({isDebugging:!1}),o=await g(e,{code:t,cleanupCode:n,initializeCode:r},{traceErrors:!0,traceErrorsMessage:"Failure in execute_request for getVariableNamesAndTypesFromKernel",telemetryName:u.Telemetry.PythonVariableFetchingCodeFailure});if(e.disposed||e.disposing)return[];const i=this.deserializeJupyterResult(o),s=[];for(const[e,t]of Object.entries(i)){const n={name:e,value:void 0,supportsDataExplorer:!1,type:t||"",size:0,shape:"",count:0,truncated:!0};s.push(n)}return s}return[]}async getFullVariable(e,t,n){const{code:r,cleanupCode:o,initializeCode:i}=await this.varScriptGenerator.generateCodeToGetVariableInfo({isDebugging:!1,variableName:e.name}),s=await g(t,{code:r,cleanupCode:o,initializeCode:i},{traceErrors:!0,traceErrorsMessage:"Failure in execute_request for getFullVariable",telemetryName:u.Telemetry.PythonVariableFetchingCodeFailure});return{...e,...this.deserializeJupyterResult(s)}}extractJupyterResultText(e){if(e.length>0){const t=e[0];if(t&&"stream"===t.output_type&&"stderr"===t.name&&t.hasOwnProperty("text")){const e=t.text;if(e.includes("iopub_data_rate_limit"))throw new l.JupyterDataRateLimitError;{const t=a.DataScience.jupyterGetVariablesExecutionError().format(e);throw(0,s.traceError)(t),new Error(t)}}if(t&&"execute_result"===t.output_type){const e=t.data;if(e&&e.hasOwnProperty("text/plain"))return e["text/plain"]}if(t&&"stream"===t.output_type&&t.hasOwnProperty("text"))return t.text;if(t&&"error"===t.output_type&&t.hasOwnProperty("traceback")){const e=t.traceback.map(c.stripAnsi).join("\r\n"),n=a.DataScience.jupyterGetVariablesExecutionError().format(e);throw(0,s.traceError)(n),new Error(n)}}throw new Error(a.DataScience.jupyterGetVariablesBadResults())}deserializeJupyterResult(e){const t=this.extractJupyterResultText(e);return JSON.parse(t)}};m=r([(0,i.injectable)(),o(0,(0,i.inject)(p.IVariableScriptGenerator)),o(1,(0,i.inject)(p.IDataFrameScriptGenerator))],m),t.PythonVariablesRequester=m},7214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKernelVariableRequester=t.IJupyterVariables=void 0,t.IJupyterVariables=Symbol("IJupyterVariables"),t.IKernelVariableRequester=Symbol("IKernelVariableRequester")},30682:(e,t)=>{"use strict";var n,r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.IInteractiveWindowMapping=t.SharedMessages=t.SysInfoReason=t.IPyWidgetMessages=t.InteractiveWindowMessages=void 0,function(e){e.FinishCell="finish_cell",e.RestartKernel="restart_kernel",e.SettingsUpdated="settings_updated",e.Started="started",e.ConvertUriForUseInWebViewRequest="ConvertUriForUseInWebViewRequest",e.ConvertUriForUseInWebViewResponse="ConvertUriForUseInWebViewResponse",e.Activate="activate",e.ShowDataViewer="show_data_explorer",e.GetVariablesRequest="get_variables_request",e.GetVariablesResponse="get_variables_response",e.VariableExplorerToggle="variable_explorer_toggle",e.SetVariableExplorerHeight="set_variable_explorer_height",e.VariableExplorerHeightResponse="variable_explorer_height_response",e.ForceVariableRefresh="force_variable_refresh",e.UpdateVariableViewExecutionCount="update_variable_view_execution_count",e.OpenLink="open_link",e.SavePng="save_png",e.VariablesComplete="variables_complete",e.IPyWidgetLoadSuccess="ipywidget_load_success",e.IPyWidgetLoadFailure="ipywidget_load_failure",e.IPyWidgetRenderFailure="ipywidget_render_failure",e.IPyWidgetUnhandledKernelMessage="ipywidget_unhandled_kernel_message",e.IPyWidgetWidgetVersionNotSupported="ipywidget_widget_version_not_supported",e.GetHTMLByIdRequest="get_html_by_id_request",e.GetHTMLByIdResponse="get_html_by_id_response"}(n=t.InteractiveWindowMessages||(t.InteractiveWindowMessages={})),function(e){e.IPyWidgets_logMessage="IPyWidgets_logMessage",e.IPyWidgets_IsReadyRequest="IPyWidgets_IsReadyRequest",e.IPyWidgets_AttemptToDownloadFailedWidgetsAgain="IPyWidgets_AttemptToDownloadFailedWidgetsAgain",e.IPyWidgets_IsOnline="IPyWidgets_IsOnline",e.IPyWidgets_Ready="IPyWidgets_Ready",e.IPyWidgets_onRestartKernel="IPyWidgets_onRestartKernel",e.IPyWidgets_onKernelChanged="IPyWidgets_onKernelChanged",e.IPyWidgets_WidgetScriptSourceRequest="IPyWidgets_WidgetScriptSourceRequest",e.IPyWidgets_WidgetScriptSourceResponse="IPyWidgets_WidgetScriptSource_Response",e.IPyWidgets_BaseUrlResponse="IPyWidgets_BaseUrl_Response",e.IPyWidgets_msg="IPyWidgets_msg",e.IPyWidgets_binary_msg="IPyWidgets_binary_msg",e.IPyWidgets_msg_received="IPyWidgets_msg_received",e.IPyWidgets_iopub_msg_handled="IPyWidgets_iopub_msg_handled",e.IPyWidgets_kernelOptions="IPyWidgets_kernelOptions",e.IPyWidgets_registerCommTarget="IPyWidgets_registerCommTarget",e.IPyWidgets_RegisterMessageHook="IPyWidgets_RegisterMessageHook",e.IPyWidgets_ExtensionOperationHandled="IPyWidgets_ExtensionOperationHandled",e.IPyWidgets_RemoveMessageHook="IPyWidgets_RemoveMessageHook",e.IPyWidgets_MessageHookCall="IPyWidgets_MessageHookCall",e.IPyWidgets_MessageHookResult="IPyWidgets_MessageHookResult",e.IPyWidgets_mirror_execute="IPyWidgets_mirror_execute"}(r=t.IPyWidgetMessages||(t.IPyWidgetMessages={})),(i=t.SysInfoReason||(t.SysInfoReason={}))[i.Start=0]="Start",i[i.Restart=1]="Restart",function(e){e.UpdateSettings="update_settings",e.Started="started",e.LocInit="loc_init"}(o=t.SharedMessages||(t.SharedMessages={})),t.IInteractiveWindowMapping=class{},r.IPyWidgets_kernelOptions,r.IPyWidgets_WidgetScriptSourceRequest,r.IPyWidgets_WidgetScriptSourceResponse,r.IPyWidgets_Ready,r.IPyWidgets_IsOnline,r.IPyWidgets_logMessage,r.IPyWidgets_onRestartKernel,r.IPyWidgets_onKernelChanged,r.IPyWidgets_registerCommTarget,r.IPyWidgets_binary_msg,r.IPyWidgets_msg,r.IPyWidgets_msg_received,r.IPyWidgets_iopub_msg_handled,r.IPyWidgets_RegisterMessageHook,r.IPyWidgets_ExtensionOperationHandled,r.IPyWidgets_RemoveMessageHook,r.IPyWidgets_MessageHookCall,r.IPyWidgets_MessageHookResult,r.IPyWidgets_mirror_execute,n.ForceVariableRefresh,n.UpdateVariableViewExecutionCount,n.FinishCell,n.RestartKernel,n.SettingsUpdated,n.Started,n.Activate,n.ShowDataViewer,n.GetVariablesRequest,n.GetVariablesResponse,n.VariableExplorerToggle,n.SetVariableExplorerHeight,n.VariableExplorerHeightResponse,n.OpenLink,n.SavePng,n.VariablesComplete,o.UpdateSettings,o.LocInit,n.IPyWidgetLoadSuccess,n.IPyWidgetLoadFailure,n.IPyWidgetWidgetVersionNotSupported,n.ConvertUriForUseInWebViewRequest,n.ConvertUriForUseInWebViewResponse,n.IPyWidgetRenderFailure,n.IPyWidgetUnhandledKernelMessage,n.GetHTMLByIdRequest,n.GetHTMLByIdResponse},10450:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PickDocumentKernelSourceCommand=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(15925),l=n(29444),u=n(42080),d=n(58681),p=n(50867);let h=class{constructor(e,t,n,r){this.disposables=e,this.commandManager=t,this.configService=n,this.kernelSourceSelector=r,this.showPickDocumentKernelSourceContext=new l.ContextKey("jupyter.pickDocumentKernelSourceContext",this.commandManager)}async activate(){this.disposables.push(this.configService.getSettings().onDidChange(this.updateVisibility)),this.disposables.push(this.commandManager.registerCommand(c.Commands.PickDocumentKernelSource,this.pickDocumentKernelSource,this)),this.updateVisibility()}async pickDocumentKernelSource(e){s.window.activeNotebookEditor&&"Insiders"===this.configService.getSettings().kernelPickerType&&await this.kernelSourceSelector.selectKernelSource(s.window.activeNotebookEditor.notebook)}updateVisibility(){"Insiders"===this.configService.getSettings().kernelPickerType?this.showPickDocumentKernelSourceContext.set(!0).then(d.noop,d.noop):this.showPickDocumentKernelSourceContext.set(!1).then(d.noop,d.noop)}};h=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IDisposableRegistry)),o(1,(0,i.inject)(a.ICommandManager)),o(2,(0,i.inject)(u.IConfigurationService)),o(3,(0,i.inject)(p.INotebookKernelSourceSelector))],h),t.PickDocumentKernelSourceCommand=h},19687:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnectionControllerCommands=void 0;const i=n(86700),s=n(10053),a=n(15925),c=n(29444),l=n(42080),u=n(27527),d=n(43138),p=n(50867),h=n(19450),f=n(66828),g=n(58681),m=n(94062),y=n(94433),v=n(25251);let b=class{constructor(e,t,n,r,o,i,s,a,l,u,d,p){this.disposables=e,this.commandManager=t,this.multiStepFactory=n,this.serverConnectionType=r,this.isWeb=o,this.serverSelector=i,this.controllerLoader=s,this.controllerRegistration=a,this.notebooks=l,this.serverUriStorage=u,this.configurationService=d,this.workspaceService=p,this.showingRemoteNotWebContext=new c.ContextKey("jupyter.showingRemoteNotWeb",this.commandManager),this.showingLocalOrWebEmptyContext=new c.ContextKey("jupyter.showingLocalOrWebEmpty",this.commandManager),this.showingRemoteContext=new c.ContextKey("jupyter.showingRemoteKernels",this.commandManager)}async activate(){this.disposables.push(this.commandManager.registerCommand(a.Commands.SwitchToLocalKernels,this.switchToLocalKernels,this)),this.disposables.push(this.commandManager.registerCommand(a.Commands.SwitchToRemoteKernels,this.switchToRemoteKernels,this)),this.disposables.push(this.commandManager.registerCommand(a.Commands.SwitchToAnotherRemoteKernels,this.switchToRemoteKernels,this)),this.disposables.push(this.serverConnectionType.onDidChange(this.updateContextKeys,this)),this.updateContextKeys().ignoreErrors,this.disposables.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration,this))}async updateContextKeys(){if("OnlyOneTypeOfKernel"===this.configurationService.getSettings().kernelPickerType){const e=this.serverConnectionType.isLocalLaunch;await(this.isWeb?this.controllerLoader.loaded:Promise.resolve(!0)),this.showingLocalOrWebEmptyContext.set(e||this.isWeb&&0===this.controllerRegistration.registered.length).ignoreErrors(),this.showingRemoteNotWebContext.set(!e&&!this.isWeb).ignoreErrors(),this.showingRemoteContext.set(!e&&this.controllerRegistration.registered.length>0).ignoreErrors()}else this.showingLocalOrWebEmptyContext.set(!1).ignoreErrors(),this.showingRemoteNotWebContext.set(!1).ignoreErrors(),this.showingRemoteContext.set(!1).ignoreErrors()}onDidChangeConfiguration(e){e.affectsConfiguration("jupyter.showOnlyOneTypeOfKernel")&&setTimeout((()=>{this.updateContextKeys().ignoreErrors}),0)}async showVsCodeKernelPicker(){const e=this.notebooks.activeNotebookEditor;e&&(await this.controllerLoader.loaded,this.commandManager.executeCommand("notebook.selectKernel",{notebookEditor:e}).then(g.noop,g.noop))}async switchToRemoteKernels(){const e=this.notebooks.activeNotebookEditor?a.JupyterNotebookView:a.InteractiveWindowView,t=this.serverConnectionType.isLocalLaunch,n=await this.serverUriStorage.getRemoteUri();return this.multiStepFactory.create().run(this.startSwitchRun.bind(this,this.startSwitchingToRemote.bind(this,e,t,null==n?void 0:n.uri)),{})}async startSwitchRun(e,t){return e}async startSwitchingToRemote(e,t,n,r){try{return await this.serverSelector.selectJupyterURI("nonUser",r),this.showRemoteKernelPicker(e,t,n,r)}catch(e){if(e===h.InputFlowAction.back)return this.showVsCodeKernelPicker()}}async showRemoteKernelPicker(e,t,n,r){try{await this.showKernelPicker(v.DataScience.pickRemoteKernelTitle(),v.DataScience.pickRemoteKernelPlaceholder(),!1,e,r)}catch(e){throw t?await this.serverSelector.setJupyterURIToLocal():await this.serverSelector.setJupyterURIToRemote(n),e}}async switchToLocalKernels(){const e=this.notebooks.activeNotebookEditor?a.JupyterNotebookView:a.InteractiveWindowView,t=this.serverConnectionType.isLocalLaunch,n=await this.serverUriStorage.getRemoteUri();return this.multiStepFactory.create().run(this.startSwitchRun.bind(this,this.startSwitchingToLocal.bind(this,e,t,null==n?void 0:n.uri)),{})}async startSwitchingToLocal(e,t,n,r){const o=(0,d.createDeferred)(),i=this.serverConnectionType.onDidChange((()=>o.resolve(!0)));try{await this.serverSelector.setJupyterURIToLocal(),await o.promise}finally{i.dispose()}try{await this.showKernelPicker(v.DataScience.pickLocalKernelTitle(),v.DataScience.pickLocalKernelPlaceholder(),!0,e,r)}catch(e){if(!t&&n&&await this.serverSelector.setJupyterURIToRemote(n,!0),e===h.InputFlowAction.back)return this.showVsCodeKernelPicker()}}async showKernelPicker(e,t,n,r,o){const i=this.controllerRegistration.registered.filter((e=>(0,m.isLocalConnection)(e.connection)===n&&e.viewType===r)),s=new f.EventEmitter,c=function(e,t){const n=[];let r;for(const o of e.slice(0).sort(t))r&&0===t(r[0],o)?r.push(o):(r=[o],n.push(r));return n}(i.map((e=>({label:e.label,detail:void 0,description:e.controller.description,controller:e}))),((e,t)=>function(e,t){return e.localeCompare(t,void 0,{sensitivity:"accent"})}(e.controller.controller.kind||"z",t.controller.controller.kind||"z"))),l=new Map,u=[];c.forEach((e=>{const t=e[0].controller.controller.kind||"Other";u.push({kind:f.QuickPickItemKind.Separator,label:t}),u.push(...e),l.set(t,u.length)})),this.controllerRegistration.onCreated((e=>{if(e.viewType===r&&void 0===u.find((t=>{var n;return(null===(n=t.controller)||void 0===n?void 0:n.id)===e.id}))){const t={label:e.label,detail:void 0,description:e.controller.description,controller:e},n=e.controller.kind||"Other",r=l.get(n)||-1;r<0?(u.push({kind:f.QuickPickItemKind.Separator,label:n}),u.push(t),l.set(n,u.length)):(u.splice(r,0,t),l.set(n,u.length)),s.fire(u)}}));const d=await o.showQuickPick({title:e,items:u,matchOnDescription:!0,matchOnDetail:!0,startBusy:0===u.length,stopBusy:this.controllerLoader.refreshed,placeholder:t,onDidChangeItems:s.event});if(d&&d.label&&d.controller){const e=d.controller;await this.commandManager.executeCommand("notebook.selectKernel",{id:e.id,extension:a.JVSC_EXTENSION_ID}),await this.updateContextKeys()}}};b=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IDisposableRegistry)),o(1,(0,i.inject)(s.ICommandManager)),o(2,(0,i.inject)(h.IMultiStepInputFactory)),o(3,(0,i.inject)(y.IServerConnectionType)),o(4,(0,i.inject)(l.IsWebExtension)),o(5,(0,i.inject)(u.JupyterServerSelector)),o(6,(0,i.inject)(p.IControllerLoader)),o(7,(0,i.inject)(p.IControllerRegistration)),o(8,(0,i.inject)(s.IVSCodeNotebook)),o(9,(0,i.inject)(y.IJupyterServerUriStorage)),o(10,(0,i.inject)(l.IConfigurationService)),o(11,(0,i.inject)(s.IWorkspaceService))],b),t.ServerConnectionControllerCommands=b},42700:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerDefaultService=void 0;const i=n(86700),s=n(98729),a=n(94433),c=n(10053),l=n(15925),u=n(42080),d=n(86563),p=n(84570),h=n(11642),f=n(52859),g=n(67475),m=n(50867);let y=class{constructor(e,t,n,r,o,i,s){this.registration=e,this.loader=t,this.interpreters=n,this.notebook=r,this.disposables=o,this.serverConnectionType=i,this.isWeb=s}get isLocalLaunch(){return this.serverConnectionType.isLocalLaunch}async computeDefaultController(e,t){if(this.isLocalLaunch)return(0,h.traceInfoIfCI)("CreateActiveInterpreterController"),(0,g.createActiveInterpreterController)(t,e,this.interpreters,this.registration);{(0,h.traceInfoIfCI)("CreateDefaultRemoteController");const n=t===l.JupyterNotebookView?this.notebook.notebookDocuments.find((t=>(0,f.isEqual)(t.uri,e,!0))):void 0,r=await this.createDefaultRemoteController(t,n);return r||this.isWeb?r:((0,h.traceVerbose)("No default remote controller, hence returning the active interpreter"),(0,g.createActiveInterpreterController)(t,e,this.interpreters,this.registration))}}async createDefaultRemoteController(e,t){var n,r;const o=t?(0,d.getNotebookMetadata)(t):void 0,i=o&&!(0,s.isPythonNotebook)(o)&&(null===(n=o.language_info)||void 0===n?void 0:n.name)?o.language_info.name:l.PYTHON_LANGUAGE,a=o?null===(r=o.kernelspec)||void 0===r?void 0:r.name:void 0;await this.loader.loaded;const c=this.registration.registered.filter((t=>"startUsingRemoteKernelSpec"===t.connection.kind&&t.controller.notebookType===e));if(0===c.length)return void(0,h.traceError)("No remote controllers");let u,p,f;c.forEach((e=>{"startUsingRemoteKernelSpec"===e.connection.kind&&("python"===e.connection.kernelSpec.name?p=e:"python3"===e.connection.kernelSpec.name?u=e:e.connection.kernelSpec.language===l.PYTHON_LANGUAGE&&(f=e))}));const g=u||p||f;if(i===l.PYTHON_LANGUAGE)return g;{let e,t;return c.forEach((n=>{"startUsingRemoteKernelSpec"===n.connection.kind&&(n.connection.kernelSpec.name===a?e=n:n.connection.kernelSpec.language===i&&(t=n))})),e||t||g}}};r([(0,h.traceDecoratorVerbose)("Get default Remote Controller")],y.prototype,"createDefaultRemoteController",null),y=r([(0,i.injectable)(),o(0,(0,i.inject)(m.IControllerRegistration)),o(1,(0,i.inject)(m.IControllerLoader)),o(2,(0,i.inject)(p.IInterpreterService)),o(3,(0,i.inject)(c.IVSCodeNotebook)),o(4,(0,i.inject)(u.IDisposableRegistry)),o(5,(0,i.inject)(a.IServerConnectionType)),o(6,(0,i.inject)(u.IsWebExtension))],y),t.ControllerDefaultService=y},29653:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerLoader=void 0;const c=n(86700),l=s(n(66828)),u=n(98729),d=n(94062),p=n(77886),h=n(10053),f=n(6491),g=n(15925),m=n(29444),y=n(42080),v=n(86563),b=n(58681),S=n(84570),w=n(11642),C=n(26657),k=n(67475),_=n(50867);let I=class{constructor(e,t,n,r,o,i,s){this.notebook=e,this.disposables=t,this.kernelFinder=n,this.extensionChecker=r,this.interpreters=o,this.registration=i,this.commandManager=s,this.refreshedEmitter=new l.EventEmitter,this.controllersLoadedContext=new m.ContextKey("jupyter.controllersLoaded",this.commandManager)}activate(){this.kernelFinder.onDidChangeKernels((()=>this.loadControllers()),this,this.disposables),this.notebook.onDidOpenNotebookDocument(this.onDidOpenNotebookDocument,this,this.disposables),this.notebook.notebookDocuments.forEach((e=>this.onDidOpenNotebookDocument(e).catch(b.noop))),this.registration.onCreated((()=>this.refreshedEmitter.fire()),this,this.disposables),this.loadControllers(),this.controllersLoadedContext.set(!1).then(b.noop,b.noop)}loadControllers(){this.loadControllersImpl(),(0,C.sendKernelListTelemetry)(this.registration.registered.map((e=>e.connection))),(0,w.traceInfoIfCI)(`Providing notebook controllers with length ${this.registration.registered.length}.`)}get refreshed(){return this.refreshedEmitter.event}get loaded(){return this.controllersPromise}async onDidOpenNotebookDocument(e){e.notebookType!==g.JupyterNotebookView&&e.notebookType!==g.InteractiveWindowView||!l.workspace.isTrusted||(0,u.isPythonNotebook)((0,v.getNotebookMetadata)(e))&&this.extensionChecker.isPythonExtensionInstalled&&(0,k.createActiveInterpreterController)(g.JupyterNotebookView,e.uri,this.interpreters,this.registration).catch(b.noop)}loadControllersImpl(){const e=this.kernelFinder.kernels;(0,w.traceVerbose)(`Found ${e.length} cached controllers`),this.createNotebookControllers(e),Array.from(this.registration.registered).filter((t=>{const n=!e.some((e=>e.id===t.connection.id));return!(!n||"connectToLiveRemoteKernel"!==t.connection.kind)||n})).forEach((e=>{e.dispose()})),this.controllersLoadedContext.set(!0).ignoreErrors(),this.controllersPromise=this.controllersPromise||Promise.resolve()}createNotebookControllers(e,t=[g.JupyterNotebookView,g.InteractiveWindowView]){(0,w.traceVerbose)(`Creating ${null==e?void 0:e.length} controllers`);try{e.forEach((e=>{this.registration.add(e,t)}))}catch(e){if(!(0,f.isCancellationError)(e,!0))throw e}}};I=i([(0,c.injectable)(),a(0,(0,c.inject)(h.IVSCodeNotebook)),a(1,(0,c.inject)(y.IDisposableRegistry)),a(2,(0,c.inject)(d.IKernelFinder)),a(3,(0,c.inject)(p.IPythonExtensionChecker)),a(4,(0,c.inject)(S.IInterpreterService)),a(5,(0,c.inject)(_.IControllerRegistration)),a(6,(0,c.inject)(h.ICommandManager))],I),t.ControllerLoader=I},89977:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerPreferredService=void 0;const i=n(86700),s=n(66828),a=n(98729),c=n(94433),l=n(61239),u=n(77886),d=n(10053),p=n(15925),h=n(20397),f=n(35412),g=n(42080),m=n(86563),y=n(58681),v=n(84570),b=n(11642),S=n(9959),w=n(41463),C=n(50867);let k=class{constructor(e,t,n,r,o,i,s,a,c,l){this.registration=e,this.loader=t,this.defaultService=n,this.interpreters=r,this.notebook=o,this.extensionChecker=s,this.serverConnectionType=a,this.kernelRankHelper=c,this.selection=l,this.preferredControllers=new WeakMap,this.preferredCancelTokens=new WeakMap,this.disposables=new Set,i.push(this)}get isLocalLaunch(){return this.serverConnectionType.isLocalLaunch}activate(){this.disposables.add(this.notebook.onDidOpenNotebookDocument(this.onDidOpenNotebookDocument,this)),this.notebook.notebookDocuments.forEach((e=>this.onDidOpenNotebookDocument(e))),this.disposables.add(this.notebook.onDidCloseNotebookDocument((e=>{const t=this.preferredCancelTokens.get(e);t&&(this.preferredCancelTokens.delete(e),t.cancel())}),this)),this.disposables.add(this.registration.onCreated((()=>this.notebook.notebookDocuments.map((e=>this.onDidOpenNotebookDocument(e)))),this))}dispose(){(0,h.disposeAllDisposables)(Array.from(this.disposables))}async computePreferred(e,t){var n,r;if(!(0,m.isJupyterNotebook)(e))return{};(0,b.traceInfoIfCI)(`Clear controller mapping for ${(0,f.getDisplayPath)(e.uri)}`),null===(n=this.preferredCancelTokens.get(e))||void 0===n||n.cancel(),null===(r=this.preferredCancelTokens.get(e))||void 0===r||r.dispose();const o=new s.CancellationTokenSource;this.disposables.add(o),this.preferredCancelTokens.set(e,o);try{let n;const r=(0,m.getNotebookMetadata)(e),i=(0,m.getResourceType)(e.uri),c=(0,a.isPythonNotebook)(r)||"interactive"===i;if(e.notebookType===p.JupyterNotebookView&&!this.isLocalLaunch&&c){const t=await this.defaultService.computeDefaultController(e.uri,e.notebookType);n=null==t?void 0:t.connection}if(e.notebookType!==p.JupyterNotebookView||n){if(e.notebookType===p.InteractiveWindowView){await this.loader.loaded;const t=await this.defaultService.computeDefaultController(e.uri,"interactive");n=null==t?void 0:t.connection}}else{const i=!t&&c&&this.extensionChecker.isPythonExtensionInstalled?await this.interpreters.getActiveInterpreter(e.uri):void 0;if(({preferredConnection:n}=await this.findPreferredKernelExactMatch(e.uri,r,o.token,i,t)),n||({preferredConnection:n}=await this.findPreferredKernelExactMatch(e.uri,r,o.token,i,t)),this.sendPreferredKernelTelemetry(e.uri,r,n,i),o.token.isCancellationRequested&&!n)return(0,b.traceInfo)("Find preferred kernel cancelled"),{};if(!n)return(0,b.traceInfoIfCI)(`PreferredConnection not found for NotebookDocument: ${(0,f.getDisplayPath)(e.uri)}`),{};(0,b.traceInfo)(`PreferredConnection: ${n.id} found for NotebookDocument: ${(0,f.getDisplayPath)(e.uri)}`),this.registration.registered.find((e=>(null==n?void 0:n.id)===e.connection.id))||((0,b.traceVerbose)(`Early registration of controller for Kernel connection ${n.id}`),this.registration.add(n,[p.JupyterNotebookView]))}let u;return n&&(u=this.registration.get(n,e.notebookType)),u?((0,b.traceVerbose)(`TargetController found ID: ${u.id} for document ${(0,f.getDisplayPath)(e.uri)}`),await u.controller.updateNotebookAffinity(e,s.NotebookControllerAffinity.Preferred),await(0,l.trackKernelResourceInformation)(e.uri,{kernelConnection:n,isPreferredKernel:!0}),this.preferredControllers.set(e,u)):(0,b.traceInfoIfCI)(`TargetController not found ID: ${null==n?void 0:n.id} for document ${(0,f.getDisplayPath)(e.uri)}`),{preferredConnection:n,controller:u}}catch(e){return(0,b.traceError)("Failed to find & set preferred controllers",e),{}}finally{o.dispose(),this.disposables.delete(o)}}getPreferred(e){return this.preferredControllers.get(e)}onDidOpenNotebookDocument(e){e.notebookType!==p.JupyterNotebookView&&e.notebookType!==p.InteractiveWindowView||!s.workspace.isTrusted||this.selection.getSelected(e)||this.computePreferred(e).catch(y.noop)}async findPreferredKernelExactMatch(e,t,n,r,o){let i;const s=await this.kernelRankHelper.rankKernels(e,this.registration.all,t,r,n,o);if(n.isCancellationRequested)return{preferredConnection:void 0,rankedConnections:void 0};if(s&&s.length){const o=s[s.length-1],c=1===s.length,l=await(0,w.findKernelSpecMatchingInterpreter)(r,[o]);if(n.isCancellationRequested)return{preferredConnection:void 0,rankedConnections:void 0};const u=await this.kernelRankHelper.isExactMatch(e,o,t);if(n.isCancellationRequested)return{preferredConnection:void 0,rankedConnections:void 0};const d=(0,a.getLanguageInNotebookMetadata)(t),h=d&&d!==p.PYTHON_LANGUAGE&&(0,a.getKernelConnectionLanguage)(o)===d;(c||l||u||h)&&((0,b.traceInfo)(`Preferred kernel ${o.id} is exact match or top match for non python kernels, (${c}, ${l}, ${u}, ${h})`),i=o);let f=C.PreferredKernelExactMatchReason.NoMatch;c&&(f|=C.PreferredKernelExactMatchReason.OnlyKernel),l&&(f|=C.PreferredKernelExactMatchReason.WasPreferredInterpreter),u&&(f|=C.PreferredKernelExactMatchReason.IsExactMatch),h&&(f|=C.PreferredKernelExactMatchReason.IsNonPythonKernelLanguageMatch),(0,S.sendTelemetryEvent)(p.Telemetry.PreferredKernelExactMatch,{matchedReason:f})}return{rankedConnections:s,preferredConnection:i}}sendPreferredKernelTelemetry(e,t,n,r){const o=(0,m.getResourceType)(e),i="interactive"===o?p.PYTHON_LANGUAGE:(0,a.getLanguageInNotebookMetadata)(t)||"";(0,S.sendTelemetryEvent)(p.Telemetry.PreferredKernel,void 0,{result:n?"found":"notfound",resourceType:o,language:i,hasActiveInterpreter:!!r})}};k=r([(0,i.injectable)(),o(0,(0,i.inject)(C.IControllerRegistration)),o(1,(0,i.inject)(C.IControllerLoader)),o(2,(0,i.inject)(C.IControllerDefaultService)),o(3,(0,i.inject)(v.IInterpreterService)),o(4,(0,i.inject)(d.IVSCodeNotebook)),o(5,(0,i.inject)(g.IDisposableRegistry)),o(6,(0,i.inject)(u.IPythonExtensionChecker)),o(7,(0,i.inject)(c.IServerConnectionType)),o(8,(0,i.inject)(C.IKernelRankingHelper)),o(9,(0,i.inject)(C.IControllerSelection))],k),t.ControllerPreferredService=k},25928:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerRegistration=void 0;const i=n(86700),s=n(66828),a=n(98729),c=n(46875),l=n(94433),u=n(94062),d=n(77886),p=n(10053),h=n(6491),f=n(15925),g=n(42080),m=n(41778),y=n(11642),v=n(9959),b=n(20402),S=n(14398),w=n(50867),C=n(60322);let k=class{constructor(e,t,n,r,o,i,a,c,l,u,d,p,h,f,g,m){this.notebook=e,this.disposables=t,this.configuration=n,this.commandManager=r,this.kernelFilter=o,this.context=i,this.kernelProvider=a,this.languageService=c,this.workspace=l,this.extensionChecker=u,this.docManager=d,this.appShell=p,this.browser=h,this.serviceContainer=f,this.serverConnectionType=g,this.serverUriStorage=m,this.registeredControllers=new Map,this.creationEmitter=new s.EventEmitter,this.registeredMetadatas=new Map,this.inKernelExperiment=!1,this.kernelFilter.onDidChange(this.onDidChangeFilter,this,this.disposables),this.serverConnectionType.onDidChange(this.onDidChangeFilter,this,this.disposables),this.serverUriStorage.onDidChangeUri(this.onDidChangeUri,this,this.disposables),this.serverUriStorage.onDidRemoveUris(this.onDidRemoveUris,this,this.disposables),this.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this.disposables),this.inKernelExperiment="OnlyOneTypeOfKernel"===this.configuration.getSettings().kernelPickerType}get isLocalLaunch(){return this.serverConnectionType.isLocalLaunch}get onCreated(){return this.creationEmitter.event}get registered(){return[...this.registeredControllers.values()]}get all(){return this.metadatas}get metadatas(){return[...this.registeredMetadatas.values()]}add(e,t){let n=[];try{t.map((t=>{const n=this.getControllerId(e,t);return this.registeredMetadatas.set(e.id,e),[n,t]})).filter((([t])=>{const r=this.registeredControllers.get(t);return r?(r.updateConnection(e),n.push(r),!1):!this.isFiltered(e)})).forEach((([t,r])=>{const o=new C.VSCodeNotebookController(e,t,r,(0,a.getDisplayNameOrNameOfKernelConnection)(e),this.notebook,this.commandManager,this.kernelProvider,this.context,this.disposables,this.languageService,this.workspace,this.configuration,this.docManager,this.appShell,this.browser,this.extensionChecker,this.serviceContainer,this.serverUriStorage);o.onDidDispose((()=>{this.registeredControllers.delete(o.id)}),this,this.disposables),o.onNotebookControllerSelectionChanged((e=>{!e.selected&&this.isFiltered(o.connection)&&((0,y.traceVerbose)(`Removing controller ${o.id} from kernel list`),o.dispose())})),this.disposables.push(o),this.registeredControllers.set(o.id,o),n.push(o),this.creationEmitter.fire(o)}))}catch(t){if((0,h.isCancellationError)(t,!0))return n;(0,v.sendTelemetryEvent)(v.Telemetry.FailedToCreateNotebookController,void 0,{kind:e.kind},t),(0,y.traceError)(`Failed to create notebook controller for ${e.id}`,t)}return n}get(e,t){const n=this.getControllerId(e,t);return this.registeredControllers.get(n)}isFiltered(e){const t=this.kernelFilter.isKernelHidden(e),n=(0,u.isLocalConnection)(e)!==this.isLocalLaunch,r=(0,u.isRemoteConnection)(e)&&this.serverUriStorage.currentServerId!==e.serverId;return this.inKernelExperiment?t||n||r:"Insiders"===this.configuration.getSettings().kernelPickerType?t:t||r}getControllerId(e,t){return t===f.JupyterNotebookView?e.id:`${e.id}${w.InteractiveControllerIdSuffix}`}isControllerAttachedToADocument(e){return this.notebook.notebookDocuments.some((t=>e.isAssociatedWithDocument(t)))}onDidChangeUri(){this.serverUriStorage.currentServerId&&[...this.registeredMetadatas.keys()].forEach((e=>{const t=this.registeredMetadatas.get(e);t&&(0,u.isRemoteConnection)(t)&&this.serverUriStorage.currentServerId!==t.serverId&&this.registeredMetadatas.delete(e)})),this.onDidChangeFilter()}async onDidRemoveUris(e){(await Promise.all(e.map((e=>e.uri)).map(c.computeServerId))).forEach((e=>{[...this.registeredMetadatas.keys()].forEach((t=>{const n=this.registeredMetadatas.get(t);n&&(0,u.isRemoteConnection)(n)&&e===n.serverId&&this.registeredMetadatas.delete(t)}))})),this.onDidChangeFilter()}onDidChangeConfiguration(e){var t;e.affectsConfiguration("jupyter.showOnlyOneTypeOfKernel")&&(this.inKernelExperiment=null===(t=this.workspace.getConfiguration("jupyter"))||void 0===t?void 0:t.get("showOnlyOneTypeOfKernel",!1),this.onDidChangeFilter())}onDidChangeFilter(){this.metadatas.filter((e=>!this.isFiltered(e))).forEach((e=>this.add(e,[f.JupyterNotebookView,f.InteractiveWindowView]))),this.registered.forEach((e=>{this.isFiltered(e.connection)&&!this.isControllerAttachedToADocument(e)&&e.dispose()}))}};k=r([(0,i.injectable)(),o(0,(0,i.inject)(p.IVSCodeNotebook)),o(1,(0,i.inject)(g.IDisposableRegistry)),o(2,(0,i.inject)(g.IConfigurationService)),o(3,(0,i.inject)(p.ICommandManager)),o(4,(0,i.inject)(S.KernelFilterService)),o(5,(0,i.inject)(g.IExtensionContext)),o(6,(0,i.inject)(u.IKernelProvider)),o(7,(0,i.inject)(b.NotebookCellLanguageService)),o(8,(0,i.inject)(p.IWorkspaceService)),o(9,(0,i.inject)(d.IPythonExtensionChecker)),o(10,(0,i.inject)(p.IDocumentManager)),o(11,(0,i.inject)(p.IApplicationShell)),o(12,(0,i.inject)(g.IBrowserService)),o(13,(0,i.inject)(m.IServiceContainer)),o(14,(0,i.inject)(l.IServerConnectionType)),o(15,(0,i.inject)(l.IJupyterServerUriStorage))],k),t.ControllerRegistration=k},48468:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerSelection=void 0;const i=n(86700),s=n(66828),a=n(42080),c=n(11642),l=n(50867);let u=class{constructor(e,t){this.registration=e,this.disposables=t,this.selectedEmitter=new s.EventEmitter,this.selectionChangedEmitter=new s.EventEmitter,this.selectedControllers=new Map,e.onCreated(this.onCreatedController,this,t)}get onControllerSelected(){return this.selectedEmitter.event}get onControllerSelectionChanged(){return this.selectionChangedEmitter.event}getSelected(e){return this.selectedControllers.get(e.uri.toString())}onCreatedController(e){const t=[];e.onNotebookControllerSelected(this.handleOnNotebookControllerSelected,this,t),e.onNotebookControllerSelectionChanged((t=>this.selectionChangedEmitter.fire({...t,controller:e})),this,t),e.onDidDispose((()=>{t.forEach((e=>e.dispose()))}),this,t)}handleOnNotebookControllerSelected(e){var t;(0,c.traceInfoIfCI)(`Controller ${null===(t=e.controller)||void 0===t?void 0:t.id} selected`),this.selectedControllers.set(e.notebook.uri.toString(),e.controller),this.selectedEmitter.fire(e)}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IControllerRegistration)),o(1,(0,i.inject)(a.IDisposableRegistry))],u),t.ControllerSelection=u},67475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createActiveInterpreterController=void 0;const r=n(98729);t.createActiveInterpreterController=async function(e,t,n,o){const i=await n.getActiveInterpreter(t);if(i){const t=await(0,r.createInterpreterKernelSpec)(i),n={kind:"startUsingPythonInterpreter",kernelSpec:t,interpreter:i,id:(0,r.getKernelId)(t,i)};return o.add(n,[e])[0]}}},29768:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommonMessageCoordinator=void 0;const o=n(66828),i=n(10053),s=n(15925),a=n(11642),c=n(42080),l=n(25251),u=n(58681),d=n(58323),p=n(30682),h=n(9959),f=n(96434),g=n(15925),m=n(94062),y=n(43713),v=n(89159),b=n(72265),S=n(99203),w=n(85446),C=n(94483);class k{constructor(e,t){this.document=e,this.serviceContainer=t,this.cachedMessages=[],this.postEmitter=new o.EventEmitter,this.attachedWebviews=new WeakSet,this.modulesForWhichWeHaveDisplayedWidgetErrorMessage=new Set,this.disposables=this.serviceContainer.get(c.IDisposableRegistry),this.jupyterOutput=this.serviceContainer.get(c.IOutputChannel,s.STANDARD_OUTPUT_CHANNEL),this.appShell=this.serviceContainer.get(i.IApplicationShell,i.IApplicationShell),this.commandManager=this.serviceContainer.get(i.ICommandManager),this.configService=this.serviceContainer.get(c.IConfigurationService),this.initialize()}get postMessage(){return this.listeningToPostMessageEvent=!0,this.postEmitter.event}dispose(){var e,t;this.cachedMessages=[],null===(e=this.ipyWidgetMessageDispatcher)||void 0===e||e.dispose(),null===(t=this.ipyWidgetScriptSource)||void 0===t||t.dispose()}attach(e){this.attachedWebviews.has(e)||(this.attachedWebviews.add(e),this.postMessage((t=>{(0,a.traceInfoIfCI)(`${S.ConsoleForegroundColors.Green}Widget Coordinator sent ${t.message}`),t.message===p.InteractiveWindowMessages.ConvertUriForUseInWebViewRequest?this.onMessage(e,p.InteractiveWindowMessages.ConvertUriForUseInWebViewResponse,{request:t.payload,response:e.asWebviewUri(t.payload)}):e.postMessage({type:t.message,payload:t.payload}).then(u.noop,u.noop)}),this,this.disposables),e.onDidReceiveMessage((t=>{(0,a.traceInfoIfCI)(`${S.ConsoleForegroundColors.Green}Widget Coordinator received ${t.type}`),this.onMessage(e,t.type,t.payload)}),this,this.disposables),e.postMessage({type:p.IPyWidgetMessages.IPyWidgets_IsReadyRequest,payload:void 0}).then(u.noop,u.noop))}onMessage(e,t,n){t===p.InteractiveWindowMessages.IPyWidgetLoadSuccess?this.sendLoadSucceededTelemetry(n).ignoreErrors():t===p.InteractiveWindowMessages.IPyWidgetLoadFailure?this.handleWidgetLoadFailure(e,n).ignoreErrors():t===p.InteractiveWindowMessages.IPyWidgetWidgetVersionNotSupported?this.sendUnsupportedWidgetVersionFailureTelemetry(n).ignoreErrors():t===p.InteractiveWindowMessages.IPyWidgetRenderFailure?this.sendRenderFailureTelemetry(n):t===p.InteractiveWindowMessages.IPyWidgetUnhandledKernelMessage&&this.handleUnhandledMessage(n),this.getIPyWidgetMessageDispatcher().receiveMessage({message:t,payload:n}),this.getIPyWidgetScriptSource().onMessage(t,n)}initialize(){(0,a.traceVerbose)("initialize CommonMessageCoordinator"),this.getIPyWidgetScriptSource().initialize(),this.getIPyWidgetMessageDispatcher().initialize()}async sendLoadSucceededTelemetry(e){try{(0,h.sendTelemetryEvent)(h.Telemetry.IPyWidgetLoadSuccess,0,{moduleHash:await(0,f.getTelemetrySafeHashedString)(e.moduleName),moduleVersion:e.moduleVersion})}catch(e){}}async handleWidgetLoadFailure(e,t){try{let n=t.error.toString();const r=this.configService.getSettings(void 0).widgetScriptSources.length>0,o=`${t.moduleName}:${t.moduleVersion}`;if(t.isOnline){if(!r&&!this.modulesForWhichWeHaveDisplayedWidgetErrorMessage.has(o)){this.modulesForWhichWeHaveDisplayedWidgetErrorMessage.add(o);const r=l.Common.moreInfo(),i=l.DataScience.enableCDNForWidgetsButton();n=l.DataScience.enableCDNForWidgetsSetting().format(t.moduleName,t.moduleVersion),this.appShell.showErrorMessage(n,{modal:!0},i,r).then((t=>{switch(t){case r:this.appShell.openUrl("https://aka.ms/PVSCIPyWidgets");break;case i:this.enableCDNForWidgets(e).ignoreErrors()}}),u.noop)}}else n=l.DataScience.loadClassFailedWithNoInternet().format(t.moduleName,t.moduleVersion),this.appShell.showErrorMessage(n).then(u.noop,u.noop);(0,a.traceError)(`Widget load failure ${n}`,t),(0,h.sendTelemetryEvent)(h.Telemetry.IPyWidgetLoadFailure,0,{isOnline:t.isOnline,moduleHash:await(0,f.getTelemetrySafeHashedString)(t.moduleName),moduleVersion:t.moduleVersion,timedout:t.timedout})}catch(e){}}async enableCDNForWidgets(e){await this.commandManager.executeCommand(g.Commands.EnableLoadingWidgetsFrom3rdPartySource),await e.postMessage({type:p.IPyWidgetMessages.IPyWidgets_AttemptToDownloadFailedWidgetsAgain})}async sendUnsupportedWidgetVersionFailureTelemetry(e){try{(0,h.sendTelemetryEvent)(h.Telemetry.IPyWidgetWidgetVersionNotSupportedLoadFailure,0,{moduleHash:await(0,f.getTelemetrySafeHashedString)(e.moduleName),moduleVersion:e.moduleVersion})}catch(e){}}sendRenderFailureTelemetry(e){try{(0,a.traceError)("Error rendering a widget: ",e),(0,h.sendTelemetryEvent)(h.Telemetry.IPyWidgetRenderFailure)}catch(e){}}handleUnhandledMessage(e){if("status"!==e.header.msg_type)try{if("error"===e.header.msg_type){const t=e;t.content.traceback=t.content.traceback.map(d.stripAnsi)}(0,a.traceInfo)(`Unhandled widget kernel message: ${e.header.msg_type} ${e.content}`),this.jupyterOutput.appendLine(l.DataScience.unhandledMessage().format(e.header.msg_type,JSON.stringify(e.content))),(0,h.sendTelemetryEvent)(h.Telemetry.IPyWidgetUnhandledMessage,void 0,{msg_type:e.header.msg_type})}catch(e){}}getIPyWidgetMessageDispatcher(){return this.ipyWidgetMessageDispatcher||(this.ipyWidgetMessageDispatcher=this.serviceContainer.get(y.IPyWidgetMessageDispatcherFactory).create(this.document),this.disposables.push(this.ipyWidgetMessageDispatcher.postMessage(this.cacheOrSend,this))),this.ipyWidgetMessageDispatcher}getIPyWidgetScriptSource(){return this.ipyWidgetScriptSource||(this.ipyWidgetScriptSource=new v.IPyWidgetScriptSource(this.document,this.serviceContainer.get(m.IKernelProvider),this.serviceContainer.get(c.IDisposableRegistry),this.serviceContainer.get(c.IConfigurationService),this.serviceContainer.get(c.IHttpClient),this.serviceContainer.get(b.IWidgetScriptSourceProviderFactory),this.serviceContainer.get(c.IsWebExtension),this.serviceContainer.get(C.CDNWidgetScriptSourceProvider)),this.disposables.push(this.ipyWidgetScriptSource.postMessage(this.cacheOrSend,this))),this.ipyWidgetScriptSource}cacheOrSend(e){if(!this.listeningToPostMessageEvent)return(0,a.traceInfoIfCI)(`${S.ConsoleForegroundColors.Green}Queuing messages (no listenerts)`),void this.cachedMessages.push(e);this.cachedMessages.forEach((e=>this.postEmitter.fire(e))),this.cachedMessages=[],this.postEmitter.fire(e)}}r([(0,w.swallowExceptions)()],k.prototype,"enableCDNForWidgets",null),t.CommonMessageCoordinator=k},21375:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetMessageDispatcher=void 0;const o=r(n(71171)),i=n(66828),s=n(11642),a=n(15925),c=n(43138),l=n(58681),u=n(81014),d=n(30682),p=n(9959);t.IPyWidgetMessageDispatcher=class{constructor(e,t){this.kernelProvider=e,this.document=t,this.commTargetsRegistered=new Set,this.pendingTargetNames=new Set,this._postMessageEmitter=new i.EventEmitter,this.messageHooks=new Map,this.pendingHookRemovals=new Map,this.messageHookRequests=new Map,this.disposables=[],this.disposed=!1,this.pendingMessages=[],this.subscribedToKernelSocket=!1,this.waitingMessageIds=new Map,this.totalWaitTime=0,this.totalWaitedMessages=0,this.hookCount=0,this.outputWidgetIds=new Set,this.isUsingIPyWidgets=!1,this.pendingTargetNames.add("jupyter.widget"),e.onDidStartKernel((e=>{e.notebook===t&&this.initialize()}),this,this.disposables),this.mirrorSend=this.mirrorSend.bind(this),this.onKernelSocketMessage=this.onKernelSocketMessage.bind(this);const r=n(86002);this.deserialize=r.deserialize}get postMessage(){return this._postMessageEmitter.event}dispose(){for(this.sendOverheadTelemetry(),this.disposed=!0;this.disposables.length;){const e=this.disposables.shift();null==e||e.dispose()}}receiveMessage(e){switch(e.message){case d.IPyWidgetMessages.IPyWidgets_logMessage:{const t=e.payload;"error"===t.category?(0,s.traceError)(`Widget Error: ${t.message}`):(0,s.traceVerbose)(`Widget Message: ${t.message}`);break}case d.IPyWidgetMessages.IPyWidgets_Ready:this.sendKernelOptions(),this.initialize();break;case d.IPyWidgetMessages.IPyWidgets_msg:this.sendRawPayloadToKernelSocket(e.payload);break;case d.IPyWidgetMessages.IPyWidgets_binary_msg:this.sendRawPayloadToKernelSocket((0,u.deserializeDataViews)(e.payload)[0]);break;case d.IPyWidgetMessages.IPyWidgets_msg_received:this.onKernelSocketResponse(e.payload);break;case d.IPyWidgetMessages.IPyWidgets_registerCommTarget:this.registerCommTarget(e.payload);break;case d.IPyWidgetMessages.IPyWidgets_RegisterMessageHook:this.registerMessageHook(e.payload);break;case d.IPyWidgetMessages.IPyWidgets_RemoveMessageHook:this.possiblyRemoveMessageHook(e.payload);break;case d.IPyWidgetMessages.IPyWidgets_MessageHookResult:this.handleMessageHookResponse(e.payload);break;case d.IPyWidgetMessages.IPyWidgets_iopub_msg_handled:this.iopubMessageHandled(e.payload)}}sendRawPayloadToKernelSocket(e){this.pendingMessages.push(e),this.sendPendingMessages()}registerCommTarget(e){this.pendingTargetNames.add(e),this.initialize()}initialize(){this.jupyterLab||(this.jupyterLab=n(76240));const e=this.getKernel();e&&(this.subscribeToKernelSocket(e),this.registerCommTargets(e)),(0,s.traceVerbose)("IPyWidgetMessageDispatcher.initialize")}raisePostMessage(e,t){this._postMessageEmitter.fire({message:e,payload:t})}subscribeToKernelSocket(e){!this.subscribedToKernelSocket&&e.session&&(this.subscribedToKernelSocket=!0,e.session.kernelSocket.subscribe((t=>{var n,r,o,i,s,a;if(null===(r=null===(n=this.kernelSocketInfo)||void 0===n?void 0:n.socket)||void 0===r||r.removeReceiveHook(this.onKernelSocketMessage),null===(i=null===(o=this.kernelSocketInfo)||void 0===o?void 0:o.socket)||void 0===i||i.removeSendHook(this.mirrorSend),this.kernelWasConnectedAtLeastOnce){for(;this.pendingMessages.length;)this.pendingMessages.shift();this.waitingMessageIds.forEach((e=>e.resultPromise.resolve())),this.waitingMessageIds.clear(),this.messageHookRequests.forEach((e=>e.resolve(!1))),this.messageHookRequests.clear(),this.messageHooks.clear(),this.sendRestartKernel()}t&&t.socket?(this.kernelWasConnectedAtLeastOnce=!0,this.kernelSocketInfo=t,null===(s=this.kernelSocketInfo.socket)||void 0===s||s.addReceiveHook(this.onKernelSocketMessage),null===(a=this.kernelSocketInfo.socket)||void 0===a||a.addSendHook(this.mirrorSend),this.sendKernelOptions(),this.registerCommTargets(e),this.sendPendingMessages()):this.kernelSocketInfo=void 0})))}sendKernelOptions(){this.kernelSocketInfo&&this.raisePostMessage(d.IPyWidgetMessages.IPyWidgets_kernelOptions,this.kernelSocketInfo.options)}async mirrorSend(e,t){if("string"==typeof e&&e.includes("shell")&&e.includes("execute_request")){const t=Date.now(),n=this.deserialize(e);if("shell"===n.channel&&"execute_request"===n.header.msg_type){const e=this.mirrorExecuteRequest(n);this.isUsingIPyWidgets&&await e,this.totalWaitTime=Date.now()-t,this.totalWaitedMessages+=1}}}sendRestartKernel(){this.raisePostMessage(d.IPyWidgetMessages.IPyWidgets_onRestartKernel,void 0)}mirrorExecuteRequest(e){const t=(0,c.createDeferred)();return this.waitingMessageIds.set(e.header.msg_id,{startTime:Date.now(),resultPromise:t}),this.raisePostMessage(d.IPyWidgetMessages.IPyWidgets_mirror_execute,{id:e.header.msg_id,msg:e}),t.promise}messageNeedsFullHandle(e){var t,n,r,o;return"iopub"===e.channel&&"comm_msg"===(null===(t=e.header)||void 0===t?void 0:t.msg_type)&&"update"===(null===(r=null===(n=e.content)||void 0===n?void 0:n.data)||void 0===r?void 0:r.method)&&this.outputWidgetIds.has(null===(o=e.content)||void 0===o?void 0:o.comm_id)}iopubMessageHandled(e){const t=e.id;this.fullHandleMessage&&this.fullHandleMessage.id===t&&(this.fullHandleMessage.promise.resolve(),this.fullHandleMessage=void 0)}async onKernelSocketMessage(e){var t,n,r,i,s,l,p,h,f;const g=(0,o.default)(),m=(0,c.createDeferred)();if(this.waitingMessageIds.set(g,{startTime:Date.now(),resultPromise:m}),"string"==typeof e?this.raisePostMessage(d.IPyWidgetMessages.IPyWidgets_msg,{id:g,data:e}):this.raisePostMessage(d.IPyWidgetMessages.IPyWidgets_binary_msg,{id:g,data:(0,u.serializeDataViews)([e])}),"string"!=typeof e||e.includes(a.WIDGET_MIMETYPE)||e.includes(a.Identifiers.DefaultCommTarget)||e.includes("comm_open")||e.includes("comm_close")||e.includes("comm_msg")){const o=this.deserialize(e);o&&o.content&&o.content.data&&(o.content.data[a.WIDGET_MIMETYPE]||o.content.target_name===a.Identifiers.DefaultCommTarget)&&(this.isUsingIPyWidgets=!0);const u="comm_open"===(null===(t=o.header)||void 0===t?void 0:t.msg_type)&&"@jupyter-widgets/output"===(null===(i=null===(r=null===(n=o.content)||void 0===n?void 0:n.data)||void 0===r?void 0:r.state)||void 0===i?void 0:i._model_module)&&"OutputModel"===(null===(p=null===(l=null===(s=o.content)||void 0===s?void 0:s.data)||void 0===l?void 0:l.state)||void 0===p?void 0:p._model_name),d="comm_close"===(null===(h=o.header)||void 0===h?void 0:h.msg_type)&&this.outputWidgetIds.has(null===(f=o.content)||void 0===f?void 0:f.comm_id);u?this.outputWidgetIds.add(o.content.comm_id):d?this.outputWidgetIds.delete(o.content.comm_id):this.messageNeedsFullHandle(o)&&(this.fullHandleMessage={id:o.header.msg_id,promise:(0,c.createDeferred)()},await m.promise,await this.fullHandleMessage.promise.promise,this.fullHandleMessage=void 0)}}onKernelSocketResponse(e){const t=this.waitingMessageIds.get(e.id);t&&(this.waitingMessageIds.delete(e.id),this.totalWaitTime+=Date.now()-t.startTime,this.totalWaitedMessages+=1,t.resultPromise.resolve())}sendPendingMessages(){var e,t;if((null===(e=this.kernel)||void 0===e?void 0:e.session)&&this.kernelSocketInfo)for(;this.pendingMessages.length;)try{null===(t=this.kernelSocketInfo.socket)||void 0===t||t.sendToRealKernel(this.pendingMessages[0]),this.pendingMessages.shift()}catch(e){return void(0,s.traceError)("Failed to send message to Kernel",e)}}registerCommTargets(e){for(var t;this.pendingTargetNames.size>0;){const n=Array.from([...this.pendingTargetNames.values()]).shift();if(n){if(this.commTargetsRegistered.has(n))return;(0,s.traceVerbose)(`Registering commtarget ${n}`),this.commTargetsRegistered.add(n),this.pendingTargetNames.delete(n),n!==a.Identifiers.DefaultCommTarget&&(null===(t=e.session)||void 0===t||t.registerCommTarget(n,l.noop))}}}getKernel(){var e,t;return this.document&&!(null===(e=this.kernel)||void 0===e?void 0:e.session)&&(this.kernel=this.kernelProvider.get(this.document),null===(t=this.kernel)||void 0===t||t.onDisposed((()=>this.kernel=void 0))),this.kernel&&!this.kernelRestartHandlerAttached&&(this.kernelRestartHandlerAttached=!0,this.disposables.push(this.kernel.onRestarted(this.handleKernelRestarts,this))),this.kernel}async handleKernelRestarts(){var e;!this.disposed&&0!==this.commTargetsRegistered.size&&(null===(e=this.kernel)||void 0===e?void 0:e.session)&&(Array.from(this.commTargetsRegistered.keys()).forEach((e=>{this.commTargetsRegistered.delete(e),this.pendingTargetNames.add(e)})),this.subscribeToKernelSocket(this.kernel),this.registerCommTargets(this.kernel))}registerMessageHook(e){var t,n;try{if((null===(t=this.kernel)||void 0===t?void 0:t.session)&&!this.messageHooks.has(e)){this.hookCount+=1;const t=this.messageHookCallback.bind(this);this.messageHooks.set(e,t),null===(n=this.kernel)||void 0===n||n.session.registerMessageHook(e,t)}}finally{this.raisePostMessage(d.IPyWidgetMessages.IPyWidgets_ExtensionOperationHandled,{id:e,type:d.IPyWidgetMessages.IPyWidgets_RegisterMessageHook})}}possiblyRemoveMessageHook(e){try{e.lastHookedMsgId?this.pendingHookRemovals.set(e.lastHookedMsgId,e.hookMsgId):this.removeMessageHook(e.hookMsgId)}finally{this.raisePostMessage(d.IPyWidgetMessages.IPyWidgets_ExtensionOperationHandled,{id:e.hookMsgId,type:d.IPyWidgetMessages.IPyWidgets_RemoveMessageHook})}}removeMessageHook(e){var t,n;if((null===(t=this.kernel)||void 0===t?void 0:t.session)&&this.messageHooks.has(e)){const t=this.messageHooks.get(e);this.messageHooks.delete(e),null===(n=this.kernel)||void 0===n||n.session.removeMessageHook(e,t)}}async messageHookCallback(e){const t=(0,c.createDeferred)(),n=(0,o.default)(),r=e.parent_header.msg_id;if(this.messageHooks.has(r)?(this.messageHookRequests.set(n,t),this.raisePostMessage(d.IPyWidgetMessages.IPyWidgets_MessageHookCall,{requestId:n,parentId:r,msg:e})):t.resolve(!0),this.pendingHookRemovals.has(e.header.msg_id)){const t=this.pendingHookRemovals.get(e.header.msg_id);this.pendingHookRemovals.delete(e.header.msg_id),this.removeMessageHook(t)}return t.promise}handleMessageHookResponse(e){const t=this.messageHookRequests.get(e.requestId);t&&(this.messageHookRequests.delete(e.requestId),t.resolve(!!e.msgType.includes("comm")||e.result))}sendOverheadTelemetry(){(0,p.sendTelemetryEvent)(p.Telemetry.IPyWidgetOverhead,{totalOverheadInMs:this.totalWaitTime,numberOfMessagesWaitedOn:this.totalWaitedMessages,averageWaitTime:this.totalWaitTime/this.totalWaitedMessages,numberOfRegisteredHooks:this.hookCount})}}},43713:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetMessageDispatcherFactory=void 0;const i=n(86700),s=n(66828),a=n(42080),c=n(30682),l=n(94062),u=n(21375);class d{constructor(e,t){this.baseMulticaster=e,this.oldMessages=t,this._postMessageEmitter=new s.EventEmitter,this.disposables=[],e.postMessage(this.raisePostMessage,this,this.disposables)}get postMessage(){return this._postMessageEmitter.event}dispose(){for(;this.disposables.length;){const e=this.disposables.shift();null==e||e.dispose()}}initialize(){return this.baseMulticaster.initialize()}receiveMessage(e){this.baseMulticaster.receiveMessage(e)}raisePostMessage(e){this.oldMessages.forEach((e=>{this._postMessageEmitter.fire(e)})),this.oldMessages=[],this._postMessageEmitter.fire(e)}}let p=class{constructor(e,t){this.kernelProvider=t,this.messageDispatchers=new WeakMap,this.messagesPerNotebook=new WeakMap,this.disposed=!1,this.disposables=[],e.push(this),t.onDidDisposeKernel(this.trackDisposingOfKernels,this,e)}dispose(){var e;for(this.disposed=!0;this.disposables.length;)null===(e=this.disposables.shift())||void 0===e||e.dispose()}create(e){let t=this.messageDispatchers.get(e);t||(t=new u.IPyWidgetMessageDispatcher(this.kernelProvider,e),this.messageDispatchers.set(e,t),this.disposables.push(t.postMessage((t=>this.onMessage(t,e)),this)));let n=[];e&&this.messagesPerNotebook.get(e)&&(n=this.messagesPerNotebook.get(e)||[]);const r=new d(t,n);return this.disposables.push(r),r}trackDisposingOfKernels(e){if(this.disposed)return;const t=e.notebook,n=this.messageDispatchers.get(t);this.messageDispatchers.delete(t),null==n||n.dispose()}onMessage(e,t){t&&(this.messagesPerNotebook.set(t,this.messagesPerNotebook.get(t)||[]),e.message!==c.IPyWidgetMessages.IPyWidgets_kernelOptions&&e.message!==c.IPyWidgetMessages.IPyWidgets_registerCommTarget||this.messagesPerNotebook.get(t).push(e))}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IDisposableRegistry)),o(1,(0,i.inject)(l.IKernelProvider))],p),t.IPyWidgetMessageDispatcherFactory=p},31131:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseIPyWidgetScriptManager=t.extractRequireConfigFromWidgetEntry=void 0;const o=n(66828),i=n(20397),s=n(35412),a=n(11642),c=n(9959),l=n(94062),u=n(96434),d=r(n(44110)),p=n(11386),h=n(15925);async function f(e,t,n){const r=["require.config({","requirejs.config({",'["require"].config({',"['require'].config({",'["requirejs"].config({',"['requirejs'].config({",'["require"]["config"]({',"['require']['config']({",'["requirejs"]["config"]({',"['requirejs']['config']({"],i=await(0,u.getTelemetrySafeHashedString)(t);let s,a=0;for(;a<=0&&r.length&&(s=r.pop(),s);)a=n.indexOf(s);if(a<0)return void(0,c.sendTelemetryEvent)(c.Telemetry.IPyWidgetExtensionJsInfo,void 0,{widgetFolderNameHash:i,failed:!0,patternUsedToRegisterRequireConfig:s,failure:"couldNotLocateRequireConfigStart"});const l=n.indexOf(")",a);if(l<=0||!s)return void(0,c.sendTelemetryEvent)(c.Telemetry.IPyWidgetExtensionJsInfo,void 0,{widgetFolderNameHash:i,failed:!0,patternUsedToRegisterRequireConfig:s,failure:"couldNotLocateRequireConfigEnd"});const p=n.indexOf("{",a);let h=n.substring(p,l);h=(0,d.default)(h,{language:"javascript"}),h=h.splitLines({trim:!0,removeEmptyEntries:!0}).join("");const f=h.split("{")[3].split("}")[0].split(",").map((e=>e.trim())).filter((e=>e.length&&e.includes(":"))),g={};if(f.forEach((t=>{const n=t.split(":"),r=n[0].trim().trimQuotes().trim(),i=n[1].trim().trimQuotes().trim();g[r]=o.Uri.joinPath(e,i)})),g&&Object.keys(g).length)return(0,c.sendTelemetryEvent)(c.Telemetry.IPyWidgetExtensionJsInfo,{requireEntryPointCount:Object.keys(g).length},{widgetFolderNameHash:i,patternUsedToRegisterRequireConfig:s}),g;(0,c.sendTelemetryEvent)(c.Telemetry.IPyWidgetExtensionJsInfo,void 0,{widgetFolderNameHash:i,failed:!0,patternUsedToRegisterRequireConfig:s,failure:"noRequireConfigEntries"})}t.extractRequireConfigFromWidgetEntry=f,t.BaseIPyWidgetScriptManager=class{constructor(e){this.kernel=e,this.disposables=[],e.onRestarted(this.onKernelRestarted,this,this.disposables)}dispose(){(0,i.disposeAllDisposables)(this.disposables)}async getWidgetModuleMappings(){return this.widgetModuleMappings||(this.widgetModuleMappings=this.getWidgetModuleMappingsImpl()),this.widgetModuleMappings}onKernelRestarted(){this.widgetModuleMappings=void 0}async getConfigFromWidget(e,t,n){const r=await this.getWidgetScriptSource(t);try{const o=await f(e,n,r);if(!o){let e=`Failed to extract require.config from widget for ${n} from ${(0,s.getDisplayPath)(t)}`;h.isCI&&(e+=`with contents ${r}`),(0,a.traceWarning)(e)}return o}catch(e){(0,a.traceError)(`Failed to extract require.config entry for ${n} from ${(0,s.getDisplayPath)(t)}`,e)}}async getWidgetModuleMappingsImpl(){const e=new p.StopWatch,[t,n]=await Promise.all([this.getWidgetEntryPoints(),this.getNbExtensionsParentPath()]);if(!n)return;const r=await Promise.all(t.map((e=>this.getConfigFromWidget(n,e.uri,e.widgetFolderName)))),o=r.reduce(((e,t)=>Object.assign(e||{},t)),{});return o&&Object.keys(o).length?(delete o["jupyter-js-widgets"],delete o["@jupyter-widgets/base"],delete o["@jupyter-widgets/controls"],delete o["@jupyter-widgets/output"]):(0,a.traceInfoIfCI)(`No config, entryPoints = ${JSON.stringify(t)}, widgetConfigs = ${JSON.stringify(r)}`),(0,c.sendTelemetryEvent)(c.Telemetry.DiscoverIPyWidgetNamesPerf,{duration:e.elapsedTime},{type:(0,l.isLocalConnection)(this.kernel.kernelConnectionMetadata)?"local":"remote"}),o&&Object.keys(o).length?o:void 0}}},94483:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CDNWidgetScriptSourceProvider=t.GlobalStateKeyToNeverWarnAboutNoNetworkAccess=t.GlobalStateKeyToNeverWarnAboutScriptsNotFoundOnCDN=t.GlobalStateKeyToTrackIfUserConfiguredCDNAtLeastOnce=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(15925),l=n(42080),u=n(43138),d=n(25251),p=n(58681),h=n(11642),f=n(99203),g=n(9959),m="https://unpkg.com/",y="https://cdn.jsdelivr.net/npm/";t.GlobalStateKeyToTrackIfUserConfiguredCDNAtLeastOnce="IPYWidgetCDNConfigured",t.GlobalStateKeyToNeverWarnAboutScriptsNotFoundOnCDN="IPYWidgetNotFoundOnCDN",t.GlobalStateKeyToNeverWarnAboutNoNetworkAccess="IPYWidgetNoNetWorkAccess";let v=class{constructor(e,t,n,r){this.appShell=e,this.globalMemento=t,this.configurationSettings=n,this.httpClient=r,this.cache=new Map,this.isOnCDNCache=new Map,this.notifiedUserAboutWidgetScriptNotFound=new Set}get cdnProviders(){return this.configurationSettings.getSettings(void 0).widgetScriptSources}dispose(){this.cache.clear()}async isOnCDN(e){const t=`MODULE_VERSION_ON_CDN_${e}`;if(this.isOnCDNCache.has(t))return this.isOnCDNCache.get(t);if(this.globalMemento.get(t,!1))return!0;const n=(async()=>{const t=(0,u.createDeferredFromPromise)(this.httpClient.exists(`${m}${e}`)),n=(0,u.createDeferredFromPromise)(this.httpClient.exists(`${y}${e}`));return await Promise.race([t.promise,n.promise]),!!(t.value||n.value||(await Promise.all([t.promise,n.promise]),t.value||n.value))})();return n.then((e=>{if(e)return this.globalMemento.update(t,!0)})).then(p.noop,p.noop),this.isOnCDNCache.set(t,n),n}async getWidgetScriptSource(e,n,r){if(!1===r)return this.warnIfNoAccessToInternetFromWebView(e).ignoreErrors(),{moduleName:e};if(0===this.cdnProviders.length&&this.globalMemento.get(t.GlobalStateKeyToTrackIfUserConfiguredCDNAtLeastOnce,!1))return{moduleName:e};const o=this.getModuleKey(e,n);return this.cache.get(o)||this.cache.set(o,this.getWidgetScriptSourceImplementation(e,n)),this.cache.get(o)}async generateDownloadUri(e,t,n){const r=function(e){switch(e){case"unpkg.com":return m;case"jsdelivr.com":return y}}(n);if(r)return function(e,t,n){let r=t,o="index",i=t.indexOf("/");return-1!==i&&"@"===t[0]&&(i=t.indexOf("/",i+1)),-1!==i&&(o=t.substr(i+1),r=t.substr(0,i)),e===y&&(n.startsWith("^")&&(n=n.slice(1)),o.endsWith(".js")||(o=o.concat(".js"))),`${e}${r}@${n}/dist/${o}`}(r,e,t)}getModuleKey(e,t){return`${e}${t}`}async getWidgetScriptSourceImplementation(e,t){if((0,h.traceInfo)(`${f.ConsoleForegroundColors.Green}Searching for Widget Script ${e}#${t} using cdns ${this.cdnProviders.join(" ")}`),await this.configureWidgets(),0===this.cdnProviders.length)return{moduleName:e};const n=(await Promise.all(this.cdnProviders.map((n=>this.getValidUri(e,t,n))))).find((e=>e));return n?((0,h.traceInfo)(`${f.ConsoleForegroundColors.Green}Widget Script ${e}#${t} found at URI: ${n}`),{moduleName:e,scriptUri:n,source:"cdn"}):((0,h.traceError)(`Widget Script ${e}#${t} was not found on on any cdn`),this.handleWidgetSourceNotFound(e,t).ignoreErrors(),{moduleName:e})}async getValidUri(e,t,n){try{const r=await this.generateDownloadUri(e,t,n);if(r&&await this.httpClient.exists(r))return r}catch(r){return void(0,h.traceVerbose)(`Failed downloading ${e}:${t} from ${n}`)}}async warnIfNoAccessToInternetFromWebView(e){if(!this.globalMemento.get(t.GlobalStateKeyToNeverWarnAboutNoNetworkAccess,!1)&&!this.notifiedUserAboutWidgetScriptNotFound.has(e)&&0!==this.cdnProviders.length)switch(this.notifiedUserAboutWidgetScriptNotFound.add(e),await this.appShell.showWarningMessage(d.DataScience.cdnWidgetScriptNotAccessibleWarningMessage().format(e,JSON.stringify(this.cdnProviders)),d.Common.ok(),d.Common.doNotShowAgain(),d.Common.moreInfo())){case d.Common.doNotShowAgain():return this.globalMemento.update(t.GlobalStateKeyToNeverWarnAboutNoNetworkAccess,!0);case d.Common.moreInfo():return this.appShell.openUrl("https://aka.ms/PVSCIPyWidgets");default:(0,p.noop)()}}async configureWidgets(){if(0!==this.cdnProviders.length)return;if(this.globalMemento.get(t.GlobalStateKeyToTrackIfUserConfiguredCDNAtLeastOnce,!1))return;if(this.configurationPromise)return this.configurationPromise.promise;this.configurationPromise=(0,u.createDeferred)(),(0,g.sendTelemetryEvent)(c.Telemetry.IPyWidgetPromptToUseCDN);const e=await this.appShell.showInformationMessage(d.DataScience.useCDNForWidgetsNoInformation(),{modal:!0},d.Common.ok(),d.Common.doNotShowAgain(),d.Common.moreInfo());let n="dismissed";switch(e){case d.Common.ok():n="ok",await Promise.all([this.updateScriptSources(["jsdelivr.com","unpkg.com"]),this.globalMemento.update(t.GlobalStateKeyToTrackIfUserConfiguredCDNAtLeastOnce,!0)]);break;case d.Common.doNotShowAgain():n="doNotShowAgain",await Promise.all([this.updateScriptSources([]),this.globalMemento.update(t.GlobalStateKeyToTrackIfUserConfiguredCDNAtLeastOnce,!0)]);break;case d.Common.moreInfo():this.appShell.openUrl("https://aka.ms/PVSCIPyWidgets");break;default:n=e===d.Common.cancel()?"cancel":"dismissed"}(0,g.sendTelemetryEvent)(c.Telemetry.IPyWidgetPromptToUseCDNSelection,void 0,{selection:n}),this.configurationPromise.resolve()}async updateScriptSources(e){await this.configurationSettings.updateSetting("widgetScriptSources",e,void 0,s.ConfigurationTarget.Global)}async handleWidgetSourceNotFound(e,n){if(!this.globalMemento.get(t.GlobalStateKeyToNeverWarnAboutScriptsNotFoundOnCDN,!1)&&!this.notifiedUserAboutWidgetScriptNotFound.has(e)&&0!==this.cdnProviders.length)switch(this.notifiedUserAboutWidgetScriptNotFound.add(e),await this.appShell.showWarningMessage(d.DataScience.widgetScriptNotFoundOnCDNWidgetMightNotWork().format(e,n,JSON.stringify(this.cdnProviders)),d.Common.ok(),d.Common.doNotShowAgain(),d.Common.reportThisIssue())){case d.Common.doNotShowAgain():return this.globalMemento.update(t.GlobalStateKeyToNeverWarnAboutScriptsNotFoundOnCDN,!0);case d.Common.reportThisIssue():return this.appShell.openUrl("https://aka.ms/CreatePVSCDataScienceIssue");default:(0,p.noop)()}}};v=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IApplicationShell)),o(1,(0,i.inject)(l.IMemento)),o(1,(0,i.named)(l.GLOBAL_MEMENTO)),o(2,(0,i.inject)(l.IConfigurationService)),o(3,(0,i.inject)(l.IHttpClient))],v),t.CDNWidgetScriptSourceProvider=v},36948:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetScriptManagerFactory=void 0;const i=n(86700),s=n(83599),a=n(42080),c=n(40145);let l=class{constructor(e,t,n,r){this.httpClient=e,this.context=t,this.fs=n,this.disposables=r,this.managers=new WeakMap}getOrCreate(e){if(!this.managers.has(e)){if("connectToLiveRemoteKernel"!==e.kernelConnectionMetadata.kind&&"startUsingRemoteKernelSpec"!==e.kernelConnectionMetadata.kind)throw new Error("Cannot enumerate Widget Scripts using local kernels on the Web");{const t=new c.RemoteIPyWidgetScriptManager(e,this.httpClient,this.context,this.fs);this.managers.set(e,t),e.onDisposed((()=>t.dispose()),this,this.disposables)}}return this.managers.get(e)}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IHttpClient)),o(1,(0,i.inject)(a.IExtensionContext)),o(2,(0,i.inject)(s.IFileSystem)),o(3,(0,i.inject)(a.IDisposableRegistry))],l),t.IPyWidgetScriptManagerFactory=l},89159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetScriptSource=void 0;const r=n(66828),o=n(11642),i=n(30682),s=n(9959),a=n(99087),c=n(99203),l=n(58681),u=n(43138),d=n(78205),p=n(56297);t.IPyWidgetScriptSource=class{constructor(e,t,n,o,s,a,c,l){this.document=e,this.kernelProvider=t,this.configurationSettings=o,this.httpClient=s,this.sourceProviderFactory=a,this.cdnScriptProvider=l,this.postEmitter=new r.EventEmitter,this.disposables=[],this.isWebViewOnline=(0,u.createDeferred)(),this.widgetSources=new Map,this.pendingModuleRequests=new Map,this.uriTranslationRequests=new p.ResourceMap,this.uriConverter=new d.ScriptUriConverter(c,(e=>(this.uriTranslationRequests.has(e)||this.uriTranslationRequests.set(e,(0,u.createDeferred)()),this.postEmitter.fire({message:i.InteractiveWindowMessages.ConvertUriForUseInWebViewRequest,payload:e}),this.uriTranslationRequests.get(e).promise))),this.isWebViewOnline.promise.ignoreErrors(),n.push(this),this.kernelProvider.onDidStartKernel((e=>{e.notebook===this.document&&this.initialize()}),this,this.disposables)}get postMessage(){return this.postEmitter.event}dispose(){for(var e;this.disposables.length;)null===(e=this.disposables.shift())||void 0===e||e.dispose()}onMessage(e,t){if(e===i.InteractiveWindowMessages.ConvertUriForUseInWebViewResponse){const e=t;e&&this.uriTranslationRequests.has(e.request)&&this.uriTranslationRequests.get(e.request).resolve(e.response)}else if(e===i.IPyWidgetMessages.IPyWidgets_Ready)this.sendBaseUrl(),this.sendWidgetScriptSources().ignoreErrors();else if(e===i.IPyWidgetMessages.IPyWidgets_IsOnline){const e=t.isOnline;this.isWebViewOnline.resolve(e)}else e===i.IPyWidgetMessages.IPyWidgets_WidgetScriptSourceRequest&&t&&this.onRequestWidgetScript(t).catch(l.noop)}initialize(){var e;this.jupyterLab||(this.jupyterLab=n(76240)),this.kernel||(this.kernel=this.kernelProvider.get(this.document)),(null===(e=this.kernel)||void 0===e?void 0:e.session)&&(this.scriptProvider||(this.scriptProvider=new a.IPyWidgetScriptSourceProvider(this.kernel,this.uriConverter,this.configurationSettings,this.httpClient,this.sourceProviderFactory,this.isWebViewOnline.promise,this.cdnScriptProvider),this.kernel.onDisposed((()=>this.dispose())),this.handlePendingRequests(),this.sendBaseUrl(),(0,o.traceVerbose)("IPyWidgetScriptSource.initialize")))}sendBaseUrl(){this.scriptProvider&&this.scriptProvider.getBaseUrl().then((e=>{e&&this.postEmitter.fire({message:i.IPyWidgetMessages.IPyWidgets_BaseUrlResponse,payload:e.toString()})})).catch((e=>(0,o.traceError)("Failed to get baseUrl",e)))}async sendWidgetScriptSources(){if(this.scriptProvider&&!this.allWidgetScriptsSent)try{(await this.scriptProvider.getWidgetScriptSources()).forEach((e=>{var t;"cdn"!==(null===(t=this.widgetSources.get(e.moduleName))||void 0===t?void 0:t.source)&&this.widgetSources.set(e.moduleName,e),this.postEmitter.fire({message:i.IPyWidgetMessages.IPyWidgets_WidgetScriptSourceResponse,payload:e})}))}catch(e){(0,o.traceWarning)("Failed to fetch script sources",e)}finally{this.allWidgetScriptsSent=!0}}async onRequestWidgetScript(e){const{moduleName:t,moduleVersion:n,requestId:r}=e;if((0,o.traceInfo)(`${c.ConsoleForegroundColors.Green}Fetch Script for ${JSON.stringify(e)}`),await this.sendWidgetSource(t,n,r).catch((e=>(0,o.traceError)("Failed to send widget sources upon ready",e))),this.scriptProvider&&!this.allWidgetScriptsSent)try{await this.sendWidgetScriptSources()}finally{this.sendWidgetSource(t,n,r).catch(o.traceError.bind(void 0,"Failed to send widget sources upon ready"))}}async sendWidgetSource(e,t="*",n){var r;if(!e||e.startsWith("@jupyter"))return;if(!this.kernel||!this.scriptProvider)return void this.pendingModuleRequests.set(e,{moduleVersion:t,requestId:n});let a={moduleName:e,requestId:n};try{(0,o.traceInfo)(`${c.ConsoleForegroundColors.Green}Fetch Script for ${e}`),a=await this.scriptProvider.getWidgetScriptSource(e,t),"cdn"!==(null===(r=this.widgetSources.get(a.moduleName))||void 0===r?void 0:r.source)&&this.widgetSources.set(a.moduleName,a)}catch(e){(0,o.traceError)("Failed to get widget source due to an error",e),(0,s.sendTelemetryEvent)(s.Telemetry.HashedIPyWidgetScriptDiscoveryError)}finally{(0,o.traceInfo)(`${c.ConsoleForegroundColors.Green}Script for ${e}, is ${a.scriptUri} from ${a.source}`),this.postEmitter.fire({message:i.IPyWidgetMessages.IPyWidgets_WidgetScriptSourceResponse,payload:a})}}handlePendingRequests(){const e=Array.from(this.pendingModuleRequests.keys());for(;e.length;){const t=e.shift();if(t){const{moduleVersion:e,requestId:n}=this.pendingModuleRequests.get(t);this.pendingModuleRequests.delete(t),this.sendWidgetSource(t,e,n).catch(o.traceError.bind(`Failed to send WidgetScript for ${t}`))}}}}},99087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetScriptSourceProvider=void 0,n(8513);const r=n(11642),o=n(9959),i=n(96434),s=n(58681);t.IPyWidgetScriptSourceProvider=class{constructor(e,t,n,r,o,i,s){this.kernel=e,this.localResourceUriConverter=t,this.configurationSettings=n,this.httpClient=r,this.sourceProviderFactory=o,this.isWebViewOnline=i,this.cdnScriptProvider=s,this.scriptProviders=this.sourceProviderFactory.getProviders(this.kernel,this.localResourceUriConverter,this.httpClient)}get configuredScriptSources(){return this.configurationSettings.getSettings(void 0).widgetScriptSources}dispose(){this.disposeScriptProviders()}async getBaseUrl(){const e=this.scriptProviders.find((e=>e.getBaseUrl));if(e)return e.getBaseUrl()}async getWidgetScriptSources(){const e=[];return await Promise.all(this.scriptProviders.map((async t=>{t.getWidgetScriptSources&&e.push(...await t.getWidgetScriptSources())}))),e}async getWidgetScriptSource(e,t){const n=await this.isWebViewOnline,a=(this.scriptProviders||[]).slice();let c={moduleName:e};for(;a.length;){const r=a.shift();if(!r)continue;const o=await r.getWidgetScriptSource(e,t,n);if(o.scriptUri){c=o;break}}return("cdn"===c.source?Promise.resolve(!0):this.cdnScriptProvider.isOnCDN(e)).then((async e=>{const n=(e=e||"cdn"===c.source)?c.moduleName.replace(/\//g,"_").replace(/\\/g,"_").replace(/@/g,"_at_"):void 0;(0,o.sendTelemetryEvent)(o.Telemetry.HashedIPyWidgetNameUsed,void 0,{hashedName:await(0,i.getTelemetrySafeHashedString)(c.moduleName),moduleName:n,source:c.source,moduleVersion:e?t:void 0,cdnSearched:this.configuredScriptSources.length>0})})).then(s.noop,s.noop),c.scriptUri?(0,r.traceInfo)(`Script source for Widget ${e}@${t} was found from source ${c.source}`):(0,r.traceError)(`Script source for Widget ${e}@${t} not found`),c}disposeScriptProviders(){for(;this.scriptProviders&&this.scriptProviders.length;){const e=this.scriptProviders.shift();e&&e.dispose()}}}},95901:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NbExtensionsPathProvider=void 0;const o=n(86700),i=n(66828);let s=class{getNbExtensionsParentPath(e){switch(e.kernelConnectionMetadata.kind){case"connectToLiveRemoteKernel":case"startUsingRemoteKernelSpec":return i.Uri.parse(e.kernelConnectionMetadata.baseUrl);default:return}}};s=r([(0,o.injectable)()],s),t.NbExtensionsPathProvider=s},40145:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteIPyWidgetScriptManager=void 0;const s=i(n(15948)),a=n(66828),c=n(11642),l=n(98729),u=n(31131),d=n(15925),p=n(43138),h=n(58681);class f extends u.BaseIPyWidgetScriptManager{constructor(e,t,n,r){if(super(e),this.httpClient=t,this.context=n,this.fs=r,"connectToLiveRemoteKernel"!==e.kernelConnectionMetadata.kind&&"startUsingRemoteKernelSpec"!==e.kernelConnectionMetadata.kind)throw new Error("Invalid usage, can only be used for remote kernels");this.kernelConnection=e.kernelConnectionMetadata,this.getWidgetEntryPoints().catch(h.noop)}getBaseUrl(){return this.getNbExtensionsParentPath()}async getNbExtensionsParentPath(){return a.Uri.parse(this.kernelConnection.baseUrl)}onKernelRestarted(){this.widgetEntryPointsPromise=void 0,super.onKernelRestarted()}async getWidgetEntryPoints(){return this.widgetEntryPointsPromise||(this.widgetEntryPointsPromise=this.getWidgetEntryPointsImpl()),this.widgetEntryPointsPromise}getCodeToExecute(){return this.code||(this.code=this.fs.readFile(a.Uri.joinPath(this.context.extensionUri,"pythonFiles","printJupyWidgetEntryPoints.py"))),this.code}async getWidgetEntryPointsImpl(){if(!(0,l.isPythonKernelConnection)(this.kernelConnection))return[];const e=await this.getCodeToExecute();if(!this.kernel.session)return(0,c.traceInfoIfCI)("No Kernel session to get list of widget entry points"),[];const t=[];t.push((0,l.executeSilently)(this.kernel.session,e,{traceErrors:!0,traceErrorsMessage:"Failed to get widget entry points from remote kernel"})),d.isCI||this.context.extensionMode!==a.ExtensionMode.Production||t.push((0,p.sleep)(1e4).then((()=>[]))),t.forEach((e=>e.catch(h.noop)));const n=await Promise.race(t);if(0===n.length)return(0,c.traceInfoIfCI)("Unable to get widget entry points, no outputs after running the code"),[];const r=n[0];if("stream"!==r.output_type||"stdout"!==r.name)return(0,c.traceInfoIfCI)("Unable to get widget entry points, no stream/stdout outputs after running the code"),[];try{return r.text.trim().substring(1).slice(0,-1).split(",").map((e=>e.trim().trimQuotes())).map((e=>({uri:a.Uri.joinPath(a.Uri.parse(this.kernelConnection.baseUrl),"nbextensions",e),widgetFolderName:s.dirname(e)})))}catch(e){return(0,c.traceError)(`Failed to parse output to get list of IPyWidgets, output is ${r.text}`,e),[]}}async getWidgetScriptSource(e){const t=e.toString(),n=await this.httpClient.downloadFile(t);if(200===n.status)return n.text();throw(0,c.traceError)(`Error downloading from ${t}: ${n.statusText}`),new Error(`Error downloading from ${t}: ${n.statusText}`)}}t.RemoteIPyWidgetScriptManager=f},83471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteWidgetScriptSourceProvider=void 0;const r=n(66828);class o{constructor(e,t){if("connectToLiveRemoteKernel"!==e.kernelConnectionMetadata.kind&&"startUsingRemoteKernelSpec"!==e.kernelConnectionMetadata.kind)throw new Error("Invalid usage of this class, can only be used with remtoe kernels");this.kernelConnection=e.kernelConnectionMetadata,this.scriptManager=t.getOrCreate(e)}dispose(){}async getBaseUrl(){return r.Uri.parse(this.kernelConnection.baseUrl)}async getWidgetScriptSource(e){const t=(await this.getWidgetScriptSources()).find((t=>t.moduleName.toLowerCase()===e.toLowerCase()));if(!t&&e.includes("/")){const t=await this.getBaseUrl();return{moduleName:e,scriptUri:`${t.toString()}${e}`,source:"remote"}}return t||{moduleName:e}}async getWidgetScriptSources(){const e=await this.scriptManager.getWidgetModuleMappings();return e&&Object.keys(e).length?await Promise.all(Object.keys(e).map((async t=>({moduleName:t,scriptUri:e[t].toString(),source:"remote"})))):[]}}t.RemoteWidgetScriptSourceProvider=o,o.validUrls=new Map},76945:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptSourceProviderFactory=void 0;const i=n(86700),s=n(10053),a=n(42080),c=n(94483),l=n(83471),u=n(72265);let d=class{constructor(e,t,n,r){this.configurationSettings=e,this.appShell=t,this.globalMemento=n,this.widgetScriptManagerFactory=r}getProviders(e,t,n){const r=[];switch(r.push(new c.CDNWidgetScriptSourceProvider(this.appShell,this.globalMemento,this.configurationSettings,n)),e.kernelConnectionMetadata.kind){case"connectToLiveRemoteKernel":case"startUsingRemoteKernelSpec":r.push(new l.RemoteWidgetScriptSourceProvider(e,this.widgetScriptManagerFactory))}return r}};d=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IConfigurationService)),o(1,(0,i.inject)(s.IApplicationShell)),o(2,(0,i.inject)(a.IMemento)),o(2,(0,i.named)(a.GLOBAL_MEMENTO)),o(3,(0,i.inject)(u.IIPyWidgetScriptManagerFactory))],d),t.ScriptSourceProviderFactory=d},78205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptUriConverter=void 0,t.ScriptUriConverter=class{constructor(e,t){this.isWebExtension=e,this.converter=t}async asWebviewUri(e){return this.isWebExtension?e:this.converter(e)}}},1396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(76945),o=n(72265),i=n(43713),s=n(36948),a=n(95901),c=n(94483);t.registerTypes=function(e,t){e.addSingleton(i.IPyWidgetMessageDispatcherFactory,i.IPyWidgetMessageDispatcherFactory),e.addSingleton(o.IWidgetScriptSourceProviderFactory,r.ScriptSourceProviderFactory),e.addSingleton(o.IIPyWidgetScriptManagerFactory,s.IPyWidgetScriptManagerFactory),e.addSingleton(o.INbExtensionsPathProvider,a.NbExtensionsPathProvider),e.addSingleton(c.CDNWidgetScriptSourceProvider,c.CDNWidgetScriptSourceProvider)}},72265:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IIPyWidgetScriptManager=t.IIPyWidgetScriptManagerFactory=t.INbExtensionsPathProvider=t.IWidgetScriptSourceProviderFactory=void 0,t.IWidgetScriptSourceProviderFactory=Symbol("IWidgetScriptSourceProviderFactory"),t.INbExtensionsPathProvider=Symbol("INbExtensionsPathProvider"),t.IIPyWidgetScriptManagerFactory=Symbol("IIPyWidgetScriptManagerFactory"),t.IIPyWidgetScriptManager=Symbol("IIPyWidgetScriptManager")},46799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnector=void 0;const r=n(94062),o=n(66828),i=n(10053),s=n(11642),a=n(42080),c=n(43138),l=n(25251),u=n(47684),d=n(15925),p=n(9959),h=n(65537),f=n(83902),g=n(85249),m=n(10988),y=n(66690),v=n(90541),b=n(58681),S=n(40453),w=n(99216),C=n(50867),k=n(98729),_=n(6491),I=n(35412),E=n(32378),P=n(36065);class D{static async switchController(e,t){const n=t.get(i.ICommandManager),r=t.get(g.INotebookEditorProvider).findNotebookEditor(e),o=t.get(C.IControllerSelection);let s;const a=(0,c.createDeferred)(),l=o.onControllerSelected((e=>a.resolve(e.controller)));return await(0,m.selectKernel)(e,t.get(g.INotebookEditorProvider),n)&&r&&(s=await a.promise),l.dispose(),s?{controller:s.controller,metadata:s.connection}:void 0}static async notifyAndRestartDeadKernel(e,t){const n=t.get(i.IApplicationShell),r=t.get(i.ICommandManager),o=t.tryGet(S.IStatusProvider);let s=!1;switch(await n.showErrorMessage(l.DataScience.cannotRunCellKernelIsDead().format((0,k.getDisplayNameOrNameOfKernelConnection)(e.kernelConnectionMetadata)),{modal:!0},l.DataScience.showJupyterLogs(),l.DataScience.restartKernel())){case l.DataScience.restartKernel():{const t=null==o?void 0:o.set(l.DataScience.restartingKernelStatus());try{await e.restart(),s=!0}finally{null==t||t.dispose()}break}case l.DataScience.showJupyterLogs():r.executeCommand(d.Commands.ViewJupyterOutput).then(b.noop,b.noop)}return s}static async handleKernelError(e,t,n,o,i,s,c,l){const d=e.get(a.IMemento,a.GLOBAL_MEMENTO),g=e.get(v.IDataScienceErrorHandler);c.interpreter&&"start"===n&&(0,h.clearInstalledIntoInterpreterMemento)(d,f.Product.ipykernel,c.interpreter.uri).ignoreErrors();const m=await g.handleKernelError(t,n,c,o,l),y=(0,r.isLocalConnection)(c),b=e.tryGet(w.IRawNotebookProvider);switch((null==b?void 0:b.isSupported)&&y&&"start"===n&&(0,u.sendKernelTelemetryEvent)(o,p.Telemetry.RawKernelSessionStartNoIpykernel,{reason:m}),i.dispose().ignoreErrors(),m){case r.KernelInterpreterDependencyResponse.cancel:case r.KernelInterpreterDependencyResponse.failed:throw t;case r.KernelInterpreterDependencyResponse.selectDifferentKernel:{const n=await D.switchController(o,e);if(!n)throw t;s=n.controller,c=n.metadata;break}}return{controller:s,metadata:c}}static convertContextToFunction(e,t){switch(e){case"start":case"execution":return e=>e.start(t);case"interrupt":return e=>e.interrupt();case"restart":return e=>e.restart()}}static async verifyKernelState(e,t,n,r,o,i,s){const{kernel:a,deadKernelAction:c}=await r;if("dead"===a.status||"terminating"===a.status&&!a.disposed&&!a.disposing){if(this.deleteKernelInfo(t,r),"deadKernelWasNoRestarted"===c)throw new y.KernelDeadError(a.kernelConnectionMetadata);return"deadKernelWasRestarted"===c?a:D.wrapKernelMethod(a.kernelConnectionMetadata,"start",o,e,t,n,s,i)}return a}static async wrapKernelMethod(e,t,n,r,o,i,a,l=(()=>(0,b.noop)())){var u,d,p,h;(0,s.traceVerbose)(`${t} the kernel, options.disableUI=${i.disableUI} for ${(0,I.getDisplayPath)("notebook"in o?o.notebook.uri:o.resource)}`);let f=this.getKernelInfo(o);if(!i.disableUI&&(null==f?void 0:f.options.disableUI)&&(f.options.disableUI=!1),!i.disableUI&&(null==f?void 0:f.kernel.resolved)&&((null===(d=null===(u=null==f?void 0:f.kernel.value)||void 0===u?void 0:u.kernel)||void 0===d?void 0:d.disposed)||(null===(h=null===(p=null==f?void 0:f.kernel.value)||void 0===p?void 0:p.kernel)||void 0===h?void 0:h.disposing))&&(this.deleteKernelInfo(o),f=void 0),f&&"restart"!==t&&"interrupt"!==t)return D.verifyKernelState(r,o,i,f.kernel.promise,n,l,a);const g=D.wrapKernelMethodImpl(e,t,r,o,i,n,l),m=(0,c.createDeferredFromPromise)(g);return m.promise.catch(b.noop),g.then((e=>{e.kernel.onDisposed((()=>{this.deleteKernelInfo(o,m.promise)}),void 0,a)})).catch((()=>{this.deleteKernelInfo(o,m.promise)})),this.setKernelInfo(o,m,i),D.verifyKernelState(r,o,i,m.promise,n,l,a)}static getKernelInfo(e){return"notebook"in e?D.connectionsByNotebook.get(e.notebook):D.connectionsByUri.get(e.resource.toString())}static setKernelInfo(e,t,n){"notebook"in e?D.connectionsByNotebook.set(e.notebook,{kernel:t,options:n}):D.connectionsByUri.set(e.resource.toString(),{kernel:t,options:n})}static deleteKernelInfo(e,t){var n,r;t?"notebook"in e&&(null===(n=D.connectionsByNotebook.get(e.notebook))||void 0===n?void 0:n.kernel.promise)===t?D.connectionsByNotebook.delete(e.notebook):e.resource&&(null===(r=D.connectionsByUri.get(e.resource.toString()))||void 0===r?void 0:r.kernel.promise)===t&&D.connectionsByUri.delete(e.resource.toString()):"notebook"in e?D.connectionsByNotebook.delete(e.notebook):D.connectionsByUri.delete(e.resource.toString())}static async canStartKernel(e,t){if((0,r.isLocalConnection)(e)&&e.kernelSpec.specFile&&!t.get(E.ITrustedKernelPaths).isTrusted(o.Uri.file(e.kernelSpec.specFile)))throw new P.KernelSpecNotTrustedError(e)}static async wrapKernelMethodImpl(e,t,n,o,i,a,c){const l=n.get(r.IKernelProvider),u=n.get(r.IThirdPartyKernelProvider);let d,p=D.convertContextToFunction(t,i),h=t,f="controller"in o?o.controller:void 0;for("start"===t&&await D.canStartKernel(e,n);void 0===d;){d="notebook"in o?l.getOrCreate(o.notebook,{metadata:e,controller:f||o.controller,resourceUri:o.resource}):u.getOrCreate(o.resource,{metadata:e,resourceUri:o.resource});const r=e=>"dead"===e.status||"terminating"===e.status&&!e.disposed&&!e.disposing;try{if("restart"!==t&&r(d)&&!i.disableUI)return{kernel:d,deadKernelAction:await D.notifyAndRestartDeadKernel(d,n)?"deadKernelWasRestarted":"deadKernelWasNoRestarted"};c(h,d),await p(d),r(d)&&!i.disableUI&&await D.notifyAndRestartDeadKernel(d,n)}catch(t){if((0,_.isCancellationError)(t)||(0,s.traceWarning)(`Error occurred while trying to ${h} the kernel, options.disableUI=${i.disableUI}`,t),i.disableUI)throw t;const r=await D.handleKernelError(n,t,h,o.resource,d,f,e,a);if(f=r.controller,e=r.metadata,p=e=>e.start(i),h="start","3rdPartyExtension"===a)throw t;d=void 0}}return{kernel:d}}static async connectToNotebookKernel(e,t,n,r,o,i="jupyterExtension",s=(()=>(0,b.noop)())){return D.wrapKernelMethod(e,"start",i,t,n,r,o,s)}static async connectToKernel(e,t,n,r,o,i="jupyterExtension",s=(()=>(0,b.noop)())){return D.wrapKernelMethod(e,"start",i,t,n,r,o,s)}}t.KernelConnector=D,D.connectionsByNotebook=new WeakMap,D.connectionsByUri=new Map},14398:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelFilterService=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(20397),l=n(11642),u=n(42080),d=n(9959),p=n(15925),h=n(35412);let f=class{constructor(e,t,n){this.config=e,this.workspace=t,this.disposables=[],this._onDidChange=new s.EventEmitter,n.push(this)}get onDidChange(){return this._onDidChange.event}dispose(){this._onDidChange.dispose(),(0,c.disposeAllDisposables)(this.disposables)}isKernelHidden(e){const t=this.getFilters();if("connectToLiveRemoteKernel"===e.kind)return!1;const n=t.some((t=>"jupyterKernelspec"===t.type&&e.kernelSpec.specFile?t.path.toLowerCase()===e.kernelSpec.specFile.toLowerCase():"startUsingPythonInterpreter"===e.kind&&"pythonEnvironment"===t.type?t.path.toLowerCase()===(0,h.getDisplayPath)(e.interpreter.uri).toLowerCase():"startUsingRemoteKernelSpec"===e.kind&&"remoteKernelSpec"===t.type&&t.path===`${e.kernelSpec.name}${e.serverId}`));return n&&(0,d.sendTelemetryEvent)(p.Telemetry.JupyterKernelHiddenViaFilter),n}getFilters(){if(!this.workspace.workspaceFolders||0===this.workspace.workspaceFolders.length)return this.workspace.getConfiguration("jupyter",void 0).get("kernels.filter",[]);const e=[];return this.workspace.workspaceFolders.forEach((t=>{e.push(...this.workspace.getConfiguration("jupyter",t.uri).get("kernels.filter",[]))})),e}async storeHiddenKernels(e){const t=new Set,n=e.map((e=>{const n=this.translateConnectionToFilter(e);if(n&&!t.has(n.path))return t.add(n.path),n})).filter((e=>!!e)).map((e=>e)),r=(this.workspace.workspaceFolders||[]).map((e=>e.uri));r.length>0?await Promise.all(r.map((e=>this.config.updateSetting("kernels.filter",n,e,s.ConfigurationTarget.Workspace)))):await this.config.updateSetting("kernels.filter",n,void 0,s.ConfigurationTarget.Global),this._onDidChange.fire()}translateConnectionToFilter(e){if("connectToLiveRemoteKernel"!==e.kind)return"startUsingLocalKernelSpec"===e.kind&&e.kernelSpec.specFile?{path:(0,h.getDisplayPath)(s.Uri.file(e.kernelSpec.specFile)),type:"jupyterKernelspec"}:"startUsingPythonInterpreter"===e.kind?{path:(0,h.getDisplayPath)(e.interpreter.uri),type:"pythonEnvironment"}:"startUsingRemoteKernelSpec"===e.kind&&e.kernelSpec.name&&e.serverId?{path:`${e.kernelSpec.name}${e.serverId}`,type:"remoteKernelSpec"}:void 0;(0,l.traceVerbose)("Hiding default or live kernels via filter is not supported")}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IConfigurationService)),o(1,(0,i.inject)(a.IWorkspaceService)),o(2,(0,i.inject)(u.IDisposableRegistry))],f),t.KernelFilterService=f},33916:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelFilterUI=void 0;const i=n(86700),s=n(10053),a=n(20397),c=n(42080),l=n(25251),u=n(58681),d=n(98729),p=n(94062),h=n(14398),f=n(9959),g=n(15925),m=n(50867);let y=class{constructor(e,t,n,r,o,i,s){this.controllers=e,this.controllerLoader=t,this.commandManager=n,this.appShell=r,this.kernelFilter=i,this.workspace=s,this.disposables=[],o.push(this)}activate(){this.disposables.push(this.commandManager.registerCommand("jupyter.filterKernels",this.showUI,this))}dispose(){(0,a.disposeAllDisposables)(this.disposables)}async showUI(){const e=this.appShell.createQuickPick(),t=new Set;let n=!1;e.canSelectMany=!1,e.placeholder=l.DataScience.kernelFilterPlaceholder(),e.busy=!0,e.enabled=!1,this.controllerLoader.loaded.then((()=>{if(n)return;const r=this.controllers.all.filter((e=>!t.has(e.id)&&(t.add(e.id),!0))).map((e=>{return{label:(t=e,(0,p.isRemoteConnection)(t)?`${l.DataScience.kernelPrefixForRemote()} ${(0,d.getDisplayNameOrNameOfKernelConnection)(t)}`:(0,d.getDisplayNameOrNameOfKernelConnection)(t)),picked:!this.kernelFilter.isKernelHidden(e),description:(0,d.getKernelConnectionPath)(e,this.workspace),detail:"connectToLiveRemoteKernel"===e.kind?(0,d.getRemoteKernelSessionInformation)(e):"",connection:e};var t}));r.sort(((e,t)=>e.label.localeCompare(t.label))),e.canSelectMany=!0,e.activeItems=r,e.items=r,e.matchOnDescription=!0,e.matchOnDetail=!0,e.sortByLabel=!0,e.selectedItems=r.filter((e=>e.picked)),e.placeholder=l.DataScience.kernelFilterPlaceholder(),e.enabled=!0,e.busy=!1})).catch(u.noop);const r=[];e.show(),e.onDidHide((()=>{n=!0,(0,a.disposeAllDisposables)(r)}),this,r),e.onDidAccept((()=>{n=!0,e.hide(),(0,a.disposeAllDisposables)(r);const t=new Set(e.selectedItems.map((e=>e.connection))),o=e.items.map((e=>e.connection)).filter((e=>!t.has(e)));this.kernelFilter.storeHiddenKernels(o.map((e=>e))).then(u.noop,u.noop),(0,f.sendTelemetryEvent)(g.Telemetry.JupyterKernelFilterUsed)}),this,r)}};y=r([(0,i.injectable)(),o(0,(0,i.inject)(m.IControllerRegistration)),o(1,(0,i.inject)(m.IControllerLoader)),o(2,(0,i.inject)(s.ICommandManager)),o(3,(0,i.inject)(s.IApplicationShell)),o(4,(0,i.inject)(c.IDisposableRegistry)),o(5,(0,i.inject)(h.KernelFilterService)),o(6,(0,i.inject)(s.IWorkspaceService))],y),t.KernelFilterUI=y},41463:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.compareKernels=t.isExactMatch=t.rankKernels=t.findKernelSpecMatchingInterpreter=void 0;const s=n(98729),a=n(15925),c=n(35412),l=n(86563),u=n(11642),d=n(46031),p=i(n(15948));async function h(e,t){if(!e||0===t.length)return;const n=[];if(await Promise.all(t.map((async t=>{"startUsingPythonInterpreter"!==t.kind||"registeredByNewVersionOfExtForCustomKernelSpec"===(0,s.getKernelRegistrationInfo)(t.kernelSpec)||t.interpreter.id!==e.id||t.interpreter.envName!==e.envName?"startUsingPythonInterpreter"===t.kind&&"registeredByNewVersionOfExtForCustomKernelSpec"!==(0,s.getKernelRegistrationInfo)(t.kernelSpec)&&await(0,d.getInterpreterHash)(t.interpreter)===await(0,d.getInterpreterHash)(e)&&t.interpreter.envName===e.envName&&n.push(t):n.push(t)}))),n.length>1&&((0,u.traceError)(`More than one kernel spec matches the interpreter ${e.uri}.`,n),a.isCI))throw new Error("More than one kernelspec matches the intererpreter");return n.length?n[0]:void 0}function f(e){if(!e)return;const t="interpreter"in e?e.interpreter:"vscode"in e&&e.vscode&&"object"==typeof e.vscode&&"interpreter"in e.vscode?e.vscode.interpreter:void 0;return null==t?void 0:t.hash}function g(e,t,n){var r,o,i,a;if("connectToLiveRemoteKernel"===e.kind)return!1;const c=e.kernelSpec,l=(null===(o=null===(r=c.metadata)||void 0===r?void 0:r.vscode)||void 0===o?void 0:o.originalSpecFile)||(null===(i=c.metadata)||void 0===i?void 0:i.originalSpecFile),u=l?p.basename(p.dirname(l)):(null==c?void 0:c.name)||"",d=null===(a=e.interpreter)||void 0===a?void 0:a.envName,h=(0,s.isDefaultKernelSpec)({argv:[],display_name:t.display_name,name:t.name,executable:""});return!(!n||!h)||!(h||u!==t.name&&d!==t.name)}function m(e,t,n,r,o,i,s,c){var l,u,d,h,f,g,m,S,w,C,k,_,I,E,P,D,T,x,j,M,N,O,A,R,L;const F=i.metadata,U=s.metadata;if("connectToLiveRemoteKernel"===F.kind&&c&&F.kernelModel.id===c)return 1;if("connectToLiveRemoteKernel"===U.kind&&c&&U.kernelModel.id===c)return-1;if(F.kind===U.kind&&"connectToLiveRemoteKernel"===U.kind)return 0;if("connectToLiveRemoteKernel"===F.kind)return-1;if("connectToLiveRemoteKernel"===U.kind)return 1;const K=null===(l=F.kernelSpec.language)||void 0===l?void 0:l.toLowerCase(),W=null===(u=U.kernelSpec.language)||void 0===u?void 0:u.toLowerCase();if(t=null==t?void 0:t.toLowerCase(),n=null==n?void 0:n.toLowerCase(),!(null==r?void 0:r.kernelspec)){if(t)if(t===a.PYTHON_LANGUAGE&&K===W&&K===t);else{if(K===W&&K===t)return 0;if(K===t)return 1;if(W===t)return-1}return F===o?1:U===o?-1:0}const V=(null===(h=null===(d=F.kernelSpec.metadata)||void 0===d?void 0:d.vscode)||void 0===h?void 0:h.originalSpecFile)||(null===(f=F.kernelSpec.metadata)||void 0===f?void 0:f.originalSpecFile),B=(null===(m=null===(g=U.kernelSpec.metadata)||void 0===g?void 0:g.vscode)||void 0===m?void 0:m.originalSpecFile)||(null===(S=U.kernelSpec.metadata)||void 0===S?void 0:S.originalSpecFile),H=(null===(C=null===(w=F.kernelSpec.metadata)||void 0===w?void 0:w.vscode)||void 0===C?void 0:C.originalDisplayName)||(null===(k=F.kernelSpec)||void 0===k?void 0:k.display_name)||"",J=(null===(I=null===(_=U.kernelSpec.metadata)||void 0===_?void 0:_.vscode)||void 0===I?void 0:I.originalDisplayName)||(null===(E=U.kernelSpec)||void 0===E?void 0:E.display_name)||"",q=V?p.basename(p.dirname(V)):(null===(P=F.kernelSpec)||void 0===P?void 0:P.name)||"",$=B?p.basename(p.dirname(B)):(null===(D=U.kernelSpec)||void 0===D?void 0:D.name)||"";if(t&&t!==a.PYTHON_LANGUAGE)return K&&W&&K!==t&&W!==t?0:K===t&&W!==t?1:K!==t&&W===t?-1:q&&q===$&&H===J?0:q&&q===(null===(T=r.kernelspec)||void 0===T?void 0:T.name)&&H===r.kernelspec.display_name?1:$&&$===(null===(x=r.kernelspec)||void 0===x?void 0:x.name)&&J===r.kernelspec.display_name?-1:q&&q===(null===(j=r.kernelspec)||void 0===j?void 0:j.name)?1:$&&$===(null===(M=r.kernelspec)||void 0===M?void 0:M.name)?-1:H&&H===(null===(N=r.kernelspec)||void 0===N?void 0:N.display_name)?1:J&&J===(null===(O=r.kernelspec)||void 0===O?void 0:O.display_name)?-1:F===o?1:U===o?-1:0;if(!n&&t){if(q&&H&&q!==$&&H!==J&&"startUsingLocalKernelSpec"===F.kind&&K!==a.PYTHON_LANGUAGE&&q===r.kernelspec.name&&H===r.kernelspec.display_name)return 1;if($&&J&&q!==$&&H!==J&&"startUsingLocalKernelSpec"===U.kind&&W!==a.PYTHON_LANGUAGE&&$===r.kernelspec.name&&J===r.kernelspec.display_name)return-1}if(K&&W){if(K!==W)return K===a.PYTHON_LANGUAGE?1:-1;if(K!==a.PYTHON_LANGUAGE)return 0}if(null===(A=null==r?void 0:r.kernelspec)||void 0===A?void 0:A.name){let e=y(i,s,q,$,r,o);if("number"==typeof e)return e;if("startUsingRemoteKernelSpec"!==F.kind&&"startUsingRemoteKernelSpec"===U.kind)return 1;if("startUsingRemoteKernelSpec"===F.kind&&"startUsingRemoteKernelSpec"!==U.kind)return-1;if("startUsingRemoteKernelSpec"===F.kind&&"startUsingRemoteKernelSpec"===U.kind)return F===o?1:U===o?-1:0;if(e=y(i,s,(null===(R=F.interpreter)||void 0===R?void 0:R.envName)||"",(null===(L=U.interpreter)||void 0===L?void 0:L.envName)||"",r,o),"number"==typeof e)return e}if("startUsingRemoteKernelSpec"!==F.kind&&"startUsingRemoteKernelSpec"===U.kind)return 1;if("startUsingRemoteKernelSpec"===F.kind&&"startUsingRemoteKernelSpec"!==U.kind)return-1;if("startUsingRemoteKernelSpec"===F.kind&&"startUsingRemoteKernelSpec"===U.kind)return 0;const G=b(F,U,r),z=v(i,s,r);if(G>=0&&z>0)return 1;if(G>0&&z>=0)return 1;if(G<=0&&z<0)return-1;if(G<0&&z<=0)return-1;if(G<0&&z>0)return F===o?1:U===o?-1:0;if(0===G&&0===z){if(F===o)return 1;if(U===o)return-1;if("startUsingPythonInterpreter"===F.kind&&"startUsingPythonInterpreter"!==U.kind)return 1;if("startUsingPythonInterpreter"!==F.kind&&"startUsingPythonInterpreter"===U.kind)return-1}return F===o?1:U===o?-1:0}function y(e,t,n,r,o,i){var a,c,l,u,d,p,h,f,g,m,y,S,w,C,k,_,I;const E=b(e.metadata,t.metadata,o),P=v(e,t,o),D=e.metadata,T=t.metadata;if(null===(a=null==o?void 0:o.kernelspec)||void 0===a?void 0:a.name)if(o.kernelspec.name.toLowerCase().match(s.isDefaultPythonKernelSpecName)){const e="connectToLiveRemoteKernel"!==D.kind?(0,s.getKernelRegistrationInfo)(D.kernelSpec):"",t="connectToLiveRemoteKernel"!==T.kind?(0,s.getKernelRegistrationInfo)(T.kernelSpec):"",a=parseInt(o.kernelspec.name.toLowerCase().replace("python",""),10);if(a&&(null===(l=null===(c=D.interpreter)||void 0===c?void 0:c.version)||void 0===l?void 0:l.major)===(null===(d=null===(u=T.interpreter)||void 0===u?void 0:u.version)||void 0===d?void 0:d.major)&&D.kind===T.kind&&0===E&&0===P)return D===i?1:T===i?-1:function(e,t){if("connectToLiveRemoteKernel"===e.kind||"connectToLiveRemoteKernel"===t.kind)return"connectToLiveRemoteKernel"!==e.kind?1:"connectToLiveRemoteKernel"!==t.kind?-1:0;const n=(0,s.getKernelRegistrationInfo)(e.kernelSpec),r=(0,s.getKernelRegistrationInfo)(t.kernelSpec);return n===r?0:"registeredByNewVersionOfExtForCustomKernelSpec"===r?1:"registeredByNewVersionOfExtForCustomKernelSpec"===n?-1:0}(D,T);if(a&&(null===(h=null===(p=D.interpreter)||void 0===p?void 0:p.version)||void 0===h?void 0:h.major)!==(null===(g=null===(f=T.interpreter)||void 0===f?void 0:f.version)||void 0===g?void 0:g.major)&&(null===(y=null===(m=D.interpreter)||void 0===m?void 0:m.version)||void 0===y?void 0:y.major)===a&&"startUsingRemoteKernelSpec"!==D.kind&&E>=0&&P>=0)return 1;if(a&&(null===(w=null===(S=D.interpreter)||void 0===S?void 0:S.version)||void 0===w?void 0:w.major)!==(null===(k=null===(C=T.interpreter)||void 0===C?void 0:C.version)||void 0===k?void 0:k.major)&&(null===(I=null===(_=T.interpreter)||void 0===_?void 0:_.version)||void 0===I?void 0:I.major)===a&&"startUsingRemoteKernelSpec"!==T.kind&&E<=0&&P<=0)return-1;if(n===o.kernelspec.name&&E>=0&&P>=0)return 1;if("startUsingPythonInterpreter"===D.kind&&"registeredByNewVersionOfExtForCustomKernelSpec"!==e&&n===D.kernelSpec.display_name&&E>=0&&P>=0)return 1;if(r===o.kernelspec.name&&E<=0&&P<=0)return-1;if("startUsingPythonInterpreter"===T.kind&&"registeredByNewVersionOfExtForCustomKernelSpec"!==t&&n===T.kernelSpec.display_name&&E<=0&&P<=0)return 1;if(P>0)return 1;if(P<0)return-1}else{if(n===r&&n===o.kernelspec.name)return E>=0&&P>=0?1:E<0&&P<0?-1:P;if(n===o.kernelspec.name)return E>=0&&P>=0?1:E<0&&P<0?-1:D===i?1:T===i?-1:P;if(r===o.kernelspec.name)return E>0&&P>0?1:E<=0&&P<=0?-1:D===i?1:T===i?-1:P}}function v({metadata:e,interpreterHash:t},{metadata:n,interpreterHash:r},o){if("connectToLiveRemoteKernel"===e.kind&&"connectToLiveRemoteKernel"===n.kind)return 0;if("connectToLiveRemoteKernel"===e.kind)return-1;if("connectToLiveRemoteKernel"===n.kind)return 1;const i=(0,s.getKernelRegistrationInfo)(e.kernelSpec),a=(0,s.getKernelRegistrationInfo)(n.kernelSpec),c=!!S(e,o,t),l=!!S(n,o,r);return c||l?c&&l&&e.kind===n.kind&&i===a?0:c&&!l?1:!c&&l?-1:"startUsingPythonInterpreter"===e.kind&&e.kind!==n.kind&&"registeredByNewVersionOfExtForCustomKernelSpec"!==i?1:"startUsingPythonInterpreter"===n.kind&&n.kind!==e.kind&&"registeredByNewVersionOfExtForCustomKernelSpec"!==a?-1:"startUsingPythonInterpreter"===e.kind&&e.kind!==n.kind?1:"startUsingPythonInterpreter"===n.kind&&n.kind!==e.kind?-1:"startUsingLocalKernelSpec"===e.kind&&e.kind!==n.kind||"startUsingLocalKernelSpec"===n.kind&&e.kind!==n.kind?1:0:0}function b(e,t,n){var r,o,i,a,c,l,u,d,p,h,f,g,m,y,v,b,S,w,C,k,_,I,E;if("connectToLiveRemoteKernel"===e.kind&&"connectToLiveRemoteKernel"===t.kind)return 0;if("connectToLiveRemoteKernel"===e.kind)return-1;if("connectToLiveRemoteKernel"===t.kind)return 1;if(!(null===(r=null==n?void 0:n.kernelspec)||void 0===r?void 0:r.display_name))return 0;if((0,s.isDefaultKernelSpec)({argv:[],display_name:n.kernelspec.display_name,name:n.kernelspec.name,executable:""})){const r=(0,s.getKernelRegistrationInfo)(e.kernelSpec),b=(0,s.getKernelRegistrationInfo)(t.kernelSpec);if(r===b&&e.kind===t.kind);else{if("registeredByNewVersionOfExtForCustomKernelSpec"!==r&&"registeredByNewVersionOfExtForCustomKernelSpec"===b&&"startUsingPythonInterpreter"===e.kind)return 1;if("registeredByNewVersionOfExtForCustomKernelSpec"!==b&&"registeredByNewVersionOfExtForCustomKernelSpec"===r&&"startUsingPythonInterpreter"===t.kind)return-1}return(null===(i=null===(o=e.kernelSpec.metadata)||void 0===o?void 0:o.vscode)||void 0===i?void 0:i.originalDisplayName)&&(null===(c=null===(a=e.kernelSpec.metadata)||void 0===a?void 0:a.vscode)||void 0===c?void 0:c.originalDisplayName)===(null===(u=null===(l=t.kernelSpec.metadata)||void 0===l?void 0:l.vscode)||void 0===u?void 0:u.originalDisplayName)?0:(null===(p=null===(d=e.kernelSpec.metadata)||void 0===d?void 0:d.vscode)||void 0===p?void 0:p.originalDisplayName)&&(null===(f=null===(h=e.kernelSpec.metadata)||void 0===h?void 0:h.vscode)||void 0===f?void 0:f.originalDisplayName)===n.kernelspec.display_name?1:(null===(m=null===(g=t.kernelSpec.metadata)||void 0===g?void 0:g.vscode)||void 0===m?void 0:m.originalDisplayName)&&(null===(v=null===(y=t.kernelSpec.metadata)||void 0===y?void 0:y.vscode)||void 0===v?void 0:v.originalDisplayName)===n.kernelspec.display_name?-1:0}return e.kernelSpec.display_name===t.kernelSpec.display_name&&(null===(S=null===(b=e.kernelSpec.metadata)||void 0===b?void 0:b.vscode)||void 0===S?void 0:S.originalDisplayName)===(null===(C=null===(w=t.kernelSpec.metadata)||void 0===w?void 0:w.vscode)||void 0===C?void 0:C.originalDisplayName)?0:e.kernelSpec.display_name===n.kernelspec.display_name||(null===(_=null===(k=e.kernelSpec.metadata)||void 0===k?void 0:k.vscode)||void 0===_?void 0:_.originalDisplayName)===n.kernelspec.display_name?1:t.kernelSpec.display_name===n.kernelspec.display_name||(null===(E=null===(I=t.kernelSpec.metadata)||void 0===I?void 0:I.vscode)||void 0===E?void 0:E.originalDisplayName)===n.kernelspec.display_name?-1:0}function S(e,t,n){const r=f(t);return r&&("startUsingLocalKernelSpec"===e.kind||"startUsingRemoteKernelSpec"===e.kind||"startUsingPythonInterpreter"===e.kind)&&e.interpreter&&n===r}t.findKernelSpecMatchingInterpreter=h,t.rankKernels=async function(e,t,n,r,o,i){var p,f,g,y,v,b;if((0,u.traceInfo)(`Find preferred kernel for ${(0,c.getDisplayPath)(t)} with metadata ${JSON.stringify(n||{})} & preferred interpreter ${(0,c.getDisplayPath)(null==r?void 0:r.uri)}`),0===e.length)return;let S=r&&await h(r,e);if(null==i?void 0:i.isCancellationRequested)return;if(r&&!S){const t=await(0,s.createInterpreterKernelSpec)(r);S={kind:"startUsingPythonInterpreter",kernelSpec:t,interpreter:r,id:(0,s.getKernelId)(t,r)},e.push(S)}(0,u.traceInfoIfCI)(`preferredInterpreterKernelSpecIndex = ${null==S?void 0:S.id}`);const w=(null===(p=null==n?void 0:n.language_info)||void 0===p?void 0:p.name.toLowerCase())||(null===(g=null===(f=null==n?void 0:n.kernelspec)||void 0===f?void 0:f.language)||void 0===g?void 0:g.toLowerCase());let C=w;if(e=e.filter((e=>!(!C||C!==a.PYTHON_LANGUAGE||!(0,s.isPythonKernelConnection)(e))||!(C&&C!==a.PYTHON_LANGUAGE&&!(null==n?void 0:n.kernelspec)&&"connectToLiveRemoteKernel"!==e.kind&&e.kernelSpec.language&&e.kernelSpec.language.toLowerCase()!==C))),C="interactive"===(0,l.getResourceType)(t)?a.PYTHON_LANGUAGE:n&&!(0,s.isPythonNotebook)(n)&&C?null===(b=(null===(y=null==n?void 0:n.kernelspec)||void 0===y?void 0:y.language)||(null===(v=null==n?void 0:n.language_info)||void 0===v?void 0:v.name))||void 0===b?void 0:b.toLowerCase():a.PYTHON_LANGUAGE,null==i?void 0:i.isCancellationRequested)return;const k=new Map;return await Promise.all(e.map((async e=>{const t=e.interpreter?await(0,d.getInterpreterHash)(e.interpreter):void 0;k.set(e,t)}))),e.sort(((e,t)=>m(0,C,w,n,S,{metadata:e,interpreterHash:k.get(e)},{metadata:t,interpreterHash:k.get(t)},o))),e},t.isExactMatch=async function(e,t,n){return!("connectToLiveRemoteKernel"!==e.kind||!n||e.kernelModel.id!==n)||!(!t||!t.kernelspec)&&(f(t)&&await S(e,t,e.interpreter?await(0,d.getInterpreterHash)(e.interpreter):void 0)?g(e,t.kernelspec,!0):g(e,t.kernelspec,!1))},t.compareKernels=m},19904:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelRankingHelper=void 0;const i=n(86700),s=n(76385),a=n(94062),c=n(11642),l=n(99203),u=n(9959),d=n(41463);let p=class{constructor(e){this.preferredRemoteFinder=e}async rankKernels(e,t,n,r,o,i){try{i&&(t=t.filter((e=>!(0,a.isLocalConnection)(e)&&e.serverId===i)));const s=e&&this.preferredRemoteFinder?await this.preferredRemoteFinder.getPreferredRemoteKernelId(e):void 0;if(null==o?void 0:o.isCancellationRequested)return;return await(0,d.rankKernels)(t,e,n,r,s,o)}catch(e){return void(0,c.traceError)("RankKernels crashed",e)}}async isExactMatch(e,t,n){const r=e&&this.preferredRemoteFinder?await this.preferredRemoteFinder.getPreferredRemoteKernelId(e):void 0;return(0,d.isExactMatch)(t,n,r)}};r([(0,c.traceDecoratorVerbose)("Rank Kernels",l.TraceOptions.BeforeCall|l.TraceOptions.Arguments),(0,u.capturePerfTelemetry)(u.Telemetry.RankKernelsPerf),o(1,(0,c.ignoreLogging)()),o(3,(0,c.logValue)("uri")),o(4,(0,c.ignoreLogging)())],p.prototype,"rankKernels",null),p=r([(0,i.injectable)(),o(0,(0,i.inject)(s.PreferredRemoteKernelIdProvider))],p),t.KernelRankingHelper=p},10988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectKernel=void 0;const r=n(11642);t.selectKernel=async function(e,t,n){const o=null==t?void 0:t.findNotebookEditor(e);return o?n.executeCommand("notebook.selectKernel",{notebookEditor:o}):((0,r.traceError)("Unable to select kernel as the Notebook document could not be identified"),!1)}},23712:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookKernelSourceSelector=void 0;const i=n(86700),s=n(94062),a=n(10053),c=n(50867);let l=class{constructor(e,t,n){this.applicationShell=e,this.kernelSourceTracker=t,this.kernelFinder=n}async selectKernelSource(e){const t=this.kernelFinder.registered.map(this.toQuickPickItem),n=await this.applicationShell.showQuickPick(t);n&&this.kernelSourceTracker.setKernelSourceForNotebook(e,n.kernelFinderInfo)}toQuickPickItem(e){return{kernelFinderInfo:e,label:e.displayName}}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IApplicationShell)),o(1,(0,i.inject)(c.INotebookKernelSourceTracker)),o(2,(0,i.inject)(s.IKernelFinder))],l),t.NotebookKernelSourceSelector=l},92826:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookKernelSourceTracker=void 0;const i=n(86700),s=n(66828),a=n(94062),c=n(42080),l=n(50867);let u=class{constructor(e,t,n){this.disposableRegistry=e,this.controllerRegistration=t,this.kernelFinder=n,this.documentSourceMapping=new Map}activate(){s.workspace.onDidOpenNotebookDocument(this.onDidOpenNotebookDocument,this,this.disposableRegistry),s.workspace.onDidCloseNotebookDocument(this.onDidCloseNotebookDocument,this,this.disposableRegistry),this.controllerRegistration.onCreated(this.onCreatedController,this,this.disposableRegistry),s.workspace.notebookDocuments.forEach(this.onDidOpenNotebookDocument.bind(this))}getKernelSourceForNotebook(e){return this.documentSourceMapping.get(e)}setKernelSourceForNotebook(e,t){this.documentSourceMapping.set(e,t),this.updateControllerAffinity(e,t)}onCreatedController(e){this.documentSourceMapping.forEach(((t,n)=>{const r=this.kernelFinder.getFinderForConnection(e.connection);r&&t&&r.id===t.id?this.associateController(n,e):this.disassociateController(n,e)}))}updateControllerAffinity(e,t){const n=this.controllerRegistration.registered.filter((e=>!this.controllerMatchesKernelSource(e,t))),r=this.controllerRegistration.registered.filter((e=>this.controllerMatchesKernelSource(e,t)));n.forEach((t=>{this.disassociateController(e,t)})),r.forEach((t=>{this.associateController(e,t)}))}controllerMatchesKernelSource(e,t){const n=this.kernelFinder.getFinderForConnection(e.connection);return!(!n||n.id!==t.id)}associateController(e,t){t.controller.updateNotebookAffinity(e,s.NotebookControllerAffinity2.Default)}disassociateController(e,t){t.controller.updateNotebookAffinity(e,s.NotebookControllerAffinity2.Hidden)}onDidOpenNotebookDocument(e){this.documentSourceMapping.set(e,void 0),this.controllerRegistration.registered.forEach((t=>{this.disassociateController(e,t)}))}onDidCloseNotebookDocument(e){this.controllerRegistration.registered.forEach((t=>{this.associateController(e,t)})),this.documentSourceMapping.delete(e)}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IDisposableRegistry)),o(1,(0,i.inject)(l.IControllerRegistration)),o(2,(0,i.inject)(a.IKernelFinder))],u),t.NotebookKernelSourceTracker=u},84390:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LiveKernelSwitcher=void 0;const i=n(86700),s=n(10053),a=n(11642),c=n(42080),l=n(76385),u=n(15925),d=n(43138),p=n(50867);let h=class{constructor(e,t,n,r,o,i,s){this.disposables=e,this.vscNotebook=t,this.controllerLoader=n,this.controllerRegistration=r,this.controllerSelection=o,this.commandManager=i,this.preferredRemoteKernelIdProvider=s}async activate(){this.vscNotebook.onDidOpenNotebookDocument(this.onDidOpenNotebook,this,this.disposables),this.vscNotebook.notebookDocuments.forEach((e=>this.onDidOpenNotebook(e)))}onDidOpenNotebook(e){this.controllerLoader.loaded.then((async()=>{const t=this.controllerSelection.getSelected(e),n=await this.preferredRemoteKernelIdProvider.getPreferredRemoteKernelId(e.uri),r=n?this.controllerRegistration.registered.find((e=>e.id===n)):void 0;r&&(null==t?void 0:t.id)!==r.id&&((0,a.traceInfo)(`Switching remote kernel to ${n} for ${e.uri}`),await this.switchKernel(e,r.connection))})).catch((e=>(0,a.traceError)(e)))}async switchKernel(e,t){(0,a.traceInfo)(`Using notebook.selectKernel to force remote kernel for ${e.uri} to ${t.id}`);const n=await(0,d.waitForCondition)((async()=>{var n;if((null===(n=this.vscNotebook.activeNotebookEditor)||void 0===n?void 0:n.notebook)===e){await this.commandManager.executeCommand("notebook.selectKernel",{id:t.id,extension:u.JVSC_EXTENSION_ID});const n=this.controllerSelection.getSelected(e);return(null==n?void 0:n.connection.id)===t.id}return!1}),2e3,100);(0,a.traceInfo)(`Results of switching remote kernel: ${n}`)}};h=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IDisposableRegistry)),o(1,(0,i.inject)(s.IVSCodeNotebook)),o(2,(0,i.inject)(p.IControllerLoader)),o(3,(0,i.inject)(p.IControllerRegistration)),o(4,(0,i.inject)(p.IControllerSelection)),o(5,(0,i.inject)(s.ICommandManager)),o(6,(0,i.inject)(l.PreferredRemoteKernelIdProvider))],h),t.LiveKernelSwitcher=h},24970:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookIPyWidgetCoordinator=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(20397),l=n(11642),u=n(35412),d=n(42080),p=n(41778),h=n(50867),f=n(29768);class g{constructor(e,t){this.editor=e,this.pendingMessages=[],this.disposables=[],this._onDidReceiveMessage=new s.EventEmitter,this.changeController(t)}changeController(e){var t,n;(null===(t=this.controller)||void 0===t?void 0:t.id)!==e.id&&(null===(n=this.controllerMessageHandler)||void 0===n||n.dispose(),this.controller=e,this.controllerMessageHandler=e.onDidReceiveMessage((t=>{var n;t.editor===this.editor&&(null===(n=this.controller)||void 0===n?void 0:n.id)===e.id&&(this.eventHandlerListening?(this.sendPendingMessages(),this._onDidReceiveMessage.fire(t.message)):this.pendingMessages.push(t.message))}),this,this.disposables))}dispose(){(0,c.disposeAllDisposables)(this.disposables)}get onDidReceiveMessage(){return this.eventHandlerListening=!0,setTimeout((()=>this.sendPendingMessages()),0),this._onDidReceiveMessage.event}postMessage(e){return this.controller.postMessage(e,this.editor)}asWebviewUri(e){return this.controller.asWebviewUri(e)}sendPendingMessages(){if(this.pendingMessages.length){let e=this.pendingMessages.shift();for(;e;)this._onDidReceiveMessage.fire(e),e=this.pendingMessages.shift()}}}let m=class{constructor(e,t,n,r){this.serviceContainer=e,this.disposableRegistry=t,this.notebook=n,this.controllerManager=r,this.messageCoordinators=new WeakMap,this.notebookDisposables=new WeakMap,this.notebookCommunications=new WeakMap,this.notebookEditors=new WeakMap}activate(){this.notebook.onDidChangeVisibleNotebookEditors(this.onDidChangeVisibleNotebookEditors,this,this.disposableRegistry),this.notebook.onDidCloseNotebookDocument(this.onDidCloseNotebookDocument,this,this.disposableRegistry),this.controllerManager.onControllerSelected(this.onDidSelectController,this,this.disposableRegistry)}onDidSelectController(e){const t=this.messageCoordinators.get(e.notebook);t&&(this.messageCoordinators.delete(e.notebook),this.notebook.notebookEditors.filter((t=>t.notebook===e.notebook)).forEach((e=>{const t=this.notebookCommunications.get(e);this.notebookCommunications.delete(e),t&&t.dispose()})),null==t||t.dispose()),(this.notebookEditors.get(e.notebook)||[]).filter((e=>this.notebookCommunications.has(e))).map((e=>this.notebookCommunications.get(e))).forEach((t=>t.changeController(e.controller))),this.notebook.notebookEditors.forEach((t=>this.initializeNotebookCommunication(t,e.controller)))}initializeNotebookCommunication(e,t){const n=e.notebook;if(!t)return void(0,l.traceVerbose)(`No controller, hence notebook communications cannot be initialized for editor ${(0,u.getDisplayPath)(e.notebook.uri)}`);if(this.notebookCommunications.has(e))return void(0,l.traceVerbose)(`notebook communications already initialized for editor ${(0,u.getDisplayPath)(e.notebook.uri)}`);(0,l.traceVerbose)(`Initialize notebook communications for editor ${(0,u.getDisplayPath)(e.notebook.uri)}`);const r=new g(e,t);this.addNotebookDisposables(n,[r]),this.notebookCommunications.set(e,r),(0,l.traceVerbose)(`Resolving notebook UI Comms (resolve) for ${(0,u.getDisplayPath)(n.uri)}`);let o=this.messageCoordinators.get(n);o||(o=new f.CommonMessageCoordinator(n,this.serviceContainer),this.messageCoordinators.set(n,o)),o.attach(r)}addNotebookDisposables(e,t){const n=this.notebookDisposables.get(e)||[];n.push(...t),this.notebookDisposables.set(e,n)}async onDidChangeVisibleNotebookEditors(e){e.forEach((e=>{const t=this.controllerManager.getSelected(e.notebook);this.initializeNotebookCommunication(e,t)}))}onDidCloseNotebookDocument(e){var t;const n=this.notebookEditors.get(e)||[];(0,c.disposeAllDisposables)(this.notebookDisposables.get(e)||[]),n.forEach((e=>{var t;return null===(t=this.notebookCommunications.get(e))||void 0===t?void 0:t.dispose()})),null===(t=this.messageCoordinators.get(e))||void 0===t||t.dispose(),this.messageCoordinators.delete(e)}};m=r([(0,i.injectable)(),o(0,(0,i.inject)(p.IServiceContainer)),o(1,(0,i.inject)(d.IDisposableRegistry)),o(2,(0,i.inject)(a.IVSCodeNotebook)),o(3,(0,i.inject)(h.IControllerSelection))],m),t.NotebookIPyWidgetCoordinator=m},99229:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteKernelConnectionHandler=void 0;const i=n(86700),s=n(66828),a=n(50867),c=n(42080),l=n(58681),u=n(11642),d=n(94062),p=n(76385),h=n(94433);let f=class{constructor(e,t,n,r,o){this.disposables=e,this.kernelProvider=t,this.controllers=n,this.liveKernelTracker=r,this.preferredRemoteKernelIdProvider=o}activate(){this.kernelProvider.onDidStartKernel(this.onDidStartKernel,this,this.disposables),this.controllers.onControllerSelectionChanged(this.onNotebookControllerSelectionChanged,this,this.disposables)}onNotebookControllerSelectionChanged({selected:e,notebook:t,controller:n}){"connectToLiveRemoteKernel"===n.connection.kind&&n.connection.kernelModel.id&&(e?this.liveKernelTracker.trackKernelIdAsUsed(t.uri,n.connection.serverId,n.connection.kernelModel.id):this.liveKernelTracker.trackKernelIdAsNotUsed(t.uri,n.connection.serverId,n.connection.kernelModel.id)),(0,d.isLocalConnection)(n.connection)&&this.preferredRemoteKernelIdProvider.clearPreferredRemoteKernelId(t.uri).catch(l.noop)}onDidStartKernel(e){if(!e.resourceUri)return;const t=e.resourceUri;if("startUsingRemoteKernelSpec"===e.kernelConnectionMetadata.kind){const n=e.kernelConnectionMetadata.serverId,r=e.kernelSocket.subscribe((r=>{const o=null==r?void 0:r.options.id;e.disposed||e.disposing||!o||((0,u.traceInfo)(`Updating preferred kernel for remote notebook ${o}`),this.preferredRemoteKernelIdProvider.storePreferredRemoteKernelId(t,o).catch(l.noop),this.liveKernelTracker.trackKernelIdAsUsed(t,n,o))}));this.disposables.push(new s.Disposable((()=>r.unsubscribe())))}}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IDisposableRegistry)),o(1,(0,i.inject)(d.IKernelProvider)),o(2,(0,i.inject)(a.IControllerSelection)),o(3,(0,i.inject)(h.ILiveRemoteKernelConnectionUsageTracker)),o(4,(0,i.inject)(p.PreferredRemoteKernelIdProvider))],f),t.RemoteKernelConnectionHandler=f},35282:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteKernelControllerWatcher=void 0;const i=n(86700),s=n(46875),a=n(94433),c=n(94062),l=n(42080),u=n(58681),d=n(50867);let p=class{constructor(e,t,n,r){this.disposables=e,this.providerRegistry=t,this.uriStorage=n,this.controllers=r,this.handledProviders=new WeakSet}activate(){this.providerRegistry.onDidChangeProviders(this.addProviderHandlers,this,this.disposables),this.addProviderHandlers().catch(u.noop)}async addProviderHandlers(){(await this.providerRegistry.getProviders()).forEach((e=>{this.onProviderHandlesChanged(e).catch(u.noop),e.onDidChangeHandles&&!this.handledProviders.has(e)&&e.onDidChangeHandles(this.onProviderHandlesChanged.bind(this,e),this,this.disposables)}))}async onProviderHandlesChanged(e){if(!e.getHandles)return;const[t,n]=await Promise.all([e.getHandles(),this.uriStorage.getSavedUriList()]),r=new Map;await Promise.all(n.map((async n=>{var o;const i=(0,s.extractJupyterServerHandleAndId)(n.uri);i&&i.id===e.id&&(r.set(n.serverId,{uri:n.uri,providerId:i.id,handle:i.handle}),t.includes(i.handle)?n.isValidated||n.serverId!==this.uriStorage.currentServerId||await this.uriStorage.setUriToRemote(n.uri,null!==(o=n.displayName)&&void 0!==o?o:n.uri).catch(u.noop):await this.uriStorage.removeUri(n.uri))}))),this.controllers.registered.forEach((e=>{const n=e.connection;if((0,c.isLocalConnection)(n))return;const o=r.get(n.serverId);o&&!t.includes(o.handle)&&e.dispose()}))}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IDisposableRegistry)),o(1,(0,i.inject)(a.IJupyterUriProviderRegistration)),o(2,(0,i.inject)(a.IJupyterServerUriStorage)),o(3,(0,i.inject)(d.IControllerRegistration))],p),t.RemoteKernelControllerWatcher=p},79212:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSwitcher=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(42080),l=n(25251),u=n(15925),d=n(27527),p=n(94433),h=n(15925),f=n(86563),g=n(58681),m=n(50867);let y=class{constructor(e,t,n,r,o,i,s,a){this.serverUriStorage=e,this.documentManager=t,this.notebook=n,this.commandManager=r,this.disposableRegistry=o,this.appShell=i,this.serverSelector=s,this.notebookControllerSelection=a,this.disposables=[],this.disposableRegistry.push(this)}dispose(){this.disposables.forEach((e=>e.dispose()))}async activate(){this.disposables.push(this.commandManager.registerCommand(u.Commands.SelectNativeJupyterUriFromToolBar,this.onToolBarCommand,this)),this.statusBarItem=this.appShell.createStatusBarItem(s.StatusBarAlignment.Right,1e3),this.notebook.onDidChangeActiveNotebookEditor(this.updateStatusBar.bind(this),this.disposables),this.documentManager.onDidChangeActiveTextEditor(this.updateStatusBar.bind(this),this.disposables),this.serverUriStorage.onDidChangeUri(this.updateStatusBar.bind(this),this.disposables),this.notebookControllerSelection.onControllerSelected(this.updateStatusBar.bind(this),this,this.disposables),this.disposables.push(this.statusBarItem),this.updateStatusBar().catch(g.noop)}async onToolBarCommand(){await this.serverSelector.selectJupyterURI("nativeNotebookToolbar")}async updateStatusBar(){if(!this.notebook.activeNotebookEditor||!(0,f.isJupyterNotebook)(this.notebook.activeNotebookEditor.notebook))return void this.statusBarItem.hide();this.statusBarItem.show();const e=await this.serverUriStorage.getRemoteUri(),t=e&&e.isValidated?l.DataScience.jupyterNativeNotebookUriStatusLabelForRemote():l.DataScience.jupyterNativeNotebookUriStatusLabelForLocal(),n=(null==e?void 0:e.uri)===h.Settings.JupyterServerLocalLaunch?"":` (${e})`,r=`${l.DataScience.specifyLocalOrRemoteJupyterServerForConnections()}${n}`;this.statusBarItem.text=`$(debug-disconnect) ${t}`,this.statusBarItem.tooltip=r,this.statusBarItem.command={command:u.Commands.SelectJupyterURI,title:t,tooltip:r,arguments:[void 0,"nativeNotebookStatusBar"]},this.statusBarItem.command}};y=r([(0,i.injectable)(),o(0,(0,i.inject)(p.IJupyterServerUriStorage)),o(1,(0,i.inject)(a.IDocumentManager)),o(2,(0,i.inject)(a.IVSCodeNotebook)),o(3,(0,i.inject)(a.ICommandManager)),o(4,(0,i.inject)(c.IDisposableRegistry)),o(5,(0,i.inject)(a.IApplicationShell)),o(6,(0,i.inject)(d.JupyterServerSelector)),o(7,(0,i.inject)(m.IControllerSelection))],y),t.RemoteSwitcher=y},14809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(52064),o=n(42700),i=n(29653),s=n(89977),a=n(25928),c=n(48468),l=n(50867),u=n(1396),d=n(19904),p=n(42080),h=n(23712),f=n(92826);t.registerTypes=function(e,t){e.addSingleton(l.IKernelRankingHelper,d.KernelRankingHelper),e.addSingleton(l.IControllerRegistration,a.ControllerRegistration),e.addSingleton(l.IControllerDefaultService,o.ControllerDefaultService),e.addSingleton(l.IControllerLoader,i.ControllerLoader),e.addBinding(l.IControllerLoader,r.IExtensionSingleActivationService),e.addSingleton(l.IControllerPreferredService,s.ControllerPreferredService),e.addBinding(l.IControllerPreferredService,r.IExtensionSyncActivationService),e.addSingleton(l.IControllerSelection,c.ControllerSelection),"Insiders"===e.get(p.IConfigurationService).getSettings().kernelPickerType&&(e.addSingleton(l.INotebookKernelSourceSelector,h.NotebookKernelSourceSelector),e.addSingleton(l.INotebookKernelSourceTracker,f.NotebookKernelSourceTracker),e.addBinding(l.INotebookKernelSourceTracker,r.IExtensionSyncActivationService)),(0,u.registerTypes)(e,t)}},50867:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.INotebookKernelSourceTracker=t.INotebookKernelSourceSelector=t.PreferredKernelExactMatchReason=t.IControllerLoader=t.IControllerDefaultService=t.IKernelRankingHelper=t.IControllerPreferredService=t.IControllerSelection=t.IControllerRegistration=t.InteractiveControllerIdSuffix=void 0,t.InteractiveControllerIdSuffix=" (Interactive)",t.IControllerRegistration=Symbol("IControllerRegistration"),t.IControllerSelection=Symbol("IControllerSelection"),t.IControllerPreferredService=Symbol("IControllerPreferredService"),t.IKernelRankingHelper=Symbol("IKernelRankingHelper"),t.IControllerDefaultService=Symbol("IControllerDefaultService"),t.IControllerLoader=Symbol("IControllerLoader"),(n=t.PreferredKernelExactMatchReason||(t.PreferredKernelExactMatchReason={}))[n.NoMatch=0]="NoMatch",n[n.OnlyKernel=1]="OnlyKernel",n[n.WasPreferredInterpreter=2]="WasPreferredInterpreter",n[n.IsExactMatch=4]="IsExactMatch",n[n.IsNonPythonKernelLanguageMatch=8]="IsNonPythonKernelLanguageMatch",t.INotebookKernelSourceSelector=Symbol("INotebookKernelSourceSelector"),t.INotebookKernelSourceTracker=Symbol("INotebookKernelSourceTracker")},60322:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeNotebookController=void 0;const o=n(66828),i=n(15925),s=n(20397),a=n(11642),c=n(35412),l=n(43138),u=n(25251),d=n(58681),p=n(47684),h=n(47891),f=n(15925),g=n(9959),m=n(37853),y=n(30682),v=n(98729),b=n(94062),S=n(66690),w=n(88960),C=n(86563),k=n(99203),_=n(46799),I=n(6491),E=n(9016),P=n(14154),D=n(61239),T=n(90541),x=n(32378);class j{constructor(e,t,n,r,i,s,c,l,p,f,g,m,y,b,S,w,C,k){this.kernelConnection=e,this._viewType=n,this.notebookApi=i,this.commandManager=s,this.kernelProvider=c,this.context=l,this.languageService=f,this.workspace=g,this.configuration=m,this.documentManager=y,this.appShell=b,this.browser=S,this.extensionChecker=w,this.serviceContainer=C,this.serverUriStorage=k,this._onNotebookControllerSelectionChanged=new o.EventEmitter,this.pendingCellAdditions=new Map,this._onDidDispose=new o.EventEmitter,this.disposables=[],this.notebookKernels=new WeakMap,this.isDisposed=!1,this.runningCellExecutions=new Map,this.associatedDocuments=new WeakMap,p.push(this),this._onNotebookControllerSelected=new o.EventEmitter,(0,a.traceVerbose)(`Creating notebook controller for ${e.kind} (id=${e.id}) with name '${r}'`),this.controller=this.notebookApi.createNotebookController(t,n,r,this.handleExecution.bind(this),this.getRendererScripts(),[]),this.controller.interruptHandler=this.handleInterrupt.bind(this),this.controller.description=(0,v.getKernelConnectionPath)(e,this.workspace),this.controller.detail="connectToLiveRemoteKernel"===e.kind?(0,v.getRemoteKernelSessionInformation)(e):"",async function(e,t){switch(e.kind){case"connectToLiveRemoteKernel":const n=await N(e,t);return u.DataScience.kernelCategoryForJupyterSession().format(n);case"startUsingRemoteKernelSpec":const r=await N(e,t);return u.DataScience.kernelCategoryForRemoteJupyterKernel().format(r);case"startUsingLocalKernelSpec":return u.DataScience.kernelCategoryForJupyterKernel();case"startUsingPythonInterpreter":if("registeredByNewVersionOfExtForCustomKernelSpec"===(0,v.getKernelRegistrationInfo)(e.kernelSpec))return u.DataScience.kernelCategoryForJupyterKernel();switch(e.interpreter.envType){case h.EnvironmentType.Conda:return u.DataScience.kernelCategoryForConda();case h.EnvironmentType.Pipenv:return u.DataScience.kernelCategoryForPipEnv();case h.EnvironmentType.Poetry:return u.DataScience.kernelCategoryForPoetry();case h.EnvironmentType.Pyenv:return u.DataScience.kernelCategoryForPyEnv();case h.EnvironmentType.Venv:case h.EnvironmentType.VirtualEnv:case h.EnvironmentType.VirtualEnvWrapper:return u.DataScience.kernelCategoryForVirtual();default:return u.DataScience.kernelCategoryForGlobal()}}}(e,this.serverUriStorage).then((e=>{this.controller.kind=e})).catch(d.noop),this.controller.supportsExecutionOrder=!0,this.controller.supportedLanguages=this.languageService.getSupportedLanguages(e),this.controller.onDidChangeSelectedNotebooks(this.onDidChangeSelectedNotebooks,this,this.disposables),this.notebookApi.onDidCloseNotebookDocument((e=>{this.associatedDocuments.delete(e)}),this,this.disposables)}get id(){return this.controller.id}get label(){return this.controller.label}get connection(){return this.kernelConnection}get viewType(){return this._viewType}get onNotebookControllerSelected(){return this._onNotebookControllerSelected.event}get onNotebookControllerSelectionChanged(){return this._onNotebookControllerSelectionChanged.event}get onDidReceiveMessage(){return this.controller.onDidReceiveMessage}get onDidDispose(){return this._onDidDispose.event}isAssociatedWithDocument(e){return this.associatedDocuments.has(e)}updateConnection(e){"connectToLiveRemoteKernel"===e.kind?this.controller.detail=(0,v.getRemoteKernelSessionInformation)(e):this.controller.label=(0,v.getDisplayNameOrNameOfKernelConnection)(e)}asWebviewUri(e){return this.controller.asWebviewUri(e)}postMessage(e,t){const n=e&&"message"in e?e.message:"";return(0,a.traceInfoIfCI)(`${k.ConsoleForegroundColors.Green}Posting message to Notebook UI ${n}`),this.controller.postMessage(e,t)}setPendingCellAddition(e,t){if(this.viewType!==i.InteractiveWindowView)throw new Error("setPendingCellAddition only applies to the Interactive Window");this.pendingCellAdditions.set(e,t)}dispose(){if(this.isDisposed)return;const e=this.notebookApi.notebookDocuments.filter((e=>this.associatedDocuments.has(e))).map((e=>e.uri.toString()));(0,a.traceVerbose)(`Disposing controller ${this.id} associated with connection ${this.connection.id} ${e.length?"and documents "+e.join(", "):""}`),this.isDisposed=!0,this._onNotebookControllerSelected.dispose(),this._onNotebookControllerSelectionChanged.dispose(),this.controller.dispose(),this._onDidDispose.fire(),this._onDidDispose.dispose(),(0,s.disposeAllDisposables)(this.disposables)}async updateNotebookAffinity(e,t){(0,a.traceVerbose)(`Setting controller affinity for ${(0,c.getDisplayPath)(e.uri)} ${this.id}`),this.controller.updateNotebookAffinity(e,t)}async handleExecution(e,t){e.length<1||(this.pendingCellAdditions.has(t)&&await this.pendingCellAdditions.get(t),e=e.filter((e=>!(e.index<0&&((0,a.traceWarning)(`Attempting to run a cell with index ${e.index}, kind ${e.kind}, text = ${e.document.getText()}`),1)))),this.workspace.isTrusted&&(await(0,D.initializeInteractiveOrNotebookTelemetryBasedOnUserAction)(t.uri,this.connection),await Promise.all(e.map((e=>this.executeCell(t,e))))))}warnWhenUsingOutdatedPython(){var e;const t=null===(e=this.kernelConnection.interpreter)||void 0===e?void 0:e.version;!t||t.major>=4||"startUsingLocalKernelSpec"!==this.kernelConnection.kind&&"startUsingPythonInterpreter"!==this.kernelConnection.kind||(t.major<3||3===t.major&&t.minor<=5)&&this.appShell.showWarningMessage(u.DataScience.warnWhenSelectingKernelWithUnSupportedPythonVersion(),u.Common.learnMore()).then((e=>{if(e===u.Common.learnMore())return this.browser.launch("https://aka.ms/jupyterUnSupportedPythonKernelVersions")}),d.noop)}async onDidChangeSelectedNotebooks(e){if((0,a.traceInfoIfCI)(`NotebookController selection event called for notebook ${e.notebook.uri.toString()} & controller ${this.connection.kind}:${this.id}. Selected ${e.selected} `),this.associatedDocuments.has(e.notebook)&&e.selected)return;if(!e.selected){const t=this.kernelProvider.get(e.notebook);return(null==t?void 0:t.kernelConnectionMetadata.id)===this.kernelConnection.id&&((0,a.traceInfo)(`Disposing kernel ${this.kernelConnection.id} for notebook ${(0,c.getDisplayPath)(e.notebook.uri)} due to selection of another kernel or closing of the notebook`),t.dispose().catch(d.noop)),this.associatedDocuments.delete(e.notebook),void this._onNotebookControllerSelectionChanged.fire(e)}if(!(0,C.isJupyterNotebook)(e.notebook)&&e.notebook.notebookType!==i.InteractiveWindowView)return;if(!this.workspace.isTrusted)return;this.warnWhenUsingOutdatedPython();const t=(0,l.createDeferred)();this.associatedDocuments.set(e.notebook,t.promise),await this.onDidSelectController(e.notebook),await this.updateCellLanguages(e.notebook),this._onNotebookControllerSelected.fire({notebook:e.notebook,controller:this}),this._onNotebookControllerSelectionChanged.fire(e),(0,a.traceVerbose)("Controller selection change completed"),t.resolve()}async updateCellLanguages(e){const t=this.controller.supportedLanguages;if(!t||0===(null==t?void 0:t.length))return;const n=(0,v.isPythonKernelConnection)(this.kernelConnection)?i.PYTHON_LANGUAGE:t[0];await Promise.all(e.getCells().filter((e=>e.kind===o.NotebookCellKind.Code)).map((async e=>{t.includes(e.document.languageId)||await o.languages.setTextDocumentLanguage(e.document,n).then(d.noop,d.noop)})))}getRendererScripts(){const e=[];return e.push(o.Uri.joinPath(this.context.extensionUri,"out","webviews/webview-side","ipywidgetsKernel","require.js")),e.push(o.Uri.joinPath(this.context.extensionUri,"out","node_modules","jquery","dist","jquery.min.js")),this.context.extensionMode===o.ExtensionMode.Development||this.context.extensionMode===o.ExtensionMode.Test?(e.push(o.Uri.joinPath(this.context.extensionUri,"out","webviews/webview-side","widgetTester","widgetTester.js")),e.push(o.Uri.joinPath(this.context.extensionUri,"node_modules","@vscode","jupyter-ipywidgets","dist","ipywidgets.js"))):e.push(o.Uri.joinPath(this.context.extensionUri,"out","node_modules","@vscode","jupyter-ipywidgets","dist","ipywidgets.js")),e.push(o.Uri.joinPath(this.context.extensionUri,"out","webviews","webview-side","ipywidgetsKernel","ipywidgetsKernel.js"),o.Uri.joinPath(this.context.extensionUri,"out","fontAwesome","fontAwesomeLoader.js")),e.map((e=>new o.NotebookRendererScript(e)))}handleInterrupt(e){(0,a.traceVerbose)(`VS Code interrupted kernel for ${(0,c.getDisplayPath)(e.uri)}`),e.getCells().forEach((e=>(0,P.traceCellMessage)(e,"Cell cancellation requested"))),this.commandManager.executeCommand(f.Commands.InterruptKernel,{notebookEditor:{notebookUri:e.uri}}).then(d.noop,(e=>console.error(e)))}createCellExecutionIfNecessary(e,t){let n=this.runningCellExecutions.get(e.notebook);if(!n||n.cell===e){null==n||n.end(void 0,void 0),n=E.CellExecutionCreator.getOrCreate(e,t),this.runningCellExecutions.set(e.notebook,n);const r=n.end.bind(n);n.end=(t,n)=>{this.runningCellExecutions.delete(e.notebook),r(t,n)}}return n}async executeCell(e,t){(0,a.traceVerbose)(`Execute Cell ${t.index} ${(0,c.getDisplayPath)(t.notebook.uri)}`);let n,r=this.createCellExecutionIfNecessary(t,this.controller),o="start",i=this.controller,s=!1;try{return n=await this.connectToKernel(e,new w.DisplayOptions(!1)),s=!0,n&&n.controller.id!==i.id&&(i=n.controller,r=this.createCellExecutionIfNecessary(t,n.controller)),o="execution",n.controller.id===this.id&&this.updateKernelInfoInNotebookWhenAvailable(n,e),await n.executeCell(t)}catch(n){(0,I.isCancellationError)(n)||(0,a.traceError)("Error in execution",n),s||(r.start(),r.clearOutput(t).then(d.noop,d.noop));const c=this.serviceContainer.get(T.IDataScienceErrorHandler);n=m.WrappedError.unwrap(n);const l=(0,I.isCancellationError)(n)||n instanceof S.KernelDeadError;await(0,P.endCellAndDisplayErrorsInCell)(t,i,await c.getErrorMessageForDisplayInCell(n,o,e.uri),l)}}async connectToKernel(e,t){return _.KernelConnector.connectToNotebookKernel(this.kernelConnection,this.serviceContainer,{resource:e.uri,notebook:e,controller:this.controller},t,this.disposables)}updateKernelInfoInNotebookWhenAvailable(e,t){if(this.notebookKernels.get(t)===e)return;this.notebookKernels.set(t,e);const n=[];this.notebookApi.onDidCloseNotebookDocument((e=>{e===t&&(0,s.disposeAllDisposables)(n)}),this,n);const r=e.onDisposed((()=>(0,s.disposeAllDisposables)(n))),o=e.onStatusChanged((async()=>{!e.disposed&&e.info&&this.associatedDocuments.has(t)&&(await M(t,this.documentManager,e.kernelConnectionMetadata,e.info),"ok"===e.info.status&&(0,s.disposeAllDisposables)(n))}));n.push({dispose:()=>o.dispose()}),n.push({dispose:()=>null==r?void 0:r.dispose()})}async onDidSelectController(e){const t=this.connection,n=this.kernelProvider.get(e);if(n&&(0,v.areKernelConnectionsEqual)(n.kernelConnectionMetadata,t))return void(0,a.traceInfo)("Switch kernel did not change kernel.");if((0,p.sendKernelTelemetryEvent)(e.uri,g.Telemetry.SwitchKernel),n){const t=(0,b.isLocalConnection)(this.kernelConnection)?g.Telemetry.SelectLocalJupyterKernel:g.Telemetry.SelectRemoteJupyterKernel;(0,p.sendKernelTelemetryEvent)(e.uri,t),this.notebookApi.notebookEditors.filter((t=>t.notebook===e)).forEach((e=>this.postMessage({message:y.IPyWidgetMessages.IPyWidgets_onKernelChanged,payload:void 0},e)))}if(await M(e,this.documentManager,t),e.notebookType===i.InteractiveWindowView)return;const r=this.kernelProvider.getOrCreate(e,{metadata:t,controller:this.controller,resourceUri:e.uri});if((0,a.traceVerbose)(`KernelProvider switched kernel to id = ${r.kernelConnectionMetadata.id}`),(0,v.isPythonKernelConnection)(this.kernelConnection)&&!this.extensionChecker.isPythonExtensionInstalled)return;const s=this.serviceContainer.get(x.ITrustedKernelPaths);!this.configuration.getSettings(void 0).disableJupyterAutoStart&&(0,b.isLocalConnection)(this.kernelConnection)&&this.kernelConnection.kernelSpec.specFile&&s.isTrusted(o.Uri.file(this.kernelConnection.kernelSpec.specFile))&&this.connectToKernel(e,new w.DisplayOptions(!0)).catch(d.noop)}}async function M(e,t,n,r){let i=(0,C.getNotebookMetadata)(e)||{orig_nbformat:3};const{changed:s}=await(0,P.updateNotebookMetadata)(i,n,r);if(s){const n=new o.WorkspaceEdit,r=JSON.parse(JSON.stringify(e.metadata||{custom:{}}));r.custom=r.custom||{},r.custom.metadata=i,n.set(e.uri,[o.NotebookEdit.updateNotebookMetadata({...e.metadata||{},custom:r.custom})]),await t.applyEdit(n)}}async function N(e,t){const n=(await t.getSavedUriList()).find((t=>t.serverId===e.serverId));return n&&n.displayName&&n.uri!==n.displayName?n.displayName:u.DataScience.kernelDefaultRemoteDisplayName()}r([(0,a.traceDecoratorVerbose)("VSCodeNotebookController::handleExecution",k.TraceOptions.BeforeCall)],j.prototype,"handleExecution",null),t.VSCodeNotebookController=j},3445:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggingTelemetry=t.pythonIWKernelDebugAdapter=t.pythonKernelDebugAdapter=void 0,t.pythonKernelDebugAdapter="Python Kernel Debug Adapter",t.pythonIWKernelDebugAdapter="Python Interactive Window Debug Adapter",(n=t.DebuggingTelemetry||(t.DebuggingTelemetry={})).clickedOnSetup="DATASCIENCE.DEBUGGING.CLICKED_ON_SETUP",n.closedModal="DATASCIENCE.DEBUGGING.CLOSED_MODAL",n.ipykernel6Status="DATASCIENCE.DEBUGGING.IPYKERNEL6_STATUS",n.clickedRunByLine="DATASCIENCE.DEBUGGING.CLICKED_RUNBYLINE",n.successfullyStartedRunByLine="DATASCIENCE.DEBUGGING.SUCCESSFULLY_STARTED_RUNBYLINE",n.successfullyStartedIWJupyterDebugger="DATASCIENCE.DEBUGGING.SUCCESSFULLY_STARTED_IW_JUPYTER",n.clickedRunAndDebugCell="DATASCIENCE.DEBUGGING.CLICKED_RUN_AND_DEBUG_CELL",n.successfullyStartedRunAndDebugCell="DATASCIENCE.DEBUGGING.SUCCESSFULLY_STARTED_RUN_AND_DEBUG_CELL",n.endedSession="DATASCIENCE.DEBUGGING.ENDED_SESSION"},43819:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugCellController=t.isJustMyCodeNotification=void 0;const r=n(58681),o=n(11642),i=n(9959),s=n(3445),a=n(57566);function c(e){return e.includes("Frame skipped from debugging during step-in")}t.isJustMyCodeNotification=c,t.DebugCellController=class{constructor(e,t,n,r){this.debugAdapter=e,this.debugCell=t,this.kernel=n,this.commandManager=r,(0,i.sendTelemetryEvent)(s.DebuggingTelemetry.successfullyStartedRunAndDebugCell)}trace(e,t){(0,o.traceVerbose)(`[Debug-Cell] ${e}: ${t}`)}async willSendEvent(e){return!("output"!==e.event||!c(e.body.output)||(this.trace("intercept","justMyCode notification"),0))}async willSendRequest(e){"configurationDone"===e.command&&(await(0,a.cellDebugSetup)(this.kernel,this.debugAdapter),this.commandManager.executeCommand("notebook.cell.execute",{ranges:[{start:this.debugCell.index,end:this.debugCell.index+1}],document:this.debugCell.document.uri}).then(r.noop,r.noop))}}},51346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugLocationTracker=void 0;const r=n(66828);t.DebugLocationTracker=class{constructor(e){this._sessionId=e,this.topMostFrameId=0,this.sequenceNumbersOfRequestsPendingResponses=new Set,this.waitingForStackTrace=!1,this.debugLocationUpdatedEvent=new r.EventEmitter,this.sessionEndedEmitter=new r.EventEmitter,this.DebugLocation=void 0}get sessionId(){return this._sessionId}get sessionEnded(){return this.sessionEndedEmitter.event}get debugLocationUpdated(){return this.debugLocationUpdatedEvent.event}get debugLocation(){return this._debugLocation}onDidSendMessage(e){var t,n;if(this.isResponseForRequestToFetchAllFrames(e)){const r=null===(t=e.body)||void 0===t?void 0:t.stackFrames[0];this.topMostFrameId=null==r?void 0:r.id,this.sequenceNumbersOfRequestsPendingResponses.delete(e.request_seq),this.waitingForStackTrace&&(this.DebugLocation={lineNumber:null==r?void 0:r.line,fileName:this.normalizeFilePath(null===(n=null==r?void 0:r.source)||void 0===n?void 0:n.path),column:r.column},this.waitingForStackTrace=!1)}this.isStopEvent(e)&&(this.waitingForStackTrace=!0),this.isContinueEvent(e)&&(this.DebugLocation=void 0,this.waitingForStackTrace=!1)}onWillStopSession(){this.sessionEndedEmitter.fire(this)}onWillReceiveMessage(e){this.isRequestToFetchAllFrames(e)&&this.sequenceNumbersOfRequestsPendingResponses.add(e.seq)}set DebugLocation(e){const t=this._debugLocation;this._debugLocation=e,this._debugLocation!==t&&this.debugLocationUpdatedEvent.fire()}normalizeFilePath(e){return e.replace(/\\/g,"/")}isStopEvent(e){return"event"===e.type&&"stopped"===e.event}isContinueEvent(e){if("event"===e.type){if("continue"===e.event)return!0}else if("response"===e.type&&"continue"===e.command)return!0;return!1}isResponseForRequestToFetchAllFrames(e){var t;return"response"===e.type&&"stackTrace"===e.command&&(null===(t=e.body)||void 0===t?void 0:t.stackFrames[0])&&this.sequenceNumbersOfRequestsPendingResponses.has(e.request_seq)}isRequestToFetchAllFrames(e){return"request"===e.type&&"stackTrace"===e.command&&(0===e.arguments.startFrame||void 0===e.arguments.startFrame)}}},35962:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugLocationTrackerFactory=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(42080),l=n(51346);let u=class{constructor(e,t){this.disposableRegistry=t,this.activeTrackers=new WeakMap,this.updatedEmitter=new s.EventEmitter,t.push(e.registerDebugAdapterTrackerFactory("python",this))}createDebugAdapterTracker(e){const t=new l.DebugLocationTracker(e.id);return this.activeTrackers.set(e,t),t.sessionEnded((()=>this.activeTrackers.delete(e)),this,this.disposableRegistry),t.debugLocationUpdated(this.onLocationUpdated,this,this.disposableRegistry),this.onLocationUpdated(),t}get updated(){return this.updatedEmitter.event}getLocation(e){const t=this.activeTrackers.get(e);if(t)return t.debugLocation}onLocationUpdated(){this.updatedEmitter.fire()}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IDebugService)),o(1,(0,i.inject)(c.IDisposableRegistry))],u),t.DebugLocationTrackerFactory=u},3856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Debugger=void 0;const r=n(66828),o=n(58681);t.Debugger=class{constructor(e,t,n){this.document=e,this.config=t,this.session=new Promise(((e,o)=>{this.resolveFunc=e,this.rejectFunc=o,r.debug.startDebugging(void 0,t,n).then(void 0,o)}))}resolve(e){this.resolveFunc&&this.resolveFunc(e)}reject(e){this.rejectFunc&&this.rejectFunc(e)}async stop(){r.debug.stopDebugging(await this.session).then(o.noop,o.noop)}}},6410:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerVariables=void 0;const c=n(86700),l=s(n(15948)),u=s(n(52859)),d=n(66828),p=n(15925),h=n(10053),f=n(11642),g=n(42080),m=n(51346),y=n(9959),v=n(66317),b=n(68650),S=n(50068),w=n(58681),C=new Set(["In","Out","exit","quit"]);let k=class extends m.DebugLocationTracker{constructor(e,t,n,r,o,i){super(void 0),this.debugService=e,this.debuggingManager=t,this.configService=n,this.vscNotebook=r,this.varScriptGenerator=o,this.dfScriptGenerator=i,this.refreshEventEmitter=new d.EventEmitter,this.lastKnownVariables=[],this.importedGetVariableInfoScriptsIntoKernel=new Set,this.watchedNotebooks=new Map,this.debuggingStarted=!1,this.currentVariablesReference=0,this.currentSeqNumsForVariables=new Set,this.debuggingManager.onDoneDebugging((()=>this.refreshEventEmitter.fire()),this)}get refreshRequired(){return this.refreshEventEmitter.event}get active(){return(void 0!==this.debugService.activeDebugSession||this.activeNotebookIsDebugging())&&this.debuggingStarted}async getVariables(e,t){t&&this.watchKernel(t);const n={executionCount:t?t.executionCount:e.executionCount,pageStartIndex:0,pageResponse:[],totalCount:0,refreshCount:e.refreshCount};if(this.active){const t=e.sortColumn,r=(n,r)=>{const o=n[t]?n[t]:"",i=r[t]?r[t]:"";return e.sortAscending?o.localeCompare(i,void 0,{sensitivity:"base"}):i.localeCompare(o,void 0,{sensitivity:"base"})};this.lastKnownVariables.sort(r);const o=e.startIndex?e.startIndex:0,i=e.pageSize?e.pageSize:100;n.pageStartIndex=o;for(let e=o;e<o+i&&e<this.lastKnownVariables.length;e+=1){const t=this.lastKnownVariables[e].truncated?await this.getFullVariable(this.lastKnownVariables[e]):this.lastKnownVariables[e];this.lastKnownVariables[e]=t,n.pageResponse.push(t)}n.totalCount=this.lastKnownVariables.length}return n}async getMatchingVariable(e,t){if(this.active){const n=this.lastKnownVariables.find((t=>t.name===e));return n&&(null==t?void 0:t.resourceUri)&&".ipynb"===u.extname(null==t?void 0:t.resourceUri).toLowerCase()&&(0,y.sendTelemetryEvent)(y.Telemetry.RunByLineVariableHover),n}}async getDataFrameInfo(e,t,n,r){var o;if(!this.active)return e;r&&(e=await this.getFullVariable(e)),t&&this.watchKernel(t);let i=e.name;n&&(i=`${e.name}${n}`);const{cleanupCode:s,initializeCode:a,code:c}=await this.dfScriptGenerator.generateCodeToGetDataFrameInfo({isDebugging:!0,variableName:i}),u=await this.evaluate({code:c,cleanupCode:s,initializeCode:a,frameId:e.frameId}),d=null==t?void 0:t.notebook;let p=d?l.basename(d.uri.path):"";return!p&&(null===(o=this.debugLocation)||void 0===o?void 0:o.fileName)&&(p=l.basename(this.debugLocation.fileName)),u?{...e,...JSON.parse(u.result),maximumRowChunkSize:100,fileName:p}:e}async getDataFrameRows(e,t,n,r,o){if(n-t>100)throw new Error("Debugger cannot provide more than 100 rows at once");if(!this.debugService.activeDebugSession||void 0===e.columns)return{data:[]};r&&this.watchKernel(r);let i=e.name;o&&(i=`${e.name}${o}`);const{cleanupCode:s,initializeCode:a,code:c}=await this.dfScriptGenerator.generateCodeToGetDataFrameRows({isDebugging:!0,variableName:i,startIndex:t,endIndex:n}),l=await this.evaluate({code:c,cleanupCode:s,initializeCode:a,frameId:e.frameId});return(0,b.parseDataFrame)(JSON.parse(l.result))}onWillReceiveMessage(e){super.onWillReceiveMessage(e),"request"===e.type&&"variables"===e.command&&e.arguments&&this.currentVariablesReference===e.arguments.variablesReference&&this.currentSeqNumsForVariables.add(e.seq)}onDidSendMessage(e){var t;if(super.onDidSendMessage(e),"response"===e.type&&"initialize"===e.command)this.debuggingStarted=!0;else if("event"===e.type&&"stopped"===e.event&&this.activeNotebookIsDebugging())this.handleNotebookVariables(e).ignoreErrors();else if("response"===e.type&&"scopes"===e.command&&e.body&&e.body.scopes){const t=e.body.scopes[0].variablesReference;t!==this.currentVariablesReference&&(this.currentVariablesReference=t,this.currentSeqNumsForVariables.clear())}else if("response"===e.type&&"variables"===e.command&&e.body)this.currentSeqNumsForVariables.has(e.request_seq)&&this.updateVariables(void 0,e),this.monkeyPatchDataViewableVariables(e);else if("event"===e.type&&"terminated"===e.event){this.lastKnownVariables=[],this.topMostFrameId=0,this.debuggingStarted=!1,this.refreshEventEmitter.fire();const e=null===(t=this.debugService.activeDebugSession)||void 0===t?void 0:t.id;e&&this.importedGetVariableInfoScriptsIntoKernel.delete(e)}}watchKernel(e){var t;const n=null===(t=e.notebook)||void 0===t?void 0:t.uri.toString();if(n&&!this.watchedNotebooks.has(n)){const t=[];t.push(e.onRestarted(this.resetImport.bind(this,n))),t.push(e.onDisposed((()=>{this.resetImport(n),t.forEach((e=>e.dispose())),this.watchedNotebooks.delete(n)}))),this.watchedNotebooks.set(n,t)}}resetImport(e){this.importedGetVariableInfoScriptsIntoKernel.delete(e)}async evaluate({code:e,cleanupCode:t,frameId:n,initializeCode:r}){if(this.debugService.activeDebugSession){const o={frameId:n=this.topMostFrameId||n,context:"repl",format:{rawString:!0}};(0,f.traceVerbose)(`Evaluating in debugger : ${this.debugService.activeDebugSession.id}: ${e}`);try{r&&await this.debugService.activeDebugSession.customRequest("evaluate",{...o,expression:r});const n=await this.debugService.activeDebugSession.customRequest("evaluate",{...o,expression:e});return n&&"None"!==n.result?n:void(0,f.traceError)(`Cannot evaluate ${e}`)}finally{t&&await this.debugService.activeDebugSession.customRequest("evaluate",{...o,expression:t})}}throw Error("Debugger is not active, cannot evaluate.")}async getFullVariable(e){const{initializeCode:t,code:n,cleanupCode:r}=await this.varScriptGenerator.generateCodeToGetVariableInfo({isDebugging:!0,variableName:e.name}),o=await this.evaluate({code:n,initializeCode:t,cleanupCode:r,frameId:e.frameId});return o&&o.result?{...e,truncated:!1,...JSON.parse(o.result)}:e}monkeyPatchDataViewableVariables(e){e.body.variables.forEach((e=>{e.type&&S.DataViewableTypes.has(e.type)&&(e.__vscodeVariableMenuContext="viewableInDataViewer")}))}updateVariables(e,t){var n;const r=this.configService.getSettings(e).variableExplorerExclude?null===(n=this.configService.getSettings().variableExplorerExclude)||void 0===n?void 0:n.split(";"):[],o=t.body.variables.filter((e=>!(!(e.name&&e.type&&e.value)||r&&r.includes(e.type)||e.name.startsWith("_")||C.has(e.name)||"NoneType"===e.type)));this.lastKnownVariables=o.map((e=>(0,S.convertDebugProtocolVariableToIJupyterVariable)(e))),this.refreshEventEmitter.fire()}activeNotebookIsDebugging(){const e=this.vscNotebook.activeNotebookEditor;return!!e&&this.debuggingManager.isDebugging(e.notebook)}async handleNotebookVariables(e){var t;const n=null===(t=this.vscNotebook.activeNotebookEditor)||void 0===t?void 0:t.notebook,r=e.body.threadId;if(n){const e=await this.debuggingManager.getDebugSession(n);if(e){const t=await e.customRequest("stackTrace",{threadId:r,startFrame:0,levels:1});if(t&&t.stackFrames[0]){const r=t.stackFrames[0];let o;if(this.debuggingManager.getDebugMode(n)===v.KernelDebugMode.RunByLine){const t=this.debuggingManager.getDebugCell(n);r.source&&t&&r.source.path===t.document.uri.toString()&&(o=await e.customRequest("scopes",{frameId:r.id}))}else{const t=l.basename(n.uri.toString());r.source&&r.source.path&&r.source.path.includes(t)&&(o=await e.customRequest("scopes",{frameId:r.id}))}o&&(o.scopes.forEach((t=>{e.customRequest("variables",{variablesReference:t.variablesReference}).then(w.noop,w.noop)})),this.refreshEventEmitter.fire())}}}}};k=i([(0,c.injectable)(),a(0,(0,c.inject)(v.IJupyterDebugService)),a(0,(0,c.named)(p.Identifiers.MULTIPLEXING_DEBUGSERVICE)),a(1,(0,c.inject)(v.IDebuggingManager)),a(2,(0,c.inject)(g.IConfigurationService)),a(3,(0,c.inject)(h.IVSCodeNotebook)),a(4,(0,c.inject)(g.IVariableScriptGenerator)),a(5,(0,c.inject)(g.IDataFrameScriptGenerator))],k),t.DebuggerVariables=k},4177:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggingManager=void 0;const c=n(86700),l=n(66828),u=n(94062),d=n(10053),p=n(15925),h=n(29444),f=n(83599),g=n(42080),m=n(25251),y=n(58681),v=n(41778),b=n(11642),S=n(56297),w=s(n(15948)),C=n(9959),k=n(50867),_=n(3445),I=n(43819),E=n(40157),P=n(66317),D=n(57566),T=n(34045),x=n(55407);let j=class extends E.DebuggingManagerBase{constructor(e,t,n,r,o,i,s,a,c,l){super(e,t,n,r,o,i,l),this.settings=s,this.platform=a,this.debugService=c,this.notebookToRunByLineController=new Map,this.runByLineCells=new h.ContextKey(p.EditorContexts.RunByLineCells,r),this.runByLineDocuments=new h.ContextKey(p.EditorContexts.RunByLineDocuments,r),this.debugDocuments=new h.ContextKey(p.EditorContexts.DebugDocuments,r)}async activate(){await super.activate(),this.disposables.push(l.debug.registerDebugAdapterDescriptorFactory(_.pythonKernelDebugAdapter,{createDebugAdapterDescriptor:async e=>this.createDebugAdapterDescriptor(e)}),this.commandManager.registerCommand(p.Commands.DebugNotebook,(async()=>{const e=this.vscNotebook.activeNotebookEditor;await this.tryToStartDebugging(P.KernelDebugMode.Everything,e)})),this.commandManager.registerCommand(p.Commands.RunByLine,(async e=>{(0,C.sendTelemetryEvent)(_.DebuggingTelemetry.clickedRunByLine);const t=this.vscNotebook.activeNotebookEditor;if(!e){const n=null==t?void 0:t.selections[0];n&&(e=null==t?void 0:t.notebook.cellAt(n.start))}e&&await this.tryToStartDebugging(P.KernelDebugMode.RunByLine,t,e)})),this.commandManager.registerCommand(p.Commands.RunByLineNext,(e=>{if(!e){const t=this.vscNotebook.activeNotebookEditor,n=null==t?void 0:t.selections[0];n&&(e=null==t?void 0:t.notebook.cellAt(n.start))}if(!e)return;const t=this.notebookToRunByLineController.get(e.notebook);t&&t.debugCell.document.uri.toString()===e.document.uri.toString()&&t.continue()})),this.commandManager.registerCommand(p.Commands.RunByLineStop,(()=>{const e=this.vscNotebook.activeNotebookEditor;if(e){const t=this.notebookToRunByLineController.get(e.notebook);t&&((0,C.sendTelemetryEvent)(_.DebuggingTelemetry.endedSession,void 0,{reason:"withKeybinding"}),t.stop())}})),this.commandManager.registerCommand(p.Commands.RunAndDebugCell,(async e=>{(0,C.sendTelemetryEvent)(_.DebuggingTelemetry.clickedRunAndDebugCell);const t=this.vscNotebook.activeNotebookEditor;if(!e){const n=null==t?void 0:t.selections[0];n&&(e=null==t?void 0:t.notebook.cellAt(n.start))}e&&await this.tryToStartDebugging(P.KernelDebugMode.Cell,t,e)})))}getDebugMode(e){const t=this.notebookToRunByLineController.get(e);return null==t?void 0:t.getMode()}onDidStopDebugging(e){super.onDidStopDebugging(e),this.notebookToRunByLineController.delete(e),this.updateRunByLineContextKeys(),this.updateDebugContextKey()}updateRunByLineContextKeys(){const e=[],t=[];this.notebookToRunByLineController.forEach((n=>{e.push(n.debugCell.document.uri),t.push(n.debugCell.notebook.uri)})),this.runByLineCells.set(e).ignoreErrors(),this.runByLineDocuments.set(t).ignoreErrors()}updateDebugContextKey(){const e=new S.ResourceSet;this.notebookToDebugAdapter.forEach(((t,n)=>e.add(n.uri))),this.notebookInProgress.forEach((t=>e.add(t.uri))),this.debugDocuments.set(Array.from(e.values())).ignoreErrors()}async tryToStartDebugging(e,t,n){if((0,b.traceInfoIfCI)(`Starting debugging with mode ${e}`),!t)return void this.appShell.showErrorMessage(m.DataScience.noNotebookToDebug()).then(y.noop,y.noop);if(this.notebookInProgress.has(t.notebook))return void(0,b.traceInfo)("Cannot start debugging. Already debugging this notebook");if(this.isDebugging(t.notebook))return void(0,b.traceInfo)("Cannot start debugging. Already debugging this notebook document.");const r=async(o=!0)=>{switch(await this.checkForIpykernel6(t.notebook)){case D.IpykernelCheckResult.NotInstalled:return;case D.IpykernelCheckResult.Outdated:case D.IpykernelCheckResult.Unknown:return void this.promptInstallIpykernel6().then(y.noop,y.noop);case D.IpykernelCheckResult.Ok:switch(e){case P.KernelDebugMode.Everything:return void await this.startDebugging(t.notebook);case P.KernelDebugMode.Cell:return void(n&&await this.startDebuggingCell(t.notebook,P.KernelDebugMode.Cell,n));case P.KernelDebugMode.RunByLine:return void(n&&await this.startDebuggingCell(t.notebook,P.KernelDebugMode.RunByLine,n));default:return}case D.IpykernelCheckResult.ControllerNotSelected:o&&(await this.commandManager.executeCommand("notebook.selectKernel",{notebookEditor:t}),await r(!1))}};try{this.notebookInProgress.add(t.notebook),this.updateDebugContextKey(),await r()}catch(e){(0,b.traceInfo)(`Error starting debugging: ${e}`)}finally{this.notebookInProgress.delete(t.notebook),this.updateDebugContextKey()}}async startDebuggingCell(e,t,n){const r={type:_.pythonKernelDebugAdapter,name:w.basename(e.uri.toString()),request:"attach",justMyCode:!0,__mode:t,__cellIndex:n.index},o=t===P.KernelDebugMode.RunByLine?{suppressDebugStatusbar:!0,suppressDebugToolbar:!0,suppressDebugView:!0,suppressSaveBeforeStart:!0}:{suppressSaveBeforeStart:!0};return this.startDebuggingConfig(e,r,o)}async startDebugging(e){const t={type:_.pythonKernelDebugAdapter,name:w.basename(e.uri.toString()),request:"attach",internalConsoleOptions:"neverOpen",justMyCode:!1,__mode:P.KernelDebugMode.Everything};return this.startDebuggingConfig(e,t)}trackDebugAdapter(e,t){super.trackDebugAdapter(e,t),this.updateDebugContextKey()}async createDebugAdapterDescriptor(e){var t;const n=e.configuration;(0,D.assertIsDebugConfig)(n);const r=n.__interactiveWindowNotebookUri?this.vscNotebook.notebookDocuments.find((e=>e.uri.toString()===n.__interactiveWindowNotebookUri)):null===(t=this.vscNotebook.activeNotebookEditor)||void 0===t?void 0:t.notebook;if(r){const t=await this.ensureKernelIsRunning(r),o=this.getDebuggerByUri(r);if(o){if(null==t?void 0:t.session){const i=new T.KernelDebugAdapter(e,o.document,t.session,t,this.platform,this.debugService);if(n.__mode===P.KernelDebugMode.RunByLine&&"number"==typeof n.__cellIndex){const e=r.cellAt(n.__cellIndex),s=new x.RunByLineController(i,e,this.commandManager,t,this.settings);i.setDebuggingDelegate(s),this.notebookToRunByLineController.set(o.document,s),this.updateRunByLineContextKeys()}else if(n.__mode===P.KernelDebugMode.Cell&&"number"==typeof n.__cellIndex){const e=r.cellAt(n.__cellIndex),o=new I.DebugCellController(i,e,t,this.commandManager);i.setDebuggingDelegate(o)}return this.trackDebugAdapter(o.document,i),o.resolve(e),new l.DebugAdapterInlineImplementation(i)}this.appShell.showInformationMessage(m.DataScience.kernelWasNotStarted()).then(y.noop,y.noop)}}(0,b.traceError)("Debug sessions should start only from the cell toolbar command")}};j=i([(0,c.injectable)(),a(0,(0,c.inject)(u.IKernelProvider)),a(1,(0,c.inject)(k.IControllerLoader)),a(2,(0,c.inject)(k.IControllerSelection)),a(3,(0,c.inject)(d.ICommandManager)),a(4,(0,c.inject)(d.IApplicationShell)),a(5,(0,c.inject)(d.IVSCodeNotebook)),a(6,(0,c.inject)(g.IConfigurationService)),a(7,(0,c.inject)(f.IPlatformService)),a(8,(0,c.inject)(d.IDebugService)),a(9,(0,c.inject)(v.IServiceContainer))],j),t.DebuggingManager=j},40157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggingManagerBase=void 0;const r=n(66828),o=n(3445),i=n(9959),s=n(11642),a=n(25251),c=n(3856),l=n(57566),u=n(58681),d=n(46799),p=n(88960);t.DebuggingManagerBase=class{constructor(e,t,n,o,i,s,a){this.kernelProvider=e,this.notebookControllerLoader=t,this.notebookControllerSelection=n,this.commandManager=o,this.appShell=i,this.vscNotebook=s,this.serviceContainer=a,this.notebookToDebugger=new Map,this.notebookToDebugAdapter=new Map,this.notebookInProgress=new Set,this.disposables=[],this._doneDebugging=new r.EventEmitter}async activate(){this.disposables.push(r.debug.onDidTerminateDebugSession(this.endSession.bind(this)),r.workspace.onDidCloseNotebookDocument((async e=>{const t=this.notebookToDebugger.get(e);t&&(await t.stop(),this.onDidStopDebugging(e))})))}getDebugCell(e){var t;return null===(t=this.notebookToDebugAdapter.get(e))||void 0===t?void 0:t.debugCell}get onDoneDebugging(){return this._doneDebugging.event}dispose(){this.disposables.forEach((e=>e.dispose()))}isDebugging(e){return this.notebookToDebugger.has(e)}getDebugSession(e){const t=this.notebookToDebugger.get(e);if(t)return t.session}getDebugAdapter(e){return this.notebookToDebugAdapter.get(e)}onDidStopDebugging(e){}async startDebuggingConfig(e,t,n){(0,s.traceInfoIfCI)(`Attempting to start debugging with config ${JSON.stringify(t)}`);let r=this.notebookToDebugger.get(e);if(r)(0,s.traceInfoIfCI)("Not starting debugging because already debugging in this notebook");else{r=new c.Debugger(e,t,n),this.notebookToDebugger.set(e,r);try{const e=await r.session;(0,s.traceInfoIfCI)(`Debugger session is ready. Should be debugging ${e.id} now`)}catch(e){(0,s.traceError)(`Can't start debugging (${e})`),this.appShell.showErrorMessage(a.DataScience.cantStartDebugging()).then(u.noop,u.noop)}}}trackDebugAdapter(e,t){this.notebookToDebugAdapter.set(e,t),this.disposables.push(t.onDidEndSession(this.endSession.bind(this)))}async endSession(e){(0,s.traceInfoIfCI)(`Ending debug session ${e.id}`),this._doneDebugging.fire();for(const[t,n]of this.notebookToDebugger.entries())if(n&&e.id===(await n.session).id){this.notebookToDebugger.delete(t),this.notebookToDebugAdapter.delete(t),this.onDidStopDebugging(t);break}}getDebuggerByUri(e){for(const[t,n]of this.notebookToDebugger.entries())if(e===t)return n}async ensureKernelIsRunning(e){await this.notebookControllerLoader.loaded;const t=this.notebookControllerSelection.getSelected(e);let n=this.kernelProvider.get(e);return t&&(!n||n&&"unknown"===n.status)&&(n=await d.KernelConnector.connectToNotebookKernel(t.connection,this.serviceContainer,{notebook:e,controller:t.controller,resource:e.uri},new p.DisplayOptions(!1),this.disposables,"jupyterExtension")),n}async checkForIpykernel6(e){try{let t=this.kernelProvider.get(e);if(!t){const n=this.notebookControllerSelection.getSelected(e);if(!n)return l.IpykernelCheckResult.ControllerNotSelected;t=this.kernelProvider.getOrCreate(e,{metadata:n.connection,controller:null==n?void 0:n.controller,resourceUri:e.uri})}const n=await(0,l.isUsingIpykernel6OrLater)(t);return(0,i.sendTelemetryEvent)(o.DebuggingTelemetry.ipykernel6Status,void 0,{status:n===l.IpykernelCheckResult.Ok?"installed":"notInstalled"}),n}catch(e){(0,s.traceError)("Debugging: Could not check for ipykernel 6",e)}return l.IpykernelCheckResult.Unknown}async promptInstallIpykernel6(){await this.appShell.showInformationMessage(a.DataScience.needIpykernel6(),{modal:!0},a.DataScience.setup())===a.DataScience.setup()?((0,i.sendTelemetryEvent)(o.DebuggingTelemetry.clickedOnSetup),this.appShell.openUrl("https://github.com/microsoft/vscode-jupyter/wiki/Setting-Up-Run-by-Line-and-Debugging-for-Notebooks")):(0,i.sendTelemetryEvent)(o.DebuggingTelemetry.closedModal)}}},66317:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IDebugLocationTracker=t.IDebugLocationTrackerFactory=t.KernelDebugMode=t.IDebuggingManager=t.IJupyterDebugService=void 0,t.IJupyterDebugService=Symbol("IJupyterDebugService"),t.IDebuggingManager=Symbol("IDebuggingManager"),(n=t.KernelDebugMode||(t.KernelDebugMode={}))[n.RunByLine=0]="RunByLine",n[n.Cell=1]="Cell",n[n.Everything=2]="Everything",n[n.InteractiveWindow=3]="InteractiveWindow",t.IDebugLocationTrackerFactory=Symbol("IDebugLocationTrackerFactory"),t.IDebugLocationTracker=Symbol("IDebugLocationTracker")},57566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDebugEventMsg=t.cellDebugSetup=t.shortNameMatchesLongName=t.isShortNamePath=t.getMessageSourceAndHookIt=t.assertIsDebugConfig=t.isUsingIpykernel6OrLater=t.IpykernelCheckResult=void 0;const r=n(66317);var o;!function(e){e[e.Unknown=0]="Unknown",e[e.Ok=1]="Ok",e[e.Outdated=2]="Outdated",e[e.NotInstalled=3]="NotInstalled",e[e.ControllerNotSelected=4]="ControllerNotSelected"}(o=t.IpykernelCheckResult||(t.IpykernelCheckResult={})),t.isUsingIpykernel6OrLater=async function(e){const t=await e.executeHidden("import builtins\nimport ipykernel\nbuiltins.print(ipykernel.__version__)");if(t[0].text){const e=t[0].text.toString().split(".");return Number(e[0])>=6?o.Ok:o.Outdated}return o.Unknown},t.assertIsDebugConfig=function(e){const t=e;if(void 0===t.__mode||(t.__mode===r.KernelDebugMode.Cell||t.__mode===r.KernelDebugMode.InteractiveWindow||t.__mode===r.KernelDebugMode.RunByLine)&&void 0===t.__cellIndex)throw new Error("Invalid launch configuration")},t.getMessageSourceAndHookIt=function(e,t){switch(e.type){case"event":const n=e;switch(n.event){case"output":case"loadedSource":t(n.body.source,n.body);break;case"breakpoint":t(n.body.breakpoint.source,n.body)}break;case"request":const r=e;switch(r.command){case"setBreakpoints":const e={...r.arguments.source};t(r.arguments.source,r.arguments);const n=r.arguments.breakpoints;n&&Array.isArray(n)&&n.forEach((n=>{t({...e},n)}));break;case"breakpointLocations":case"gotoTargets":t(r.arguments.source,r.arguments);break;case"source":t(r.arguments.source)}break;case"response":const o=e;if(o.success&&o.body)switch(o.command){case"stackTrace":o.body.stackFrames.forEach((e=>{t(e.source,e)}));break;case"loadedSources":o.body.sources.forEach((e=>t(e)));break;case"scopes":o.body.scopes.forEach((e=>{t(e.source,e)}));break;case"setFunctionBreakpoints":case"setBreakpoints":o.body.breakpoints.forEach((e=>{t(e.source,e)}))}}},t.isShortNamePath=function(e){return/~\d+\\/.test(e)},t.shortNameMatchesLongName=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/~\d+\\\\/g,"[^\\\\]+\\\\"),"i").test(t)},t.cellDebugSetup=async function(e,t){await e.executeHidden("import debugpy\ndebugpy.debug_this_thread()"),await t.dumpAllCells()},t.isDebugEventMsg=function(e){return!!e.header&&"debug_event"===e.header.msg_type}},34045:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDebugAdapter=void 0;const s=i(n(15948)),a=n(11642),c=n(79626);class l extends c.KernelDebugAdapterBase{constructor(){super(...arguments),this.cellToFile=new Map}async dumpCell(e){const t=this.notebookDocument.cellAt(e);try{const e=await this.session.customRequest("dumpCell",{code:t.document.getText().replace(/\r\n/g,"\n")}),n=s.normalize(e.sourcePath);this.fileToCell.set(n,t.document.uri),this.cellToFile.set(t.document.uri.toString(),n)}catch(e){(0,a.traceError)(e)}}translateRealFileToDebuggerFile(e,t){if(e&&e.path){const t=this.cellToFile.get(e.path);t&&(e.path=t)}}getDumpFilesForDeletion(){return Array.from(this.cellToFile.values())}}t.KernelDebugAdapter=l},79626:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDebugAdapterBase=void 0;const s=n(66828),a=n(98729),c=n(58681),l=n(11642),u=i(n(15948)),d=n(9959),p=n(3445),h=n(66317),f=n(57566);t.KernelDebugAdapterBase=class{constructor(e,t,n,r,o,i){var a;this.session=e,this.notebookDocument=t,this.jupyterSession=n,this.kernel=r,this.platformService=o,this.debugService=i,this.fileToCell=new Map,this.sendMessage=new s.EventEmitter,this.endSession=new s.EventEmitter,this.disposables=[],this.onDidSendMessage=this.sendMessage.event,this.onDidEndSession=this.endSession.event,this.disconnected=!1,this.kernelEventHook=e=>this.disconnect(),(0,l.traceInfoIfCI)("Creating kernel debug adapter for debugging notebooks");const u=this.session.configuration;(0,f.assertIsDebugConfig)(u),this.configuration=u,u.__mode!==h.KernelDebugMode.InteractiveWindow&&u.__mode!==h.KernelDebugMode.Cell&&u.__mode!==h.KernelDebugMode.RunByLine||(this.debugCell=t.cellAt(u.__cellIndex)),null===(a=this.jupyterSession.kernel)||void 0===a||a.iopubMessage.connect(this.onIOPubMessage,this),this.disposables.push(new s.Disposable((()=>{var e;return null===(e=this.jupyterSession.kernel)||void 0===e?void 0:e.iopubMessage.disconnect(this.onIOPubMessage,this)}))),this.kernel&&(this.kernel.addEventHook(this.kernelEventHook),this.disposables.push(this.kernel.onDisposed((()=>{this.disconnected||(s.debug.stopDebugging(this.session).then(c.noop,c.noop),this.disconnect().ignoreErrors(),(0,d.sendTelemetryEvent)(p.DebuggingTelemetry.endedSession,void 0,{reason:"onKernelDisposed"}))})))),this.disposables.push(s.notebooks.onDidChangeNotebookCellExecutionState((e=>{this.configuration.__cellIndex!==e.cell.index||e.state!==s.NotebookCellExecutionState.Idle||this.disconnected||((0,d.sendTelemetryEvent)(p.DebuggingTelemetry.endedSession,void 0,{reason:"normally"}),this.disconnect().ignoreErrors())}),this,this.disposables)),this.disposables.push(s.workspace.onDidChangeNotebookDocument((e=>{e.contentChanges.forEach((e=>{e.removedCells.forEach((e=>{e===this.debugCell&&this.disconnect().ignoreErrors()}))}))}),this,this.disposables)),this.disposables.push(this.debugService.onDidTerminateDebugSession((e=>{e===this.session&&this.disconnect().ignoreErrors()})))}setDebuggingDelegate(e){this.delegate=e}trace(e,t){(0,l.traceVerbose)(`[Debug] ${e}: ${t}`)}async onIOPubMessage(e,t){var n;(0,l.traceInfoIfCI)(`Debug IO Pub message: ${JSON.stringify(t)}`),(0,f.isDebugEventMsg)(t)&&(this.trace("event",JSON.stringify(t)),(null===(n=this.delegate)||void 0===n?void 0:n.willSendEvent)&&await this.delegate.willSendEvent(t.content)||this.sendMessage.fire(t.content))}async handleMessage(e){var t,n;try{if((0,l.traceInfoIfCI)(`KernelDebugAdapter::handleMessage ${JSON.stringify(e,void 0," ")}`),"request"===e.type&&"setBreakpoints"===e.command){const t=e.arguments;if(t.source&&t.source.path&&0===t.source.path.indexOf("vscode-notebook-cell:")){const e=this.notebookDocument.getCells().find((e=>e.document.uri.toString()===t.source.path));e&&await this.dumpCell(e.index)}}return"request"===e.type&&"attach"===e.command&&await this.debugInfo(),"request"===e.type&&await(null===(n=null===(t=this.delegate)||void 0===t?void 0:t.willSendRequest)||void 0===n?void 0:n.call(t,e)),this.sendRequestToJupyterSession(e)}catch(e){(0,l.traceError)(`KernelDebugAdapter::handleMessage failure: ${e}`)}}getConfiguration(){return this.configuration}stepIn(e){return this.session.customRequest("stepIn",{threadId:e})}async disconnect(){var e;if(!this.disconnected){if(this.disconnected=!0,this.debugService.activeDebugSession===this.session)try{await this.session.customRequest("disconnect",{restart:!1})}catch(e){(0,l.traceError)("Failed to disconnect debug session",e)}this.endSession.fire(this.session),null===(e=this.kernel)||void 0===e||e.removeEventHook(this.kernelEventHook)}}dispose(){this.deleteDumpedFiles().catch((e=>(0,l.traceWarning)("Error deleting temporary debug files.",e))),this.disposables.forEach((e=>e.dispose()))}stackTrace(e){return this.session.customRequest("stackTrace",e)}setBreakpoints(e){return this.session.customRequest("setBreakpoints",e)}async dumpAllCells(){await Promise.all(this.notebookDocument.getCells().map((async e=>{e.kind===s.NotebookCellKind.Code&&await this.dumpCell(e.index)})))}async debugInfo(){(await this.session.customRequest("debugInfo")).stoppedThreads.forEach((e=>{this.jupyterSession.requestDebug({seq:0,type:"request",command:"continue",arguments:{threadId:e}})}))}lookupCellByLongName(e){if(this.platformService.isWindows){e=u.normalize(e);for(let[t,n]of this.fileToCell.entries())if((0,f.isShortNamePath)(t)&&(0,f.shortNameMatchesLongName)(t,e))return n}}async sendRequestToJupyterSession(e){if(this.jupyterSession.disposed||"dead"===this.jupyterSession.status)(0,l.traceInfo)(`Skipping sending message ${e.type} because session is disposed`);else{if((0,f.getMessageSourceAndHookIt)(e,this.translateRealFileToDebuggerFile.bind(this)),this.trace("to kernel",JSON.stringify(e)),"request"===e.type){const t=e,n=this.jupyterSession.requestDebug({seq:t.seq,type:"request",command:t.command,arguments:t.arguments},!0);return n.onReply=e=>{const t=e.content;(0,f.getMessageSourceAndHookIt)(t,this.translateDebuggerFileToRealFile.bind(this)),this.trace("response",JSON.stringify(t)),this.sendMessage.fire(t)},n.done}if("response"===e.type){const t=e;return this.jupyterSession.requestDebug({seq:t.seq,type:"request",command:t.command},!0).done}(0,l.traceError)(`Unknown message type to send ${e.type}`)}}translateDebuggerFileToRealFile(e,t){var n;if(e&&e.path){const t=null!==(n=this.fileToCell.get(e.path))&&void 0!==n?n:this.lookupCellByLongName(e.path);t&&(e.name=u.basename(t.path),e.path=t.toString())}}async deleteDumpedFiles(){const e=this.getDumpFilesForDeletion();if(this.jupyterSession&&e.length){const t=`import os\n_VSCODE_fileList = [${e.map((e=>'"'+e.replace(/\\/g,"\\\\")+'"')).join(",")}]\nfor file in _VSCODE_fileList:\n    try:\n        os.remove(file)\n    except:\n        pass\ndel _VSCODE_fileList`;return(0,a.executeSilently)(this.jupyterSession,t,{traceErrors:!0,traceErrorsMessage:"Error deleting temporary debugging files"})}}}},40371:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplexingDebugService=void 0;const i=n(86700),s=n(66828),a=n(66317),c=n(10053),l=n(15925),u=n(42080),d=n(58681);let p=class{constructor(e,t,n,r){this.commandManager=t,this.vscodeDebugService=n,this.jupyterDebugService=r,this.sessionChangedEvent=new s.EventEmitter,this.sessionStartedEvent=new s.EventEmitter,this.sessionTerminatedEvent=new s.EventEmitter,this.sessionCustomEvent=new s.EventEmitter,e.push(n.onDidTerminateDebugSession(this.endedDebugSession.bind(this))),e.push(n.onDidStartDebugSession(this.startedDebugSession.bind(this))),e.push(n.onDidChangeActiveDebugSession(this.changedDebugSession.bind(this))),e.push(n.onDidReceiveDebugSessionCustomEvent(this.gotCustomEvent.bind(this))),r&&(e.push(r.onDidTerminateDebugSession(this.endedDebugSession.bind(this))),e.push(r.onDidStartDebugSession(this.startedDebugSession.bind(this))),e.push(r.onDidChangeActiveDebugSession(this.changedDebugSession.bind(this))),e.push(r.onDidReceiveDebugSessionCustomEvent(this.gotCustomEvent.bind(this))))}get activeDebugSession(){return this.activeService.activeDebugSession}get activeDebugConsole(){return this.activeService.activeDebugConsole}get breakpoints(){return this.activeService.breakpoints}get onDidChangeActiveDebugSession(){return this.sessionChangedEvent.event}get onDidStartDebugSession(){return this.sessionStartedEvent.event}get onDidReceiveDebugSessionCustomEvent(){return this.sessionCustomEvent.event}get onDidTerminateDebugSession(){return this.sessionTerminatedEvent.event}get onDidChangeBreakpoints(){return this.activeService.onDidChangeBreakpoints}get onBreakpointHit(){if(!this.jupyterDebugService)throw new Error("No jupyter debugger service");return this.jupyterDebugService.onBreakpointHit}startRunByLine(e){if(this.lastStartedService=this.jupyterDebugService,!this.jupyterDebugService)throw new Error("No jupyter debugger service");return this.jupyterDebugService.startRunByLine(e)}registerDebugConfigurationProvider(e,t){const n=this.vscodeDebugService.registerDebugConfigurationProvider(e,t);if(this.jupyterDebugService){const r=this.jupyterDebugService.registerDebugConfigurationProvider(e,t);return this.combineDisposables(n,r)}return n}registerDebugAdapterTrackerFactory(e,t){const n=this.vscodeDebugService.registerDebugAdapterTrackerFactory(e,t);if(this.jupyterDebugService){const r=this.jupyterDebugService.registerDebugAdapterTrackerFactory(e,t);return this.combineDisposables(n,r)}return n}startDebugging(e,t,n){return this.lastStartedService=this.vscodeDebugService,this.vscodeDebugService.startDebugging(e,t,n)}addBreakpoints(e){return this.activeService.addBreakpoints(e)}removeBreakpoints(e){return this.activeService.removeBreakpoints(e)}getStack(){if(!this.jupyterDebugService)throw new Error("No jupyter debugger service");if(this.lastStartedService===this.jupyterDebugService)return this.jupyterDebugService.getStack();throw new Error("Requesting jupyter specific stack when not debugging.")}step(){if(!this.jupyterDebugService)throw new Error("No jupyter debugger service");if(this.lastStartedService===this.jupyterDebugService)return this.jupyterDebugService.step();throw new Error("Requesting jupyter specific step when not debugging.")}continue(){if(!this.jupyterDebugService)throw new Error("No jupyter debugger service");if(this.lastStartedService===this.jupyterDebugService)return this.jupyterDebugService.continue();throw new Error("Requesting jupyter specific step when not debugging.")}requestVariables(){if(!this.jupyterDebugService)throw new Error("No jupyter debugger service");if(this.lastStartedService===this.jupyterDebugService)return this.jupyterDebugService.requestVariables();throw new Error("Requesting jupyter specific variables when not debugging.")}stop(){this.jupyterDebugService&&this.lastStartedService===this.jupyterDebugService?this.jupyterDebugService.stop():this.commandManager.executeCommand("workbench.action.debug.stop").then(d.noop,d.noop)}get activeService(){return this.lastStartedService?this.lastStartedService:this.vscodeDebugService}combineDisposables(e,t){return{dispose:()=>{e.dispose(),t.dispose()}}}endedDebugSession(e){this.sessionTerminatedEvent.fire(e),this.lastStartedService=void 0}startedDebugSession(e){this.sessionStartedEvent.fire(e)}changedDebugSession(e){this.sessionChangedEvent.fire(e)}gotCustomEvent(e){this.sessionCustomEvent.fire(e)}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IDisposableRegistry)),o(1,(0,i.inject)(c.ICommandManager)),o(2,(0,i.inject)(c.IDebugService)),o(3,(0,i.optional)()),o(3,(0,i.inject)(a.IJupyterDebugService)),o(3,(0,i.named)(l.Identifiers.RUN_BY_LINE_DEBUGSERVICE))],p),t.MultiplexingDebugService=p},55407:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RunByLineController=void 0;const s=n(15925),a=n(86563),c=n(58681),l=n(11642),u=i(n(15948)),d=n(9959),p=n(3445),h=n(43819),f=n(57566);t.RunByLineController=class{constructor(e,t,n,r,o){this.debugAdapter=e,this.debugCell=t,this.commandManager=n,this.kernel=r,this.settings=o,(0,d.sendTelemetryEvent)(p.DebuggingTelemetry.successfullyStartedRunByLine)}continue(){if("number"!=typeof this.lastPausedThreadId)return(0,l.traceVerbose)("No paused thread, can't do RBL"),void this.stop();this.debugAdapter.stepIn(this.lastPausedThreadId).then(c.noop,c.noop)}stop(){(0,l.traceInfoIfCI)("RunbylineController::stop()"),this.kernel.executeHidden("pass").then(c.noop,c.noop),this.debugAdapter.disconnect().then(c.noop,c.noop)}getMode(){return this.debugAdapter.getConfiguration().__mode}async willSendEvent(e){return"stopped"===e.event&&(this.lastPausedThreadId=e.body.threadId,await this.handleStoppedEvent(this.lastPausedThreadId))?(this.trace("intercepted","handled stop event"),!0):!("output"!==e.event||!(0,h.isJustMyCodeNotification)(e.body.output)||(this.trace("intercept","justMyCode notification"),0))}async willSendRequest(e){(0,l.traceInfoIfCI)(`willSendRequest: ${e.command}`),"configurationDone"===e.command&&await this.initializeExecute()}async handleStoppedEvent(e){return!!await this.shouldStepIn(e)&&(this.debugAdapter.stepIn(e).then(c.noop,c.noop),!0)}async shouldStepIn(e){const t=await this.debugAdapter.stackTrace({threadId:e,startFrame:0,levels:1});if(t&&t.stackFrames[0]){const e=t.stackFrames[0];return!!e.source&&e.source.path!==this.debugCell.document.uri.toString()}return!1}trace(e,t){(0,l.traceVerbose)(`[Debug-RBL] ${e}: ${t}`)}async initializeExecute(){await(0,f.cellDebugSetup)(this.kernel,this.debugAdapter);const e=this.debugCell.document.getText().splitLines({trim:!1,removeEmptyEntries:!1}),t=[];if((0,a.parseForComments)(e,(()=>(0,c.noop)()),((e,n)=>{0!==e.trim().length&&t.push(n)})),t.sort(),0!==t.length){const e={line:t[0]+1};await this.debugAdapter.setBreakpoints({source:{name:u.basename(this.debugCell.notebook.uri.path),path:this.debugCell.document.uri.toString()},breakpoints:[e],sourceModified:!1}),this.settings.getSettings().showVariableViewWhenDebugging&&this.commandManager.executeCommand(s.Commands.OpenVariableView).then(c.noop,c.noop)}this.commandManager.executeCommand("notebook.cell.execute",{ranges:[{start:this.debugCell.index,end:this.debugCell.index+1}],document:this.debugCell.document.uri}).then(c.noop,c.noop)}}},13057:function(e,t,n){"use strict";var r=n(48764).Buffer,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportBase=void 0;const l=n(86700),u=a(n(15948)),d=n(88960),p=n(98729),h=n(94062),f=n(86563),g=n(83599),m=n(38124),y=n(62440),v=n(11642),b=n(74064),S=n(40453);let w=class{constructor(e,t,n,r){this.kernelProvider=e,this.fs=t,this.filePicker=n,this.exportUtil=r}async export(e,t,n,r){}async executeCommand(e,t,n,o,i){const s=this.kernelProvider.get(e);if(s&&(s.session||await s.start(new d.DisplayOptions(!1)),s.session)&&s.session.isServerSession()){const o=s.session;let i=await this.exportUtil.getContent(e),a="";switch(n){case y.ExportFormat.html:a=".html";break;case y.ExportFormat.pdf:a=".pdf";break;case y.ExportFormat.python:a=".py"}await s.session.invokeWithFileSynced(i,(async e=>{const i=`${await this.getCWD(s)}/${e.filePath}`,c=await o.createTempfile(a),l=await(0,p.executeSilently)(o,`!jupyter nbconvert ${i} --to ${n} --output ${u.basename(c)}`),d=this.parseStreamOutput(l);if(this.isExportFailed(d))throw new Error(d||`Failed to export to ${n}`);if(d&&(0,v.traceLog)(d),n===y.ExportFormat.pdf){const e=await o.getContents(c,"base64"),n=this.b64toBlob(e.content,"application/pdf"),i=await n.arrayBuffer();await this.fs.writeFile(t,r.from(i)),await o.deleteTempfile(c)}else{const e=await o.getContents(c,"text");await this.fs.writeFile(t,e.content),await o.deleteTempfile(c)}}))}}b64toBlob(e,t){t=t||"",e=(e=e.replace(/^[^,]+,/,"")).replace(/\s/g,"");const n=atob(e);let r=[];for(let e=0;e<n.length;e+=512){const t=n.slice(e,e+512);let o=new Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);const i=new Uint8Array(o);r.push(i)}return new Blob(r,{type:t})}isExportFailed(e){return!e||/Traceback \(most recent call last\)/g.exec(e)}parseStreamOutput(e){if(0===e.length)return;const t=e[0];return"stdout"===t.name||"stream"===t.output_type?(0,f.concatMultilineString)(t.text).trim():void 0}async getCWD(e){const t=await(0,p.executeSilently)(e.session,"import os;os.getcwd();");if(0===t.length)return;const n=t[0];return"execute_result"===n.output_type?n.data["text/plain"]:void 0}};s([(0,b.reportAction)(S.ReportableAction.PerformingExport)],w.prototype,"executeCommand",null),w=s([(0,l.injectable)(),c(0,(0,l.inject)(h.IKernelProvider)),c(1,(0,l.inject)(g.IFileSystem)),c(2,(0,l.inject)(y.IExportDialog)),c(3,(0,l.inject)(m.ExportUtilBase))],w),t.ExportBase=w},982:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportDialog=t.PythonExtensions=t.HTMLExtensions=t.PDFExtensions=void 0;const c=n(86700),l=s(n(15948)),u=n(66828),d=n(10053),p=s(n(25251)),h=n(62440),f=n(42080);t.PDFExtensions={PDF:["pdf"]},t.HTMLExtensions={HTML:["html","htm"]},t.PythonExtensions={Python:["py"]};let g=class{constructor(e,t,n){this.applicationShell=e,this.workspaceService=t,this.isWebExtension=n}async showDialog(e,n,r){let o,i={};switch(e){case h.ExportFormat.python:i=t.PythonExtensions,o=".py";break;case h.ExportFormat.pdf:o=".pdf",i=t.PDFExtensions;break;case h.ExportFormat.html:o=".html",i=t.HTMLExtensions;break;case h.ExportFormat.ipynb:o=".ipynb",i[p.DataScience.exportDialogFilter()]=["ipynb"];break;default:return}const s=r||!n?r||"":`${l.basename(n.path,l.extname(n.path))}${o}`,a={defaultUri:await this.getDefaultUri(n,s),saveLabel:p.DataScience.exportButtonTitle(),filters:i};return this.applicationShell.showSaveDialog(a)}async getDefaultUri(e,t){if(e&&"untitled"===e.scheme&&this.isWebExtension)return;if(!e||"file"===e.scheme||"untitled"===e.scheme||"vscode-interactive"===e.scheme)return u.Uri.file(l.join(await this.workspaceService.computeWorkingDirectory(e),t));const n=l.join(l.dirname(e.path),t);return u.Uri.parse(`${e.scheme}://${n}`).with({authority:e.authority})}};g=i([(0,c.injectable)(),a(0,(0,c.inject)(d.IApplicationShell)),a(1,(0,c.inject)(d.IWorkspaceService)),a(2,(0,c.inject)(f.IsWebExtension))],g),t.ExportDialog=g},9255:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportFileOpener=void 0;const c=n(86700),l=n(66828),u=n(9959),d=n(10053),p=n(15925),h=n(83599),f=n(42080),g=s(n(25251)),m=n(58681),y=n(62440);let v=class{constructor(e,t,n,r){this.documentManager=e,this.fs=t,this.applicationShell=n,this.browserService=r}async openFile(e,t,n=!1){if(e===y.ExportFormat.python)await this.openPythonFile(t,n),(0,u.sendTelemetryEvent)(p.Telemetry.ExportNotebookAs,void 0,{format:e,successful:!0,opened:!0});else{const r=await this.askOpenFile(t,n);(0,u.sendTelemetryEvent)(p.Telemetry.ExportNotebookAs,void 0,{format:e,successful:!0,opened:r})}}async openPythonFile(e,t){let n;if(t)n=await this.documentManager.showTextDocument(e);else{const t=await this.fs.readFile(e);await this.fs.delete(e);const r=await this.documentManager.openTextDocument({language:p.PYTHON_LANGUAGE,content:t});n=await this.documentManager.showTextDocument(r)}await n.edit((e=>{e.insert(new l.Position(n.document.lineCount,0),"\n")}))}async askOpenFile(e,t){const n=g.DataScience.openExportFileYes(),r=[n,g.DataScience.openExportFileNo()];return await this.applicationShell.showInformationMessage(g.DataScience.openExportedFileMessage(),...r).then((e=>e))===n&&(t?this.documentManager.showTextDocument(e).then(m.noop,m.noop):this.browserService.launch(e.toString()),!0)}};v=i([(0,c.injectable)(),a(0,(0,c.inject)(d.IDocumentManager)),a(1,(0,c.inject)(h.IFileSystem)),a(2,(0,c.inject)(d.IApplicationShell)),a(3,(0,c.inject)(f.IBrowserService))],v),t.ExportFileOpener=v},93385:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportToHTML=void 0;const i=n(86700),s=n(62440);let a=class{constructor(e){this.exportBase=e}async export(e,t,n,r){await this.exportBase.executeCommand(e,t,s.ExportFormat.html,n,r)}};a=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IExportBase))],a),t.ExportToHTML=a},33628:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportToPDF=void 0;const i=n(86700),s=n(62440);let a=class{constructor(e){this.exportBase=e}async export(e,t,n,r){await this.exportBase.executeCommand(e,t,s.ExportFormat.pdf,n,r)}};a=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IExportBase))],a),t.ExportToPDF=a},18661:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportToPython=void 0;const i=n(86700),s=n(62440);let a=class{constructor(e){this.exportBase=e}async export(e,t,n,r){await this.exportBase.executeCommand(e,t,s.ExportFormat.python,n,r)}};a=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IExportBase))],a),t.ExportToPython=a},87354:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportToPythonPlain=void 0;const i=n(86700),s=n(66828),a=n(83599),c=n(42080),l=n(86563);let u=class{constructor(e,t,n){this.fs=e,this.configuration=t,this.platform=n}async writeFile(e,t){await this.fs.writeFile(e,t)}getEOL(){return this.platform.isWindows?"\r\n":"\n"}async export(e,t,n){if(n.isCancellationRequested)return;const r=this.exportDocument(e);await this.writeFile(t,r)}exportDocument(e){return e.getCells().filter((e=>!e.metadata.isInteractiveWindowMessageCell)).reduce(((e,t)=>e+this.exportCell(t)),"")}exportCell(e){if(e.document.lineCount){const t=this.cellMarker(e),n=this.getEOL();switch(e.kind){case s.NotebookCellKind.Code:return`${t}${n}${this.exportCodeCell(e)}${n}${n}`;case s.NotebookCellKind.Markup:return`${t} [markdown]${n}${this.exportMarkdownCell(e)}${n}${n}`}}return""}exportCodeCell(e){let t=e.document.getText().splitLines({trim:!1,removeEmptyEntries:!1});const n="commentMagics"===this.configuration.getSettings(e.notebook.uri).pythonExportMethod;return(0,l.appendLineFeed)(t,this.getEOL(),n?d:void 0).join("")}exportMarkdownCell(e){let t=e.document.getText().splitLines({trim:!1,removeEmptyEntries:!1});return(0,l.appendLineFeed)(t,this.getEOL(),p).join("")}cellMarker(e){var t;const n=this.configuration.getSettings(e.notebook.uri);return null!==(t=e.metadata.interactiveWindowCellMarker)&&void 0!==t?t:n.defaultCellMarker}};function d(e){return/^\s*!/.test(e)||/^\s*%/.test(e)?`# ${e}`:e}function p(e){return`# ${e}`}u=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IFileSystem)),o(1,(0,i.inject)(c.IConfigurationService)),o(2,(0,i.inject)(a.IPlatformService))],u),t.ExportToPythonPlain=u},38124:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportUtilBase=void 0;const i=n(86700),s=n(66828),a=n(42080),c=n(62440);let l=class{constructor(e,t){this.extensions=e,this.filePicker=t}async getContent(e){const t=this.extensions.getExtension("vscode.ipynb");if(!t)throw new Error("Unable to export notebook as the built-in vscode.ipynb extension is currently unavailable.");t.isActive||await t.activate();const n=e.getCells().map((e=>{const t=new s.NotebookCellData(e.kind,e.document.getText(),e.document.languageId);return t.metadata=e.metadata,t.mime=e.mime,t.outputs=[...e.outputs],t})),r=new s.NotebookData(n);return r.metadata=e.metadata,t.exports.exportNotebook(r)}async getTargetFile(e,t,n){return await this.filePicker.showDialog(e,t,n)}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IExtensions)),o(1,(0,i.inject)(c.IExportDialog))],l),t.ExportUtilBase=l},13749:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileConverter=void 0;const c=n(86700),l=n(66828),u=n(9959),d=n(10053),p=n(15925),h=n(42080),f=s(n(25251)),g=n(58681),m=n(11642),y=n(70835),v=n(9255),b=n(38124),S=n(62440);let w=class{constructor(e,t,n,r,o,i,s,a,c,l){this.exportToPythonPlain=e,this.exportToPDF=t,this.exportToHTML=n,this.exportToPython=r,this.filePicker=o,this.exportUtil=i,this.progressReporter=s,this.applicationShell=a,this.exportFileOpener=c,this.configuration=l}async importIpynb(e){const t=this.progressReporter.createProgressIndicator(f.DataScience.importingIpynb(),!0);let n;try{n=await l.workspace.openNotebookDocument(e),await this.exportImpl(S.ExportFormat.python,n,void 0,t.token)}finally{t.dispose()}}async export(e,t,n,r){const o=this.progressReporter.createProgressIndicator(f.DataScience.exportingToFormat().format(e.toString()),!0);try{await this.exportImpl(e,t,n,o.token,r)}finally{o.dispose()}o.token.isCancellationRequested&&(0,u.sendTelemetryEvent)(p.Telemetry.ExportNotebookAs,void 0,{format:e,cancelled:!0})}async exportImpl(e,t,n,r,o){try{let i=await this.exportUtil.getTargetFile(e,t.uri,n);if(!i)return;await this.performExport(e,t,i,r,o)}catch(t){(0,m.traceError)("Export failed",t),(0,u.sendTelemetryEvent)(p.Telemetry.ExportNotebookAsFailed,void 0,{format:e}),e===S.ExportFormat.pdf&&(0,m.traceError)(f.DataScience.exportToPDFDependencyMessage()),this.showExportFailed(f.DataScience.exportFailedGeneralMessage())}}async performExport(e,t,n,r,o){e===S.ExportFormat.python&&"nbconvert"!==this.configuration.getSettings(t.uri).pythonExportMethod?await this.performPlainExport(e,t,n,r):await this.performNbConvertExport(t,e,n,o,r),n&&this.openExportedFile(e,n).catch(g.noop)}async openExportedFile(e,t){await this.exportFileOpener.openFile(e,t,!0).catch(g.noop)}async performPlainExport(e,t,n,r){return n&&e===S.ExportFormat.python&&await this.exportToPythonPlain.export(t,n,r),n}async performNbConvertExport(e,t,n,r,o){try{return await this.exportToFormat(e,n,t,r,o)}finally{}}async exportToFormat(e,t,n,r,o){switch(n){case S.ExportFormat.python:return await this.exportToPython.export(e,t,r,o);case S.ExportFormat.pdf:return await this.exportToPDF.export(e,t,r,o);case S.ExportFormat.html:return await this.exportToHTML.export(e,t,r,o)}}showExportFailed(e){this.applicationShell.showErrorMessage(`${f.DataScience.failedExportMessage()} ${e}`).then()}};w=i([(0,c.injectable)(),a(0,(0,c.inject)(S.IExport)),a(0,(0,c.named)(S.ExportFormat.python)),a(1,(0,c.inject)(S.INbConvertExport)),a(1,(0,c.named)(S.ExportFormat.pdf)),a(2,(0,c.inject)(S.INbConvertExport)),a(2,(0,c.named)(S.ExportFormat.html)),a(3,(0,c.inject)(S.INbConvertExport)),a(3,(0,c.named)(S.ExportFormat.python)),a(4,(0,c.inject)(S.IExportDialog)),a(5,(0,c.inject)(b.ExportUtilBase)),a(6,(0,c.inject)(y.ProgressReporter)),a(7,(0,c.inject)(d.IApplicationShell)),a(8,(0,c.inject)(v.ExportFileOpener)),a(9,(0,c.inject)(h.IConfigurationService))],w),t.FileConverter=w},62440:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IExportDialog=t.IExport=t.IExportBase=t.INbConvertExport=t.IFileConverter=t.ExportFormat=void 0,(n=t.ExportFormat||(t.ExportFormat={})).pdf="pdf",n.html="html",n.python="python",n.ipynb="ipynb",t.IFileConverter=Symbol("IFileConverter"),t.INbConvertExport=Symbol("INbConvertExport"),t.IExportBase=Symbol("IExportBase"),t.IExport=Symbol("IExport"),t.IExportDialog=Symbol("IExportDialog")},20402:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCellLanguageService=t.LastSavedNotebookCellLanguage=void 0;const i=n(86700),s=n(77886),a=n(10053),c=n(15925),l=n(42080),u=n(85446),d=n(98729),p=n(86563),h=n(82010);t.LastSavedNotebookCellLanguage="DATASCIENCE.LAST_SAVED_CELL_LANGUAGE";let f=class{constructor(e,t,n,r){this.vscNotebook=e,this.disposables=t,this.globalMemento=n,this.pythonExtensionChecker=r}getPreferredLanguage(e){var t,n;const r=(null===(t=null==e?void 0:e.language_info)||void 0===t?void 0:t.name)||(null===(n=null==e?void 0:e.kernelspec)||void 0===n?void 0:n.language)||this.lastSavedNotebookCellLanguage,o=this.pythonExtensionChecker.isPythonExtensionInstalled?c.PYTHON_LANGUAGE:"plaintext";return(0,p.translateKernelLanguageToMonaco)(r||o)}async activate(){this.vscNotebook.onDidSaveNotebookDocument(this.onDidSaveNotebookDocument,this,this.disposables)}getSupportedLanguages(e){if((0,d.isPythonKernelConnection)(e))return c.LanguagesSupportedByPythonkernel;{const t=(0,p.translateKernelLanguageToMonaco)((0,d.getKernelConnectionLanguage)(e)||"");return t&&c.VSCodeKnownNotebookLanguages.includes(t.toLowerCase())?[t]:[]}}get lastSavedNotebookCellLanguage(){return this.globalMemento.get(t.LastSavedNotebookCellLanguage)}async onDidSaveNotebookDocument(e){if(!(0,p.isJupyterNotebook)(e))return;const n=(0,h.getLanguageOfNotebookDocument)(e);n&&n!==this.lastSavedNotebookCellLanguage&&await this.globalMemento.update(t.LastSavedNotebookCellLanguage,n)}};r([(0,u.swallowExceptions)("Saving last saved cell language")],f.prototype,"onDidSaveNotebookDocument",null),f=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IVSCodeNotebook)),o(1,(0,i.inject)(l.IDisposableRegistry)),o(2,(0,i.inject)(l.IMemento)),o(2,(0,i.named)(l.GLOBAL_MEMENTO)),o(3,(0,i.inject)(s.IPythonExtensionChecker))],f),t.NotebookCellLanguageService=f},71806:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyNotebookCellLanguageService=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(15925),l=n(11642),u=n(42080),d=n(58681),p=n(58880),h=n(86563),f=n(50867);let g=class{constructor(e,t,n){this.notebook=e,this.disposables=t,this.notebookControllerSelection=n}async activate(){this.notebookControllerSelection.onControllerSelected(this.onDidChangeNotebookController,this,this.disposables)}async onDidChangeNotebookController(e){const t=e.notebook,n=e.controller.connection;if(!(0,h.isJupyterNotebook)(t))return;const r=this.notebook.notebookEditors.find((e=>e.notebook===t));if(!r)return;const o=t.getCells().filter((e=>e.kind===s.NotebookCellKind.Code&&0===e.document.getText().trim().length)),i=t.getCells().filter((e=>e.kind===s.NotebookCellKind.Code)).length;if(0===o.length||o.length!==i)return;let a;const u=n.kind;switch(n.kind){case"connectToLiveRemoteKernel":a=n.kernelModel.language;break;case"startUsingRemoteKernelSpec":case"startUsingLocalKernelSpec":a=n.kernelSpec.language;break;case"startUsingPythonInterpreter":a=c.PYTHON_LANGUAGE;break;default:return void(0,l.traceError)(`Unsupported kernel kind encountered ${u}`)}if(!a)return;const f=(0,h.translateKernelLanguageToMonaco)(a);(0,p.chainWithPendingUpdates)(r.notebook,(async()=>{await o.map((async e=>{if(f.toLowerCase()!==e.document.languageId)return s.languages.setTextDocumentLanguage(e.document,f).then(d.noop,d.noop)}))})).then(d.noop,d.noop)}};g=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IVSCodeNotebook)),o(1,(0,i.inject)(u.IDisposableRegistry)),o(2,(0,i.inject)(f.IControllerSelection))],g),t.EmptyNotebookCellLanguageService=g},82010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageOfNotebookDocument=void 0;const r=n(66828),o=n(98729),i=n(86563),s=n(11642);t.getLanguageOfNotebookDocument=function(e){var t;try{return(0,o.getLanguageInNotebookMetadata)((0,i.getNotebookMetadata)(e))||(null===(t=e.getCells().find((e=>e.kind===r.NotebookCellKind.Code)))||void 0===t?void 0:t.document.languageId)}catch(e){(0,s.traceWarning)("Failed to determine language of first cell",e)}}},15018:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCommandListener=void 0,n(8513);const i=n(86700),s=n(66828),a=n(10053),c=n(42080),l=n(15925),u=n(58681),d=n(20402),p=n(88960),h=n(94062),f=n(35412),g=n(25251),m=n(11642),y=n(85249),v=n(41778),b=n(14154),S=n(58880),w=n(90541),C=n(86563),k=n(46799),_=n(50867);let I=class{constructor(e,t,n,r,o,i,s,a,c,l,u){this.disposableRegistry=e,this.notebooks=t,this.commandManager=n,this.languageService=r,this.applicationShell=o,this.configurationService=i,this.kernelProvider=s,this.notebookControllerSelection=a,this.errorHandler=c,this.notebookEditorProvider=l,this.serviceContainer=u,this.kernelInterruptedDontAskToRestart=!1,this.pendingRestartInterrupt=new WeakMap}register(e){this.disposableRegistry.push(e.registerCommand(l.Commands.NotebookEditorUndoCells,(()=>this.undoCells()))),this.disposableRegistry.push(e.registerCommand(l.Commands.NotebookEditorRedoCells,(()=>this.redoCells()))),this.disposableRegistry.push(e.registerCommand(l.Commands.NotebookEditorRemoveAllCells,(()=>this.removeAllCells()))),this.disposableRegistry.push(e.registerCommand(l.Commands.NotebookEditorRunAllCells,(()=>this.runAllCells()))),this.disposableRegistry.push(e.registerCommand(l.Commands.NotebookEditorAddCellBelow,(()=>this.addCellBelow()))),this.disposableRegistry.push(this.commandManager.registerCommand(l.Commands.NotebookEditorCollapseAllCells,this.collapseAll,this)),this.disposableRegistry.push(this.commandManager.registerCommand(l.Commands.NotebookEditorExpandAllCells,this.expandAll,this)),this.disposableRegistry.push(e.registerCommand(l.Commands.NotebookEditorRestartKernel,(e=>{var t;e&&"notebookEditor"in e?this.restartKernel(null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri).ignoreErrors():this.restartKernel(e).ignoreErrors()}))),this.disposableRegistry.push(e.registerCommand(l.Commands.InterruptKernel,(e=>{var t;return this.interruptKernel(null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri)}))),this.disposableRegistry.push(e.registerCommand(l.Commands.RestartKernel,(e=>{var t;return this.restartKernel(null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri)})))}runAllCells(){this.notebooks.activeNotebookEditor&&this.commandManager.executeCommand("notebook.execute").then(u.noop,u.noop)}addCellBelow(){this.notebooks.activeNotebookEditor&&this.commandManager.executeCommand("notebook.cell.insertCodeCellBelow").then(u.noop,u.noop)}undoCells(){this.notebooks.activeNotebookEditor&&this.commandManager.executeCommand("notebook.undo").then(u.noop,u.noop)}redoCells(){this.notebooks.activeNotebookEditor&&this.commandManager.executeCommand("notebook.redo").then(u.noop,u.noop)}removeAllCells(){var e;const t=null===(e=this.notebooks.activeNotebookEditor)||void 0===e?void 0:e.notebook;if(!t)return;const n=this.languageService.getPreferredLanguage((0,C.getNotebookMetadata)(t));(0,S.chainWithPendingUpdates)(t,(e=>{const r=s.NotebookEdit.replaceCells(new s.NotebookRange(0,t.cellCount),[new s.NotebookCellData(s.NotebookCellKind.Code,"",n)]);e.set(t.uri,[r])})).then(u.noop,u.noop)}collapseAll(){var e;const t=null===(e=this.notebooks.activeNotebookEditor)||void 0===e?void 0:e.notebook;t&&(0,S.chainWithPendingUpdates)(t,(e=>{t.getCells().forEach(((n,r)=>{const o={...n.metadata||{},inputCollapsed:!0,outputCollapsed:!0};e.set(t.uri,[s.NotebookEdit.updateCellMetadata(r,o)])}))})).then(u.noop,u.noop)}expandAll(){var e;const t=null===(e=this.notebooks.activeNotebookEditor)||void 0===e?void 0:e.notebook;t&&(0,S.chainWithPendingUpdates)(t,(e=>{t.getCells().forEach(((n,r)=>{const o={...n.metadata||{},inputCollapsed:!1,outputCollapsed:!0};e.set(t.uri,[s.NotebookEdit.updateCellMetadata(r,o)])}))})).then(u.noop,u.noop)}async interruptKernel(e){var t;const n=null!=e?e:null===(t=this.notebookEditorProvider.activeNotebookEditor)||void 0===t?void 0:t.notebook.uri,r=s.workspace.notebookDocuments.find((e=>e.uri.toString()===(null==n?void 0:n.toString())));if(void 0===r)return;(0,m.traceVerbose)(`Command interrupted kernel for ${(0,f.getDisplayPath)(r.uri)}`);const o=this.kernelProvider.get(r);o?await this.wrapKernelMethod("interrupt",o):(0,m.traceInfo)("Interrupt requested & no kernel.")}async restartKernel(e){var t;const n=null!=e?e:null===(t=this.notebookEditorProvider.activeNotebookEditor)||void 0===t?void 0:t.notebook.uri,r=s.workspace.notebookDocuments.find((e=>e.uri.toString()===(null==n?void 0:n.toString())));if(void 0===r)return;const o=this.kernelProvider.get(r);if(o)if((0,m.traceVerbose)(`Interrupt kernel command handler for ${(0,f.getDisplayPath)(r.uri)}`),await this.shouldAskForRestart(r.uri)){const e=g.DataScience.restartKernelMessage(),t=g.DataScience.restartKernelMessageYes(),n=g.DataScience.restartKernelMessageDontAskAgain(),i=await this.applicationShell.showInformationMessage(e,{modal:!0},t,n);i===n?(await this.disableAskForRestart(r.uri),this.wrapKernelMethod("restart",o).ignoreErrors()):i===t&&this.wrapKernelMethod("restart",o).ignoreErrors()}else this.wrapKernelMethod("restart",o).ignoreErrors()}async wrapKernelMethod(e,t){const n=t.notebook,r=this.pendingRestartInterrupt.get(t);if(r)return r;const o=(async()=>{const r=t.pendingCells[0],o=this.notebookControllerSelection.getSelected(n);try{if(!o)throw new Error("No kernel associated with the notebook");await k.KernelConnector.wrapKernelMethod(o.connection,e,t.creator,this.serviceContainer,{resource:t.resourceUri,notebook:n,controller:o.controller},new p.DisplayOptions(!1),this.disposableRegistry)}catch(n){r?await(0,b.endCellAndDisplayErrorsInCell)(r,t.controller,await this.errorHandler.getErrorMessageForDisplayInCell(n,e,t.resourceUri),!1):this.applicationShell.showErrorMessage(n.toString()).then(u.noop,u.noop)}})();return o.finally((()=>{this.pendingRestartInterrupt.get(t)===o&&this.pendingRestartInterrupt.delete(t)})),this.pendingRestartInterrupt.set(t,o),o}async shouldAskForRestart(e){if(this.kernelInterruptedDontAskToRestart)return!1;const t=this.configurationService.getSettings(e);return t&&!0===t.askForKernelRestart}async disableAskForRestart(e){this.configurationService.getSettings(e)&&this.configurationService.updateSetting("askForKernelRestart",!1,void 0,s.ConfigurationTarget.Global).ignoreErrors()}};I=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IDisposableRegistry)),o(1,(0,i.inject)(a.IVSCodeNotebook)),o(2,(0,i.inject)(a.ICommandManager)),o(3,(0,i.inject)(d.NotebookCellLanguageService)),o(4,(0,i.inject)(a.IApplicationShell)),o(5,(0,i.inject)(c.IConfigurationService)),o(6,(0,i.inject)(h.IKernelProvider)),o(7,(0,i.inject)(_.IControllerSelection)),o(8,(0,i.inject)(w.IDataScienceErrorHandler)),o(9,(0,i.inject)(y.INotebookEditorProvider)),o(10,(0,i.inject)(v.IServiceContainer))],I),t.NotebookCommandListener=I},40539:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookEditorProvider=void 0;const i=n(86700),s=n(66828),a=n(10053);n(8513);const c=n(86563),l=n(52859),u=n(72728);let d=class{constructor(e){this.vscodeNotebook=e,this.providers=new Set}registerEmbedNotebookProvider(e){this.providers.add(e)}findNotebookEditor(e){var t;const n=e?(0,l.getComparisonKey)(e,!0):"false",r="notebook"===(0,c.getResourceType)(e)?this.vscodeNotebook.notebookDocuments.find((e=>(0,l.getComparisonKey)(e.uri,!0)===n)):void 0,o=r&&(null===(t=this.vscodeNotebook.activeNotebookEditor)||void 0===t?void 0:t.notebook)===r?this.vscodeNotebook.activeNotebookEditor:void 0;if(o)return o;for(let t of this.providers){const n=t.findNotebookEditor(e);if(n)return n}}get activeNotebookEditor(){var e,t;return this.findNotebookEditor(null===(e=s.window.activeNotebookEditor)||void 0===e?void 0:e.notebook.uri)||this.findNotebookEditor(null===(t=s.window.activeTextEditor)||void 0===t?void 0:t.document.uri)}findAssociatedNotebookDocument(e){const t=(0,u.getOSType)()===u.OSType.Windows;let n=this.vscodeNotebook.notebookDocuments.find((n=>t?n.uri.path.toLowerCase()===e.path.toLowerCase():n.uri.path===e.path));if(n)return n;for(let t of this.providers){const n=t.findAssociatedNotebookDocument(e);if(n)return n}}};d=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IVSCodeNotebook))],d),t.NotebookEditorProvider=d},73920:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorRendererCommunicationHandler=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(83599),l=n(42080),u=n(30682),d=n(7818);let p=class{constructor(e,t,n,r,o,i){this.disposables=e,this.documentManager=t,this.commandManager=n,this.fs=r,this.applicationShell=o,this.notebooks=i}activate(){s.notebooks.createRendererMessaging("jupyter-error-renderer").onDidReceiveMessage(this.onDidReceiveMessage,this,this.disposables)}async onDidReceiveMessage(e){const t=e.message;if(t.message===u.InteractiveWindowMessages.OpenLink){const e=t.payload;if(e.startsWith("file"))await this.openFile(e);else if(e.startsWith("vscode-notebook-cell"))await this.openCell(e);else if(e.startsWith("https://command:")||e.startsWith("command:")){const t=e.startsWith("https://command:")?e.split(":")[2]:e.split(":")[1],n=t.includes("/?")?t.split("/?")[1].split(","):[];let r=t.split("/?")[0];r.endsWith("/")&&(r=r.substring(0,r.length-1)),d.linkCommandAllowList.includes(r)&&await s.commands.executeCommand(r,n)}else this.applicationShell.openUrl(e)}}async openFile(e){let t=s.Uri.parse(e),n=new s.Range(new s.Position(0,0),new s.Position(0,0));if(t.query){const e=d.LineQueryRegex.exec(t.query);if(e){const t=parseInt(e[1],10);n=new s.Range(new s.Position(t,0),new s.Position(t,0))}t=t.with({query:""})}let r=this.documentManager.visibleTextEditors.find((e=>this.fs.arePathsSame(e.document.uri,t)));return r?this.documentManager.showTextDocument(r.document,{selection:n,viewColumn:r.viewColumn,preserveFocus:!1}).then((e=>{e.revealRange(n,s.TextEditorRevealType.InCenter)})):this.commandManager.executeCommand("vscode.open",t).then((()=>{r=this.documentManager.visibleTextEditors.find((e=>this.fs.arePathsSame(e.document.uri,t))),r&&(r.revealRange(n),r.selection=new s.Selection(n.start,n.start))}))}async openCell(e){let t=new s.Range(new s.Position(0,0),new s.Position(0,0));const n=d.LineQueryRegex.exec(e);if(n){const r=parseInt(n[1],10);t=new s.Range(new s.Position(r,0),new s.Position(r,0)),e=e.slice(0,n.index-1)}const r=s.Uri.parse(e);let o;for(let e=0;e<this.notebooks.notebookDocuments.length&&!o;e++)o=this.notebooks.notebookDocuments[e].getCells().find((e=>e.document.uri.toString()===r.toString()));if(o){const n=new s.NotebookRange(o.index,o.index);return this.notebooks.openNotebookDocument(o.notebook.uri).then((e=>this.notebooks.showNotebookDocument(e,{selections:[n]}))).then((n=>this.commandManager.executeCommand("notebook.cell.edit").then((()=>{const n=this.documentManager.visibleTextEditors.find((t=>t.document.uri.toString()===e));n&&(n.revealRange(t),n.selection=new s.Selection(t.start,t.start))}))))}}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IDisposableRegistry)),o(1,(0,i.inject)(a.IDocumentManager)),o(2,(0,i.inject)(a.ICommandManager)),o(3,(0,i.inject)(c.IFileSystem)),o(4,(0,i.inject)(a.IApplicationShell)),o(5,(0,i.inject)(a.IVSCodeNotebook))],p),t.ErrorRendererCommunicationHandler=p},7818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkCommandAllowList=t.LineQueryRegex=void 0,t.LineQueryRegex=/line=(\d+)/,t.linkCommandAllowList=["jupyter.latestExtension","jupyter.viewOutput","workbench.action.openSettings","jupyter.enableLoadingWidgetScriptsFromThirdPartySource"]},24451:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookTracebackFormatter=void 0;const o=n(86700),i=n(15925),s=n(35412),a=n(25251),c=n(11642),l=/(;32m[ ->]*?)(\d+)(.*)/g;let u=class{format(e,t){return e.notebook.notebookType!==i.JupyterNotebookView?t:t.map((t=>this.modifyTracebackFrameIPython(e,t)))}modifyTracebackFrameIPython(e,t){return/^[Cell|Input|File].*?\n.*/.test(t)?this.modifyTracebackFrameIPython8(e,t):t}modifyTracebackFrameIPython8(e,t){t=(t=(t=t.replace(/\u001b\[4\dm/g,"")).replace(/\u001b\[38;.*?\d+m/g,"[39m")).replace(/(;32m[ ->]*?)(\d+)(.*)\n/g,((e,t,n,r)=>`${t}${n}${r=r.replace(/\u001b\[3\d+m/g,"[39m")}\n`)),(0,c.traceInfoIfCI)(`Trace frame to match: ${t}`);const n=/^Input.*?\[.*32mIn\s+\[(\d+).*?0;36m(.*?)\n.*/.exec(t);if(n&&n.length>1){const r=t.replace(l,((t,n,r,o)=>{const i=parseInt(r,10);return`${n}<a href='${e.document.uri.toString()}?line=${i-1}'>${i}</a>${o}`})),o=a.DataScience.cellAtFormat().format((0,s.getFilePath)(e.document.uri),(e.index+1).toString());return r.replace(/.*?\n/,`[1;32m${o}[0m in [0;36m${n[2]}\n`)}return t}};u=r([(0,o.injectable)()],u),t.NotebookTracebackFormatter=u},6039:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterServerSelectorCommand=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(15925),l=n(11642),u=n(27527),d=n(94433);let p=class{constructor(e,t,n){this.commandManager=e,this.serverSelector=t,this.serverUriStorage=n,this.disposables=[]}activate(){this.disposables.push(this.commandManager.registerCommand(c.Commands.SelectJupyterURI,this.selectJupyterUri,this)),this.disposables.push(this.commandManager.registerCommand(c.Commands.ClearSavedJupyterUris,this.clearJupyterUris,this))}dispose(){this.disposables.forEach((e=>e.dispose()))}async selectJupyterUri(e=!0,t="commandPalette"){t instanceof s.Uri?((0,l.traceInfo)(`Setting Jupyter Server URI to remote: ${t}`),await this.serverSelector.setJupyterURIToRemote(t.toString(!0))):this.serverSelector.selectJupyterURI(t).ignoreErrors()}async clearJupyterUris(){return this.serverUriStorage.clearUriList()}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(a.ICommandManager)),o(1,(0,i.inject)(u.JupyterServerSelector)),o(2,(0,i.inject)(d.IJupyterServerUriStorage))],p),t.JupyterServerSelectorCommand=p},24411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(52064),o=n(14398),i=n(33916),s=n(84390),a=n(79212),c=n(85249),l=n(40539),u=n(35282),d=n(94062),p=n(24451),h=n(24970),f=n(99229),g=n(6039),m=n(42080),y=n(15018),v=n(9641),b=n(20402),S=n(71806),w=n(66317),C=n(4177),k=n(73920),_=n(982),I=n(62440),E=n(13749),P=n(9255),D=n(87354),T=n(13057),x=n(38124),j=n(93385),M=n(33628),N=n(18661),O=n(14809),A=n(19687),R=n(40371),L=n(15925),F=n(35962),U=n(7214),K=n(6410),W=n(10450);t.registerTypes=function(e,t){(0,O.registerTypes)(e,t),e.addSingleton(r.IExtensionSingleActivationService,a.RemoteSwitcher),e.addSingleton(r.IExtensionSyncActivationService,i.KernelFilterUI),e.addSingleton(o.KernelFilterService,o.KernelFilterService),e.addSingleton(r.IExtensionSingleActivationService,s.LiveKernelSwitcher),e.addSingleton(c.INotebookEditorProvider,l.NotebookEditorProvider),e.addSingleton(r.IExtensionSyncActivationService,u.RemoteKernelControllerWatcher),e.addSingleton(d.ITracebackFormatter,p.NotebookTracebackFormatter),e.addSingleton(h.NotebookIPyWidgetCoordinator,h.NotebookIPyWidgetCoordinator),e.addBinding(h.NotebookIPyWidgetCoordinator,r.IExtensionSyncActivationService),e.addSingleton(r.IExtensionSyncActivationService,f.RemoteKernelConnectionHandler),e.addSingleton(r.IExtensionSyncActivationService,g.JupyterServerSelectorCommand),e.addSingleton(m.IDataScienceCommandListener,y.NotebookCommandListener),e.addSingleton(r.IExtensionSyncActivationService,v.InterpreterPackageTracker),e.addSingleton(b.NotebookCellLanguageService,b.NotebookCellLanguageService),e.addBinding(b.NotebookCellLanguageService,r.IExtensionSingleActivationService),e.addSingleton(r.IExtensionSingleActivationService,S.EmptyNotebookCellLanguageService),e.addSingleton(w.IDebuggingManager,C.DebuggingManager,void 0,[r.IExtensionSingleActivationService]),e.addSingleton(w.IJupyterDebugService,R.MultiplexingDebugService,L.Identifiers.MULTIPLEXING_DEBUGSERVICE),e.addSingleton(w.IDebugLocationTracker,F.DebugLocationTrackerFactory,void 0,[w.IDebugLocationTrackerFactory]),e.addSingleton(U.IJupyterVariables,K.DebuggerVariables,L.Identifiers.DEBUGGER_VARIABLES),e.addSingleton(r.IExtensionSyncActivationService,k.ErrorRendererCommunicationHandler),e.addSingleton(P.ExportFileOpener,P.ExportFileOpener),e.addSingleton(I.IExportBase,T.ExportBase),e.addSingleton(I.IExportDialog,_.ExportDialog),e.addSingleton(I.IFileConverter,E.FileConverter),e.addSingleton(I.IExport,D.ExportToPythonPlain,I.ExportFormat.python),e.addSingleton(I.INbConvertExport,j.ExportToHTML,I.ExportFormat.html),e.addSingleton(I.INbConvertExport,M.ExportToPDF,I.ExportFormat.pdf),e.addSingleton(I.INbConvertExport,N.ExportToPython,I.ExportFormat.python),e.addSingleton(x.ExportUtilBase,x.ExportUtilBase),e.addSingleton(r.IExtensionSingleActivationService,A.ServerConnectionControllerCommands),"Insiders"===e.get(m.IConfigurationService).getSettings().kernelPickerType&&e.addSingleton(r.IExtensionSingleActivationService,W.PickDocumentKernelSourceCommand)}},9641:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPackageTracker=void 0;const i=n(86700),s=n(77886),a=n(42080),c=n(58681),l=n(84570),u=n(83902),d=n(50867),p=n(61239),h=n(58301);let f=class{constructor(e,t,n,r,o,i,s,a){this.packages=e,this.installer=t,this.extensions=n,this.pythonExtensionChecker=r,this.disposables=o,this.interpreterService=i,this.apiProvider=s,this.notebookControllerManager=a}async activate(){var e;this.notebookControllerManager.onControllerSelected(this.onNotebookControllerSelected,this,this.disposables),this.interpreterService.onDidChangeInterpreter(this.trackPackagesOfActiveInterpreter,this,this.disposables),null===(e=this.installer)||void 0===e||e.onInstalled(this.onDidInstallPackage,this,this.disposables),this.extensions.onDidChange(this.trackUponActivation,this,this.disposables),this.trackUponActivation().catch(c.noop),this.apiProvider.onDidActivatePythonExtension(this.trackUponActivation,this,this.disposables)}async onNotebookControllerSelected(e){e.controller.connection.interpreter&&(await(0,p.trackKernelResourceInformation)(e.notebook.uri,{kernelConnection:e.controller.connection}),await this.packages.trackPackages(e.controller.connection.interpreter))}async trackUponActivation(){this.activeInterpreterTrackedUponActivation||this.pythonExtensionChecker.isPythonExtensionActive&&(this.activeInterpreterTrackedUponActivation=!0,await this.trackPackagesOfActiveInterpreter())}async trackPackagesOfActiveInterpreter(){if(!this.pythonExtensionChecker.isPythonExtensionActive)return;const e=await this.interpreterService.getActiveInterpreter(void 0);e&&await this.packages.trackPackages(e)}async onDidInstallPackage(e){if(this.pythonExtensionChecker.isPythonExtensionActive)if((0,c.isResource)(e.resource)){const t=await this.interpreterService.getActiveInterpreter(e.resource);await this.packages.trackPackages(t,!0)}else await this.packages.trackPackages(e.resource,!0)}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(h.IInterpreterPackages)),o(1,(0,i.inject)(u.IInstaller)),o(1,(0,i.optional)()),o(2,(0,i.inject)(a.IExtensions)),o(3,(0,i.inject)(s.IPythonExtensionChecker)),o(4,(0,i.inject)(a.IDisposableRegistry)),o(5,(0,i.inject)(l.IInterpreterService)),o(6,(0,i.inject)(s.IPythonApiProvider)),o(7,(0,i.inject)(d.IControllerSelection))],f),t.InterpreterPackageTracker=f},26657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendKernelListTelemetry=void 0;const r=n(15925),o=n(9959);t.sendKernelListTelemetry=function(e){const t={kernelSpecCount:0,localKernelSpecCount:0,remoteKernelSpecCount:0,kernelInterpreterCount:0,kernelLiveCount:0};e.forEach((e=>{switch(e.kind){case"connectToLiveRemoteKernel":t.kernelLiveCount+=1;break;case"startUsingRemoteKernelSpec":t.localKernelSpecCount+=1,t.kernelSpecCount+=1;break;case"startUsingLocalKernelSpec":t.remoteKernelSpecCount+=1,t.kernelSpecCount+=1;break;case"startUsingPythonInterpreter":t.kernelInterpreterCount+=1}})),(0,o.sendTelemetryEvent)(r.Telemetry.KernelCount,{...t})}},85249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INotebookEditorProvider=t.INotebookCompletionProvider=t.INotebookKernelResolver=void 0,t.INotebookKernelResolver=Symbol("INotebookKernelResolver"),t.INotebookCompletionProvider=Symbol("INotebookCompletionProvider"),t.INotebookEditorProvider=Symbol("INotebookEditorProvider")},52064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionSyncActivationService=t.IExtensionSingleActivationService=t.IExtensionActivationManager=void 0,t.IExtensionActivationManager=Symbol("IExtensionActivationManager"),t.IExtensionSingleActivationService=Symbol("IExtensionSingleActivationService"),t.IExtensionSyncActivationService=Symbol("IExtensionSyncActivationService")},24353:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterService=t.InterpreterSelector=t.PythonExtensionChecker=t.PythonApiProvider=t.serializePythonEnvironment=t.pythonEnvToJupyterEnv=t.deserializePythonEnvironment=void 0;const l=n(66828),u=n(77886),d=a(n(25251)),p=n(86700),h=n(9959),f=n(10053),g=n(15925),m=n(42080),y=n(43138),v=n(11642),b=n(35412),S=n(46031),w=n(47891),C=n(99203),k=n(58681),_=n(11386);function I(e,t){if(e){const n={...e,sysPrefix:e.sysPrefix||"",uri:l.Uri.file(e.path||""),id:t||e.id,envPath:e.envPath?l.Uri.file(e.envPath):void 0};return delete n.path,e.envPath||delete n.envPath,n}}function E(e){var t,n,r,o;const i=e.tools,s=[["Conda",w.EnvironmentType.Conda],["Pyenv",w.EnvironmentType.Pyenv],["Pipenv",w.EnvironmentType.Pipenv],["Poetry",w.EnvironmentType.Poetry],["VirtualEnvWrapper",w.EnvironmentType.VirtualEnvWrapper],["VirtualEnv",w.EnvironmentType.VirtualEnv],["Venv",w.EnvironmentType.Venv]];let a=i.length?i[0]:w.EnvironmentType.Unknown;if("Conda"===(null===(t=e.environment)||void 0===t?void 0:t.type))a=w.EnvironmentType.Conda;else{for(const[e,t]of s)if(i.includes(e)){a=t;break}a===w.EnvironmentType.Unknown&&"VirtualEnvironment"===(null===(n=e.environment)||void 0===n?void 0:n.type)&&(a=w.EnvironmentType.VirtualEnv)}return{id:e.id,sysPrefix:e.executable.sysPrefix,envPath:l.Uri.file(e.path),envName:null===(r=e.environment)||void 0===r?void 0:r.name,uri:e.executable.uri,displayName:null===(o=e.environment)||void 0===o?void 0:o.name,envType:a,version:e.version?{major:e.version.major,minor:e.version.minor,patch:e.version.micro,raw:e.version.sysVersion}:void 0}}t.deserializePythonEnvironment=I,t.pythonEnvToJupyterEnv=E,t.serializePythonEnvironment=function(e){if(e){const t={...e,path:(0,b.getFilePath)(e.uri),envPath:e.envPath?(0,b.getFilePath)(e.envPath):void 0};return delete t.uri,t}};let P=class{constructor(e,t,n,r){this.extensions=e,this.disposables=t,this.extensionChecker=n,this.workspace=r,this.api=(0,y.createDeferred)(),this.didActivatePython=new l.EventEmitter,this._pythonExtensionHooked=(0,y.createDeferred)(),this.extensionChecker.isPythonExtensionInstalled||this.extensions.onDidChange((async()=>{this.extensionChecker.isPythonExtensionInstalled&&await this.registerHooks()}),this,this.disposables),this.disposables.push(this.didActivatePython)}get onDidActivatePythonExtension(){return this.didActivatePython.event}get pythonExtensionHooked(){return this._pythonExtensionHooked.promise}getApi(){return this.init().catch(k.noop),this.api.promise}async getNewApi(){var e;return await this.init(),null===(e=this.extensions.getExtension(g.PythonExtension))||void 0===e?void 0:e.exports}setApi(e){!this.api.resolved&&this.workspace.isTrusted&&this.api.resolve(e)}async init(){this.initialized||(this.initialized=!0,this.extensions.getExtension(g.PythonExtension)?await this.registerHooks():await this.extensionChecker.showPythonExtensionInstallRequiredPrompt())}async registerHooks(){if(this.hooksRegistered)return;const e=this.extensions.getExtension(g.PythonExtension);if(e){if(this.hooksRegistered=!0,!e.isActive)try{await e.activate(),this.didActivatePython.fire()}catch(e){return(0,v.traceError)("Failed activating the python extension: ",e),void this.api.reject(e)}e.exports.jupyter.registerHooks(),this._pythonExtensionHooked.resolve()}}};P=s([(0,p.injectable)(),c(0,(0,p.inject)(m.IExtensions)),c(1,(0,p.inject)(m.IDisposableRegistry)),c(2,(0,p.inject)(u.IPythonExtensionChecker)),c(3,(0,p.inject)(f.IWorkspaceService))],P),t.PythonApiProvider=P;let D=r=class{constructor(e,t,n,r,o){this.extensions=e,this.appShell=t,this.commandManager=n,this.workspace=r,this.disposables=o,this.pythonExtensionInstallationStatusChanged=new l.EventEmitter,this.extensions.onDidChange(this.extensionsChangeHandler.bind(this),this,this.disposables),this.previousInstallState=this.isPythonExtensionInstalled}get onPythonExtensionInstallationStatusChanged(){return this.pythonExtensionInstallationStatusChanged.event}get isPythonExtensionInstalled(){return void 0!==this.extensions.getExtension(g.PythonExtension)}get isPythonExtensionActive(){var e;return!0===(null===(e=this.extensions.getExtension(g.PythonExtension))||void 0===e?void 0:e.isActive)}async directlyInstallPythonExtension(){return this.commandManager.executeCommand("workbench.extensions.installExtension",g.PythonExtension,{context:{skipWalkthrough:!0}})}async showPythonExtensionInstallRequiredPrompt(){if(!this.workspace.isTrusted)return;r.promptDisplayed=!0;const e=d.Common.bannerLabelYes();(0,h.sendTelemetryEvent)(g.Telemetry.PythonExtensionNotInstalled,void 0,{action:"displayed"}),await this.appShell.showInformationMessage(d.DataScience.pythonExtensionRequired(),{modal:!0},e)===e?((0,h.sendTelemetryEvent)(g.Telemetry.PythonExtensionNotInstalled,void 0,{action:"download"}),await this.installPythonExtension()):(0,h.sendTelemetryEvent)(g.Telemetry.PythonExtensionNotInstalled,void 0,{action:"dismissed"})}async installPythonExtension(){this.commandManager.executeCommand("extension.open",g.PythonExtension).then(k.noop,k.noop)}async extensionsChangeHandler(){const e=this.isPythonExtensionInstalled;e!==this.previousInstallState&&(this.pythonExtensionInstallationStatusChanged.fire(e?"installed":"uninstalled"),this.previousInstallState=e)}};D=r=s([(0,p.injectable)(),c(0,(0,p.inject)(m.IExtensions)),c(1,(0,p.inject)(f.IApplicationShell)),c(2,(0,p.inject)(f.ICommandManager)),c(3,(0,p.inject)(f.IWorkspaceService)),c(4,(0,p.inject)(m.IDisposableRegistry))],D),t.PythonExtensionChecker=D;let T=class{constructor(e){this.apiProvider=e}async getSuggestions(e){const[t,n]=await Promise.all([this.apiProvider.getApi(),this.apiProvider.getNewApi()]);let r=t.getKnownSuggestions?t.getKnownSuggestions(e):await t.getSuggestions(e);const o=[];return await Promise.all(r.map((async e=>{const t=await n.environments.resolveEnvironment(e.interpreter.path);if(!t)return;const r=I(e.interpreter,null==t?void 0:t.id);r&&o.push({...e,interpreter:r})}))),o}};T=s([(0,p.injectable)(),c(0,(0,p.inject)(u.IPythonApiProvider))],T),t.InterpreterSelector=T;let x=class{constructor(e,t,n,r,o){this.apiProvider=e,this.extensionChecker=t,this.disposables=n,this.workspace=r,this.context=o,this.didChangeInterpreter=new l.EventEmitter,this.didChangeInterpreters=new l.EventEmitter,this.interpreterListCachePromise=void 0,this.workspaceCachedActiveInterpreter=new Set,this.extensionChecker.isPythonExtensionInstalled&&(this.extensionChecker.isPythonExtensionActive||this.apiProvider.onDidActivatePythonExtension(this.hookupOnDidChangeInterpreterEvent,this,this.disposables)),this.workspace.onDidChangeWorkspaceFolders(this.onDidChangeWorkspaceFolders,this,n)}get onDidChangeInterpreter(){return this.hookupOnDidChangeInterpreterEvent(),this.didChangeInterpreter.event}get onDidChangeInterpreters(){return this.hookupOnDidChangeInterpreterEvent(),this.didChangeInterpreters.event}getInterpreters(){const e=new _.StopWatch;this.hookupOnDidChangeInterpreterEvent();const t=!!this.interpretersFetchedOnceBefore;return this.interpretersFetchedOnceBefore=!0,this.interpreterListCachePromise||(this.interpreterListCachePromise=this.getInterpretersImpl()),this.interpreterListCachePromise.then((()=>{(0,h.sendTelemetryEvent)(g.Telemetry.InterpreterListingPerf,{duration:e.elapsedTime},{firstTime:t})})).ignoreErrors(),this.interpreterListCachePromise}async refreshInterpreters(e=!1){const t=await this.getApi();if(t)try{await t.environments.refreshEnvironments({forceRefresh:e}),this.interpreterListCachePromise=void 0,this.didChangeInterpreters.fire(),(0,v.traceVerbose)("Refreshed Environments")}catch(e){(0,v.traceError)("Failed to refresh the list of interpreters")}}async getActiveInterpreter(e){var t;const n=new _.StopWatch;this.hookupOnDidChangeInterpreterEvent(),e||1!==(null===(t=this.workspace.workspaceFolders)||void 0===t?void 0:t.length)||(e=this.workspace.workspaceFolders[0].uri);const r=this.workspace.getWorkspaceFolderIdentifier(e),o=this.getApi().then((async t=>{if(!t)return;const n=t.environments.getActiveEnvironmentPath(e),r=await t.environments.resolveEnvironment(n);return r&&E(r)}));return o.then((()=>{this.workspaceCachedActiveInterpreter.has(r)||(this.workspaceCachedActiveInterpreter.add(r),(0,h.sendTelemetryEvent)(g.Telemetry.ActiveInterpreterListingPerf,{duration:n.elapsedTime},{firstTime:!0}))})).catch((e=>{(0,v.traceWarning)(`Failed to get active interpreter from Python for workspace ${r}`,e)})),(g.isCI||[l.ExtensionMode.Development,l.ExtensionMode.Test].includes(this.context.extensionMode))&&o.then((t=>{var n;return(0,v.traceInfo)(`Active Interpreter in Python API for resource '${(0,b.getDisplayPath)(e)}' is ${(0,b.getDisplayPath)(null==t?void 0:t.uri)}, EnvType: ${null==t?void 0:t.envType}, EnvName: '${null==t?void 0:t.envName}', Version: ${null===(n=null==t?void 0:t.version)||void 0===n?void 0:n.raw}`)})).catch(k.noop),o}async getInterpreterDetails(e){this.hookupOnDidChangeInterpreterEvent();try{return await this.getApi().then((async t=>{if(t){if(!(0,k.isUri)(e)){const n=await t.environments.resolveEnvironment(e);return n&&E(n)}{const n=t.environments.known.find((t=>(0,S.areInterpreterPathsSame)(t.executable.uri,e)));if(n){const e=await t.environments.resolveEnvironment(n.id);return e&&E(e)}}}}))}catch(t){return void(0,v.traceWarning)(`Failed to get Python interpreter details from Python Extension API for ${"string"==typeof e?e:(0,b.getDisplayPath)(e)}`,t)}}async getApi(){if(this.extensionChecker.isPythonExtensionInstalled)return this.apiPromise||(this.apiPromise=this.apiProvider.getNewApi()),this.apiPromise}onDidChangeWorkspaceFolders(){this.interpreterListCachePromise=void 0}async getInterpretersImpl(){const e=[];return await this.getApi().then((async t=>{if(!t)return[];await t.environments.refreshEnvironments(),(0,v.traceVerbose)(`Full interpreter list after refreshing is length: ${t.environments.known.length}, ${t.environments.known.map((e=>{var t;return`${e.id}:${null===(t=e.environment)||void 0===t?void 0:t.name}:${e.tools.join(",")}:${(0,b.getDisplayPath)(e.executable.uri)}:${e.path}`})).join(", ")}`),await Promise.all(t.environments.known.map((async n=>{try{const r=await t.environments.resolveEnvironment(n.id);r?e.push(E(r)):(0,v.traceError)(`Failed to get env details from Python API for ${n.id} without an error`)}catch(e){(0,v.traceError)(`Failed to get env details from Python API for ${n.id}`,e)}})))})),(0,v.traceVerbose)(`Full interpreter list is length: ${e.length}, ${e.map((e=>`${e.id}:${e.displayName}:${e.envType}:${(0,b.getDisplayPath)(e.uri)}`)).join(", ")}`),e}hookupOnDidChangeInterpreterEvent(){this.eventHandlerAdded||this.getApi().then((e=>{!this.eventHandlerAdded&&e&&(this.eventHandlerAdded=!0,e.environments.onDidChangeActiveEnvironmentPath((()=>{this.interpreterListCachePromise=void 0,this.workspaceCachedActiveInterpreter.clear(),this.didChangeInterpreter.fire()}),this,this.disposables),e.environments.onDidChangeEnvironments((()=>{this.interpreterListCachePromise=void 0,this.didChangeInterpreters.fire()}),this,this.disposables))})).catch(k.noop)}};s([(0,v.traceDecoratorVerbose)("Get Interpreters",C.TraceOptions.Arguments|C.TraceOptions.BeforeCall)],x.prototype,"getInterpreters",null),s([(0,v.traceDecoratorVerbose)("Get Active Interpreter",C.TraceOptions.Arguments|C.TraceOptions.BeforeCall)],x.prototype,"getActiveInterpreter",null),s([(0,v.traceDecoratorVerbose)("Get Interpreter details",C.TraceOptions.Arguments|C.TraceOptions.BeforeCall)],x.prototype,"getInterpreterDetails",null),x=s([(0,p.injectable)(),c(0,(0,p.inject)(u.IPythonApiProvider)),c(1,(0,p.inject)(u.IPythonExtensionChecker)),c(2,(0,p.inject)(m.IDisposableRegistry)),c(3,(0,p.inject)(f.IWorkspaceService)),c(4,(0,p.inject)(m.IExtensionContext))],x),t.InterpreterService=x},50968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(47931),o=n(84570),i=n(24353),s=n(77886);t.registerTypes=function(e){e.addSingleton(s.IPythonApiProvider,i.PythonApiProvider),e.addSingleton(s.IPythonExtensionChecker,i.PythonExtensionChecker),e.addSingleton(o.IInterpreterService,i.InterpreterService),e.addSingleton(r.IInterpreterSelector,i.InterpreterSelector)}},77886:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterProductToInstall=t.IPythonExtensionChecker=t.IPythonApiProvider=void 0,t.IPythonApiProvider=Symbol("IPythonApi"),t.IPythonExtensionChecker=Symbol("IPythonExtensionChecker"),(n=t.JupyterProductToInstall||(t.JupyterProductToInstall={})).jupyter="jupyter",n.ipykernel="ipykernel",n.notebook="notebook",n.kernelspec="kernelspec",n.nbconvert="nbconvert",n.pandas="pandas",n.pip="pip"},959:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseApplicationEnvironment=void 0;const s=i(n(66828));t.BaseApplicationEnvironment=class{get appName(){return s.env.appName}get vscodeVersion(){return s.version}get appRoot(){return s.env.appRoot}get language(){return s.env.language}get sessionId(){return s.env.sessionId}get machineId(){return s.env.machineId}get uiKind(){return s.env.uiKind}get extensionName(){return this.packageJson.displayName}get extensionVersion(){return this.packageJson.version}get shell(){return s.env.shell}get packageJson(){return n(4147)}get channel(){return this.appName.indexOf("Insider")>0||this.appName.indexOf("Code - OSS Dev")>=0?"insiders":"stable"}get uriScheme(){return s.env.uriScheme}}},88814:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationEnvironment=void 0;const o=n(86700),i=n(959);let s=class extends i.BaseApplicationEnvironment{get userSettingsFile(){}get userCustomKeybindingsFile(){}};s=r([(0,o.injectable)()],s),t.ApplicationEnvironment=s},42959:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationShell=void 0;const o=n(86700),i=n(66828),s=n(58681);let a=class{get activeColorTheme(){return i.window.activeColorTheme}get onDidChangeWindowState(){return i.window.onDidChangeWindowState}showInformationMessage(e,t,...n){return i.window.showInformationMessage(e,t,...n)}showWarningMessage(e,t,...n){return i.window.showWarningMessage(e,t,...n)}showErrorMessage(e,t,...n){return i.window.showErrorMessage(e,t,...n)}showQuickPick(e,t,n){return i.window.showQuickPick(e,t,n)}showOpenDialog(e){return i.window.showOpenDialog(e)}showSaveDialog(e){return i.window.showSaveDialog(e)}showInputBox(e,t){return i.window.showInputBox(e,t)}openUrl(e){i.env.openExternal(i.Uri.parse(e)).then(s.noop,s.noop)}setStatusBarMessage(e,t){return i.window.setStatusBarMessage(e,t)}createStatusBarItem(e,t){return i.window.createStatusBarItem(e,t)}showWorkspaceFolderPick(e){return i.window.showWorkspaceFolderPick(e)}withProgress(e,t){return i.window.withProgress(e,t)}withProgressCustomIcon(e,t){const n=(new i.CancellationTokenSource).token,r=this.createStatusBarItem(i.StatusBarAlignment.Left),o={report:t=>{r.text=`${e} ${t.message}`}};return r.show(),t(o,n).then((e=>(r.dispose(),e)))}createQuickPick(){return i.window.createQuickPick()}createInputBox(){return i.window.createInputBox()}createTreeView(e,t){return i.window.createTreeView(e,t)}createOutputChannel(e){return i.window.createOutputChannel(e)}};a=r([(0,o.injectable)()],a),t.ApplicationShell=a},57703:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardService=void 0;const o=n(86700),i=n(66828);let s=class{async readText(){return i.env.clipboard.readText()}async writeText(e){await i.env.clipboard.writeText(e)}};s=r([(0,o.injectable)()],s),t.ClipboardService=s},8917:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;const o=n(86700),i=n(66828),s=n(9959),a=n(15925),c=new Set(["setContext"]);let l=class{registerCommand(e,t,n){return c.add(e),i.commands.registerCommand(e,((...r)=>((0,s.sendTelemetryEvent)(a.Telemetry.CommandExecuted,void 0,{command:e}),n?t.call(n,...r):t(...r))),n)}registerTextEditorCommand(e,t,n){return c.add(e),i.commands.registerTextEditorCommand(e,((r,o,...i)=>((0,s.sendTelemetryEvent)(a.Telemetry.CommandExecuted,void 0,{command:e}),n?t.call(n,r,o,...i):t(r,o,...i))),n)}executeCommand(e,...t){return c.has(e)||(0,s.sendTelemetryEvent)(a.Telemetry.CommandExecuted,void 0,{command:e}),i.commands.executeCommand(e,...t)}getCommands(e){return i.commands.getCommands(e)}};l=r([(0,o.injectable)()],l),t.CommandManager=l},61847:function(e,t,n){"use strict";var r,o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugService=void 0;const i=n(86700),s=n(66828),a=n(11642);let c=r=class{get activeDebugConsole(){return s.debug.activeDebugConsole}get activeDebugSession(){var e;return(0,a.traceInfoIfCI)(`Getting active debug session, ${null===(e=s.debug.activeDebugSession)||void 0===e?void 0:e.name}`),s.debug.activeDebugSession}get breakpoints(){return s.debug.breakpoints}get onDidChangeActiveDebugSession(){return s.debug.onDidChangeActiveDebugSession}get onDidStartDebugSession(){return s.debug.onDidStartDebugSession}get onDidReceiveDebugSessionCustomEvent(){return s.debug.onDidReceiveDebugSessionCustomEvent}get onDidTerminateDebugSession(){return s.debug.onDidTerminateDebugSession}get onDidChangeBreakpoints(){return s.debug.onDidChangeBreakpoints}registerDebugConfigurationProvider(e,t){return s.debug.registerDebugConfigurationProvider(e,t)}registerDebugAdapterTrackerFactory(e,t){return s.debug.registerDebugAdapterTrackerFactory(e,t)}startDebugging(e,t,n){return s.debug.startDebugging(e,t,n)}addBreakpoints(e){s.debug.addBreakpoints(e)}removeBreakpoints(e){s.debug.removeBreakpoints(e)}};c.instance=new r,c=r=o([(0,i.injectable)()],c),t.DebugService=c},52100:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentManager=void 0;const o=n(86700),i=n(66828);let s=class{get textDocuments(){return i.workspace.textDocuments}get activeTextEditor(){return i.window.activeTextEditor}get visibleTextEditors(){return i.window.visibleTextEditors}get onDidChangeActiveTextEditor(){return i.window.onDidChangeActiveTextEditor}get onDidChangeTextDocument(){return i.workspace.onDidChangeTextDocument}get onDidChangeVisibleTextEditors(){return i.window.onDidChangeVisibleTextEditors}get onDidChangeTextEditorSelection(){return i.window.onDidChangeTextEditorSelection}get onDidChangeTextEditorOptions(){return i.window.onDidChangeTextEditorOptions}get onDidChangeTextEditorViewColumn(){return i.window.onDidChangeTextEditorViewColumn}get onDidOpenTextDocument(){return i.workspace.onDidOpenTextDocument}get onDidCloseTextDocument(){return i.workspace.onDidCloseTextDocument}get onDidSaveTextDocument(){return i.workspace.onDidSaveTextDocument}showTextDocument(e,t,n){return i.window.showTextDocument(e,t,n)}openTextDocument(e){return i.workspace.openTextDocument(e)}applyEdit(e){return i.workspace.applyEdit(e)}createTextEditorDecorationType(e){return i.window.createTextEditorDecorationType(e)}};s=r([(0,o.injectable)()],s),t.DocumentManager=s},71886:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptedStorage=void 0;const i=n(86700),s=n(66828),a=n(15925),c=n(11642),l=n(42080);let u=class{constructor(e){this.extensionContext=e,this.testingState=new Map}async store(e,t,n){if(a.isCI&&this.extensionContext.extensionMode!==s.ExtensionMode.Production)this.testingState.set(`${e}#${t}`,n||"");else if(n)await this.extensionContext.secrets.store(`${e}.${t}`,n);else try{await this.extensionContext.secrets.delete(`${e}.${t}`)}catch(e){(0,c.traceError)(e)}}async retrieve(e,t){if(a.isCI&&this.extensionContext.extensionMode!==s.ExtensionMode.Production)return this.testingState.get(`${e}#${t}`);try{return await this.extensionContext.secrets.get(`${e}.${t}`)}catch(n){try{return void await this.extensionContext.secrets.delete(`${e}.${t}`)}catch(e){(0,c.traceError)(e)}}}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IExtensionContext))],u),t.EncryptedStorage=u},31104:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=void 0;const a=n(86700),c=n(66828),l=n(25251),u=s(n(77911)),d=n(15925);let p=class{get all(){return c.extensions.all}get onDidChange(){return c.extensions.onDidChange}getExtension(e){return c.extensions.getExtension(e)}async determineExtensionFromCallStack(){const e=(new Error).stack;if(e){const t=this.getExtension(d.JVSC_EXTENSION_ID).extensionUri.toString().toLowerCase(),n=e.split("\n").map((e=>{const t=/\((.*)\)/.exec(e);if(t)return t[1]})).filter((e=>e&&e.toLowerCase().startsWith("http"))).filter((e=>e&&!e.toLowerCase().startsWith(t)));u.parse(new Error("Ex")).forEach((e=>{const r=e.getFileName();r&&!r.toLowerCase().startsWith(t)&&n.push(r)}));for(const e of n){const t=this.all.find((t=>t.id!==d.JVSC_EXTENSION_ID&&e.startsWith(t.extensionUri.toString())));if(t)return{extensionId:t.id,displayName:t.packageJSON.displayName}}}return{extensionId:l.DataScience.unknownPackage(),displayName:l.DataScience.unknownPackage()}}};p=i([(0,a.injectable)()],p),t.Extensions=p},94106:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeNotebook=void 0;const i=n(86700),s=n(66828),a=n(42080),c=n(43138),l=n(85446),u=n(10053);let d=class{constructor(e,t){this.env=e,this.diposables=t,this._onDidCloseNotebookDocument=new s.EventEmitter,this.onDidChangeNotebookEditorSelection=s.window.onDidChangeNotebookEditorSelection,this.onDidChangeActiveNotebookEditor=s.window.onDidChangeActiveNotebookEditor,this.onDidOpenNotebookDocument=s.workspace.onDidOpenNotebookDocument,s.workspace.onDidCloseNotebookDocument((e=>this._onDidCloseNotebookDocument.fire(e)),this,this.diposables),this.onDidChangeVisibleNotebookEditors=s.window.onDidChangeVisibleNotebookEditors,this.onDidSaveNotebookDocument=s.workspace.onDidSaveNotebookDocument}get onDidCloseNotebookDocument(){return this._onDidCloseNotebookDocument.event}get onDidChangeNotebookCellExecutionState(){return s.notebooks.onDidChangeNotebookCellExecutionState}get notebookDocuments(){return s.workspace.notebookDocuments}get notebookEditors(){return s.window.visibleNotebookEditors}get activeNotebookEditor(){return s.window.activeNotebookEditor}async openNotebookDocument(e,t){return"string"==typeof e?s.workspace.openNotebookDocument(e,t):s.workspace.openNotebookDocument(e)}async showNotebookDocument(e,t){return s.window.showNotebookDocument(e,t)}registerNotebookSerializer(e,t,n){return s.workspace.registerNotebookSerializer(e,t,n)}createNotebookController(e,t,n,r,o,i){return s.notebooks.createNotebookController(e,t,n,r,o)}async closeActiveNotebooks(){const e=new Set(this.notebookDocuments);for(;s.window.activeNotebookEditor;)e.add(s.window.activeNotebookEditor.notebook),await s.commands.executeCommand("workbench.action.revertAndCloseActiveEditor"),await(0,c.sleep)(10);e.forEach((e=>this._onDidCloseNotebookDocument.fire(e)))}};r([(0,l.testOnlyMethod)()],d.prototype,"closeActiveNotebooks",null),d=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IApplicationEnvironment)),o(1,(0,i.inject)(a.IDisposableRegistry))],d),t.VSCodeNotebook=d},10053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEncryptedStorage=t.IVSCodeNotebook=t.IClipboard=t.ILanguageService=t.IWebviewViewProvider=t.IWebviewPanelProvider=t.IWebviewPanel=t.IWebviewView=t.IWebview=t.IWebviewViewMessageListener=t.IWebviewPanelMessageListener=t.IApplicationEnvironment=t.IDebugService=t.ITerminalManager=t.IWorkspaceService=t.IDocumentManager=t.ICommandManager=t.IApplicationShell=void 0,t.IApplicationShell=Symbol("IApplicationShell"),t.ICommandManager=Symbol("ICommandManager"),t.IDocumentManager=Symbol("IDocumentManager"),t.IWorkspaceService=Symbol("IWorkspaceService"),t.ITerminalManager=Symbol("ITerminalManager"),t.IDebugService=Symbol("IDebugManager"),t.IApplicationEnvironment=Symbol("IApplicationEnvironment"),t.IWebviewPanelMessageListener=Symbol("IWebviewPanelMessageListener"),t.IWebviewViewMessageListener=Symbol("IWebviewViewMessageListener"),t.IWebview=Symbol("IWebview"),t.IWebviewView=Symbol("IWebviewView"),t.IWebviewPanel=Symbol("IWebviewPanel"),t.IWebviewPanelProvider=Symbol("IWebviewPanelProvider"),t.IWebviewViewProvider=Symbol("IWebviewViewProvider"),t.ILanguageService=Symbol("ILanguageService"),t.IClipboard=Symbol("IClipboard"),t.IVSCodeNotebook=Symbol("IVSCodeNotebook"),t.IEncryptedStorage=Symbol("IEncryptedStorage")},90536:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseWorkspaceService=void 0;const s=i(n(15948)),a=n(66828),c=n(72728);t.BaseWorkspaceService=class{get onDidChangeConfiguration(){return a.workspace.onDidChangeConfiguration}get rootFolder(){const e=Array.isArray(a.workspace.workspaceFolders)&&a.workspace.workspaceFolders.length>0?a.workspace.workspaceFolders[0]:void 0;if(e)return e.uri}get workspaceFolders(){return a.workspace.workspaceFolders}get onDidChangeWorkspaceFolders(){return a.workspace.onDidChangeWorkspaceFolders}get hasWorkspaceFolders(){return Array.isArray(a.workspace.workspaceFolders)&&a.workspace.workspaceFolders.length>0}get workspaceFile(){return a.workspace.workspaceFile}getConfiguration(e,t){return a.workspace.getConfiguration(e,t||null)}getWorkspaceFolder(e){return e?a.workspace.getWorkspaceFolder(e):void 0}asRelativePath(e,t){return a.workspace.asRelativePath(e,t)}get isTrusted(){return a.workspace.isTrusted}get onDidGrantWorkspaceTrust(){return a.workspace.onDidGrantWorkspaceTrust}createFileSystemWatcher(e,t,n,r){return a.workspace.createFileSystemWatcher(e,n,n,r)}findFiles(e,t,n,r){return a.workspace.findFiles(e,t,n,r)}getWorkspaceFolderIdentifier(e,t=""){const n=e?a.workspace.getWorkspaceFolder(e):a.workspace.workspaceFolders?a.workspace.workspaceFolders[0]:void 0;return n?s.normalize((0,c.getOSType)()===c.OSType.Windows?n.uri.path.toUpperCase():n.uri.path):t}}},78163:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceService=void 0;const a=n(86700),c=n(90536),l=s(n(52859)),u=n(35412);let d=class extends c.BaseWorkspaceService{async computeWorkingDirectory(e){var t;if(e){const t=(0,u.getFilePath)(e);return t.includes(".")?(0,u.getFilePath)(l.dirname(e)):t}return(e=(null===(t=this.getWorkspaceFolder(e))||void 0===t?void 0:t.uri)||this.rootFolder)?(0,u.getFilePath)(e):"."}};d=i([(0,a.injectable)()],d),t.WorkspaceService=d},68778:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncDisposableRegistry=void 0;const o=n(86700);let i=class{constructor(){this._list=[]}async dispose(){const e=this._list.map((e=>e.dispose()));await Promise.all(e),this._list=[]}push(e){e&&this._list.push(e)}get list(){return this._list}};i=r([(0,o.injectable)()],i),t.AsyncDisposableRegistry=i},6491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cancellation=t.wrapCancellationTokens=t.createPromiseFromCancellation=t.isCancellationError=void 0;const r=n(66828),o=n(43138),i=n(25251);t.isCancellationError=function(e,t=!1){return!("object"!=typeof e||!e)&&(e instanceof r.CancellationError||!(!t||!e.message.includes("Canceled")&&!e.message.includes(i.Common.canceled())))},t.createPromiseFromCancellation=function(e){return new Promise(((t,n)=>{e.token&&e.token.onCancellationRequested((()=>{if(e.token.isCancellationRequested){if("resolve"===e.cancelAction)return t(e.defaultValue);if("reject"===e.cancelAction)return n(new r.CancellationError)}}))}))},t.wrapCancellationTokens=function(...e){const t=new r.CancellationTokenSource;for(const n of e)if(n){if(n.isCancellationRequested)return n;n.onCancellationRequested((()=>t.cancel()))}return t.token},function(e){function t(e){return!!e&&e.isCancellationRequested}e.race=function(e,t){if(t){const n=(0,o.createDeferred)();return t.onCancellationRequested((()=>{n.completed||n.reject(new r.CancellationError)})),t.isCancellationRequested?n.reject(new r.CancellationError):e(t).then((e=>{n.completed||n.resolve(e)})).catch((e=>{n.completed||n.reject(e)})),n.promise}return e()},e.isCanceled=t,e.throwIfCanceled=function(e){if(t(e))throw new r.CancellationError}}(t.Cancellation||(t.Cancellation={}))},23562:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSettings=void 0;const o=n(66828);n(8513);const i=n(99203),s=n(15925),a=n(85446);class c{constructor(e,t,n,r){this._systemVariablesCtor=t,this._type=n,this._workspace=r,this.logging={level:"error"},this.allowImportFromNotebook=!1,this.allowUnauthorizedRemoteConnection=!1,this.jupyterInterruptTimeout=1e4,this.jupyterLaunchTimeout=6e4,this.jupyterLaunchRetries=3,this.notebookFileRoot="",this.useDefaultConfigForJupyter=!1,this.searchForJupyter=!1,this.allowInput=!1,this.showCellInputCode=!1,this.maxOutputSize=-1,this.enableScrollingForCellOutputs=!1,this.sendSelectionToInteractiveWindow=!1,this.markdownRegularExpression="",this.codeRegularExpression="",this.allowLiveShare=!1,this.errorBackgroundColor="",this.ignoreVscodeTheme=!1,this.variableExplorerExclude="",this.liveShareConnectionTimeout=0,this.decorateCells=!1,this.enableCellCodeLens=!1,this.askForLargeDataFrames=!1,this.enableAutoMoveToNextCell=!1,this.askForKernelRestart=!1,this.generateSVGPlots=!1,this.codeLenses="",this.debugCodeLenses="",this.debugpyDistPath="",this.stopOnFirstLineWhileDebugging=!1,this.textOutputLimit=0,this.magicCommandsAsComments=!1,this.pythonExportMethod="direct",this.stopOnError=!1,this.remoteDebuggerPort=0,this.colorizeInputBox=!1,this.addGotoCodeLenses=!1,this.runStartupCommands=[],this.debugJustMyCode=!1,this.defaultCellMarker="",this.themeMatplotlibPlots=!1,this.variableQueries=[],this.disableJupyterAutoStart=!1,this.enablePythonKernelLogging=!1,this.jupyterCommandLineArguments=[],this.widgetScriptSources=[],this.interactiveWindowMode="multiple",this.interactiveWindowViewColumn="secondGroup",this.disableZMQSupport=!1,this.forceIPyKernelDebugger=!1,this.disablePythonDaemon=!1,this.verboseLogging=!1,this.showVariableViewWhenDebugging=!0,this.newCellOnRunLast=!0,this.pythonCompletionTriggerCharacters="",this.logKernelOutputSeparately=!1,this.poetryPath="",this.excludeUserSitePackages=!1,this.enableExtendedKernelCompletions=!1,this.kernelPickerType="Stable",this.variableTooltipFields={python:{Tensor:["shape","dtype","device"]}},this._changeEmitter=new o.EventEmitter,this._disposables=[],this._workspaceRoot=e,this.initialize(),r&&!1===r.isTrusted&&(this.disableJupyterAutoStart=!0)}get onDidChange(){return this._changeEmitter.event}static getInstance(e,t,n,r){const o=c.getSettingsUriAndTarget(e,r).uri,i=o?o.path:"";let s=c.jupyterSettings.get(i);return s?"web"===s._type&&"node"===n&&(s._systemVariablesCtor=t,s._type=n):(s=new c(o,t,n,r),c.jupyterSettings.set(i,s)),s}static getSettingsUriAndTarget(e,t){const n=e?t.getWorkspaceFolder(e):void 0;let r=n?n.uri:void 0;return!r&&Array.isArray(t.workspaceFolders)&&t.workspaceFolders.length>0&&(r=t.workspaceFolders[0].uri),{uri:r,target:r?o.ConfigurationTarget.WorkspaceFolder:o.ConfigurationTarget.Global}}static dispose(){if(!(0,s.isTestExecution)())throw new Error("Dispose can only be called from unit tests");c.jupyterSettings.forEach((e=>e&&e.dispose())),c.jupyterSettings.clear()}dispose(){this._disposables.forEach((e=>e&&e.dispose())),this._disposables=[]}createSystemVariables(e){return new this._systemVariablesCtor(e,this._workspaceRoot,this._workspace)}toJSON(){const e={};return this.getSerializableKeys().forEach((t=>e[t]=this[t])),e}update(e,t){const n=this.createSystemVariables(void 0),r=n.resolveAny(e.get("logging"));r&&(r.level=function(e){switch(e){case"info":return i.LogLevel.Info;case"warn":return i.LogLevel.Warn;case"off":return"off";case"debug":return i.LogLevel.Debug;case"verbose":return i.LogLevel.Trace;case"everything":return i.LogLevel.Everything;default:return i.LogLevel.Error}}(r.level),this.logging?Object.assign(this.logging,r):this.logging=r);const o=n.resolveAny(e.get("experiments"));this.experiments?Object.assign(this.experiments,o):this.experiments=o,this.experiments=this.experiments?this.experiments:{enabled:!0,optInto:[],optOutFrom:[]};const s=e.get("experimental.kernelPickerType");e.get("showOnlyOneTypeOfKernel")?this.kernelPickerType="OnlyOneTypeOfKernel":s&&(this.kernelPickerType=s);const a=(e,t)=>{const r=n.resolveAny(t.get(e));("variableTooltipFields"!==e||r)&&(this[e]=r)};this.getSerializableKeys().filter((e=>"experiments"!==e&&"logging"!==e&&"kernelPickerType"!==e&&"showOnlyOneTypeOfKernel"!==e)).forEach((t=>a(t,e))),t&&a("poetryPath",t)}onWorkspaceFoldersChanged(){const e=this._workspace.workspaceFolders.map((e=>e.uri.path)),t=Array.from(c.jupyterSettings.keys()).filter((t=>e.indexOf(t)<0));if(t.length>0)for(const e of t)c.jupyterSettings.delete(e)}initialize(){const e=()=>{const e=this._workspace.getConfiguration("jupyter",this._workspaceRoot),t=this._workspace.getConfiguration("python",this._workspaceRoot);this.update(e,t),this.debounceChangeNotification()};this._disposables.push(this._workspace.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this)),this._disposables.push(this._workspace.onDidChangeConfiguration((t=>{t.affectsConfiguration("jupyter")&&e(),t.affectsConfiguration("python.poetryPath")&&e()})));const t=this._workspace.getConfiguration("jupyter",this._workspaceRoot),n=this._workspace.getConfiguration("python",this._workspaceRoot);t&&this.update(t,n)}debounceChangeNotification(){this._changeEmitter.fire()}fireChangeNotification(){this._changeEmitter.fire()}getSerializableKeys(){return Object.getOwnPropertyNames(this).filter((e=>!e.startsWith("_")))}}c.jupyterSettings=new Map,r([(0,a.debounceSync)(1)],c.prototype,"debounceChangeNotification",null),t.JupyterSettings=c},89312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseConfigurationService=void 0;const r=n(66828),o=n(10053),i=n(23562),s=n(15925);t.BaseConfigurationService=class{constructor(e){this.serviceContainer=e,this.workspaceService=this.serviceContainer.get(o.IWorkspaceService)}async updateSectionSetting(e,t,n,o,s){let a={uri:o,target:s||r.ConfigurationTarget.WorkspaceFolder};"jupyter"===e&&s!==r.ConfigurationTarget.Global&&(a=i.JupyterSettings.getSettingsUriAndTarget(o,this.workspaceService));const c=this.workspaceService.getConfiguration(e,a.uri),l=c.inspect(t);void 0!==l&&(s===r.ConfigurationTarget.Global&&l.globalValue===n||s===r.ConfigurationTarget.Workspace&&l.workspaceValue===n||s===r.ConfigurationTarget.WorkspaceFolder&&l.workspaceFolderValue===n)||(await c.update(t,n,s),s&&await this.verifySetting(c,s,t,n))}async updateSetting(e,t,n,r){return this.updateSectionSetting("jupyter",e,t,n,r)}async verifySetting(e,t,n,o){if((0,s.isTestExecution)()&&!(0,s.isUnitTestExecution)()){let i=0;do{const s=e.inspect(n);if(!s&&void 0===o)break;if(s&&void 0!==o&&(t===r.ConfigurationTarget.Global?s.globalValue:t===r.ConfigurationTarget.Workspace?s.workspaceValue:s.workspaceFolderValue)===o)break;await new Promise((e=>setTimeout(e,250))),i+=1}while(i<20)}}}},89316:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationService=void 0;const i=n(86700),s=n(41778),a=n(23562),c=n(471),l=n(89312);let u=class extends l.BaseConfigurationService{constructor(e){super(e)}getSettings(e){return a.JupyterSettings.getInstance(e,c.SystemVariables,"web",this.workspaceService)}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IServiceContainer))],u),t.ConfigurationService=u},15925:function(e,t,n){"use strict";var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.WIDGET_MIMETYPE=t.defaultNotebookFormat=t.DataScienceStartupTime=t.JupyterCommands=t.Telemetry=t.RegExpValues=t.EditorContexts=t.CodeLensCommands=t.Commands=t.CommandSource=t.VSCodeKnownNotebookLanguages=t.jupyterLanguageToMonacoLanguageMapping=t.KnownKernelLanguageAliases=t.LanguagesSupportedByPythonkernel=t.PylanceExtension=t.PythonExtension=t.DefaultTheme=t.JupyterDaemonModule=t.JUPYTER_OUTPUT_CHANNEL=t.CodeSnippets=t.Identifiers=t.setUnitTestExecution=t.isUnitTestExecution=t.setTestExecution=t.isTestExecution=t.setCI=t.isCI=t.Settings=t.HelpLinks=t.STANDARD_OUTPUT_CHANNEL=t.DEFAULT_INTERPRETER_SETTING=t.AppinsightsKey=t.JVSC_EXTENSION_ID=t.NOTEBOOK_SELECTOR=t.InteractiveWindowView=t.JupyterNotebookView=t.InteractiveScheme=t.InteractiveInputScheme=t.GITHUB_ISSUE_MARKDOWN_FILE=t.PYTHON_ALLFILES=t.PYTHON=t.PYTHON_CELL=t.PYTHON_FILE_ANY_SCHEME=t.PYTHON_FILE=t.PYTHON_UNTITLED=t.NotebookCellScheme=t.JUPYTER_LANGUAGE=t.MARKDOWN_LANGUAGE=t.PYTHON_LANGUAGE=void 0,t.PYTHON_LANGUAGE="python",t.MARKDOWN_LANGUAGE="markdown",t.JUPYTER_LANGUAGE="jupyter",t.NotebookCellScheme="vscode-notebook-cell",t.PYTHON_UNTITLED={scheme:"untitled",language:t.PYTHON_LANGUAGE},t.PYTHON_FILE={scheme:"file",language:t.PYTHON_LANGUAGE},t.PYTHON_FILE_ANY_SCHEME={language:t.PYTHON_LANGUAGE},t.PYTHON_CELL={scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE},t.PYTHON=[t.PYTHON_UNTITLED,t.PYTHON_FILE,t.PYTHON_CELL],t.PYTHON_ALLFILES=[{language:t.PYTHON_LANGUAGE}],t.GITHUB_ISSUE_MARKDOWN_FILE=[{language:t.MARKDOWN_LANGUAGE,scheme:"untitled",pattern:"**/issue.md"}],t.InteractiveInputScheme="vscode-interactive-input",t.InteractiveScheme="vscode-interactive",t.JupyterNotebookView="jupyter-notebook",t.InteractiveWindowView="interactive",t.NOTEBOOK_SELECTOR=[{language:t.PYTHON_LANGUAGE,notebookType:t.JupyterNotebookView},{scheme:t.InteractiveInputScheme,language:t.PYTHON_LANGUAGE},{scheme:t.InteractiveScheme,language:t.PYTHON_LANGUAGE},{scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE}],t.JVSC_EXTENSION_ID="ms-toolsai.jupyter",t.AppinsightsKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",t.DEFAULT_INTERPRETER_SETTING="python",t.STANDARD_OUTPUT_CHANNEL="STANDARD_OUTPUT_CHANNEL",s(n(91083),t),(o=t.HelpLinks||(t.HelpLinks={})).PythonInteractiveHelpLink="https://aka.ms/pyaiinstall",o.JupyterDataRateHelpLink="https://aka.ms/AA5ggm0",(r=t.Settings||(t.Settings={})).JupyterServerLocalLaunch="local",r.JupyterServerRemoteLaunch="remote",r.JupyterServerUriList="jupyter.jupyterServer.uriList",r.JupyterServerRemoteLaunchUriListKey="remote-uri-list",r.JupyterServerRemoteLaunchUriSeparator="\r",r.JupyterServerRemoteLaunchNameSeparator="\n",r.JupyterServerRemoteLaunchUriEqualsDisplayName="same",r.JupyterServerRemoteLaunchService=t.JVSC_EXTENSION_ID,r.JupyterServerUriListMax=10,r.IntellisenseTimeout=2e3,t.isCI=!1,t.setCI=function(e){t.isCI=e};let a=!1;t.isTestExecution=function(){return a||l()},t.setTestExecution=function(e){a=e};let c=!1;function l(){return c}var u,d,p,h,f,g,m,y,v;t.isUnitTestExecution=l,t.setUnitTestExecution=function(e){c=e},function(e){e.GeneratedThemeName="ipython-theme",e.RawPurpose="raw",e.MatplotLibDefaultParams="_VSCode_defaultMatplotlib_Params",e.MatplotLibFigureFormats="_VSCode_matplotLib_FigureFormats",e.DefaultCodeCellMarker="# %%",e.DefaultCommTarget="jupyter.widget",e.ALL_VARIABLES="ALL_VARIABLES",e.KERNEL_VARIABLES="KERNEL_VARIABLES",e.DEBUGGER_VARIABLES="DEBUGGER_VARIABLES",e.PYTHON_VARIABLES_REQUESTER="PYTHON_VARIABLES_REQUESTER",e.MULTIPLEXING_DEBUGSERVICE="MULTIPLEXING_DEBUGSERVICE",e.RUN_BY_LINE_DEBUGSERVICE="RUN_BY_LINE_DEBUGSERVICE",e.REMOTE_URI="https://remote/",e.REMOTE_URI_ID_PARAM="id",e.REMOTE_URI_HANDLE_PARAM="uriHandle"}(u=t.Identifiers||(t.Identifiers={})),(v=t.CodeSnippets||(t.CodeSnippets={})).ChangeDirectory=["{0}","{1}","import os","try:","\tos.chdir(os.path.join(os.getcwd(), '{2}'))","\tprint(os.getcwd())","except:","\tpass",""],v.ChangeDirectoryCommentIdentifier="# ms-toolsai.jupyter added",v.ImportIPython="{0}\nfrom IPython import get_ipython\n\n{1}",v.MatplotLibInit=`import matplotlib\n%matplotlib inline\n${u.MatplotLibDefaultParams} = dict(matplotlib.rcParams)\n`,v.AppendSVGFigureFormat=`import matplotlib_inline.backend_inline\n${u.MatplotLibFigureFormats} = matplotlib_inline.backend_inline.InlineBackend.instance().figure_formats\n${u.MatplotLibFigureFormats}.add('svg')\nmatplotlib_inline.backend_inline.set_matplotlib_formats(*${u.MatplotLibFigureFormats})`,v.UpdateCWDAndPath='import os\nimport sys\n%cd "{0}"\nif os.getcwd() not in sys.path:\n    sys.path.insert(0, os.getcwd())',v.DisableJedi="%config Completer.use_jedi = False",t.JUPYTER_OUTPUT_CHANNEL="JUPYTER_OUTPUT_CHANNEL",t.JupyterDaemonModule="vscode_datascience_helpers.jupyter_daemon",t.DefaultTheme="Default Light+",t.PythonExtension="ms-python.python",t.PylanceExtension="ms-python.vscode-pylance",t.LanguagesSupportedByPythonkernel=["python","html","xml","javascript","markdown","latex","shellscript","bat","powershell","kusto","ruby","sql","perl","raw"],t.KnownKernelLanguageAliases=new Map([["qsharp","q#"],["csharp","c#"],["fsharp","f#"],["c++11","c++"],["c++12","c++"],["c++14","c++"]]),t.jupyterLanguageToMonacoLanguageMapping=new Map([["bash","shellscript"],["c#","csharp"],["f#","fsharp"],["q#","qsharp"],["c++11","c++"],["c++12","c++"],["c++14","c++"]]),t.VSCodeKnownNotebookLanguages=["python","r","julia","c++","c#","f#","q#","powershell","java","scala","haskell","bash","cling","rust","sas","sos","ocaml"],(y=t.CommandSource||(t.CommandSource={})).auto="auto",y.ui="ui",y.codelens="codelens",y.commandPalette="commandpalette",function(e){e.RunAllCells="jupyter.runallcells",e.RunAllCellsAbove="jupyter.runallcellsabove",e.RunCellAndAllBelow="jupyter.runcellandallbelow",e.RunAllCellsAbovePalette="jupyter.runallcellsabove.palette",e.RunCellAndAllBelowPalette="jupyter.runcurrentcellandallbelow.palette",e.RunToLine="jupyter.runtoline",e.RunFromLine="jupyter.runfromline",e.RunCell="jupyter.runcell",e.RunCurrentCell="jupyter.runcurrentcell",e.RunCurrentCellAdvance="jupyter.runcurrentcelladvance",e.CreateNewInteractive="jupyter.createnewinteractive",e.ImportNotebook="jupyter.importnotebook",e.ImportNotebookFile="jupyter.importnotebookfile",e.SelectJupyterURI="jupyter.selectjupyteruri",e.SelectNativeJupyterUriFromToolBar="jupyter.selectNativeJupyterUriFromToolBar",e.SelectJupyterCommandLine="jupyter.selectjupytercommandline",e.ExportFileAsNotebook="jupyter.exportfileasnotebook",e.ExportFileAndOutputAsNotebook="jupyter.exportfileandoutputasnotebook",e.InterruptKernel="jupyter.interruptkernel",e.RestartKernel="jupyter.restartkernel",e.NotebookEditorUndoCells="jupyter.notebookeditor.undocells",e.NotebookEditorRedoCells="jupyter.notebookeditor.redocells",e.NotebookEditorRemoveAllCells="jupyter.notebookeditor.removeallcells",e.NotebookEditorRestartKernel="jupyter.notebookeditor.restartkernel",e.NotebookEditorRunAllCells="jupyter.notebookeditor.runallcells",e.NotebookEditorRunSelectedCell="jupyter.notebookeditor.runselectedcell",e.NotebookEditorAddCellBelow="jupyter.notebookeditor.addcellbelow",e.ExpandAllCells="jupyter.expandallcells",e.CollapseAllCells="jupyter.collapseallcells",e.ExportOutputAsNotebook="jupyter.exportoutputasnotebook",e.ExecSelectionInInteractiveWindow="jupyter.execSelectionInteractive",e.RunFileInInteractiveWindows="jupyter.runFileInteractive",e.DebugFileInInteractiveWindows="jupyter.debugFileInteractive",e.AddCellBelow="jupyter.addcellbelow",e.DebugCurrentCellPalette="jupyter.debugcurrentcell.palette",e.DebugCell="jupyter.debugcell",e.DebugStepOver="jupyter.debugstepover",e.DebugContinue="jupyter.debugcontinue",e.DebugStop="jupyter.debugstop",e.RunCurrentCellAndAddBelow="jupyter.runcurrentcellandaddbelow",e.InsertCellBelowPosition="jupyter.insertCellBelowPosition",e.InsertCellBelow="jupyter.insertCellBelow",e.InsertCellAbove="jupyter.insertCellAbove",e.DeleteCells="jupyter.deleteCells",e.SelectCell="jupyter.selectCell",e.SelectCellContents="jupyter.selectCellContents",e.ExtendSelectionByCellAbove="jupyter.extendSelectionByCellAbove",e.ExtendSelectionByCellBelow="jupyter.extendSelectionByCellBelow",e.MoveCellsUp="jupyter.moveCellsUp",e.MoveCellsDown="jupyter.moveCellsDown",e.ChangeCellToMarkdown="jupyter.changeCellToMarkdown",e.ChangeCellToCode="jupyter.changeCellToCode",e.GotoNextCellInFile="jupyter.gotoNextCellInFile",e.GotoPrevCellInFile="jupyter.gotoPrevCellInFile",e.ScrollToCell="jupyter.scrolltocell",e.CreateNewNotebook="jupyter.createnewnotebook",e.ViewJupyterOutput="jupyter.viewOutput",e.ExportAsPythonScript="jupyter.exportAsPythonScript",e.ExportToHTML="jupyter.exportToHTML",e.ExportToPDF="jupyter.exportToPDF",e.Export="jupyter.export",e.NativeNotebookExport="jupyter.notebookeditor.export",e.LatestExtension="jupyter.latestExtension",e.EnableLoadingWidgetsFrom3rdPartySource="jupyter.enableLoadingWidgetScriptsFromThirdPartySource",e.NotebookEditorExpandAllCells="jupyter.notebookeditor.expandallcells",e.NotebookEditorCollapseAllCells="jupyter.notebookeditor.collapseallcells",e.EnableDebugLogging="jupyter.enableDebugLogging",e.ResetLoggingLevel="jupyter.resetLoggingLevel",e.ShowDataViewer="jupyter.showDataViewer",e.RefreshDataViewer="jupyter.refreshDataViewer",e.ClearSavedJupyterUris="jupyter.clearSavedJupyterUris",e.OpenVariableView="jupyter.openVariableView",e.OpenOutlineView="jupyter.openOutlineView",e.InteractiveClearAll="jupyter.interactive.clearAllCells",e.InteractiveGoToCode="jupyter.interactive.goToCode",e.InteractiveCopyCell="jupyter.interactive.copyCell",e.InteractiveExportAsNotebook="jupyter.interactive.exportasnotebook",e.InteractiveExportAs="jupyter.interactive.exportas",e.DebugNotebook="jupyter.debugNotebook",e.RunByLine="jupyter.runByLine",e.RunAndDebugCell="jupyter.runAndDebugCell",e.RunByLineNext="jupyter.runByLineNext",e.RunByLineStop="jupyter.runByLineStop",e.ReplayPylanceLog="jupyter.replayPylanceLog",e.ReplayPylanceLogStep="jupyter.replayPylanceLogStep",e.InstallPythonExtensionViaKernelPicker="jupyter.installPythonExtensionViaKernelPicker",e.InstallPythonViaKernelPicker="jupyter.installPythonViaKernelPicker",e.SwitchToLocalKernels="jupyter.switchToLocalKernels",e.SwitchToRemoteKernels="jupyter.switchToRemoteKernels",e.SwitchToAnotherRemoteKernels="jupyter.switchToAnotherRemoteKernels",e.PickDocumentKernelSource="jupyter.pickDocumentKernelSource"}(d=t.Commands||(t.Commands={})),(m=t.CodeLensCommands||(t.CodeLensCommands={})).DefaultDesignLenses=[d.RunCurrentCell,d.RunAllCellsAbove,d.DebugCell],m.DefaultDebuggingLenses=[d.DebugContinue,d.DebugStop,d.DebugStepOver],m.DebuggerCommands=[d.DebugContinue,d.DebugStop,d.DebugStepOver],(g=t.EditorContexts||(t.EditorContexts={})).HasCodeCells="jupyter.hascodecells",g.HaveInteractiveCells="jupyter.haveinteractivecells",g.HaveRedoableCells="jupyter.haveredoablecells",g.HaveInteractive="jupyter.haveinteractive",g.IsInteractiveActive="jupyter.isinteractiveactive",g.OwnsSelection="jupyter.ownsSelection",g.HaveNativeCells="jupyter.havenativecells",g.HaveNativeRedoableCells="jupyter.havenativeredoablecells",g.HaveNative="jupyter.havenative",g.IsNativeActive="jupyter.isnativeactive",g.IsInteractiveOrNativeActive="jupyter.isinteractiveornativeactive",g.IsPythonOrNativeActive="jupyter.ispythonornativeactive",g.IsPythonOrInteractiveActive="jupyter.ispythonorinteractiveeactive",g.IsPythonOrInteractiveOrNativeActive="jupyter.ispythonorinteractiveornativeeactive",g.CanRestartNotebookKernel="jupyter.notebookeditor.canrestartNotebookkernel",g.CanInterruptNotebookKernel="jupyter.notebookeditor.canInterruptNotebookKernel",g.CanRestartInteractiveWindowKernel="jupyter.interactive.canRestartNotebookKernel",g.CanInterruptInteractiveWindowKernel="jupyter.interactive.canInterruptNotebookKernel",g.RunByLineCells="jupyter.notebookeditor.runByLineCells",g.RunByLineDocuments="jupyter.notebookeditor.runByLineDocuments",g.DebugDocuments="jupyter.notebookeditor.debugDocuments",g.IsPythonNotebook="jupyter.ispythonnotebook",g.IsJupyterKernelSelected="jupyter.kernel.isjupyter",g.IsDataViewerActive="jupyter.dataViewerActive",g.HasNativeNotebookOrInteractiveWindowOpen="jupyter.hasNativeNotebookOrInteractiveWindowOpen",g.ZmqAvailable="jupyter.zmqavailable",g.ReplayLogLoaded="jupyter.replayLogLoaded",(f=t.RegExpValues||(t.RegExpValues={})).PythonCellMarker=/^(#\s*%%|#\s*\<codecell\>|#\s*In\[\d*?\]|#\s*In\[ \])/,f.PythonMarkdownCellMarker=/^(#\s*%%\s*\[markdown\]|#\s*\<markdowncell\>)/,f.UrlPatternRegEx="(?<PREFIX>https?:\\/\\/)((\\(.+\\s+or\\s+(?<IP>.+)\\))|(?<LOCAL>[^\\s]+))(?<REST>:.+)",f.HttpPattern=/https?:\/\//,f.ShapeSplitterRegEx=/.*,\s*(\d+).*/,f.SvgHeightRegex=/(\<svg.*height=\")(.*?)\"/,f.SvgWidthRegex=/(\<svg.*width=\")(.*?)\"/,f.SvgSizeTagRegex=/\<svg.*tag=\"sizeTag=\{(.*),\s*(.*)\}\"/,(h=t.Telemetry||(t.Telemetry={})).ImportNotebook="DATASCIENCE.IMPORT_NOTEBOOK",h.RunCurrentCell="DATASCIENCE.RUN_CURRENT_CELL",h.RunCurrentCellAndAdvance="DATASCIENCE.RUN_CURRENT_CELL_AND_ADVANCE",h.RunAllCells="DATASCIENCE.RUN_ALL_CELLS",h.RunAllCellsAbove="DATASCIENCE.RUN_ALL_CELLS_ABOVE",h.RunCellAndAllBelow="DATASCIENCE.RUN_CELL_AND_ALL_BELOW",h.RunCurrentCellAndAddBelow="DATASCIENCE.RUN_CURRENT_CELL_AND_ADD_BELOW",h.InsertCellBelowPosition="DATASCIENCE.RUN_INSERT_CELL_BELOW_POSITION",h.InsertCellBelow="DATASCIENCE.RUN_INSERT_CELL_BELOW",h.InsertCellAbove="DATASCIENCE.RUN_INSERT_CELL_ABOVE",h.DeleteCells="DATASCIENCE.RUN_DELETE_CELLS",h.SelectCell="DATASCIENCE.RUN_SELECT_CELL",h.SelectCellContents="DATASCIENCE.RUN_SELECT_CELL_CONTENTS",h.ExtendSelectionByCellAbove="DATASCIENCE.RUN_EXTEND_SELECTION_BY_CELL_ABOVE",h.ExtendSelectionByCellBelow="DATASCIENCE.RUN_EXTEND_SELECTION_BY_CELL_BELOW",h.MoveCellsUp="DATASCIENCE.RUN_MOVE_CELLS_UP",h.MoveCellsDown="DATASCIENCE.RUN_MOVE_CELLS_DOWN",h.ChangeCellToMarkdown="DATASCIENCE.RUN_CHANGE_CELL_TO_MARKDOWN",h.ChangeCellToCode="DATASCIENCE.RUN_CHANGE_CELL_TO_CODE",h.GotoNextCellInFile="DATASCIENCE.GOTO_NEXT_CELL_IN_FILE",h.GotoPrevCellInFile="DATASCIENCE.GOTO_PREV_CELL_IN_FILE",h.RunSelectionOrLine="DATASCIENCE.RUN_SELECTION_OR_LINE",h.RunToLine="DATASCIENCE.RUN_TO_LINE",h.RunFromLine="DATASCIENCE.RUN_FROM_LINE",h.CreateNewInteractive="DATASCIENCE.CREATE_NEW_INTERACTIVE",h.SelectJupyterURI="DATASCIENCE.SELECT_JUPYTER_URI",h.EnterJupyterURI="DATASCIENCE.ENTER_JUPYTER_URI",h.SelectLocalJupyterKernel="DATASCIENCE.SELECT_LOCAL_JUPYTER_KERNEL",h.SelectRemoteJupyterKernel="DATASCIENCE.SELECT_REMOTE_JUPYTER_KERNEL",h.SetJupyterURIToLocal="DATASCIENCE.SET_JUPYTER_URI_LOCAL",h.SetJupyterURIToUserSpecified="DATASCIENCE.SET_JUPYTER_URI_USER_SPECIFIED",h.SetJupyterURIUIDisplayed="DATASCIENCE.SET_JUPYTER_URI_UI_DISPLAYED",h.Interrupt="DATASCIENCE.INTERRUPT",h.ExportPythonFileInteractive="DATASCIENCE.EXPORT_PYTHON_FILE",h.ExportPythonFileAndOutputInteractive="DATASCIENCE.EXPORT_PYTHON_FILE_AND_OUTPUT",h.ClickedExportNotebookAsQuickPick="DATASCIENCE.CLICKED_EXPORT_NOTEBOOK_AS_QUICK_PICK",h.ExportNotebookAs="DATASCIENCE.EXPORT_NOTEBOOK_AS",h.ExportNotebookAsCommand="DATASCIENCE.EXPORT_NOTEBOOK_AS_COMMAND",h.ExportNotebookAsFailed="DATASCIENCE.EXPORT_NOTEBOOK_AS_FAILED",h.FailedToCreateNotebookController="DATASCIENCE.FAILED_TO_CREATE_CONTROLLER",h.StartJupyter="DS_INTERNAL.JUPYTERSTARTUPCOST",h.ConnectRemoteJupyterViaLocalHost="DS_INTERNAL.CONNECTREMOTEJUPYTER_VIA_LOCALHOST",h.ConnectFailedJupyter="DS_INTERNAL.CONNECTFAILEDJUPYTER",h.ConnectRemoteFailedJupyter="DS_INTERNAL.CONNECTREMOTEFAILEDJUPYTER",h.StartSessionFailedJupyter="DS_INTERNAL.START_SESSION_FAILED_JUPYTER",h.ConnectRemoteSelfCertFailedJupyter="DS_INTERNAL.CONNECTREMOTESELFCERTFAILEDJUPYTER",h.ConnectRemoteExpiredCertFailedJupyter="DS_INTERNAL.CONNECTREMOTEEXPIREDCERTFAILEDJUPYTER",h.SelfCertsMessageEnabled="DATASCIENCE.SELFCERTSMESSAGEENABLED",h.SelfCertsMessageClose="DATASCIENCE.SELFCERTSMESSAGECLOSE",h.ShiftEnterBannerShown="DS_INTERNAL.SHIFTENTER_BANNER_SHOWN",h.EnableInteractiveShiftEnter="DATASCIENCE.ENABLE_INTERACTIVE_SHIFT_ENTER",h.DisableInteractiveShiftEnter="DATASCIENCE.DISABLE_INTERACTIVE_SHIFT_ENTER",h.StartShowDataViewer="DATASCIENCE.START_SHOW_DATA_EXPLORER",h.ShowDataViewer="DATASCIENCE.SHOW_DATA_EXPLORER",h.ShowDataViewerRowsLoaded="DATASCIENCE.SHOW_DATA_EXPLORER_ROWS_LOADED",h.FailedShowDataViewer="DATASCIENCE.FAILED_SHOW_DATA_EXPLORER",h.RefreshDataViewer="DATASCIENCE.REFRESH_DATA_VIEWER",h.RunFileInteractive="DATASCIENCE.RUN_FILE_INTERACTIVE",h.DebugFileInteractive="DATASCIENCE.DEBUG_FILE_INTERACTIVE",h.PandasNotInstalled="DS_INTERNAL.SHOW_DATA_NO_PANDAS",h.PandasTooOld="DS_INTERNAL.SHOW_DATA_PANDAS_TOO_OLD",h.PandasOK="DS_INTERNAL.SHOW_DATA_PANDAS_OK",h.PandasInstallCanceled="DS_INTERNAL.SHOW_DATA_PANDAS_INSTALL_CANCELED",h.DataScienceSettings="DS_INTERNAL.SETTINGS",h.VariableExplorerVariableCount="DS_INTERNAL.VARIABLE_EXPLORER_VARIABLE_COUNT",h.AddCellBelow="DATASCIENCE.ADD_CELL_BELOW",h.GetPasswordFailure="DS_INTERNAL.GET_PASSWORD_FAILURE",h.GetPasswordSuccess="DS_INTERNAL.GET_PASSWORD_SUCCESS",h.OpenPlotViewer="DATASCIENCE.OPEN_PLOT_VIEWER",h.DebugCurrentCell="DATASCIENCE.DEBUG_CURRENT_CELL",h.CodeLensAverageAcquisitionTime="DS_INTERNAL.CODE_LENS_ACQ_TIME",h.SelectJupyterInterpreter="DS_INTERNAL.SELECT_JUPYTER_INTERPRETER",h.SelectJupyterInterpreterCommand="DATASCIENCE.SELECT_JUPYTER_INTERPRETER_Command",h.NumberOfSavedRemoteKernelIds="DS_INTERNAL.NUMBER_OF_REMOTE_KERNEL_IDS_SAVED",h.WaitForIdleJupyter="DS_INTERNAL.WAIT_FOR_IDLE_JUPYTER",h.PerceivedJupyterStartupNotebook="DS_INTERNAL.PERCEIVED_JUPYTER_STARTUP_NOTEBOOK",h.GetActivatedEnvironmentVariables="DS_INTERNAL.GET_ACTIVATED_ENV_VARIABLES",h.WebviewStartup="DS_INTERNAL.WEBVIEW_STARTUP",h.VariableExplorerFetchTime="DS_INTERNAL.VARIABLE_EXPLORER_FETCH_TIME",h.FailedToUpdateKernelSpec="DS_INTERNAL.FAILED_TO_UPDATE_JUPYTER_KERNEL_SPEC",h.CellOutputMimeType="DS_INTERNAL.CELL_OUTPUT_MIME_TYPE",h.JupyterKernelApiUsage="DATASCIENCE.JUPYTER_KERNEL_API_USAGE",h.JupyterKernelApiAccess="DATASCIENCE.JUPYTER_KERNEL_API_ACCESS",h.JupyterKernelHiddenViaFilter="DATASCIENCE.JUPYTER_KERNEL_HIDDEN_VIA_FILTER",h.JupyterKernelFilterUsed="DATASCIENCE.JUPYTER_KERNEL_FILTER_USED",h.JupyterInstalledButNotKernelSpecModule="DS_INTERNAL.JUPYTER_INTALLED_BUT_NO_KERNELSPEC_MODULE",h.CreateNewNotebook="DATASCIENCE.NATIVE.CREATE_NEW_NOTEBOOK",h.DebugStepOver="DATASCIENCE.DEBUG_STEP_OVER",h.DebugContinue="DATASCIENCE.DEBUG_CONTINUE",h.DebugStop="DATASCIENCE.DEBUG_STOP",h.OpenNotebookAll="DATASCIENCE.NATIVE.OPEN_NOTEBOOK_ALL",h.JupyterNotInstalledErrorShown="DATASCIENCE.JUPYTER_NOT_INSTALLED_ERROR_SHOWN",h.RegisterInterpreterAsKernel="DS_INTERNAL.JUPYTER_REGISTER_INTERPRETER_AS_KERNEL",h.UserInstalledJupyter="DATASCIENCE.USER_INSTALLED_JUPYTER",h.UserInstalledPandas="DATASCIENCE.USER_INSTALLED_PANDAS",h.UserDidNotInstallJupyter="DATASCIENCE.USER_DID_NOT_INSTALL_JUPYTER",h.UserDidNotInstallPandas="DATASCIENCE.USER_DID_NOT_INSTALL_PANDAS",h.KernelSpecLanguage="DATASCIENCE.KERNEL_SPEC_LANGUAGE",h.KernelSpecNotFound="DS_INTERNAL.KERNEL_SPEC_NOT_FOUND",h.KernelLauncherPerf="DS_INTERNAL.KERNEL_LAUNCHER_PERF",h.PreferredKernel="DS_INTERNAL.PREFERRED_KERNEL",h.RankKernelsPerf="DS_INTERNAL.RANK_KERNELS_PERF",h.KernelListingPerf="DS_INTERNAL.KERNEL_LISTING_PERF",h.InterpreterListingPerf="DS_INTERNAL.INTERPRETER_LISTING_PERF",h.ActiveInterpreterListingPerf="DS_INTERNAL.ACTIVE_INTERPRETER_LISTING_PERF",h.PythonModuleInstall="DS_INTERNAL.PYTHON_MODULE_INSTALL",h.PythonNotInstalled="DS_INTERNAL.PYTHON_NOT_INSTALLED",h.PythonExtensionNotInstalled="DS_INTERNAL.PYTHON_EXTENSION_NOT_INSTALLED",h.PythonExtensionInstalledViaKernelPicker="DS_INTERNAL.PYTHON_EXTENSION_INSTALLED_VIA_KERNEL_PICKER",h.JupyterCommandLineNonDefault="DS_INTERNAL.JUPYTER_CUSTOM_COMMAND_LINE",h.NewFileForInteractiveWindow="DS_INTERNAL.NEW_FILE_USED_IN_INTERACTIVE",h.IPyWidgetLoadSuccess="DS_INTERNAL.IPYWIDGET_LOAD_SUCCESS",h.IPyWidgetLoadFailure="DS_INTERNAL.IPYWIDGET_LOAD_FAILURE",h.IPyWidgetWidgetVersionNotSupportedLoadFailure="DS_INTERNAL.IPYWIDGET_WIDGET_VERSION_NOT_SUPPORTED_LOAD_FAILURE",h.IPyWidgetExtensionJsInfo="DS_INTERNAL.IPYWIDGET_EXTENSIONJS_INFO",h.IPyWidgetNbExtensionCopyTime="DS_INTERNAL.IPYWIDGET_TIME_TO_COPY_NBEXTENSIONS_DIR",h.HashedIPyWidgetNameUsed="DS_INTERNAL.IPYWIDGET_USED_BY_USER",h.VSCNotebookCellTranslationFailed="DS_INTERNAL.VSCNOTEBOOK_CELL_TRANSLATION_FAILED",h.HashedIPyWidgetScriptDiscoveryError="DS_INTERNAL.IPYWIDGET_DISCOVERY_ERRORED",h.DiscoverIPyWidgetNamesPerf="DS_INTERNAL.IPYWIDGET_DISCOVER_WIDGETS_NB_EXTENSIONS",h.IPyWidgetPromptToUseCDN="DS_INTERNAL.IPYWIDGET_PROMPT_TO_USE_CDN",h.IPyWidgetPromptToUseCDNSelection="DS_INTERNAL.IPYWIDGET_PROMPT_TO_USE_CDN_SELECTION",h.IPyWidgetOverhead="DS_INTERNAL.IPYWIDGET_OVERHEAD",h.IPyWidgetRenderFailure="DS_INTERNAL.IPYWIDGET_RENDER_FAILURE",h.IPyWidgetUnhandledMessage="DS_INTERNAL.IPYWIDGET_UNHANDLED_MESSAGE",h.RawKernelInfoResponse="DS_INTERNAL.RAWKERNEL_INFO_RESPONSE",h.RawKernelSessionStartNoIpykernel="DS_INTERNAL.RAWKERNEL_SESSION_NO_IPYKERNEL",h.RawKernelProcessLaunch="DS_INTERNAL.RAWKERNEL_PROCESS_LAUNCH",h.RawKernelSessionShutdown="DS_INTERNAL.RAWKERNEL_SESSION_SHUTDOWN",h.RawKernelSessionKernelProcessExited="DS_INTERNAL.RAWKERNEL_SESSION_KERNEL_PROCESS_EXITED",h.RawKernelSessionDisposed="DS_INTERNAL.RAWKERNEL_SESSION_DISPOSED",h.RunByLineVariableHover="DATASCIENCE.RUN_BY_LINE_VARIABLE_HOVER",h.InteractiveFileTooltipsPerf="DS_INTERNAL.INTERACTIVE_FILE_TOOLTIPS_PERF",h.NativeVariableViewLoaded="DS_INTERNAL.NATIVE_VARIABLE_VIEW_LOADED",h.NativeVariableViewMadeVisible="DS_INTERNAL.NATIVE_VARIABLE_VIEW_MADE_VISIBLE",h.NotebookStart="DATASCIENCE.NOTEBOOK_START",h.NotebookInterrupt="DATASCIENCE.NOTEBOOK_INTERRUPT",h.NotebookRestart="DATASCIENCE.NOTEBOOK_RESTART",h.SwitchKernel="DS_INTERNAL.SWITCH_KERNEL",h.KernelCount="DS_INTERNAL.KERNEL_COUNT",h.ExecuteCell="DATASCIENCE.EXECUTE_CELL",h.CommandExecuted="DS_INTERNAL.COMMAND_EXECUTED",h.DataViewerSliceEnablementStateChanged="DATASCIENCE.DATA_VIEWER_SLICE_ENABLEMENT_STATE_CHANGED",h.DataViewerDataDimensionality="DATASCIENCE.DATA_VIEWER_DATA_DIMENSIONALITY",h.DataViewerSliceOperation="DATASCIENCE.DATA_VIEWER_SLICE_OPERATION",h.RecommendExtension="DATASCIENCE.RECOMMENT_EXTENSION",h.PythonVariableFetchingCodeFailure="DATASCIENCE.PYTHON_VARIABLE_FETCHING_CODE_FAILURE",h.InteractiveWindowDebugSetupCodeFailure="DATASCIENCE.INTERACTIVE_WINDOW_DEBUG_SETUP_CODE_FAILURE",h.KernelCrash="DATASCIENCE.KERNEL_CRASH",h.RunTest="DS_INTERNAL.RUNTEST",h.PreferredKernelExactMatch="DS_INTERNAL.PREFERRED_KERNEL_EXACT_MATCH",h.JupyterInstalled="JUPYTER_IS_INSTALLED",h.NoActiveKernelSession="DATASCIENCE.NO_ACTIVE_KERNEL_SESSION",h.DataViewerUsingInterpreter="DATAVIEWER.USING_INTERPRETER",h.DataViewerUsingKernel="DATAVIEWER.USING_KERNEL",h.DataViewerWebviewLoaded="DATAVIEWER.WEBVIEW_LOADED",h.PlotViewerWebviewLoaded="PLOTVIEWER.WEBVIEW_LOADED",(p=t.JupyterCommands||(t.JupyterCommands={})).NotebookCommand="notebook",p.ConvertCommand="nbconvert",p.KernelSpecCommand="kernelspec",t.DataScienceStartupTime=Symbol("DataScienceStartupTime"),t.defaultNotebookFormat={major:4,minor:2},t.WIDGET_MIMETYPE="application/vnd.jupyter.widget-view+json"},29444:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKey=void 0,t.ContextKey=class{constructor(e,t){this.name=e,this.commandManager=t}get value(){return this.lastValue}async set(e){this.lastValue!==e&&(this.lastValue=e,await this.commandManager.executeCommand("setContext",this.name,this.lastValue))}}},46729:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.computeHash=t.CryptoUtils=void 0;const o=n(86700),i=n(10667);let s=class{async createHash(e,t="SHA-256"){return l(e,t)}};s=r([(0,o.injectable)()],s),t.CryptoUtils=s;const a={};let c=!1;async function l(e,t){const n=e.includes("/")||e.includes("\\")||e.endsWith(".interactive");if(n&&a[e])return a[e];const r=await(0,i.computeHash)(e,t);return n&&!c&&(Object.keys(a).length>1e4&&(c=!0),a[e]=r),r}t.computeHash=l},62392:function(e,t,n){"use strict";var r,o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataFrameScriptGenerator=void 0;const a=n(86700),c=n(83599),l=n(42080),u=n(52859),d=s(n(66518)),p="_VSCODE_getDataFrame",h=d.default`
                            try:
                                del _VSCODE_getDataFrame
                            except:
                                pass
                            `;let f=r=class{constructor(e,t){this.fs=e,this.context=t}async generateCodeToGetDataFrameInfo(e){const t=await this.getContentsOfDataFrameScript(),n=e.isDebugging?"True":"False",r=`${p}("info", ${n}, ${e.variableName})`;return e.isDebugging?{initializeCode:t,code:r,cleanupCode:h}:{code:`${t}\n\n${r}\n\n${h}`}}async generateCodeToGetDataFrameRows(e){const t=await this.getContentsOfDataFrameScript(),n=e.isDebugging?"True":"False",r=`${p}("rows", ${n}, ${e.variableName}, ${e.startIndex}, ${e.endIndex})`;return e.isDebugging?{initializeCode:t,code:r,cleanupCode:h}:{code:`${t}\n\n${r}\n\n${h}`}}async getContentsOfDataFrameScript(){if(r.contentsOfDataFrameScript)return r.contentsOfDataFrameScript;const e=(0,u.joinPath)(this.context.extensionUri,"pythonFiles","vscode_datascience_helpers","dataframes","vscodeDataFrame.py"),t=await this.fs.readFile(e);return r.contentsOfDataFrameScript=t,t}};f=r=o([(0,a.injectable)(),i(0,(0,a.inject)(c.IFileSystem)),i(1,(0,a.inject)(l.IExtensionContext))],f),t.DataFrameScriptGenerator=f},65738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Experiments=void 0,(t.Experiments||(t.Experiments={})).EnhancedTooltips="jupyterEnhancedTensorTooltips"},44974:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentService=void 0;const i=n(86700),s=n(59035),a=n(10053),c=n(15925),l=n(11642),u=n(42080),d=n(25251),p=n(65738),h=n(8209);let f=class{constructor(e,t,n,r){this.configurationService=e,this.appEnvironment=t,this.globalState=n,this.output=r,this._optInto=[],this._optOutFrom=[],this.settings=e.getSettings(void 0);const o=this.settings.experiments.optInto,i=this.settings.experiments.optOutFrom;if(this._optInto=o.filter((e=>!e.endsWith("control"))),this._optOutFrom=i.filter((e=>!e.endsWith("control"))),!this.enabled)return;let a;a="insiders"===this.appEnvironment.channel?s.TargetPopulation.Insiders:s.TargetPopulation.Public;const u=new h.ExperimentationTelemetry;this.experimentationService=(0,s.getExperimentationService)(c.JVSC_EXTENSION_ID,this.appEnvironment.packageJson.version,a,u,this.globalState),(0,l.traceVerbose)(`Experimentation service retrieved: ${this.experimentationService}`),this.logExperiments()}get enabled(){return this.settings.experiments.enabled}async activate(){this.experimentationService&&await this.experimentationService.initializePromise}async inExperiment(e){if(!this.experimentationService)return!1;switch(this.getOptInOptOutStatus(e)){case"optOut":return!1;case"optIn":return await this.experimentationService.isCachedFlightEnabled(e),!0;default:return this.experimentationService.isCachedFlightEnabled(e)}}async getExperimentValue(e){if(this.experimentationService&&!this._optOutFrom.includes(e))return this.experimentationService.getTreatmentVariableAsync("vscode",e)}logExperiments(){this.experimentationService&&!this.logged&&(this.logged=!0,this.globalState.get("VSCode.ABExp.FeatureData",{features:[]}).features.forEach((e=>{e.toLowerCase().startsWith("jupyter")&&this.output.appendLine(d.Experiments.inGroup().format(e))})),this.getExperimentsUserHasManuallyOptedInto().forEach((e=>{this.output.appendLine(d.Experiments.inGroup().format(e))})))}getOptInOptOutStatus(e){if(this.experimentationService)return this._optOutFrom.includes(e)?"optOut":this._optInto.includes(e)?"optIn":void 0}getExperimentsUserHasManuallyOptedInto(){return Object.values(p.Experiments).filter((e=>"optIn"===this.getOptInOptOutStatus(e)))}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IConfigurationService)),o(1,(0,i.inject)(a.IApplicationEnvironment)),o(2,(0,i.inject)(u.IMemento)),o(2,(0,i.named)(u.GLOBAL_MEMENTO)),o(3,(0,i.inject)(u.IOutputChannel)),o(3,(0,i.named)(c.STANDARD_OUTPUT_CHANNEL))],f),t.ExperimentService=f},8209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationTelemetry=void 0;const r=n(9959);t.ExperimentationTelemetry=class{setSharedProperty(e,t){(0,r.setSharedProperty)(e,t)}postEvent(e,t){const n={};t.forEach(((e,t)=>{n[t]=e})),(0,r.sendTelemetryEvent)(e,void 0,n)}}},8513:()=>{"use strict";String.prototype.splitLines=function(e={removeEmptyEntries:!0,trim:!0}){let t=this.split(/\r?\n/g);return e&&e.trim&&(t=t.map((e=>e.trim()))),e&&e.removeEmptyEntries&&(t=t.filter((e=>e.length>0))),t},String.prototype.toCommandArgument=function(){return this?this.indexOf(" ")>=0&&!this.startsWith('"')&&!this.endsWith('"')?`"${this}"`:this.toString():this},String.prototype.fileToCommandArgument=function(){return this?this.toCommandArgument().replace(/\\/g,"/"):this},String.prototype.trimQuotes=function(){return this?this.replace(/(^['"])|(['"]$)/g,""):this},Promise.prototype.ignoreErrors=function(){this.catch((()=>{}))},String.prototype.format||(String.prototype.format=function(){const e=arguments;return this.replace(/{(\d+)}/g,((t,n)=>void 0===e[n]?t:e[n]))})},74430:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureDeprecationManager=void 0;const i=n(86700),s=n(10053),a=n(11642),c=n(58802),l=n(25251),u=n(42080),d=[{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_FORMAT_ON_SAVE",message:l.Deprecated.SHOW_DEPRECATED_FEATURE_PROMPT_FORMAT_ON_SAVE(),moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/309",setting:{setting:"formatting.formatOnSave",values:["true",!0]}},{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_LINT_ON_TEXT_CHANGE",message:l.Deprecated.SHOW_DEPRECATED_FEATURE_PROMPT_LINT_ON_TEXT_CHANGE(),moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/313",setting:{setting:"linting.lintOnTextChange",values:["true",!0]}},{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_FOR_AUTO_COMPLETE_PRELOAD_MODULES",message:l.Deprecated.SHOW_DEPRECATED_FEATURE_PROMPT_FOR_AUTO_COMPLETE_PRELOAD_MODULES(),moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/1704",setting:{setting:"autoComplete.preloadModules"}}];let p=class{constructor(e,t,n,r){this.persistentStateFactory=e,this.cmdMgr=t,this.workspace=n,this.appShell=r,this.disposables=[]}dispose(){this.disposables.forEach((e=>e.dispose()))}initialize(){d.forEach(this.registerDeprecation.bind(this))}registerDeprecation(e){Array.isArray(e.commands)&&e.commands.forEach((t=>{this.disposables.push(this.cmdMgr.registerCommand(t,(()=>this.notifyDeprecation(e)),this))})),e.setting&&this.checkAndNotifyDeprecatedSetting(e)}async notifyDeprecation(e){const t=this.persistentStateFactory.createGlobalPersistentState(e.doNotDisplayPromptStateKey,!0);if(!t.value)return;const n="Learn more",r="Never show again",o=await this.appShell.showInformationMessage(e.message,n,r);if(o)switch(o){case n:(0,c.launch)(e.moreInfoUrl);break;case r:await t.updateValue(!1);break;default:throw new Error("Selected option not supported.")}}checkAndNotifyDeprecatedSetting(e){let t=!1;Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.length>0?this.workspace.workspaceFolders.forEach((n=>{t||(t=this.isDeprecatedSettingAndValueUsed(this.workspace.getConfiguration("jupyter",n.uri),e.setting))})):t=this.isDeprecatedSettingAndValueUsed(this.workspace.getConfiguration("jupyter"),e.setting),t&&this.notifyDeprecation(e).catch((e=>(0,a.traceVerbose)("Jupyter Extension: notifyDeprecation",e)))}isDeprecatedSettingAndValueUsed(e,t){if(!e.has(t.setting))return!1;const n=e.get(t.setting);return Array.isArray(t.values)&&0!==t.values.length?Array.isArray(t.values)&&0!==t.values.length?t.values.indexOf(e.get(t.setting))>=0:void 0!==n&&(!Array.isArray(n)||n.length>0):!Array.isArray(n)||n.length>0}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IPersistentStateFactory)),o(1,(0,i.inject)(s.ICommandManager)),o(2,(0,i.inject)(s.IWorkspaceService)),o(3,(0,i.inject)(s.IApplicationShell))],p),t.FeatureDeprecationManager=p},20397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disposeAllDisposables=void 0,t.disposeAllDisposables=function(e=[]){for(;e.length;){const t=e.shift();if(t)try{t.dispose()}catch(e){}}}},58802:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserService=t.launch=void 0;const o=n(86700),i=n(66828),s=n(58681);function a(e){i.env.openExternal(i.Uri.parse(e)).then(s.noop,s.noop)}t.launch=a;let c=class{launch(e){a(e)}};c=r([(0,o.injectable)()],c),t.BrowserService=c},54443:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;const c=n(86700),l=n(10053),u=n(11642),d=s(n(54098));let p=class{constructor(e){this.requestOptions={};const t=e.getConfiguration("http").get("proxy","");t&&(this.requestOptions={headers:{proxy:t}})}async downloadFile(e){return d.fetch(e,this.requestOptions)}async exists(e){try{return 200===(await this.downloadFile(e)).status}catch(t){return(0,u.traceVerbose)(`HttpClient - Failure checking for file ${e}: ${t}`),!1}}};p=i([(0,c.injectable)(),a(0,(0,c.inject)(l.IWorkspaceService))],p),t.HttpClient=p},61885:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentStateFactory=t.PersistentState=void 0;const i=n(86700),s=n(42080);class a{constructor(e,t,n,r){this.storage=e,this.key=t,this.defaultValue=n,this.expiryDurationMs=r}get value(){if(this.expiryDurationMs){const e=this.storage.get(this.key,{data:this.defaultValue});return!e||!e.expiry||e.expiry<Date.now()?this.defaultValue:e.data}return this.storage.get(this.key,this.defaultValue)}async updateValue(e){this.expiryDurationMs?await this.storage.update(this.key,{data:e,expiry:Date.now()+this.expiryDurationMs}):await this.storage.update(this.key,e)}}t.PersistentState=a;let c=class{constructor(e,t){this.globalState=e,this.workspaceState=t}createGlobalPersistentState(e,t,n){return new a(this.globalState,e,t,n)}createWorkspacePersistentState(e,t,n){return new a(this.workspaceState,e,t,n)}};c=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IMemento)),o(0,(0,i.named)(s.GLOBAL_MEMENTO)),o(1,(0,i.inject)(s.IMemento)),o(1,(0,i.named)(s.WORKSPACE_MEMENTO))],c),t.PersistentStateFactory=c},59052:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isFileNotFoundError=t.isSystemError=t.vscErrors=void 0;const s=i(n(66828));var a;function c(e,t){const n=e.code;if(n)return n===t}!function(e){const t=s.FileSystemError.FileNotFound().name,n=s.FileSystemError.FileExists().name,r=s.FileSystemError.FileIsADirectory().name,o=s.FileSystemError.FileNotADirectory().name,i=s.FileSystemError.NoPermissions().name,a=[t,n,r,o,i];function c(e,t){if(a.includes(e.name))return e.name===t}e.isFileNotFound=function(e){return c(e,t)},e.isFileExists=function(e){return c(e,n)},e.isFileIsDir=function(e){return c(e,r)},e.isNotDir=function(e){return c(e,o)},e.isNoPermissions=function(e){return c(e,i)}}(a=t.vscErrors||(t.vscErrors={})),t.isSystemError=c,t.isFileNotFoundError=function(e){const t=a.isFileNotFound(e);return void 0!==t?t:c(e,"ENOENT")}},67646:function(e,t,n){"use strict";var r=n(48764).Buffer,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystem=t.ENCODING=void 0;const u=n(86700),d=a(n(66828)),p=n(42080),h=a(n(52859)),f=l(n(71171)),g=n(59052),m=n(11642),y=n(46729);t.ENCODING="utf8";let v=class{constructor(e,t){this.extensionContext=e,this.httpClient=t,this.vscfs=d.workspace.fs}arePathsSame(e,t){return h.isEqual(e,t)}async getFiles(e){return(await this.vscfs.readDirectory(e)).filter((e=>e[1]===d.FileType.File)).map((e=>d.Uri.file(e[0])))}async copy(e,t,n){await this.vscfs.copy(e,t,n)}async createDirectory(e){await this.vscfs.createDirectory(e)}async delete(e){await this.vscfs.delete(e)}async readFile(e){const n=await this.vscfs.readFile(e);return r.from(n).toString(t.ENCODING)}async stat(e){return this.vscfs.stat(e)}async writeFile(e,t){const n="string"==typeof t?r.from(t):t;return this.vscfs.writeFile(e,n)}async createTemporaryFile(e){const t=h.joinPath(this.extensionContext.globalStorageUri,"tmp");await this.vscfs.createDirectory(t);const n=h.joinPath(t,`${e.prefix}-${(0,f.default)()}.${e.fileExtension}`);return await this.writeFile(n,""),{file:n,dispose:()=>this.vscfs.delete(n)}}async exists(e,t){if("http"===e.scheme.toLowerCase()||"https"===e.scheme.toLowerCase())return this.httpClient.exists(e.toString());let n;try{n=await this.stat(e)}catch(t){return(0,g.isFileNotFoundError)(t)||(0,m.traceError)(`stat() failed for "${e}"`,t),!1}return void 0===t||(t===d.FileType.Unknown?n.type===d.FileType.Unknown:(n.type&t)===t)}async getFileHash(e){const t=await this.stat(e),n=`${t.ctime}-${t.mtime}`;return(0,y.computeHash)(n,"SHA-512")}};v=s([(0,u.injectable)(),c(0,(0,u.inject)(p.IExtensionContext)),c(1,(0,u.inject)(p.IHttpClient))],v),t.FileSystem=v},35412:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayPath=t.getFilePath=void 0;const s=i(n(15948)),a=i(n(52859)),c=n(72728);function l(e){const t=(0,c.getOSType)()===c.OSType.Windows;if(e){const n=a.originalFSPath(e);return n&&n.startsWith(s.sep)&&n.length>1&&n[1]!==s.sep&&t?n.slice(1):n||""}return""}function u(e,t,n){const r=(0,c.getOSType)()===c.OSType.Windows;if(e&&t&&a.isEqualOrParent(e,t,!0)){const n=a.relativePath(t,e);if(n)return r?n.replace(/\//g,"\\"):n}if(e&&n&&a.isEqualOrParent(e,n,!0)){let t=a.relativePath(n,e);if(t)return t=r?t.replace(/\//g,"\\"):t,`~${s.sep}${t}`}return l(e)}t.getFilePath=l,t.getDisplayPath=function(e,t=[],n){const r=u(e,void 0,n),o=t.map((t=>u(e,t.uri,n)));let i=r;return[r,...o].forEach((e=>{e.length<i.length&&(i=e)})),i}},76102:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformService=void 0;const o=n(86700),i=n(72728);let s=class{constructor(){this.osType=i.OSType.Unknown}get tempDir(){}get homeDir(){}get pathVariableName(){return""}get virtualEnvBinName(){return this.isWindows?"Scripts":"bin"}get isWindows(){return this.osType===i.OSType.Windows}get isMac(){return this.osType===i.OSType.OSX}get isLinux(){return this.osType===i.OSType.Linux}get osRelease(){return""}get is64bit(){return!1}};s=r([(0,o.injectable)()],s),t.PlatformService=s},63658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(76102),o=n(83599);t.registerTypes=function(e){e.addSingleton(o.IPlatformService,r.PlatformService)}},83599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFileSystem=t.IPlatformService=t.IsWindows=void 0,t.IsWindows=Symbol("IS_WINDOWS"),t.IPlatformService=Symbol("IPlatformService"),t.IFileSystem=Symbol("IFileSystem")},54952:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(44974),o=n(74430),i=n(61885),s=n(42080),a=n(63658),c=n(31104),l=n(46729),u=n(71886),d=n(10053),p=n(52100),h=n(94106),f=n(57703),g=n(68778),m=n(19450),y=n(58802),v=n(61847),b=n(54443),S=n(62392),w=n(37419);t.registerTypes=function(e){e.addSingletonInstance(s.IsWindows,!1),e.addSingleton(s.IExperimentService,r.ExperimentService),e.addSingleton(s.IFeatureDeprecationManager,o.FeatureDeprecationManager),e.addSingleton(s.IPersistentStateFactory,i.PersistentStateFactory),e.addSingleton(s.IExtensions,c.Extensions),e.addSingleton(s.ICryptoUtils,l.CryptoUtils),e.addSingleton(d.IEncryptedStorage,u.EncryptedStorage),e.addSingleton(d.IDocumentManager,p.DocumentManager),e.addSingleton(d.IDebugService,v.DebugService),e.addSingleton(d.IVSCodeNotebook,h.VSCodeNotebook),e.addSingleton(d.IClipboard,f.ClipboardService),e.addSingleton(s.IAsyncDisposableRegistry,g.AsyncDisposableRegistry),e.addSingleton(m.IMultiStepInputFactory,m.MultiStepInputFactory),e.addSingleton(s.IBrowserService,y.BrowserService),e.addSingleton(s.IHttpClient,b.HttpClient),e.addSingleton(s.IDataFrameScriptGenerator,S.DataFrameScriptGenerator),e.addSingleton(s.IVariableScriptGenerator,w.VariableScriptGenerator),(0,a.registerTypes)(e)}},42080:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IDataFrameScriptGenerator=t.IVariableScriptGenerator=t.IDataScienceCommandListener=t.IExperimentService=t.IAsyncDisposableRegistry=t.ICryptoUtils=t.IFeatureDeprecationManager=t.IJupyterExtensionBanner=t.IBrowserService=t.IExtensions=t.IExtensionContext=t.IHttpClient=t.IConfigurationService=t.IRandom=t.IPersistentStateFactory=t.BannerType=t.WORKSPACE_MEMENTO=t.GLOBAL_MEMENTO=t.IMemento=t.IDisposableRegistry=t.IsWindows=t.IOutputChannel=t.IsPreRelease=t.IsWebExtension=t.IsDevMode=t.IsCodeSpace=void 0,t.IsCodeSpace=Symbol("IsCodeSpace"),t.IsDevMode=Symbol("IsDevMode"),t.IsWebExtension=Symbol("IsWebExtension"),t.IsPreRelease=Symbol("IsPreRelease"),t.IOutputChannel=Symbol("IOutputChannel"),t.IsWindows=Symbol("IS_WINDOWS"),t.IDisposableRegistry=Symbol("IDisposableRegistry"),t.IMemento=Symbol("IGlobalMemento"),t.GLOBAL_MEMENTO=Symbol("IGlobalMemento"),t.WORKSPACE_MEMENTO=Symbol("IWorkspaceMemento"),(n=t.BannerType||(t.BannerType={}))[n.InsidersNotebookSurvey=0]="InsidersNotebookSurvey",n[n.ExperimentNotebookSurvey=1]="ExperimentNotebookSurvey",t.IPersistentStateFactory=Symbol("IPersistentStateFactory"),t.IRandom=Symbol("IRandom"),t.IConfigurationService=Symbol("IConfigurationService"),t.IHttpClient=Symbol("IHttpClient"),t.IExtensionContext=Symbol("ExtensionContext"),t.IExtensions=Symbol("IExtensions"),t.IBrowserService=Symbol("IBrowserService"),t.IJupyterExtensionBanner=Symbol("IJupyterExtensionBanner"),t.IFeatureDeprecationManager=Symbol("IFeatureDeprecationManager"),t.ICryptoUtils=Symbol("ICryptoUtils"),t.IAsyncDisposableRegistry=Symbol("IAsyncDisposableRegistry"),t.IExperimentService=Symbol("IExperimentService"),t.IDataScienceCommandListener=Symbol("IDataScienceCommandListener"),t.IVariableScriptGenerator=Symbol("IVariableScriptGenerator"),t.IDataFrameScriptGenerator=Symbol("IDataFrameScriptGenerator")},86563:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parseSemVer=t.removeLinesFromFrontAndBack=t.removeLinesFromFrontAndBackNoConcat=t.generateMarkdownFromCodeLines=t.appendLineFeed=t.stripComments=t.parseForComments=t.formatStreamText=t.splitMultilineString=t.concatMultilineString=t.getAssociatedJupyterNotebook=t.getNotebookFormat=t.getNotebookMetadata=t.isJupyterNotebook=t.generateNewNotebookUri=t.translateKernelLanguageToMonaco=t.traceCellResults=t.pruneCell=t.getResourceType=t.AllowedCellOutputKeys=void 0;const s=n(36625),a=i(n(52859)),c=n(66828),l=n(15925),u=n(11642),d=n(25251);function p(e){let n;switch(e.output_type){case"stream":case"error":case"execute_result":case"display_data":n=t.AllowedCellOutputKeys[e.output_type];break;default:return e}const r={...e};for(const t of Object.keys(e))n.has(t)||delete r[t];return r}function h(e){return"string"==typeof e?e===l.JupyterNotebookView||e===l.InteractiveWindowView:e.notebookType===l.JupyterNotebookView||e.notebookType===l.InteractiveWindowView}function f(e){if(Array.isArray(e))return e;const t=e.toString();if(t.length>0){const e=t.split("\n");return e.map(((t,n)=>n<e.length-1?`${t}\n`:t)).filter((e=>e.length>0))}return[]}t.AllowedCellOutputKeys={stream:new Set(Object.keys({output_type:"stream",name:"stdout",text:""})),error:new Set(Object.keys({output_type:"error",ename:"",evalue:"",traceback:[""]})),display_data:new Set(Object.keys({output_type:"display_data",data:{},metadata:{}})),execute_result:new Set(Object.keys({output_type:"execute_result",execution_count:0,data:{},metadata:{}}))},t.getResourceType=function(e){return e&&a.extname(e).toLowerCase().endsWith("ipynb")?"notebook":"interactive"},t.pruneCell=function(e){const t={...e,source:f(e.source)};if("code"!==t.cell_type)delete t.outputs,delete t.execution_count;else if(t.cell_type){const e=t;e.outputs=e.outputs?e.outputs.map(p):[]}return t},t.traceCellResults=function(e,t){if(t.length>0&&"code"===t[0].data.cell_type){const n=t[0].data,r=n.outputs&&n.outputs[0]?"evalue"in n.outputs[0]:void 0;if(r)(0,u.traceError)(`${e} Error : ${r}`);else if(n.outputs&&n.outputs[0])if(n.outputs[0].output_type.includes("image"))(0,u.traceInfo)(`${e} Output: image`);else{const t=n.outputs[0].data,r=n.outputs[0].text;(0,u.traceInfo)(`${e} Output: ${r||JSON.stringify(t)}`)}}else(0,u.traceInfo)(`${e} no output.`)},t.translateKernelLanguageToMonaco=function(e){return 2===(e=e.toLowerCase()).length&&e.endsWith("#")?`${e.substring(0,1)}sharp`:l.jupyterLanguageToMonacoLanguageMapping.get(e)||e},t.generateNewNotebookUri=function(e,t,n,r){const o=`${d.DataScience.untitledNotebookFileName()}-${e}.ipynb`;return r?c.Uri.file(o).with({scheme:"untitled",path:o}):c.Uri.joinPath(t?c.Uri.file(t):c.Uri.file(n),o).with({scheme:"untitled"})},t.isJupyterNotebook=h,t.getNotebookMetadata=function(e){var t;const n=null===(t=e.metadata)||void 0===t?void 0:t.custom;return JSON.parse(JSON.stringify((null==n?void 0:n.metadata)||{}))},t.getNotebookFormat=function(e){var t;const n=null===(t=e.metadata)||void 0===t?void 0:t.custom;return{nbformat:null==n?void 0:n.nbformat,nbformat_minor:null==n?void 0:n.nbformat_minor}},t.getAssociatedJupyterNotebook=function(e){return c.workspace.notebookDocuments.find((t=>h(t)&&t.getCells().some((t=>t.document===e))))},t.concatMultilineString=function(e){if(Array.isArray(e)){let t="";for(let n=0;n<e.length;n+=1){const r=e[n];t=n<e.length-1&&!r.endsWith("\n")?t.concat(`${r}\n`):t.concat(r)}return t}return e.toString()},t.splitMultilineString=f,t.formatStreamText=function(e){return function(e){for(e=e.replace(/\r+\n/gm,"\n");e.search(/\r[^$]/g)>-1;){var t=e.match(/^(.*)\r+/m)[1],n=e.match(/\r+(.*)$/m)[1];n+=t.slice(n.length,t.length),e=e.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,n)}return e}(function(e){let t=e;do{t=(e=t).replace(/[^\n]\x08/gm,"")}while(t.length<e.length);return e}(e))};const g="'''",m='"""';function y(e,t,n){let r,o,i=0;for(const s of e){const e=s.trim(),a=e.startsWith(g)?g:e.startsWith(m)?m:void 0,c=e.includes(g)?g:e.includes(m)?m:void 0;if(o)o===c&&(o=void 0),n(s,i);else if(r)r===a&&(r=void 0),r&&t(s,i);else if(c&&!a){const t=e.indexOf(c);o=e.lastIndexOf(c)!==t?void 0:c,n(s,i)}else if(a){const n=e.indexOf(a,3);r=n>=0?void 0:a,e.length>3&&t(e.slice(3,n>=0?n:void 0),i)}else e.startsWith("#")?t(e.slice(1),i):n(s,i);i+=1}}function v(e,t="\n",n){return e.map(((r,o)=>{const i=n?n(r):r;return o===e.length-1?`${i}`:`${i}${t}`}))}function b(e){let t=e.length,n=-1;return e.forEach(((e,r)=>{e.trim()&&(t=r,n<0&&(n=r))})),n>=0?e.slice(n,t+1):[]}t.parseForComments=y,t.stripComments=function(e){let t="";return y(e.splitLines({trim:!1,removeEmptyEntries:!1}),(e=>{}),(e=>t=t.concat(`${e}\n`))),t},t.appendLineFeed=v,t.generateMarkdownFromCodeLines=function(e){return v(function(e){const t=[];return y(e,(e=>t.push(e)),(e=>{})),t}(e.slice(e.length>1?1:0)))},t.removeLinesFromFrontAndBackNoConcat=b,t.removeLinesFromFrontAndBack=function(e){return b(Array.isArray(e)?e:e.splitLines({trim:!1,removeEmptyEntries:!1})).join("\n")},t.parseSemVer=function(e){var t;const n=/^\s*(\d+)\.(\d+)\.(.+)\s*$/.exec(e);if(n&&n.length>2){const e=parseInt(n[1],10),r=parseInt(n[2],10),o=parseInt(n[3],10);return null!==(t=(0,s.parse)(`${e}.${r}.${o}`,!0))&&void 0!==t?t:void 0}}},43138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseChain=t.flattenIterator=t.iterable=t.mapToIterator=t.chain=t.NEVER=t.iterEmpty=t.createDeferredFromPromise=t.createDeferredFrom=t.createDeferred=t.isPromise=t.waitForCondition=t.waitForPromise=t.sleep=void 0,t.sleep=async function(e){return new Promise((t=>{setTimeout((()=>t(e)),e)}))},t.waitForPromise=async function(e,t){return new Promise(((n,r)=>{const o=setTimeout((()=>n(null)),t);e.then((e=>{clearTimeout(o),n(e)})).catch((e=>{clearTimeout(o),r(e)}))}))},t.waitForCondition=async function(e,t,n){return new Promise((r=>{let o;const i=setTimeout((()=>o(!1)),t),s=setInterval((()=>{e().then((e=>{e&&o(!0)})).catch((e=>o(!1)))}),n);o=e=>{clearTimeout(i),clearInterval(s),r(e)}}))},t.isPromise=function(e){return"function"==typeof(null==e?void 0:e.then)&&"function"==typeof(null==e?void 0:e.catch)};class n{constructor(e=null){this.scope=e,this._resolved=!1,this._rejected=!1,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}get value(){return this._value}resolve(e){this._value=e,this._resolve.apply(this.scope?this.scope:this,arguments),this._resolved=!0}reject(e){this._reject.apply(this.scope?this.scope:this,arguments),this._rejected=!0}get promise(){return this._promise}get resolved(){return this._resolved}get rejected(){return this._rejected}get completed(){return this._rejected||this._resolved}}function r(e=null){return new n(e)}async function o(e,t){const n=void 0===t?-1:t;try{return{index:n,result:await e.next(),err:null}}catch(e){return{index:n,err:e,result:null}}}async function*i(e,n){const r=e.map(o);let i=e.length;for(;i>0;){const{index:s,result:a,err:c}=await Promise.race(r);null!==c?(r[s]=t.NEVER,i-=1,void 0!==n&&await n(c,s)):a.done?(r[s]=t.NEVER,i-=1,void 0!==a.value&&(yield a.value)):(r[s]=o(e[s],s),yield a.value)}}function s(e){const t=e;return void 0===t[Symbol.asyncIterator]&&(t[Symbol.asyncIterator]=()=>t),t}t.createDeferred=r,t.createDeferredFrom=function(e){const t=r();return e.then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.createDeferredFromPromise=function(e){const t=r();return e.then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.iterEmpty=function(){return async function*(){}()},t.NEVER=new Promise((()=>{})),t.chain=i,t.mapToIterator=async function*(e,t,n=!0){if(n){const n=e.map((e=>async function*(){yield t(e)}()));yield*s(i(n))}else yield*e.map(t)},t.iterable=s,t.flattenIterator=async function(e){const t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t},t.PromiseChain=class{constructor(){this.currentPromise=Promise.resolve(void 0)}async chain(e){const t=r(),n=this.currentPromise;return this.currentPromise=this.currentPromise.then((async()=>{try{const n=await e();t.resolve(n)}catch(e){throw t.reject(e),e}})),await n,t.promise}chainFinally(e){const t=r();return this.currentPromise=this.currentPromise.finally((()=>e().then((e=>t.resolve(e))).catch((e=>t.reject(e))))),t.promise}}},47440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryCache=t.clearCache=t.getCacheKeyFromFunctionArgs=t.getGlobalCacheStore=t.DataWithExpiry=void 0,n(8513);const r=new Map;class o{constructor(e,t){this._data=t,this.expiryTime=e+Date.now()}get expired(){const e=this.expiryTime<=Date.now();return e&&(this._data=void 0),e}get data(){return this.expired&&(this._data=void 0),this._data}}t.DataWithExpiry=o;const i=new Map;t.getGlobalCacheStore=function(){return i},t.getCacheKeyFromFunctionArgs=function(e,t){return`KeyPrefix=${e}-Args=${t.map((e=>`${JSON.stringify(e)}`)).join("-Arg-Separator-")}`},t.clearCache=function(){i.clear(),r.clear()},t.InMemoryCache=class{constructor(e,t=""){this.expiryDurationMs=e,this.cacheKey=t}get hasData(){const e=i.get(this.cacheKey);return!(!e||e.expired)}get data(){if(!this.hasData)return;const e=i.get(this.cacheKey);return null==e?void 0:e.data}set data(e){const t=new o(this.expiryDurationMs,e);i.set(this.cacheKey,t)}clear(){i.delete(this.cacheKey)}}},85446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chainable=t.testOnlyMethod=t.trace=t.swallowExceptions=t.cache=t.makeDebounceAsyncDecorator=t.makeDebounceDecorator=t.debounceAsync=t.debounceSync=void 0,n(8513);const r=n(15925),o=n(43138),i=n(47440),s=n(58681),a=n(11642),c=n(23279);function l(e){return function(t,n,r){const o=r.value,i=c((function(){return o.apply(this,arguments)}),e,{});r.value=i}}function u(e){return function(t,n,r){const i=r.value,a={started:!1,deferred:void 0,timer:void 0};r.value=function(){const t=a.deferred;if(t&&a.started)return t.promise;const n=t&&t.completed,r=a.deferred=!t||n?(0,o.createDeferred)():t;return r.promise.catch(s.noop),a.timer&&clearTimeout(a.timer),a.timer=setTimeout((async()=>{a.started=!0,i.apply(this).then((e=>{a.started=!1,r.resolve(e)})).catch((e=>{a.started=!1,r.reject(e)}))}),e||0),r.promise}}}t.debounceSync=function(e){return(0,r.isTestExecution)()&&(e=void 0),l(e)},t.debounceAsync=function(e){return(0,r.isTestExecution)()&&(e=void 0),u(e)},t.makeDebounceDecorator=l,t.makeDebounceAsyncDecorator=u;const d=(0,i.getGlobalCacheStore)();t.cache=function(e){return function(t,n,o){const s=o.value,c=`Cache_Method_Output_${"constructor"in t&&t.constructor.name?t.constructor.name:""}.${n}`;o.value=async function(...t){if((0,r.isTestExecution)())return s.apply(this,t);const n=(0,i.getCacheKeyFromFunctionArgs)(c,t),o=d.get(n);if(o&&!o.expired)return(0,a.traceVerbose)(`Cached data exists ${n}`),Promise.resolve(o.data);const l=s.apply(this,t);return l.then((t=>d.set(n,new i.DataWithExpiry(e,t)))).ignoreErrors(),l}}},t.swallowExceptions=function(e){return function(t,n,o){const i=o.value,s=`Jupyter Extension (Error in ${e||n}, method:${n}):`;o.value=function(...e){try{const t=i.apply(this,e);if(t&&"function"==typeof t.then&&"function"==typeof t.catch)return t.catch((e=>{(0,r.isTestExecution)()||(0,a.traceError)(s,e)}))}catch(e){if((0,r.isTestExecution)())return;(0,a.traceError)(s,e)}}}},t.trace=function(e,t){return function(n,r,o){const i=o.value;return o.value=function(...o){const a={kind:"Class",name:n&&n.constructor?n.constructor.name:"",args:o,methodName:r,target:n},c=this;return(0,s.tracing)((t=>e(a,t)),(()=>i.apply(c,o)),t)},o}},t.testOnlyMethod=function(){return function(e,t,n){const o=n.value;return n.value=function(...e){if(!(0,r.isTestExecution)())throw new Error(`Function: ${t} can only be called from test code`);return o.apply(this,e)},n}},t.chainable=function(){return function(e,t,n){const r=n.value,o=`chainedPromiseFor_${t}`;return n.value=async function(...e){let t=this[o];t=t?t.then((()=>r.apply(this,e))):r.apply(this,e),this[o]=t;const n=t.then((e=>e)).catch((e=>{throw this[o]=void 0,e}));return n.catch(s.noop),n},n}}},62624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lazy=void 0;class n{constructor(e){this.executor=e,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}map(e){return new n((()=>e(this.getValue())))}}t.Lazy=n},25251:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getCollectionJSON=t._getAskedForCollection=t._resetCollections=t.Products=t.Installer=t.Deprecated=t.DataScience=t.ExtensionSurveyBanner=t.DataScienceRendererExtension=t.DataScienceSurveyBanner=t.InsidersNativeNotebooksSurveyBanner=t.InteractiveShiftEnterBanner=t.Logging=t.GitHubIssue=t.OutputChannelNames=t.Experiments=t.Http=t.CommonSurvey=t.Common=t.localizeReplacement=void 0;const s=i(n(66828)),a=i(n(30189)),c=n(72728);a.config({messageFormat:a.MessageFormat.bundle,bundleFormat:a.BundleFormat.standalone});let l=a.loadMessageBundle();const u=n(83888),d={en:n(83888),it:n(41616),nl:n(76572),pl:n(98443),ru:n(14114),"zh-cn":n(75647),"zh-tw":n(17063)};function p(e,t){return"string"!=typeof e&&(e=e.key),function(e,t){h&&D()===E||T();let n=f;h&&h.hasOwnProperty(e)&&(n=h);let r=n[e];return r=(null==r?void 0:r.message)||r,!r&&t&&(r=t),P[e]=r,r}(e,t)}let h,f;var g,m,y,v,b,S,w,C,k,_,I;t.localizeReplacement=p,((0,c.getOSType)()===c.OSType.Unknown||"Python"!==l("test","Python"))&&(l=p),(I=t.Common||(t.Common={})).jupyter=()=>l("Common.jupyter","Jupyter"),I.bannerLabelYes=()=>l("Common.bannerLabelYes","Yes"),I.bannerLabelNo=()=>l("Common.bannerLabelNo","No"),I.yesPlease=()=>l("Common.yesPlease","Yes, please"),I.canceled=()=>l("Common.canceled","Canceled"),I.cancel=()=>l("Common.cancel","Cancel"),I.ok=()=>l("Common.ok","Ok"),I.download=()=>l("Common.download","Download"),I.gotIt=()=>l("Common.gotIt","Got it!"),I.install=()=>l("Common.install","Install"),I.loadingExtension=()=>l("Common.loadingExtension","Jupyter Extension loading..."),I.handleExtensionActivationError=()=>l("Common.handleExtensionActivationError","Extension activation failed, run the 'Developer: Toggle Developer Tools' command for more information."),I.openOutputPanel=()=>l("Common.openOutputPanel","Show output"),I.noIWillDoItLater=()=>l("Common.noIWillDoItLater","No, I will do it later"),I.notNow=()=>l("Common.notNow","Not now"),I.doNotShowAgain=()=>l("Common.doNotShowAgain","Do not show again"),I.reload=()=>l("Common.reload","Reload"),I.moreInfo=()=>l("Common.moreInfo","More Info"),I.learnMore=()=>l("Common.learnMore","Learn more"),I.and=()=>l("Common.and","and"),I.reportThisIssue=()=>l("Common.reportThisIssue","Report this issue"),I.clickHereForMoreInfoWithHtml=()=>l("Common.clickHereForMoreInfoWithHtml","Click <a href='{0}'>here</a> for more info."),(_=t.CommonSurvey||(t.CommonSurvey={})).remindMeLaterLabel=()=>l("CommonSurvey.remindMeLaterLabel","Remind me later"),_.yesLabel=()=>l("CommonSurvey.yesLabel","Yes, take survey now"),_.noLabel=()=>l("CommonSurvey.noLabel","No, thanks"),(k=t.Http||(t.Http={})).downloadingFile=()=>l("downloading.file","Downloading {0}..."),k.downloadingFileProgress=()=>l("downloading.file.progress","{0}{1} of {2} KB ({3}%)"),(t.Experiments||(t.Experiments={})).inGroup=()=>l("Experiments.inGroup","User belongs to experiment group '{0}'"),(t.OutputChannelNames||(t.OutputChannelNames={})).jupyter=()=>l("OutputChannelNames.jupyter","Jupyter"),(C=t.GitHubIssue||(t.GitHubIssue={})).failure=()=>l({key:"GitHubIssue.Failure",comment:['{Locked="Issue"']},"We encountered an error while submitting your GitHub Issue. Would you still like to report an issue?"),C.copyContentToClipboardAndOpenIssue=()=>l("GitHubIssue.copyToClipboardAndOpenIssue","Yes, copy content to clipboard and open issue"),C.askForIssueTitle=()=>l("GitHubIssue.askForIssueTitle","Please provide a descriptive title summarizing your issue."),C.titlePlaceholder=()=>l({key:"GitHubIssue.titlePlaceholder",comment:['{Locked="kernel"}']},"E.g.: Unable to start a local kernel session"),C.pleaseFillThisOut=()=>l("GitHubIssue.pleaseFillThisOut","Please fill this section out and delete this comment before submitting an issue!"),C.missingFields=()=>l({key:"GitHubIssue.missingFields",comment:['{Locked="Issue"}']},"Please provide details of the issue you encountered before clicking Submit GitHub Issue."),(w=t.Logging||(t.Logging={})).currentWorkingDirectory=()=>"cwd:",w.warnUserAboutDebugLoggingSetting=()=>l("Logging.WarnUserAboutDebugLoggingSetting","You have enabled debug logging for the Jupyter Extension, which will continue to write logs to disk. Would you like to turn debug logging off?"),w.bannerYesTurnOffDebugLogging=()=>l("Logging.YesTurnOffDebugLogging","Yes, turn off debug logging"),w.NoResponse=()=>l("Logging.NoResponse","No"),w.NoAndDontAskAgain=()=>l("Logging.NoAndDontAskAgain","No, and don't ask again"),(t.InteractiveShiftEnterBanner||(t.InteractiveShiftEnterBanner={})).bannerMessage=()=>l("InteractiveShiftEnterBanner.bannerMessage","Would you like shift-enter to send code to the new Interactive Window experience?"),(t.InsidersNativeNotebooksSurveyBanner||(t.InsidersNativeNotebooksSurveyBanner={})).bannerMessage=()=>l("InsidersNativeNotebooksSurveyBanner.bannerMessage","Can you please take a minute to tell us about your notebooks experience in VS Code?"),(S=t.DataScienceSurveyBanner||(t.DataScienceSurveyBanner={})).bannerMessage=()=>l("DataScienceSurveyBanner.bannerMessage","Can you please take 2 minutes to tell us how the Python Data Science features are working for you?"),S.bannerLabelYes=()=>l("DataScienceSurveyBanner.bannerLabelYes","Yes, take survey now"),S.bannerLabelNo=()=>l("DataScienceSurveyBanner.bannerLabelNo","No, thanks"),(b=t.DataScienceRendererExtension||(t.DataScienceRendererExtension={})).installingExtension=()=>l({key:"DataScienceRendererExtension.installingExtension",comment:['{Locked="Notebook Renderers"}']},"Installing Notebook Renderers extension... "),b.installationCompleteMessage=()=>l({key:"DataScienceRendererExtension.installationCompleteMessage",comment:['{Locked="Notebook Renderers"}']},"complete."),b.startingDownloadOutputMessage=()=>l({key:"DataScienceRendererExtension.startingDownloadOutputMessage",comment:['{Locked="Notebook Renderers"}']},"Starting download of Notebook Renderers extension."),b.downloadingMessage=()=>l({key:"DataScienceRendererExtension.downloadingMessage",comment:['{Locked="Notebook Renderers"}']},"Downloading Notebook Renderers Extension... "),b.downloadCompletedOutputMessage=()=>l({key:"DataScienceRendererExtension.downloadCompletedOutputMessage",comment:['{Locked="Notebook Renderers"}']},"Notebook Renderers extension download complete."),(v=t.ExtensionSurveyBanner||(t.ExtensionSurveyBanner={})).bannerMessage=()=>l("ExtensionSurveyBanner.bannerMessage","Can you please take 2 minutes to tell us how the Python Extension is working for you?"),v.bannerLabelYes=()=>l("ExtensionSurveyBanner.bannerLabelYes","Yes, take survey now"),v.bannerLabelNo=()=>l("ExtensionSurveyBanner.bannerLabelNo","No, thanks"),v.maybeLater=()=>l("ExtensionSurveyBanner.maybeLater","Maybe later"),(y=t.DataScience||(t.DataScience={})).installingModule=()=>l("products.installingModule","Installing {0}"),y.warnWhenSelectingKernelWithUnSupportedPythonVersion=()=>l({key:"DataScience.warnWhenSelectingKernelWithUnSupportedPythonVersion",comment:['{Locked="kernel"}']},"The version of Python associated with the selected kernel is no longer supported. Please consider selecting a different kernel."),y.pythonExtensionRequiredToRunNotebook=()=>l("DataScience.pythonExtensionRequiredToRunNotebook","Python Extension required to run Python notebooks."),y.installingPythonExtension=()=>l("DataScience.installingPythonExtension","Installing Python extension and locating kernels."),y.customizeLayout=()=>l("DataScience.customizeLayout","Customize Layout"),y.pythonExtensionRequired=()=>l("DataScience.pythonExtensionRequired","The Python Extension is required to perform that task. Click Yes to open Python Extension installation page."),y.pythonExtensionInstalled=()=>l("DataScience.pythonInstalledReloadPromptMessage","Python Extension is now installed. Some features might not be available until a notebook or interactive window session is restarted."),y.unknownServerUri=()=>l("DataScience.unknownServerUri","Server URI cannot be used. Did you uninstall an extension that provided a Jupyter server connection?"),y.uriProviderDescriptionFormat=()=>l("DataScience.uriProviderDescriptionFormat","{0} (From {1} extension)"),y.unknownPackage=()=>l("DataScience.unknownPackage","unknown"),y.interactiveWindowTitle=()=>l("DataScience.interactiveWindowTitle","Interactive"),y.interactiveWindowTitleFormat=()=>l("DataScience.interactiveWindowTitleFormat","Interactive - {0}"),y.interactiveWindowModeBannerTitle=()=>l({key:"DataScience.interactiveWindowModeBannerTitle",comment:["{Locked='command:workbench.action.openSettings?%5B%22jupyter.interactiveWindowMode%22%5D'}"]},"Do you want to open a new Interactive Window for this file? [More Information](command:workbench.action.openSettings?%5B%22jupyter.interactiveWindowMode%22%5D)."),y.interactiveWindowModeBannerSwitchYes=()=>l("DataScience.interactiveWindowModeBannerSwitchYes","Yes"),y.interactiveWindowModeBannerSwitchAlways=()=>l("DataScience.interactiveWindowModeBannerSwitchAlways","Always"),y.interactiveWindowModeBannerSwitchNo=()=>l("DataScience.interactiveWindowModeBannerSwitchNo","No"),y.dataExplorerTitle=()=>l("DataScience.dataExplorerTitle","Data Viewer"),y.badWebPanelFormatString=()=>l({key:"DataScience.badWebPanelFormatString",comment:['{RegEx=">[^<]*<"}',"Only translate the text within the HTML tags"]},"<html><body><h1>{0} is not a valid file name</h1></body></html>"),y.checkingIfImportIsSupported=()=>l({key:"DataScience.checkingIfImportIsSupported",comment:['{Locked="import"}']},'Checking if "import" is supported'),y.installingMissingDependencies=()=>l("DataScience.installingMissingDependencies","Installing missing dependencies"),y.validatingKernelDependencies=()=>l({key:"DataScience.validatingKernelDependencies",comment:['{Locked="kernel"}']},"Validating kernel dependencies"),y.performingExport=()=>l("DataScience.performingExport","Performing Export"),y.convertingToPDF=()=>l("DataScience.convertingToPDF","Converting to PDF"),y.exportNotebookToPython=()=>l({key:"DataScience.exportNotebookToPython",comment:['{Locked="Notebook"}']},"Exporting Notebook to Python"),y.sessionDisposed=()=>l("DataScience.sessionDisposed","Cannot execute code, session has been disposed."),y.passwordFailure=()=>l("DataScience.passwordFailure","Failed to connect to password protected server. Check that password is correct."),y.rawKernelProcessNotStarted=()=>l({key:"DataScience.rawKernelProcessNotStarted",comment:['{Locked="kernel"}']},"Raw kernel process was not able to start."),y.rawKernelProcessExitBeforeConnect=()=>l({key:"DataScience.rawKernelProcessExitBeforeConnect",comment:['{Locked="kernel"}']},"Raw kernel process exited before connecting."),y.unknownMimeTypeFormat=()=>l("DataScience.unknownMimeTypeFormat","MIME type {0} is not currently supported"),y.exportDialogTitle=()=>l({key:"DataScience.exportDialogTitle",comment:['{Locked="Notebook"}']},"Export to Jupyter Notebook"),y.exportDialogFilter=()=>l({key:"DataScience.exportDialogFilter",comment:['{Locked="Notebooks"}']},"Jupyter Notebooks"),y.exportDialogComplete=()=>l("DataScience.exportDialogComplete","Notebook written to {0}"),y.exportDialogFailed=()=>l("DataScience.exportDialogFailed","Failed to export notebook. {0}"),y.exportOpenQuestion1=()=>l("DataScience.exportOpenQuestion1","Open in editor"),y.runCellLensCommandTitle=()=>l("jupyter.command.jupyter.runcell.title","Run Cell"),y.importDialogTitle=()=>l({key:"DataScience.importDialogTitle",comment:['{Locked="Notebook"}']},"Import Jupyter Notebook"),y.importDialogFilter=()=>"Jupyter Notebooks",y.notebookCheckForImportTitle=()=>l({key:"DataScience.notebookCheckForImportTitle",comment:['{Locked="Notebook"}']},"Do you want to import the Jupyter Notebook into Python code?"),y.notebookCheckForImportYes=()=>l("DataScience.notebookCheckForImportYes","Import"),y.notebookCheckForImportNo=()=>l("DataScience.notebookCheckForImportNo","Later"),y.notebookCheckForImportDontAskAgain=()=>l("DataScience.notebookCheckForImportDontAskAgain","Don't Ask Again"),y.libraryNotInstalled=()=>l("DataScience.libraryNotInstalled","Data Science library {0} is not installed. Install?"),y.libraryNotInstalledCorrectlyOrOutdated=()=>l("DataScience.libraryNotInstalledCorrectlyOrOutdated","Data Science library {0} is not installed correctly or outdated. Re-Install?"),y.couldNotInstallLibrary=()=>l("DataScience.couldNotInstallLibrary","Could not install {0} package. If pip is not available, please use the package manager of your choice to manually install this library into your Python environment."),y.libraryRequiredToLaunchJupyterNotInstalled=()=>l("DataScience.libraryRequiredToLaunchJupyterNotInstalled","Running cells requires {0} package."),y.librariesRequiredToLaunchJupyterNotInstalled=()=>l("DataScience.librariesRequiredToLaunchJupyterNotInstalled","Running cells requires {0} package."),y.libraryRequiredToLaunchJupyterNotInstalledInterpreter=()=>l("DataScience.libraryRequiredToLaunchJupyterNotInstalledInterpreter","Running cells with '{0}' requires {1} package."),y.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreter=()=>l("DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreter","Running cells with '{0}' requires {1} package."),y.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreterAndRequiresUpdate=()=>l("DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreterAndRequiresUpdate","Running cells with '{0}' requires {1} package installed or requires an update."),y.librariesRequiredToLaunchJupyterNotInstalledInterpreter=()=>l("DataScience.librariesRequiredToLaunchJupyterNotInstalledInterpreter","Running cells with '{0}' requires {1} package."),y.installPackageInstructions=()=>l("DataScience.installPackageInstructions","Run the following command to install '{0}' into the Python environment. \nCommand: '{1}'"),y.selectJupyterInterpreter=()=>l("DataScience.selectJupyterInterpreter","Select an Interpreter to start Jupyter"),y.jupyterInstall=()=>l("DataScience.jupyterInstall","Install"),y.currentlySelectedJupyterInterpreterForPlaceholder=()=>l("DataScience.currentlySelectedJupyterInterpreterForPlaceholder","current: {0}"),y.jupyterNotSupported=()=>l("DataScience.jupyterNotSupported","Jupyter cannot be started. Error attempting to locate Jupyter: {0}"),y.jupyterNotSupportedBecauseOfEnvironment=()=>l("DataScience.jupyterNotSupportedBecauseOfEnvironment","Activating {0} to run Jupyter failed with {1}"),y.jupyterNbConvertNotSupported=()=>l("DataScience.jupyterNbConvertNotSupported","Jupyter nbconvert is not installed"),y.jupyterLaunchTimedOut=()=>l("DataScience.jupyterLaunchTimedOut","The Jupyter notebook server failed to launch in time"),y.jupyterLaunchNoURL=()=>l("DataScience.jupyterLaunchNoURL","Failed to find the URL of the launched Jupyter notebook server"),y.jupyterSelfCertFail=()=>l("DataScience.jupyterSelfCertFail","The security certificate used by server {0} was not issued by a trusted certificate authority.\r\nThis may indicate an attempt to steal your information.\r\nDo you want to enable the Allow Unauthorized Remote Connection setting for this workspace to allow you to connect?"),y.jupyterExpiredCertFail=()=>l("DataScience.jupyterExpiredCertFail","The security certificate used by server {0} has expired.\r\nThis may indicate an attempt to steal your information.\r\nDo you want to enable the Allow Unauthorized Remote Connection setting for this workspace to allow you to connect?"),y.jupyterSelfCertFailErrorMessageOnly=()=>l("DataScience.jupyterSelfCertFailErrorMessageOnly","The security certificate used by server was not issued by a trusted certificate authority.\r\nThis may indicate an attempt to steal your information."),y.jupyterSelfCertExpiredErrorMessageOnly=()=>l("DataScience.jupyterSelfCertExpiredErrorMessageOnly","The security certificate used by server has expired.\r\nThis may indicate an attempt to steal your information."),y.jupyterSelfCertEnable=()=>l("DataScience.jupyterSelfCertEnable","Yes, connect anyways"),y.jupyterSelfCertClose=()=>l("DataScience.jupyterSelfCertClose","No, close the connection"),y.pythonInteractiveHelpLink=()=>l("DataScience.pythonInteractiveHelpLink","See <https://aka.ms/pyaiinstall> for help on installing Jupyter."),y.markdownHelpInstallingMissingDependencies=()=>l("DataScience.markdownHelpInstallingMissingDependencies","See <https://aka.ms/pyaiinstall> for help on installing Jupyter and related dependencies."),y.importingFormat=()=>l("DataScience.importingFormat","Importing {0}"),y.startingJupyter=()=>l("DataScience.startingJupyter","Starting Jupyter server"),y.connectingToKernel=()=>l({key:"DataScience.connectingToKernel",comment:['{Locked="kernel"}']},"Connecting to kernel: {0}"),y.connectedToKernel=()=>l("DataScience.connectedToKernel","Connected."),y.connectingToJupyter=()=>l("DataScience.connectingToJupyter","Connecting to Jupyter server"),y.exportingFormat=()=>l("DataScience.exportingFormat","Exporting {0}"),y.runAllCellsLensCommandTitle=()=>l("jupyter.command.jupyter.runallcells.title","Run All Cells"),y.runAllCellsAboveLensCommandTitle=()=>l("jupyter.command.jupyter.runallcellsabove.title","Run Above"),y.runCellAndAllBelowLensCommandTitle=()=>l("jupyter.command.jupyter.runcellandallbelow.title","Run Below"),y.restartKernelMessage=()=>l({key:"DataScience.restartKernelMessage",comment:['{Locked="kernel"}']},"Do you want to restart the Jupyter kernel? All variables will be lost."),y.restartKernelMessageYes=()=>l("DataScience.restartKernelMessageYes","Restart"),y.restartKernelMessageDontAskAgain=()=>l("DataScience.restartKernelMessageDontAskAgain","Don't Ask Again"),y.automaticallyReconnectingToAKernelProgressMessage=()=>l("DataScience.automaticallyReconnectingToAKernelProgressMessage","Reconnecting to the kernel {0}"),y.restartingKernelStatus=()=>l("DataScience.restartingKernelStatus","Restarting Kernel {0}"),y.restartingKernelFailed=()=>l("DataScience.restartingKernelFailed","Kernel restart failed. Jupyter server is hung. Please reload VS Code."),y.interruptingKernelFailed=()=>l("DataScience.interruptingKernelFailed","Kernel interrupt failed. Jupyter server is hung. Please reload VS Code."),y.sessionStartFailedWithKernel=()=>l({key:"DataScience.sessionStartFailedWithKernel",comment:['{Locked="command:jupyter.viewOutput"}']},"Failed to start the Kernel '{0}'. \nView Jupyter [log](command:jupyter.viewOutput) for further details."),y.failedToStartJupyter=()=>l({key:"DataScience.failedToStartJupyter",comment:['{Locked="command:jupyter.viewOutput"}']},"Failed to start Jupyter in the environment '{0}'. \nView Jupyter [log](command:jupyter.viewOutput) for further details."),y.failedToStartJupyterWithErrorInfo=()=>l({key:"DataScience.failedToStartJupyterWithErrorInfo",comment:['{Locked="command:jupyter.viewOutput"}']},"Failed to start Jupyter in the environment '{0}'. \n{1} \nView Jupyter [log](command:jupyter.viewOutput) for further details."),y.failedToStartJupyterDueToOutdatedTraitlets=()=>l({key:"DataScience.failedToStartJupyterDueToOutdatedTraitlets",comment:['{Locked="command:jupyter.viewOutput"}','{Locked="traitless"}']},"Failed to start Jupyter in the environment '{0}' possibly due to an outdated version of 'traitlets'. \n{1} \nConsider updating the 'traitlets' module to '5.1.1' or later. \nView Jupyter [log](command:jupyter.viewOutput) for further details."),y.failedToStartKernel=()=>l("DataScience.failedToStartKernel","Failed to start the Kernel."),y.failedToRestartKernel=()=>l("DataScience.failedToRestartKernel","Failed to restart the Kernel."),y.failedToInterruptKernel=()=>l("DataScience.failedToInterruptKernel","Failed to interrupt the Kernel."),y.rawKernelStartFailedDueToTimeout=()=>l({key:"DataScience.rawKernelStartFailedDueToTimeout",comment:['{Locked="command:jupyter.viewOutput"}']},"Unable to start Kernel '{0}' due to connection timeout. \nView Jupyter [log](command:jupyter.viewOutput) for further details."),y.viewJupyterLogForFurtherInfo=()=>l({key:"DataScience.viewJupyterLogForFurtherInfo",comment:['{Locked="command:jupyter.viewOutput"}']},"View Jupyter [log](command:jupyter.viewOutput) for further details."),y.kernelDied=()=>l({key:"DataScience.kernelDied",comment:['{Locked="kernel"}','{Locked="command:jupyter.viewOutput"}']},"The kernel died. Error: {0}... View Jupyter [log](command:jupyter.viewOutput) for further details."),y.kernelDiedWithoutError=()=>l({key:"DataScience.kernelDiedWithoutError",comment:['{Locked="command:jupyter.viewOutput"}','{Locked="vscodeJupyterKernelCrash"}']},"The kernel '{0}' died. Click [here](https://aka.ms/vscodeJupyterKernelCrash) for more info. View Jupyter [log](command:jupyter.viewOutput) for further details."),y.failedToStartAnUntrustedKernelSpec=()=>l("DataScience.failedToStartAnUntrustedKernelSpec","The kernel '{0}' was not started as it is located in an insecure location '{1}'.  \nClick [here](https://aka.ms/JupyterTrustedKernelPaths) for further details, optionally update the setting [jupyter.kernels.trusted](command:workbench.action.openSettings?[\"jupyter.kernels.trusted\"]) to trust the kernel."),y.kernelDiedWithoutErrorAndAutoRestarting=()=>l({key:"DataScience.kernelDiedWithoutErrorAndAutoRestarting",comment:['{Locked="kernel"}','{Locked="command:jupyter.viewOutput"}','{Locked="vscodeJupyterKernelCrash"}']},"The kernel '{0}' died and is being automatically restarted by Jupyter. Click [here](https://aka.ms/vscodeJupyterKernelCrash) for more info. View Jupyter [log](command:jupyter.viewOutput) for further details."),y.kernelCrashedDueToCodeInCurrentOrPreviousCell=()=>l({key:"DataScience.kernelCrashedDueToCodeInCurrentOrPreviousCell",comment:['{Locked="kernel"}','{Locked="vscodeJupyterKernelCrash"}','{Locked="command:jupyter.viewOutput"}']},"The Kernel crashed while executing code in the the current cell or a previous cell. Please review the code in the cell(s) to identify a possible cause of the failure. Click <a href='https://aka.ms/vscodeJupyterKernelCrash'>here</a> for more info. View Jupyter [log](command:jupyter.viewOutput) for further details."),y.kernelDisconnected=()=>l("DataScience.kernelDisconnected","Unable to connect to the kernel '{0}', please verify the Jupyter Server connection. View Jupyter [log](command:jupyter.viewOutput) for further details."),y.cannotRunCellKernelIsDead=()=>l({key:"DataScience.cannotRunCellKernelIsDead",comment:['{Locked="kernel"}']},"Cannot run cells, as the kernel '{0}' is dead."),y.showJupyterLogs=()=>l("jupyter.showJupyterLogs","Show Jupyter Logs."),y.executingCode=()=>l("DataScience.executingCode","Executing Cell"),y.collapseAll=()=>l("DataScience.collapseAll","Collapse all cell inputs"),y.expandAll=()=>l("DataScience.expandAll","Expand all cell inputs"),y.collapseSingle=()=>l("DataScience.collapseSingle","Collapse"),y.expandSingle=()=>l("DataScience.expandSingle","Expand"),y.exportKey=()=>l("DataScience.export","Export as Jupyter notebook"),y.restartServer=()=>l("DataScience.restartServer","Restart Jupyter Kernel"),y.restartKernel=()=>l("DataScience.restartKernel","Restart Kernel"),y.undo=()=>l("DataScience.undo","Undo"),y.redo=()=>l("DataScience.redo","Redo"),y.save=()=>l("DataScience.save","Save file"),y.clearAll=()=>l("DataScience.clearAll","Remove all cells"),y.reloadRequired=()=>l("DataScience.reloadRequired","Please reload the window for new settings to take effect."),y.restartedKernelHeader=()=>l("DataScience.restartedKernelHeader","Restarted {0}"),y.restartingKernelCustomHeader=()=>l("DataScience.restartingKernelCustomHeader","_Restarting {0}..._"),y.restartingKernelHeader=()=>l({key:"DataScience.restartingKernelHeader",comment:['{Locked="kernel"}']},"_Restarting kernel..._"),y.startedNewKernelHeader=()=>l("DataScience.startedNewKernelHeader","Started {0}"),y.startingNewKernelHeader=()=>l({key:"DataScience.kernelStarting",comment:['{Locked="kernel"}']},"_Connecting to kernel..._"),y.startingNewKernelCustomHeader=()=>l("DataScience.kernelStartingCustom","_Connecting to {0}..._"),y.connectKernelHeader=()=>l("DataScience.connectKernelHeader","Connected to {0}"),y.jupyterSelectURIPrompt=()=>l("DataScience.jupyterSelectURIPrompt","Enter the URI of the running Jupyter server"),y.jupyterSelectURIQuickPickTitle=()=>l("DataScience.jupyterSelectURIQuickPickTitle","Enter the URI of the running Jupyter server"),y.jupyterSelectURIQuickPickTitleOld=()=>l("DataScience.jupyterSelectURIQuickPickTitleOld","Pick how to connect to Jupyter"),y.jupyterSelectURIQuickPickPlaceholder=()=>l("DataScience.jupyterSelectURIQuickPickPlaceholder","Choose an option"),y.jupyterSelectURIQuickPickCurrent=()=>l("DataScience.jupyterSelectURIQuickPickCurrent","Current: {0}"),y.jupyterSelectURINoneLabel=()=>l("DataScience.jupyterSelectURINoneLabel","None"),y.jupyterSelectURINoneDetail=()=>l("DataScience.jupyterSelectURINoneDetail","Do not connect to any remote Jupyter server"),y.jupyterSelectURIMRUDetail=()=>l("DataScience.jupyterSelectURIMRUDetail","Last Connection: {0}"),y.jupyterSelectURINewLabel=()=>l("DataScience.jupyterSelectURINewLabel","Existing"),y.jupyterSelectURINewDetail=()=>l("DataScience.jupyterSelectURINewDetail","Specify the URI of an existing server"),y.jupyterSelectURIInvalidURI=()=>l("DataScience.jupyterSelectURIInvalidURI","Invalid URI specified"),y.jupyterSelectURIRunningDetailFormat=()=>l("DataScience.jupyterSelectURIRunningDetailFormat","Last connection {0}. {1} existing connections."),y.jupyterSelectURINotRunningDetail=()=>l("DataScience.jupyterSelectURINotRunningDetail","Cannot connect at this time. Status unknown."),y.jupyterSelectUserAndPasswordTitle=()=>l("DataScience.jupyterSelectUserAndPasswordTitle","Enter your user name and password to connect to Jupyter Hub"),y.jupyterRenameServer=()=>l("DataScience.jupyterRenameServer","Change Server Display Name (Leave Blank To Use URI)"),y.jupyterSelectUserPrompt=()=>l("DataScience.jupyterSelectUserPrompt","Enter your user name"),y.jupyterSelectPasswordPrompt=()=>l("DataScience.jupyterSelectPasswordPrompt","Enter your password"),y.pythonNotInstalled=()=>l("DataScience.pythonNotInstalled","Python is not installed. \nPlease download and install Python in order to execute cells in this notebook."),y.kernelNotInstalled=()=>l("DataScience.installKernel","The Jupyter Kernel '{0}' could not be found and needs to be installed in order to execute cells in this notebook."),y.jupyterNotebookFailure=()=>l("DataScience.jupyterNotebookFailure","Jupyter notebook failed to launch. \r\n{0}"),y.remoteJupyterServerProvidedBy3rdPartyExtensionNoLongerValid=()=>l("DataScience.remoteJupyterServerProvidedBy3rdPartyExtensionNoLongerValid","The remote Jupyter Server contributed by the extension '{0}' is no longer available."),y.remoteJupyterConnectionFailedWithServerWithError=()=>l("DataScience.remoteJupyterConnectionFailedWithServerWithError","Failed to connect to the remote Jupyter Server '{0}'. Verify the server is running and reachable. ({1})."),y.remoteJupyterConnectionFailedWithServer=()=>l("DataScience.remoteJupyterConnectionFailedWithServer","Failed to connect to the remote Jupyter Server '{0}'. Verify the server is running and reachable."),y.remoteJupyterConnectionFailedWithoutServerWithError=()=>l("DataScience.remoteJupyterConnectionFailedWithoutServerWithError","Connection failure. Verify the server is running and reachable. ({0})."),y.remoteJupyterConnectionFailedWithoutServerWithErrorWeb=()=>l("DataScience.remoteJupyterConnectionFailedWithoutServerWithErrorWeb","Connection failure. Verify the server is running and reachable from a browser. ({0}). When connecting from vscode.dev Jupyter servers must be started with specific options to connect. See [here](https://aka.ms/vscjremoteweb) for more information."),y.remoteJupyterConnectionFailedWebExtension=()=>l("DataScience.remoteJupyterConnectionFailedWebExtension","When connecting from vscode.dev Jupyter servers must be started with specific options to connect. See [here](https://aka.ms/vscjremoteweb) for more information."),y.removeRemoteJupyterConnectionButtonText=()=>l("DataScience.removeRemoteJupyterConnectionButtonText","Forget Connection"),y.jupyterNotebookRemoteConnectFailedWeb=()=>l("DataScience.jupyterNotebookRemoteConnectFailedWeb","Failed to connect to remote Jupyter server.\r\nCheck that the Jupyter Server URI can be reached from a browser.\r\n{0}. Click [here](https://aka.ms/vscjremoteweb) for more information."),y.changeRemoteJupyterConnectionButtonText=()=>l("DataScience.changeRemoteJupyterConnectionButtonText","Manage Connections"),y.changeJupyterRemoteConnection=()=>l("DataScience.changeJupyterRemoteConnection","Change Jupyter Server connection."),y.jupyterNotebookRemoteConnectSelfCertsFailed=()=>l("DataScience.jupyterNotebookRemoteConnectSelfCertsFailed","Failed to connect to remote Jupyter notebook.\r\nSpecified server is using self signed certs. Enable Allow Unauthorized Remote Connection setting to connect anyways\r\n{0}\r\n{1}"),y.rawConnectionDisplayName=()=>l({key:"DataScience.rawConnectionDisplayName",comment:['{Locked="kernel"}']},"Direct kernel connection"),y.rawConnectionBrokenError=()=>l({key:"DataScience.rawConnectionBrokenError",comment:['{Locked="kernel"}']},"Direct kernel connection broken"),y.jupyterServerCrashed=()=>l("DataScience.jupyterServerCrashed","Jupyter server crashed. Unable to connect. \r\nError code from Jupyter: {0}"),y.notebookVersionFormat=()=>l({key:"DataScience.notebookVersionFormat",comment:['{Locked="Notebook"}']},"Jupyter Notebook version: {0}"),y.jupyterKernelSpecNotFound=()=>l({key:"DataScience.jupyterKernelSpecNotFound",comment:['{Locked="kernel"}']},"Cannot create a Jupyter kernel spec and none are available for use"),y.jupyterKernelSpecModuleNotFound=()=>l("DataScience.jupyterKernelSpecModuleNotFound","'Kernelspec' module not installed in the selected interpreter ({0}).\n Please re-install or update 'jupyter'."),y.interruptKernel=()=>l("DataScience.interruptKernel","Interrupt Jupyter Kernel"),y.clearAllOutput=()=>l("DataScience.clearAllOutput","Clear All Output"),y.interruptKernelStatus=()=>l("DataScience.interruptKernelStatus","Interrupting Jupyter Kernel"),y.exportCancel=()=>l("DataScience.exportCancel","Cancel"),y.exportPythonQuickPickLabel=()=>l("DataScience.exportPythonQuickPickLabel","Python Script"),y.exportHTMLQuickPickLabel=()=>l("DataScience.exportHTMLQuickPickLabel","HTML"),y.exportPDFQuickPickLabel=()=>l("DataScience.exportPDFQuickPickLabel","PDF"),y.restartKernelAfterInterruptMessage=()=>l({key:"DataScience.restartKernelAfterInterruptMessage",comment:['{Locked="kernel"}']},"Interrupting the kernel timed out. Do you want to restart the kernel instead? All variables will be lost."),y.pythonInterruptFailedHeader=()=>l({key:"DataScience.pythonInterruptFailedHeader",comment:['{Locked="kernel"}']},"Keyboard interrupt crashed the kernel. Kernel restarted."),y.sysInfoURILabel=()=>l("DataScience.sysInfoURILabel","Jupyter Server URI: "),y.executingCodeFailure=()=>l("DataScience.executingCodeFailure","Executing code failed : {0}"),y.inputWatermark=()=>l("DataScience.inputWatermark","Type code here and press shift-enter to run"),y.liveShareConnectFailure=()=>l("DataScience.liveShareConnectFailure","Cannot connect to host Jupyter session. URI not found."),y.liveShareCannotSpawnNotebooks=()=>l("DataScience.liveShareCannotSpawnNotebooks","Spawning Jupyter notebooks is not supported over a live share connection"),y.liveShareCannotImportNotebooks=()=>l("DataScience.liveShareCannotImportNotebooks","Importing notebooks is not currently supported over a live share connection"),y.liveShareHostFormat=()=>l("DataScience.liveShareHostFormat","{0} Jupyter Server"),y.liveShareSyncFailure=()=>l("DataScience.liveShareSyncFailure","Synchronization failure during live share startup."),y.liveShareServiceFailure=()=>l("DataScience.liveShareServiceFailure","Failure starting '{0}' service during live share connection."),y.documentMismatch=()=>l("DataScience.documentMismatch","Cannot run cells, duplicate documents for {0} found."),y.jupyterGetVariablesBadResults=()=>l("DataScience.jupyterGetVariablesBadResults","Failed to fetch variable info from the Jupyter server."),y.dataExplorerInvalidVariableFormat=()=>l("DataScience.dataExplorerInvalidVariableFormat","'{0}' is not an active variable."),y.pythonInteractiveCreateFailed=()=>l("DataScience.pythonInteractiveCreateFailed","Failure to create an 'Interactive' window. Try reinstalling the Python Extension."),y.jupyterGetVariablesExecutionError=()=>l("DataScience.jupyterGetVariablesExecutionError","Failure during variable extraction: \r\n{0}"),y.loadingMessage=()=>l("DataScience.loadingMessage","loading ..."),y.fetchingDataViewer=()=>l("DataScience.fetchingDataViewer","Fetching data ..."),y.noRowsInDataViewer=()=>l("DataScience.noRowsInDataViewer","No rows match current filter"),y.jupyterServer=()=>l("DataScience.jupyterServer","Jupyter Server"),y.noKernel=()=>l("DataScience.noKernel","No Kernel"),y.serverNotStarted=()=>l("DataScience.serverNotStarted","Not Started"),y.selectKernel=()=>l({key:"DataScience.selectKernel",comment:['{Locked="Kernel"}']},"Change Kernel"),y.selectDifferentKernel=()=>l({key:"DataScience.selectDifferentKernel",comment:['{Locked="kernel"}']},"Select a different Kernel"),y.kernelFilterPlaceholder=()=>l({key:"jupyter.kernel.filter.placeholder",comment:['{Locked="kernel"}','{Locked="kernels"}']},"Choose the kernels that are available in the kernel picker."),y.selectDifferentJupyterInterpreter=()=>l("DataScience.selectDifferentJupyterInterpreter","Change Interpreter"),y.localJupyterServer=()=>l("DataScience.localJupyterServer","local"),y.pandasTooOldForViewingFormat=()=>l({key:"DataScience.pandasTooOldForViewingFormat",comment:["{Locked='pandas'","This is the name of the pandas package"]},"Python package 'pandas' is version {0}. Version {1} or greater is required for viewing data."),y.pandasRequiredForViewing=()=>l({key:"DataScience.pandasRequiredForViewing",comment:["{Locked='pandas'","This is the name of the pandas package"]},"Python package 'pandas' version {0} (or above) is required for viewing data."),y.valuesColumn=()=>l("DataScience.valuesColumn","values"),y.liveShareInvalid=()=>l("DataScience.liveShareInvalid","One or more guests in the session do not have the Jupyter Extension installed. Live share session cannot continue."),y.tooManyColumnsMessage=()=>l("DataScience.tooManyColumnsMessage","Variables with over a 1000 columns may take a long time to display. Are you sure you wish to continue?"),y.tooManyColumnsYes=()=>l("DataScience.tooManyColumnsYes","Yes"),y.tooManyColumnsNo=()=>l("DataScience.tooManyColumnsNo","No"),y.tooManyColumnsDontAskAgain=()=>l("DataScience.tooManyColumnsDontAskAgain","Don't Ask Again"),y.filterRowsTooltip=()=>l("DataScience.filterRowsTooltip","Allows filtering multiple rows. Use =, >, or < signs to filter numeric values."),y.previewHeader=()=>l("DataScience.previewHeader","--- Begin preview of {0} ---"),y.previewFooter=()=>l("DataScience.previewFooter","--- End preview of {0} ---"),y.previewStatusMessage=()=>l("DataScience.previewStatusMessage","Generating preview of {0}"),y.plotViewerTitle=()=>l("DataScience.plotViewerTitle","Plots"),y.exportPlotTitle=()=>l("DataScience.exportPlotTitle","Save plot image"),y.pdfFilter=()=>"PDF",y.pngFilter=()=>"PNG",y.svgFilter=()=>"SVG",y.previousPlot=()=>l("DataScience.previousPlot","Previous"),y.nextPlot=()=>l("DataScience.nextPlot","Next"),y.panPlot=()=>l("DataScience.panPlot","Pan"),y.zoomInPlot=()=>l("DataScience.zoomInPlot","Zoom in"),y.zoomOutPlot=()=>l("DataScience.zoomOutPlot","Zoom out"),y.exportPlot=()=>l("DataScience.exportPlot","Export to different formats"),y.deletePlot=()=>l("DataScience.deletePlot","Remove"),y.editSection=()=>l("DataScience.editSection","Input new cells here."),y.selectedImageListLabel=()=>l("DataScience.selectedImageListLabel","Selected Image"),y.imageListLabel=()=>l("DataScience.imageListLabel","Image"),y.exportImageFailed=()=>l("DataScience.exportImageFailed","Error exporting image: {0}"),y.jupyterDataRateExceeded=()=>l({key:"DataScience.jupyterDataRateExceeded",comment:["{Locked='NotebookApp.iopub_data_rate_limit'}","This command line parameter does not change across languages."]},"Cannot view variable because data rate exceeded. Please restart your server with a higher data rate limit. For example, --NotebookApp.iopub_data_rate_limit=10000000000.0"),y.addCellBelowCommandTitle=()=>l("DataScience.addCellBelowCommandTitle","Add cell"),y.debugCellCommandTitle=()=>l("DataScience.debugCellCommandTitle","Debug Cell"),y.debugStepOverCommandTitle=()=>l("DataScience.debugStepOverCommandTitle","Step over"),y.debugContinueCommandTitle=()=>l("DataScience.debugContinueCommandTitle","Continue"),y.debugStopCommandTitle=()=>l("DataScience.debugStopCommandTitle","Stop"),y.runCurrentCellAndAddBelow=()=>l("DataScience.runCurrentCellAndAddBelow","Run current cell and add empty cell below"),y.jupyterDebuggerNotInstalledError=()=>l("DataScience.jupyterDebuggerNotInstalledError","Pip module {0} is required for debugging cells. You will need to install it to debug cells."),y.jupyterDebuggerOutputParseError=()=>l("DataScience.jupyterDebuggerOutputParseError","Unable to parse {0} output, please log an issue with https://github.com/microsoft/vscode-jupyter"),y.jupyterDebuggerPortNotAvailableError=()=>l({key:"DataScience.jupyterDebuggerPortNotAvailableError",comment:["{Locked='remoteDebuggerPort'}"]},"Port {0} cannot be opened for debugging. Please specify a different port in the remoteDebuggerPort setting."),y.jupyterDebuggerPortBlockedError=()=>l("DataScience.jupyterDebuggerPortBlockedError","Port {0} cannot be connected to for debugging. Please let port {0} through your firewall."),y.jupyterDebuggerPortNotAvailableSearchError=()=>l("DataScience.jupyterDebuggerPortNotAvailableSearchError","Ports in the range {0}-{1} cannot be found for debugging. Please specify a port in the remoteDebuggerPort setting."),y.jupyterDebuggerPortBlockedSearchError=()=>l("DataScience.jupyterDebuggerPortBlockedSearchError","A port cannot be connected to for debugging. Please let ports {0}-{1} through your firewall."),y.jupyterDebuggerInstallNew=()=>l("DataScience.jupyterDebuggerInstallNew","Pip module {0} is required for debugging cells. Install {0} and continue to debug cell?"),y.jupyterDebuggerInstallNewRunByLine=()=>l("DataScience.jupyterDebuggerInstallNewRunByLine","Pip module {0} is required for running by line. Install {0} and continue to run by line?"),y.jupyterDebuggerInstallUpdate=()=>l("DataScience.jupyterDebuggerInstallUpdate","The version of {0} installed does not support debugging cells. Update {0} to newest version and continue to debug cell?"),y.jupyterDebuggerInstallUpdateRunByLine=()=>l("DataScience.jupyterDebuggerInstallUpdateRunByLine","The version of {0} installed does not support running by line. Update {0} to newest version and continue to run by line?"),y.jupyterDebuggerInstallYes=()=>l("DataScience.jupyterDebuggerInstallYes","Yes"),y.jupyterDebuggerInstallNo=()=>l("DataScience.jupyterDebuggerInstallNo","No"),y.cellStopOnErrorMessage=()=>l("DataScience.cellStopOnErrorMessage","Cell was canceled due to an error in a previous cell."),y.scrollToCellTitleFormatMessage=()=>l("DataScience.scrollToCellTitleFormatMessage","Go to [{0}]"),y.instructionComments=()=>l("DataScience.instructionComments","# To add a new cell, type '{0}'\n# To add a new markdown cell, type '{0} [markdown]'\n"),y.nativeEditorTitle=()=>l("DataScience.nativeEditorTitle","Notebook Editor"),y.untitledNotebookFileName=()=>l("DataScience.untitledNotebookFileName","Untitled"),y.dirtyNotebookMessage1=()=>l("DataScience.dirtyNotebookMessage1","Do you want to save the changes you made to {0}?"),y.dirtyNotebookMessage2=()=>l("DataScience.dirtyNotebookMessage2","Your changes will be lost if you don't save them."),y.dirtyNotebookYes=()=>l("DataScience.dirtyNotebookYes","Save"),y.dirtyNotebookNo=()=>l("DataScience.dirtyNotebookNo","Don't Save"),y.dirtyNotebookCancel=()=>l("DataScience.dirtyNotebookCancel","Cancel"),y.dirtyNotebookDialogTitle=()=>l("DataScience.dirtyNotebookDialogTitle","Save"),y.dirtyNotebookDialogFilter=()=>l("DataScience.dirtyNotebookDialogFilter","Jupyter Notebooks"),y.notebookExportAs=()=>l("DataScience.notebookExportAs","Export As"),y.exportAsPythonFileTitle=()=>l("DataScience.exportAsPythonFileTitle","Save as Python File"),y.exportButtonTitle=()=>l("DataScience.exportButtonTitle","Export"),y.exportAsQuickPickPlaceholder=()=>l("DataScience.exportAsQuickPickPlaceholder","Export As..."),y.openExportedFileMessage=()=>l("DataScience.openExportedFileMessage","Would you like to open the exported file?"),y.openExportFileYes=()=>l("DataScience.openExportFileYes","Yes"),y.openExportFileNo=()=>l("DataScience.openExportFileNo","No"),y.exportFailedGeneralMessage=()=>l({key:"DataScience.exportFailedGeneralMessage",comment:["{Locked='command:jupyter.viewOutput'}"]},"Please check the 'Jupyter' [output](command:jupyter.viewOutput) panel for further details."),y.exportToPDFDependencyMessage=()=>l("DataScience.exportToPDFDependencyMessage",'If you have not installed xelatex (TeX) you will need to do so before you can export to PDF, for further instructions please look https://nbconvert.readthedocs.io/en/latest/install.html#installing-tex. \r\nTo avoid installing xelatex (TeX) you might want to try exporting to HTML and using your browsers "Print to PDF" feature.'),y.failedExportMessage=()=>l("DataScience.failedExportMessage","Export failed."),y.runCell=()=>l("DataScience.runCell","Run cell"),y.deleteCell=()=>l("DataScience.deleteCell","Delete cell"),y.moveCellUp=()=>l("DataScience.moveCellUp","Move cell up"),y.moveCellDown=()=>l("DataScience.moveCellDown","Move cell down"),y.moveSelectedCellUp=()=>l("DataScience.moveSelectedCellUp","Move selected cell up"),y.moveSelectedCellDown=()=>l("DataScience.deleteCell","Move selected cell down"),y.insertBelow=()=>l("DataScience.insertBelow","Insert cell below"),y.insertAbove=()=>l("DataScience.insertAbove","Insert cell above"),y.addCell=()=>l("DataScience.addCell","Add cell"),y.runAll=()=>l("DataScience.runAll","Insert cell"),y.convertingToPythonFile=()=>l("DataScience.convertingToPythonFile","Converting ipynb to python file"),y.noInterpreter=()=>l("DataScience.noInterpreter","No python selected"),y.notebookNotFound=()=>l({key:"DataScience.notebookNotFound",comment:["{Locked='python -m jupyter notebook --version'}"]},"python -m jupyter notebook --version is not running"),y.savePngTitle=()=>l("DataScience.savePngTitle","Save Image"),y.fallbackToUseActiveInterpreterAsKernel=()=>l({key:"DataScience.fallbackToUseActiveInterpreterAsKernel",comment:['{Locked="kernel"}']},"Couldn't find kernel '{0}' that the notebook was created with. Using the current interpreter."),y.fallBackToRegisterAndUseActiveInterpreterAsKernel=()=>l({key:"DataScience.fallBackToRegisterAndUseActiveInterpreterAsKernel",comment:['{Locked="kernel"}']},"Couldn't find kernel '{0}' that the notebook was created with. Registering a new kernel using the current interpreter."),y.fallBackToPromptToUseActiveInterpreterOrSelectAKernel=()=>l({key:"DataScience.fallBackToPromptToUseActiveInterpreterOrSelectAKernel",comment:['{Locked="kernel"}']},"Couldn't find kernel '{0}' that the notebook was created with."),y.startingJupyterLogMessage=()=>l("DataScience.startingJupyterLogMessage","Starting Jupyter from {0}"),y.jupyterStartTimedout=()=>l("DataScience.jupyterStartTimedout","Starting Jupyter has timed out. Please check the 'Jupyter' output panel for further details."),y.switchingKernelProgress=()=>l({key:"DataScience.switchingKernelProgress",comment:['{Locked="Kernel"}']},"Switching Kernel to '{0}'"),y.waitingForJupyterSessionToBeIdle=()=>l("DataScience.waitingForJupyterSessionToBeIdle","Waiting for Jupyter Session to be idle"),y.gettingListOfKernelsForLocalConnection=()=>l({key:"DataScience.gettingListOfKernelsForLocalConnection",comment:['{Locked="Kernels"}']},"Fetching Kernels"),y.gettingListOfKernelsForRemoteConnection=()=>l({key:"DataScience.gettingListOfKernelsForRemoteConnection",comment:['{Locked="Kernels"}']},"Fetching Kernels"),y.gettingListOfKernelSpecs=()=>l({key:"DataScience.gettingListOfKernelSpecs",comment:['{Locked="Kernel"}']},"Fetching Kernel specs"),y.startingJupyterNotebook=()=>l({key:"DataScience.startingJupyterNotebook",comment:['{Locked="Notebook"}']},"Starting Jupyter Notebook"),y.registeringKernel=()=>l({key:"DataScience.registeringKernel",comment:['{Locked="Kernel"}']},"Registering Kernel"),y.trimmedOutput=()=>l({key:"DataScience.trimmedOutput",comment:["{Locked='jupyter.textOutputLimit'}"]},'Output was trimmed for performance reasons.\nTo see the full output set the setting "jupyter.textOutputLimit" to 0.'),y.jupyterCommandLineDefaultLabel=()=>l("DataScience.jupyterCommandLineDefaultLabel","Default"),y.jupyterCommandLineDefaultDetail=()=>l("DataScience.jupyterCommandLineDefaultDetail","The Python Extension will determine the appropriate command line for Jupyter"),y.jupyterCommandLineCustomLabel=()=>l("DataScience.jupyterCommandLineCustomLabel","Custom"),y.jupyterCommandLineCustomDetail=()=>l("DataScience.jupyterCommandLineCustomDetail","Customize the command line passed to Jupyter on startup"),y.jupyterCommandLineReloadQuestion=()=>l("DataScience.jupyterCommandLineReloadQuestion","Please reload the window when changing the Jupyter command line."),y.jupyterCommandLineReloadAnswer=()=>l("DataScience.jupyterCommandLineReloadAnswer","Reload"),y.jupyterCommandLineQuickPickPlaceholder=()=>l("DataScience.jupyterCommandLineQuickPickPlaceholder","Choose an option"),y.jupyterCommandLineQuickPickTitle=()=>l("DataScience.jupyterCommandLineQuickPickTitle","Pick command line for Jupyter"),y.jupyterCommandLinePrompt=()=>l("DataScience.jupyterCommandLinePrompt","Enter your custom command line for Jupyter"),y.connectingToJupyterUri=()=>l("DataScience.connectingToJupyterUri","Connecting to Jupyter server at {0}"),y.createdNewNotebook=()=>l("DataScience.createdNewNotebook","{0}: Creating new notebook "),y.createdNewKernel=()=>l("DataScience.createdNewKernel","{0}: Kernel started: {1}"),y.kernelInvalid=()=>l("DataScience.kernelInvalid","Kernel {0} is not usable. Check the Jupyter output tab for more information."),y.nativeDependencyFail=()=>l("DataScience.nativeDependencyFail","{0}. We cannot launch a Jupyter server for you because your OS is not supported. Select an already running server if you wish to continue."),y.selectNewServer=()=>l("DataScience.selectNewServer","Pick Running Server"),y.jupyterSelectURIRemoteLabel=()=>l("DataScience.jupyterSelectURIRemoteLabel","Existing"),y.jupyterSelectURIQuickPickTitleRemoteOnly=()=>l("DataScience.jupyterSelectURIQuickPickTitleRemoteOnly","Pick an already running Jupyter server"),y.jupyterSelectURIRemoteDetail=()=>l("DataScience.jupyterSelectURIRemoteDetail","Specify the URI of an existing server"),y.removeRemoteJupyterServerEntryInQuickPick=()=>l("DataScience.removeRemoteJupyterServerEntryInQuickPick","Remove"),y.specifyLocalOrRemoteJupyterServerForConnections=()=>l("jupyter.command.jupyter.selectjupyteruri.title","Specify Jupyter Server for Connections"),y.jupyterNativeNotebookUriStatusLabelForLocal=()=>l("DataScience.jupyterNativeNotebookUriStatusLabelForLocal","Jupyter Server: Local"),y.jupyterNativeNotebookUriStatusLabelForRemote=()=>l("DataScience.jupyterNativeNotebookUriStatusLabelForRemote","Jupyter Server: Remote"),y.loadClassFailedWithNoInternet=()=>l("DataScience.loadClassFailedWithNoInternet","Error loading {0}:{1}. Internet connection required for loading 3rd party widgets."),y.useCDNForWidgets=()=>l("DataScience.useCDNForWidgets","Widgets require us to download supporting files from a 3rd party website. Click [here](https://aka.ms/PVSCIPyWidgets) for more information."),y.useCDNForWidgetsNoInformation=()=>l("DataScience.useCDNForWidgetsNoInformation","Widgets require us to download supporting files from a 3rd party website."),y.enableCDNForWidgetsSettingHtml=()=>l({key:"DataScience.enableCDNForWidgetsSettingHtml",comment:['{Locked="command:jupyter.enableLoadingWidgetScriptsFromThirdPartySource"}']},"Widgets require us to download supporting files from a 3rd party website. Click <a href='https://command:jupyter.enableLoadingWidgetScriptsFromThirdPartySource'>here</a> to enable this or click <a href='https://aka.ms/PVSCIPyWidgets'>here</a> for more information. (Error loading {0}:{1})."),y.enableCDNForWidgetsSetting=()=>l("DataScience.enableCDNForWidgetsSetting","Widgets require us to download supporting files from a 3rd party website. (Error loading {0}:{1})."),y.enableCDNForWidgetsButton=()=>l("DataScience.enableCDNForWidgetsButton","Enable Downloads"),y.unhandledMessage=()=>l({key:"DataScience.unhandledMessage",comment:['{Locked="kernel"}']},"Unhandled kernel message from a widget: {0} : {1}"),y.cdnWidgetScriptNotAccessibleWarningMessage=()=>l("DataScience.cdnWidgetScriptNotAccessibleWarningMessage","Unable to download widget '{0}' from 3rd party website {1}, due to network access. Expected behavior may be affected. Click [here](https://aka.ms/PVSCIPyWidgets) for more information."),y.widgetScriptNotFoundOnCDNWidgetMightNotWork=()=>l("DataScience.widgetScriptNotFoundOnCDNWidgetMightNotWork","Unable to find widget '{0}' version '{1}' from configured widget sources {2}. Expected behavior may be affected. Click [here](https://aka.ms/PVSCIPyWidgets) for more information."),y.qgridWidgetScriptVersionCompatibilityWarning=()=>l("DataScience.qgridWidgetScriptVersionCompatibilityWarning","Unable to load a compatible version of the widget 'qgrid'. Consider downgrading to version 1.1.1."),y.runByLine=()=>l("DataScience.runByLine","Run by line (F10)"),y.step=()=>l("DataScience.step","Run next line (F10)"),y.stopRunByLine=()=>l("DataScience.stopRunByLine","Stop"),y.rawKernelSessionFailed=()=>l({key:"DataScience.rawKernelSessionFailed",comment:['{Locked="kernel"}']},"Unable to start session for kernel {0}. Select another kernel to launch with."),y.rawKernelConnectingSession=()=>l({key:"DataScience.rawKernelConnectingSession",comment:['{Locked="kernel"}']},"Connecting to kernel."),y.insecureSessionMessage=()=>l("DataScience.insecureSessionMessage","Connecting over HTTP without a token may be an insecure connection. Do you want to connect to a possibly insecure server?"),y.insecureSessionDenied=()=>l("DataScience.insecureSessionDenied","Denied connection to insecure server."),y.connected=()=>l("DataScience.connected","Connected"),y.disconnected=()=>l("DataScience.disconnected","Disconnected"),y.noKernelsSpecifyRemote=()=>l({key:"DataScience.noKernelsSpecifyRemote",comment:['{Locked="kernel"}','{Locked="command:jupyter.selectjupyteruri"}']},"No kernel available for cell execution, please [specify a Jupyter server for connections](command:jupyter.selectjupyteruri)"),y.ipykernelNotInstalled=()=>l("DataScience.ipykernelNotInstalled","IPyKernel not installed into interpreter {0}"),y.needIpykernel6=()=>l("DataScience.needIpykernel6","Ipykernel setup required for this feature"),y.setup=()=>l("DataScience.setup","Setup"),y.startingRunByLine=()=>l("DataScience.startingRunByLine","Starting Run by Line"),y.showDataViewerFail=()=>l("DataScience.showDataViewerFail","Failed to create the Data Viewer. Check the Jupyter tab of the Output window for more info."),y.placeHolderToSelectOptionForNotebookCreation=()=>l("DataScience.notebookCreationPickerPlaceHolder","Select an option to create a blank notebook"),y.defaultNotebookName=()=>l("DataScience.defaultNotebookName","default"),y.recommendExtensionForNotebookLanguage=()=>l("DataScience.recommendExtensionForNotebook","The {0} extension is recommended for notebooks targeting the language '{1}'"),y.kernelWasNotStarted=()=>l({key:"DataScience.kernelWasNotStarted",comment:['{Locked="kernel"}']},"Kernel was not started. A kernel session is needed to start debugging."),y.noNotebookToDebug=()=>l("DataScience.noNotebookToDebug","No active notebook document to debug."),y.cantStartDebugging=()=>l("DataScience.cantStartDebugging","Can't start debugging."),y.importingIpynb=()=>l("DataScience.importingIpynb","Importing notebook file"),y.exportingToFormat=()=>l("DataScience.exportingToFormat","Exporting to {0}"),y.kernelCategoryForJupyterSession=()=>l("jupyter.kernel.category.jupyterSession","({0}) Jupyter Session"),y.kernelPrefixForRemote=()=>l("DataScience.kernelPrefixForRemote","(Remote)"),y.kernelDefaultRemoteDisplayName=()=>l("DataScience.kernelDefaultRemoteDisplayName","Remote"),y.kernelCategoryForJupyterKernel=()=>l({key:"jupyter.kernel.category.jupyterKernel",comment:['{Locked="Kernel"}']},"Jupyter Kernel"),y.kernelCategoryForRemoteJupyterKernel=()=>l({key:"jupyter.kernel.category.jupyterRemoteKernel",comment:['{Locked="kernel"}']},"({0}) Jupyter Kernel"),y.kernelCategoryForConda=()=>l("jupyter.kernel.category.conda","Conda Env"),y.kernelCategoryForPoetry=()=>l({key:"jupyter.kernel.category.poetry",comment:['{Locked="Poetry"}']},"Poetry Env"),y.kernelCategoryForPipEnv=()=>l("jupyter.kernel.category.pipenv","Pipenv Env"),y.kernelCategoryForPyEnv=()=>l("jupyter.kernel.category.pyenv","PyEnv Env"),y.kernelCategoryForGlobal=()=>l({key:"jupyter.kernel.category.global",comment:['{Locked="Global"}']},"Global Env"),y.kernelCategoryForVirtual=()=>l({key:"jupyter.kernel.category.virtual",comment:['{Locked="Virtual"}']},"Virtual Env"),y.fileSeemsToBeInterferingWithKernelStartup=()=>l({key:"DataScience.fileSeemsToBeInterferingWithKernelStartup",comment:['{Locked="kernel"}']},"The file '{0}' seems to be overriding built in modules and interfering with the startup of the kernel. Consider renaming the file and starting the kernel again."),y.moduleSeemsToBeInterferingWithKernelStartup=()=>l({key:"DataScience.moduleSeemsToBeInterferingWithKernelStartup",comment:['{Locked="kernel"}']},"The module '{0}' seems to be overriding built in modules and interfering with the startup of the kernel. Consider renaming the folder and starting the kernel again."),y.pipCondaInstallHoverWarning=()=>l("jupyter.kernel.pipCondaInstallHoverWarning","'!{0} install' could install packages into the wrong environment. [More info]({1})"),y.percentPipCondaInstallInsteadOfBang=()=>l({key:"jupyter.kernel.percentPipCondaInstallInsteadOfBang",comment:['{Locked="install"}']},"Use '%{0} install' instead of '!{0} install'"),y.replacePipCondaInstallCodeAction=()=>l({key:"jupyter.kernel.replacePipCondaInstallCodeAction",comment:['{Locked="install"}']},"Replace with '%{0} install'"),y.failedToStartKernelDueToMissingModule=()=>l({key:"DataScience.failedToStartKernelDueToMissingModule",comment:['{Locked="kernel"}']},"The kernel failed to start due to the missing module '{0}'. Consider installing this module."),y.failedToStartKernelDueToImportFailure=()=>l({key:"DataScience.failedToStartKernelDueToImportFailure",comment:['{Locked="kernel"}']},"The kernel failed to start as the module '{0}' could not be imported."),y.failedToStartKernelDueToImportFailureFromFile=()=>l({key:"DataScience.failedToStartKernelDueToImportFromFileFailure",comment:['{Locked="kernel"}']},"The kernel failed to start as '{0}' could not be imported from '{1}'."),y.failedToStartKernelDueToUnknownDllLoadFailure=()=>l({key:"DataScience.failedToStartKernelDueToUnknownDllLoadFailure",comment:['{Locked="kernel"}']},"The kernel failed to start as a dll could not be loaded."),y.failedToStartKernelDueToDllLoadFailure=()=>l({key:"DataScience.failedToStartKernelDueToDllLoadFailure",comment:['{Locked="kernel"}']},"The kernel failed to start as the dll '{0}' could not be loaded."),y.failedToStartKernelDueToWin32APIFailure=()=>l({key:"DataScience.failedToStartKernelDueToWin32APIFailure",comment:['{Locked="kernel"}']},"The kernel failed to start due to an error with the Win32api module. Consider (re) installing this module."),y.failedToStartKernelDueToPyZmqFailure=()=>l({key:"DataScience.failedToStartKernelDueToPyZmqFailure",comment:['{Locked="kernel"}']},"The kernel failed to start due to an error with the 'pyzmq' module. Consider re-installing this module."),y.failedToStartKernelDueToOldIPython=()=>l({key:"DataScience.failedToStartKernelDueToOldIPython",comment:['{Locked="kernel"}']},"The kernel failed to start due to an outdated version of IPython. Consider updating this module to the latest version."),y.failedToStartKernelDueToOldIPyKernel=()=>l({key:"DataScience.failedToStartKernelDueToOldIPyKernel",comment:['{Locked="kernel"}']},"The kernel failed to start due to an outdated version of IPyKernel. Consider updating this module to the latest version."),y.matplotlibWidgetInsteadOfOther=()=>l("DataScience.matplotlibWidgetInsteadOfOther","'%matplotlib' widget works best inside of VS Code"),y.matplotlibWidgetCodeActionTitle=()=>l("DataScience.matplotlibWidgetCodeActionTitle","More info"),y.allowExtensionToUseJupyterKernelApi=()=>l({key:"DataScience.allowExtensionToUseJupyterKernelApi",comment:['{Locked="Kernels"}']},"Do you want to give the extension '{0}' access to the Jupyter Kernels? Clicking '{1}' would allow this extension to execute code against the Jupyter Kernels."),y.thanksForUsingJupyterKernelApiPleaseRegisterWithUs=()=>l("DataScience.thanksForUsingJupyterKernelApiPleaseRegisterWithUs","Thanks for trying the Jupyter API. Please file an issue on our repo to use this API in production. This would prevent us from breaking your extension when updating the API (as it is still a work in progress)."),y.activatingPythonEnvironment=()=>l("DataScience.activatingEnvironment","Activating Python Environment '{0}'"),y.cellAtFormat=()=>l("DataScience.cellAtFormat","{0} Cell {1}"),y.jupyterServerConsoleOutputChannel=()=>l("DataScience.jupyterServerConsoleOutputChannel","Jupyter Server Console"),y.kernelConsoleOutputChannel=()=>l("DataScience.kernelConsoleOutputChannel","{0} Kernel Console Output"),y.webNotSupported=()=>l("DataScience.webNotSupported","Operation not supported in web version of Jupyter Extension."),y.validationErrorMessageForRemoteUrlProtocolNeedsToBeHttpOrHttps=()=>l("DataScience.validationErrorMessageForRemoteUrlProtocolNeedsToBeHttpOrHttps","Has to be http(s)"),y.pickLocalKernelTitle=()=>l("DataScience.pickLocalKernelTitle","Select a Local Kernel"),y.pickLocalKernelPlaceholder=()=>l("DataScience.pickLocalKernelPlaceholder","type to filter"),y.pickRemoteKernelTitle=()=>l("DataScience.pickRemoteKernelTitle","Select a Remote Kernel"),y.pickRemoteKernelPlaceholder=()=>l("DataScience.pickRemoteKernelPlaceholder","type to filter"),y.failedToInstallPythonExtension=()=>l("DataScience.failedToInstallPythonExtension","Failed to install the Python Extension."),y.pythonFileOverridesPythonPackage=()=>l("DataScience.pythonFileOverridesPythonPackage","This file could potentially override an existing Python package and interfere with kernel execution, consider renaming it."),y.alwaysIgnoreWarningsAboutOverridingPythonPackages=()=>l("DataScience.alwaysIgnoreWarningsAboutOverridingPythonPackages","Always ignore warnings about overriding Python packages"),y.ignoreWarningAboutOverridingPythonPackage=()=>l("DataScience.ignoreWarningAboutOverridingPythonPackage","Ignore warning for {0}"),y.moreInfoAboutFileNamesOverridingPythonPackages=()=>l("DataScience.moreInfoAboutFileNamesOverridingPythonPackages","More information on overriding Python packages"),y.reservedPythonFileNamesDiagnosticCollectionName=()=>l("DataScience.reservedPythonFileNamesDiagnosticCollectionName","Reserved Python Filenames"),y.filesPossiblyOverridingPythonModulesMayHavePreventedKernelFromStarting=()=>l("DataScience.filesPossiblyOverridingPythonModulesMayHavePreventedKernelFromStarting","Some of the following files found in the working directory may have prevented the Kernel from starting. Consider renaming them."),y.listOfFilesWithLinksThatMightNeedToBeRenamed=()=>l("DataScience.listOfFilesWithLinksThatMightNeedToBeRenamed","File(s): {0} might need to be renamed."),y.failedToGetVersionOfPandas=()=>l({key:"DataScience.failedToGetVersionOfPandas",comment:['{Locked="Pandas"}']},"Failed to get version of Pandas to use the Data Viewer."),y.failedToInstallPandas=()=>l({key:"DataScience.failedToInstallPandas",comment:['{Locked="Pandas"}']},"Failed to install Pandas to use the Data Viewer."),y.localKernelFinderDisplayName=()=>l("DataScience.localKernelFinderDisplayName","Local Kernels"),y.universalRemoteKernelFinderDisplayName=()=>l("DataScience.universalRemoteKernelFinderDisplayName","Remote - {0}"),y.remoteKernelFinderDisplayName=()=>l("DataScience.remoteKernelFinderDisplayName","Current Remote"),(m=t.Deprecated||(t.Deprecated={})).SHOW_DEPRECATED_FEATURE_PROMPT_FORMAT_ON_SAVE=()=>l({key:"Deprecated.SHOW_DEPRECATED_FEATURE_PROMPT_FORMAT_ON_SAVE",comment:['{Locked="python.formatting.formatOnSave"}','{Locked="editor.formatOnSave"}']},"The setting 'python.formatting.formatOnSave' is deprecated, please use 'editor.formatOnSave'."),m.SHOW_DEPRECATED_FEATURE_PROMPT_LINT_ON_TEXT_CHANGE=()=>l({key:"Deprecated.SHOW_DEPRECATED_FEATURE_PROMPT_LINT_ON_TEXT_CHANGE",comment:['{Locked="python.linting.lintOnTextChange"}','{Locked="python.linting.lintOnSave"}','{Locked="files.autoSave"}']},"The setting 'python.linting.lintOnTextChange' is deprecated, please enable 'python.linting.lintOnSave' and 'files.autoSave'."),m.SHOW_DEPRECATED_FEATURE_PROMPT_FOR_AUTO_COMPLETE_PRELOAD_MODULES=()=>l({key:"Deprecated.SHOW_DEPRECATED_FEATURE_PROMPT_FOR_AUTO_COMPLETE_PRELOAD_MODULES",comment:['{Locked="python.autoComplete.preloadModules"}','{Locked="python.languageServer"}']},"The setting 'python.autoComplete.preloadModules' is deprecated, please consider using Pylance Language Server ('python.languageServer' setting)."),(g=t.Installer||(t.Installer={})).noCondaOrPipInstaller=()=>l("Installer.noCondaOrPipInstaller","There is no Conda or Pip installer available in the selected environment."),g.noPipInstaller=()=>l("Installer.noPipInstaller","There is no Pip installer available in the selected environment."),g.searchForHelp=()=>l("Installer.searchForHelp","Search for help"),g.couldNotInstallLibrary=()=>l("Installer.couldNotInstallLibrary","Could not install {0}. If pip is not available, please use the package manager of your choice to manually install this library into your Python environment."),g.dataScienceInstallPrompt=()=>l("Installer.dataScienceInstallPrompt","Data Science library {0} is not installed. Install?"),(t.Products||(t.Products={})).installingModule=()=>l("products.installingModule","Installing {0}");let E,P={};function D(){return s.env.language||"en-us"}function T(){E=D(),h=d[E]||{},f||(f=u)}t._resetCollections=function(){E="",h=void 0,P={}},t._getAskedForCollection=function(){return P},t.getCollectionJSON=function(){return h&&D()===E||T(),JSON.stringify({...f,...h})},T()},58681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWeb=t.isNotebookCell=t.isUri=t.isResource=t.tracing=t.swallowExceptions=t.noop=void 0;const r=n(15925),o=n(43138),i=n(11386);function s(){}function a(e){if(!e)return!1;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme}t.noop=s,t.swallowExceptions=function(e){try{const t=e();(0,o.isPromise)(t)&&t.catch(s)}catch(e){}},t.tracing=function(e,t,n){const r=new i.StopWatch;try{n&&e(void 0);const i=t();return(0,o.isPromise)(i)?i.then((t=>(e({elapsed:r.elapsedTime,returnValue:t}),t))).catch((t=>{e({elapsed:r.elapsedTime,err:t})})):e({elapsed:r.elapsedTime,returnValue:i}),i}catch(t){throw e({elapsed:r.elapsedTime,err:t}),t}},t.isResource=function(e){if(!e)return!0;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme},t.isUri=a,t.isNotebookCell=function(e){const t=a(e)?e:e.uri;return t.scheme.includes(r.NotebookCellScheme)||t.scheme.includes(r.InteractiveInputScheme)},t.isWeb=function(){return"web"==="web".toString()}},19450:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepInputFactory=t.IMultiStepInputFactory=t.MultiStepInput=t.InputFlowAction=void 0;const i=n(86700),s=n(66828),a=n(10053);class c{}t.InputFlowAction=c,c.back=new c,c.cancel=new c,c.resume=new c;class l{constructor(e){this.shell=e,this.steps=[]}run(e,t){return this.stepThrough(e,t)}async showQuickPick({title:e,step:t,totalSteps:n,items:r,activeItem:o,placeholder:i,buttons:a,shouldResume:l,matchOnDescription:u,matchOnDetail:d,acceptFilterBoxTextAsSelection:p,startBusy:h,stopBusy:f,validate:g,onDidTriggerItemButton:m,onDidChangeItems:y}){const v=[];try{return await new Promise(((b,S)=>{const w=this.shell.createQuickPick();w.title=e,w.step=t,w.totalSteps=n,w.placeholder=i,w.ignoreFocusOut=!0,w.items=r,f&&(w.busy=null!=h&&h,f((()=>{w.enabled&&(w.busy=!1)}),this,v)),y&&(w.keepScrollPosition=!0,y((e=>{w.items=e}),this,v)),m&&w.onDidTriggerItemButton((e=>m(e)),void 0,v),w.matchOnDescription=u||!1,w.matchOnDetail=d||!1,w.activeItems=o?[o]:[],w.buttons=[...this.steps.length>1?[s.QuickInputButtons.Back]:[],...a||[]],v.push(w.onDidTriggerButton((e=>{e===s.QuickInputButtons.Back?S(c.back):b(e)})),w.onDidChangeSelection((async e=>{const t=e.length?e[0].label:"";let n=!!t;if(t&&g&&e.length){w.enabled=!1,w.busy=!0;const t=await g(e[0]);t&&(n=!1,await this.shell.showErrorMessage(t,{modal:!0})),w.enabled=!0,w.busy=!1}n&&b(e[0])})),w.onDidHide((()=>{(async()=>{S(l&&await l()?c.resume:c.cancel)})().catch(S)}))),p&&v.push(w.onDidAccept((async()=>{if(!w.busy){const e=g?await g(w):void 0;e?(w.enabled=!1,w.busy=!0,await this.shell.showErrorMessage(e),w.enabled=!0,w.busy=!1):b(w.value)}}))),this.current&&this.current.dispose(),this.current=w,this.current.show()}))}finally{v.forEach((e=>e.dispose()))}}async showInputBox({title:e,step:t,totalSteps:n,value:r,prompt:o,validate:i,password:a,buttons:l,shouldResume:u}){const d=[];try{return await new Promise(((p,h)=>{const f=this.shell.createInputBox();f.title=e,f.step=t,f.totalSteps=n,f.password=!!a,f.value=r||"",f.prompt=o,f.ignoreFocusOut=!0,f.buttons=[...this.steps.length>1?[s.QuickInputButtons.Back]:[],...l||[]],d.push(f.onDidTriggerButton((e=>{e===s.QuickInputButtons.Back?h(c.back):p(e)})),f.onDidAccept((async()=>{const e=f.value;f.enabled=!1,f.busy=!0;const t=await i(e);t?(f.validationMessage=t,f.show()):(f.validationMessage="",p(e)),f.enabled=!0,f.busy=!1})),f.onDidChangeValue((async()=>{f.validationMessage=""})),f.onDidHide((()=>{(async()=>{f.busy||h(u&&await u()?c.resume:c.cancel)})().catch(h)}))),this.current&&this.current.dispose(),this.current=f,this.current.show()}))}finally{d.forEach((e=>e.dispose()))}}async stepThrough(e,t){let n=e;for(;n;){this.steps.push(n),this.current&&(this.current.enabled=!1,this.current.busy=!0);try{n=await n(this,t)}catch(e){if(e===c.back)this.steps.pop(),n=this.steps.pop();else if(e===c.resume)n=this.steps.pop();else{if(e!==c.cancel)throw e;n=void 0}if(!n)return e}}this.current&&this.current.dispose()}}t.MultiStepInput=l,t.IMultiStepInputFactory=Symbol("IMultiStepInputFactory");let u=class{constructor(e){this.shell=e}create(){return new l(this.shell)}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IApplicationShell))],u),t.MultiStepInputFactory=u},13730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openAndShowNotebook=void 0;const r=n(66828);t.openAndShowNotebook=async function(e){const t=await r.workspace.openNotebookDocument(e);await r.window.showNotebookDocument(t)}},72728:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.untildify=t.getOSType=t.OSType=void 0,function(e){e.Unknown="Unknown",e.Windows="Windows",e.OSX="OSX",e.Linux="Linux"}(n=t.OSType||(t.OSType={})),t.getOSType=function(e="web"){return/^win/.test(e)?n.Windows:/^darwin/.test(e)?n.OSX:/^linux/.test(e)?n.Linux:n.Unknown},t.untildify=function(e,t){return e.replace(/^~(?=$|\/|\\)/,t)}},58323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stripAnsi=t.buildDataViewerFilterRegex=t.verboseRegExp=void 0,t.verboseRegExp=function(e,t){return e=(e=e.replace(/(^| {2})# .*$/gm,"")).replace(/\s+?/g,""),RegExp(e,t)};const r=/[\.\+\?\^\$\{\}\(\)\|\[\]\\]/;t.buildDataViewerFilterRegex=function(e){let t="";return e.startsWith("=")?e=`^${e.substr(1).trim()}$`:r.test(e)||(e=`^.*${e}.*$`,t="i"),new RegExp(e,t)},t.stripAnsi=function(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);let t=n(14277);return t.default&&(t=t.default),e.replace(t(),"")}},81014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeDataViews=t.serializeDataViews=void 0,t.serializeDataViews=function(e){if(!e||!Array.isArray(e)||0===e.length)return;const t=[];for(let n=0;n<e.length;n+=1){const r=e[n];if("buffer"in r&&"byteOffset"in r){const e=Array.apply(null,new Uint8Array(r.buffer));t.push({...r,byteLength:r.byteLength,byteOffset:r.byteOffset,buffer:e})}else t.push([...new Uint8Array(r)])}return t},t.deserializeDataViews=function(e){if(!Array.isArray(e)||0===e.length)return e;const t=[];for(let n=0;n<e.length;n+=1){const r=e[n];if("buffer"in r&&"byteOffset"in r){const e=new Uint8Array(r.buffer).buffer,n=new DataView(e,r.byteOffset,r.byteLength);t.push(n)}else{const e=new Uint8Array(r).buffer;t.push(e)}}return t}},11386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0,t.StopWatch=class{constructor(){this.started=(new Date).getTime()}get elapsedTime(){return(new Date).getTime()-this.started}reset(){this.started=(new Date).getTime()}}},98708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=t.isNumber=t.isObject=t.isString=t.isArray=void 0;const n="number";t.isArray=function(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==n||e.constructor!==Array)},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)},t.isNumber=function(e){return(typeof e===n||e instanceof Number)&&!isNaN(e)},t.isFunction=function(e){return"function"==typeof e}},37419:function(e,t,n){"use strict";var r,o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableScriptGenerator=void 0;const a=n(86700),c=n(83599),l=n(42080),u=n(52859),d=s(n(66518)),p="_VSCODE_getVariable",h=d.default`
                            try:
                                del _VSCODE_getVariable
                            except:
                                pass
                            `;let f=r=class{constructor(e,t){this.fs=e,this.context=t}async generateCodeToGetVariableInfo(e){const t=await this.getContentsOfScript(),n=e.isDebugging?"True":"False",r=`${p}("info", ${n}, ${e.variableName})`;return e.isDebugging?{initializeCode:t,code:r,cleanupCode:h}:{code:`${t}\n\n${r}\n\n${h}`}}async generateCodeToGetVariableProperties(e){const t=await this.getContentsOfScript(),n=e.isDebugging?"True":"False",r=`${p}("properties", ${n}, ${e.variableName}, ${e.stringifiedAttributeNameList})`;return e.isDebugging?{initializeCode:t,code:r,cleanupCode:h}:{code:`${t}\n\n${r}\n\n${h}`}}async generateCodeToGetVariableTypes(e){const t=`${await this.getContentsOfScript()}\n\n_VSCODE_rwho_ls = %who_ls\n`,n=e.isDebugging?"True":"False",r=d.default`
        try:
            del _VSCODE_rwho_ls
        except:
            pass
        `,o=`${p}("types", ${n}, _VSCODE_rwho_ls)`;return e.isDebugging?{initializeCode:t,code:o,cleanupCode:`${h}\n${r}`}:{code:`${t}${o}\n\n${h}\n${r}`}}async getContentsOfScript(){if(r.contentsOfScript)return r.contentsOfScript;const e=(0,u.joinPath)(this.context.extensionUri,"pythonFiles","vscode_datascience_helpers","getVariableInfo","vscodeGetVariableInfo.py"),t=await this.fs.readFile(e);return r.contentsOfScript=t,t}};f=r=o([(0,a.injectable)(),i(0,(0,a.inject)(c.IFileSystem)),i(1,(0,a.inject)(l.IExtensionContext))],f),t.VariableScriptGenerator=f},26264:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractSystemVariables=void 0;const s=i(n(98708));t.AbstractSystemVariables=class{resolve(e){return s.isString(e)?this.__resolveString(e):s.isArray(e)?this.__resolveArray(e):s.isObject(e)?this.__resolveLiteral(e):e}resolveAny(e){return s.isString(e)?this.__resolveString(e):s.isArray(e)?this.__resolveAnyArray(e):s.isObject(e)?this.__resolveAnyLiteral(e):e}__resolveString(e){return e.replace(/\$\{(.*?)\}/g,((e,t)=>{const n=this[t];return s.isString(n)?n:e&&(e.indexOf("env.")>0||e.indexOf("env:")>0)?"":e}))}__resolveLiteral(e){const t=Object.create(null);return Object.keys(e).forEach((n=>{const r=e[n];t[n]=this.resolve(r)})),t}__resolveAnyLiteral(e){const t=Object.create(null);return Object.keys(e).forEach((n=>{const r=e[n];t[n]=this.resolveAny(r)})),t}__resolveArray(e){return e.map((e=>this.__resolveString(e)))}__resolveAnyArray(e){return e.map((e=>this.resolveAny(e)))}}},471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemVariables=void 0;const r=n(66828),o=n(26264);class i extends o.AbstractSystemVariables{constructor(e,t,n,o){super();const i=n&&e?n.getWorkspaceFolder(e):void 0;this._workspaceFolder=i?i.uri.path:t||"",this._filePath=e?e.path:void 0,o&&o.activeTextEditor&&(this._lineNumber=o.activeTextEditor.selection.anchor.line+1,this._selectedText=o.activeTextEditor.document.getText(new r.Range(o.activeTextEditor.selection.start,o.activeTextEditor.selection.end)))}get cwd(){return this.workspaceFolder}get workspaceRoot(){return this._workspaceFolder}get workspaceFolder(){return this._workspaceFolder}get file(){return this._filePath}get lineNumber(){return this._lineNumber}get selectedText(){return this._selectedText}}t.SystemVariables=i},91083:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPreReleaseVersion=t.MillisecondsInADay=t.HiddenFileFormatString=void 0,t.HiddenFileFormatString="_HiddenFile_{0}.py",t.MillisecondsInADay=864e5,t.isPreReleaseVersion=function(){try{return"true"}catch(e){return"true"}}},29629:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createOutputWithErrorMessageForDisplay=t.analyzeKernelErrors=t.KernelFailureReason=t.getLastFrameFromPythonTraceback=t.getLastTwoLinesFromPythonTracebackWithErrorMessage=t.getErrorMessageFromPythonTraceback=t.getTelemetrySafeErrorMessageFromPythonTraceback=t.ErrorUtils=void 0;const s=n(66828),a=n(35412),c=n(25251),l=n(30002),u=n(37853),d=i(n(52859));function p(e=""){if(!e)return;const t=e.trim().split("\n").map((e=>e.trim())).filter((e=>e.trim().length)).reverse();return 0!==t.length&&t[0].includes("Error")?[t.length>1?t[1]:"",t[0]]:void 0}var h;function f(e){const t=(e=e.replace(/"/g,"'")).match(/'[^\\']*(\\'[^\\']*)*'/g),n=e.match(/\((.*?)\)/g);let r,o;return t&&t[0].length>2&&(r=t[0],r=r.substring(1,r.length-1)),n&&n[0].length>2&&(o=n[0],o=o.substring(1,o.length-1)),r?{moduleName:r,fileName:o}:void 0}t.ErrorUtils=class{static outputHasModuleNotInstalledError(e,t){return!(!t||!(t.indexOf(`No module named ${e}`)>0||t.indexOf(`No module named '${e}'`)>0))}},t.getTelemetrySafeErrorMessageFromPythonTraceback=function(e=""){if(!e)return;const t=`${e.trim()}: `.split("\n").filter((e=>e.trim().length)).reverse();if(0===t.length)return;const n=t[0],r=((n.match(/\S+Error: /g)?n:void 0)||"").split(":");return r.length&&r[0].endsWith("Error")?r[0]:void 0},t.getErrorMessageFromPythonTraceback=function(e=""){const t=p(e);return t?t[1]:void 0},t.getLastTwoLinesFromPythonTracebackWithErrorMessage=p,t.getLastFrameFromPythonTraceback=function(e){if(!e)return;const t=(Array.isArray(e)?e[0]:e).split("\n").map((e=>e.trim().toLowerCase())).filter((e=>e.length)).reverse().find((e=>e.startsWith("file ")&&e.includes(", line ")&&e.includes(".py")&&e.includes(".py")));if(!t)return;const n=(t.substring(0,t.lastIndexOf(".py"))+".py").replace(/\\/g,"/").split("/"),r=n.indexOf("site-packages");let o=r>=0&&n.length>r+1?n[r+1]:"";const i=n.reverse();return i.length<2?void 0:{fileName:i[0],folderName:i[1],packageName:o}},function(e){e.importWin32apiFailure="importWin32apiFailure",e.zmqModuleFailure="zmqModuleFailure",e.oldIPythonFailure="oldIPythonFailure",e.oldIPyKernelFailure="oldIPyKernelFailure",e.overridingBuiltinModules="overridingBuiltinModules",e.importFailure="importFailure",e.moduleNotFoundFailure="moduleNotFound",e.dllLoadFailure="dllLoadFailure",e.jupyterStartFailure="jupyterStartFailure",e.jupyterStartFailureOutdatedTraitlets="jupyterStartFailureOutdatedTraitlets"}(h=t.KernelFailureReason||(t.KernelFailureReason={})),t.analyzeKernelErrors=function(e,t,n,r="",o=[]){const i=t instanceof u.BaseError?t.stdErr||t.stack||"":t.toString(),g=p(i),m=i.toLowerCase();if(m.includes("ImportError: No module named 'win32api'".toLowerCase()))return{reason:h.importWin32apiFailure,message:c.DataScience.failedToStartKernelDueToWin32APIFailure(),moreInfoLink:"https://aka.ms/kernelFailuresWin32Api",telemetrySafeTags:["win32api"]};if(m.includes("ImportError: DLL load failed".toLowerCase())&&m.includes("win32api"))return{reason:h.importWin32apiFailure,message:c.DataScience.failedToStartKernelDueToWin32APIFailure(),moreInfoLink:"https://aka.ms/kernelFailuresWin32Api",telemetrySafeTags:["dll.load.failed","win32api"]};if(m.includes("ImportError: DLL load failed".toLowerCase())){const e=g&&g[0].toLowerCase().startsWith("import")?g[0].substring("import".length).trim():void 0;return{reason:h.dllLoadFailure,moduleName:e,message:e?c.DataScience.failedToStartKernelDueToDllLoadFailure().format(e):c.DataScience.failedToStartKernelDueToUnknownDllLoadFailure(),moreInfoLink:"https://aka.ms/kernelFailuresDllLoad",telemetrySafeTags:["dll.load.failed"]}}if(m.includes("AssertionError: Couldn't find Class NSProcessInfo".toLowerCase()))return{reason:h.oldIPythonFailure,message:c.DataScience.failedToStartKernelDueToOldIPython(),moreInfoLink:"https://aka.ms/kernelFailuresOldIPython",telemetrySafeTags:["oldipython"]};if(m.includes("NotImplementedError".toLowerCase())&&m.includes("asyncio".toLowerCase())&&m.includes("events.py".toLowerCase()))return{reason:h.oldIPyKernelFailure,message:c.DataScience.failedToStartKernelDueToOldIPyKernel(),moreInfoLink:"https://aka.ms/kernelFailuresOldIPyKernel",telemetrySafeTags:["oldipykernel"]};{const e=[];if(m.includes("ImportError: cannot import name".toLowerCase())&&m.includes("from partially initialized module".toLowerCase())&&m.includes("zmq.backend.cython".toLowerCase())&&e.push("zmq.backend.cython"),m.includes("zmq".toLowerCase())&&m.includes("cython".toLowerCase())&&m.includes("__init__.py".toLowerCase())&&e.push("zmq.cython"),m.includes("zmq.error.ZMQError")&&e.push("zmq.error"),e.length)return{reason:h.zmqModuleFailure,message:c.DataScience.failedToStartKernelDueToPyZmqFailure(),moreInfoLink:"https://aka.ms/kernelFailuresPyzmq",telemetrySafeTags:e}}if(g&&g[1].toLowerCase().startsWith("importerror")){const t=f(g[1]);if(t&&r){const n=function(e,t,n,r){if(r&&0!==n.length&&t&&!t.toLowerCase().startsWith(r)&&n.some((e=>t.toLowerCase().startsWith(e.uri.fsPath.toLowerCase()))))return{reason:h.overridingBuiltinModules,fileName:t,moduleName:e,message:c.DataScience.fileSeemsToBeInterferingWithKernelStartup().format((0,a.getDisplayPath)(s.Uri.file(t),n||[])),moreInfoLink:"https://aka.ms/kernelFailuresOverridingBuiltInModules",telemetrySafeTags:["import.error","override.modules"]}}(t.moduleName,t.fileName,e,r);return n||{reason:h.importFailure,moduleName:t.moduleName,fileName:t.fileName,message:t.fileName?c.DataScience.failedToStartKernelDueToImportFailureFromFile().format(t.moduleName,t.fileName):c.DataScience.failedToStartKernelDueToImportFailure().format(t.moduleName),moreInfoLink:t.fileName?"https://aka.ms/kernelFailuresModuleImportErrFromFile":"https://aka.ms/kernelFailuresModuleImportErr",telemetrySafeTags:["import.error"]}}}const y="No module named".toLowerCase(),v="is not a package".toLowerCase();if(m.includes(y)&&!v){const e=i.splitLines().map((e=>e.trim())).filter((e=>e.length)).find((e=>e.toLowerCase().includes(y))),t=e?e.substring(e.toLowerCase().indexOf(y)+y.length).trim():"";if(e)return{reason:h.moduleNotFoundFailure,moduleName:t,message:c.DataScience.failedToStartKernelDueToMissingModule().format(t),moreInfoLink:"https://aka.ms/kernelFailuresMissingModule",telemetrySafeTags:["module.notfound.error"]}}else{if(m.includes(y)&&v){const e=i.splitLines().map((e=>e.trim())).filter((e=>e.length)).find((e=>e.toLowerCase().includes(y)));let t=e?e.substring(e.toLowerCase().indexOf(y)+y.length).trim():"",n="",r="";t.split("'").length>2&&(n=t.split("'").slice(-2)[0]||"",n=n?`${n}.py`:"",r=n||"",t=t.split("'")[1]||t);const s=o.filter((e=>"__init__.py"===d.basename(e).toLowerCase())).map((e=>d.basename(d.dirname(e))));return t&&n&&t!==n&&o.some((e=>d.basename(e).toLowerCase()===n.toLowerCase()))?{reason:h.overridingBuiltinModules,fileName:n,moduleName:t,message:c.DataScience.fileSeemsToBeInterferingWithKernelStartup().format(n),moreInfoLink:"https://aka.ms/kernelFailuresOverridingBuiltInModules",telemetrySafeTags:["import.error","override.modules"]}:t&&s&&t!==r&&s.some((e=>e.toLowerCase()===r.toLowerCase()))?{reason:h.overridingBuiltinModules,folderName:r,moduleName:t,message:c.DataScience.moduleSeemsToBeInterferingWithKernelStartup().format(r),moreInfoLink:"https://aka.ms/kernelFailuresOverridingBuiltInModules",telemetrySafeTags:["import.error","override.modules"]}:{reason:h.moduleNotFoundFailure,moduleName:t,message:c.DataScience.failedToStartKernelDueToMissingModule().format(t),moreInfoLink:"https://aka.ms/kernelFailuresMissingModule",telemetrySafeTags:["module.notfound.error"]}}if(t instanceof u.BaseError&&"invalidkernel"===t.category&&o.length){const e=d.basename(o[0]);return{reason:h.overridingBuiltinModules,fileName:e,moduleName:d.basename(o[0],".py"),message:c.DataScience.fileSeemsToBeInterferingWithKernelStartup().format(e),moreInfoLink:"https://aka.ms/kernelFailuresOverridingBuiltInModules",telemetrySafeTags:["import.error","override.modules"]}}if(g&&g[1].toLowerCase().startsWith("ModuleNotFoundError".toLowerCase())){const e=f(g[1]);if(e)return{reason:h.moduleNotFoundFailure,moduleName:e.moduleName,message:c.DataScience.failedToStartKernelDueToMissingModule().format(e.moduleName),moreInfoLink:"https://aka.ms/kernelFailuresMissingModule",telemetrySafeTags:["module.notfound.error"]}}}if(t instanceof l.JupyterConnectError){let e=i.splitLines().map((e=>e.trim())).reverse().find((e=>e.toLowerCase().includes("error: ")));const r="AttributeError: 'Namespace' object has no attribute '_flags'",o=["jupyter.startup.failure"];let s,a=h.jupyterStartFailure,l=t.message.splitLines({removeEmptyEntries:!0,trim:!0}).reverse().find((e=>e.toLowerCase().includes("error: ")));if(l=l||(t.stdErr||"").splitLines({removeEmptyEntries:!0,trim:!0}).reverse().find((e=>e.toLowerCase().includes("error: "))),m.includes(r.toLowerCase())?(a=h.jupyterStartFailureOutdatedTraitlets,e=c.DataScience.failedToStartJupyterDueToOutdatedTraitlets().format(n||"",l||""),o.push("outdated.traitlets"),s="https://aka.ms/kernelFailuresJupyterTrailtletsOutdated"):(e=l?c.DataScience.failedToStartJupyterWithErrorInfo().format(n||"",l):c.DataScience.failedToStartJupyter().format(n||""),s=void 0),e)return{reason:a,message:e,pythonError:l,moreInfoLink:s,telemetrySafeTags:o}}},t.createOutputWithErrorMessageForDisplay=function(e){if(!e)return;const t=/\[([^\[\]]*)\]\((.*?)\)/gm;let n;for(;null!==(n=t.exec(e));)3===n.length&&(e=e.replace(n[0],`<a href='${n[2]}'>${n[1]}</a>`));const r=e.splitLines({removeEmptyEntries:!1,trim:!1}).map((e=>`[1;31m${e}`)).join("\n");return new s.NotebookCellOutput([s.NotebookCellOutputItem.error({message:"",name:"",stack:r})])}},93988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorTags=void 0;const r=n(29629),o=[function(e,t=[]){e.includes("ChildProcess.exithandler".toLowerCase())&&t.push("childproc.exit")},function(e,t=[]){e.includes("KernelRestarter: restart failed".toLowerCase())&&t.push("KernelRestarter.failed")}];t.getErrorTags=function(e){const t=[];let n=Array.isArray(e)?e[0].toLowerCase():e.toLowerCase();o.forEach((e=>e(n,t)));const i=(0,r.analyzeKernelErrors)([],n,void 0);return(null==i?void 0:i.telemetrySafeTags.length)&&t.push(...i.telemetrySafeTags),Array.from(new Set(t)).join(",")}},12189:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.populateTelemetryWithErrorInfo=void 0;const s=n(83300),a=i(n(77911)),c=n(96434),l=n(93988),u=n(29629),d=n(37853);function p(e){const t=[];return"string"==typeof e.getTypeName()&&e.getTypeName().length>0&&t.push(e.getTypeName()),"string"==typeof e.getMethodName()&&e.getMethodName().length>0&&t.push(e.getMethodName()),"string"==typeof e.getFunctionName()&&e.getFunctionName().length>0&&(2===t.length&&t.join(".")===e.getFunctionName()||t.push(e.getFunctionName())),t.join(".")}t.populateTelemetryWithErrorInfo=async function(e,t){e.failed=!0,e.failureCategory=e.failureCategory||(0,d.getErrorCategory)(t);const n=!s.FetchError&&"TypeError"===(null==t?void 0:t.name)&&"Failed to fetch"===(null==t?void 0:t.message),r=n?TypeError:s.FetchError,o=(n||void 0!==s.FetchError)&&function(e,t){return t?e instanceof t||e instanceof d.WrappedError&&e.originalException instanceof t:(console.error("Error type is not defined",e),!1)}(t,r);"unknown"===e.failureCategory&&o&&(e.failureCategory="fetcherror"),e.stackTrace=function(e){let t="";for(const n of function(e){if(e.stack&&Array.isArray(e.stack)){const t={...e,stack:e.stack.join("\n")};return a.parse(t)}return a.parse(e)}(e)){const e=n.getFileName();if(e){const r=n.getLineNumber(),o=n.getColumnNumber();t+=`\n\tat ${p(n)} ${e}:${r}:${o}`}else t+="\n\tat <anonymous>"}return t.trim().replace(/\\/g,"/")}(t),"string"==typeof t&&(e.failureSubCategory="errorisstring");const i=t.stdErr?t.stdErr:t.stack||"";if(!i)return;e.failureSubCategory=e.failureSubCategory||(0,l.getErrorTags)(i);const h=(0,u.getLastFrameFromPythonTraceback)(i);h&&([e.pythonErrorFile,e.pythonErrorFolder,e.pythonErrorPackage]=await Promise.all([Promise.resolve(e.pythonErrorFile||(0,c.getTelemetrySafeHashedString)(h.fileName)),Promise.resolve(e.pythonErrorFolder||(0,c.getTelemetrySafeHashedString)(h.folderName)),Promise.resolve(e.pythonErrorPackage||(0,c.getTelemetrySafeHashedString)(h.packageName))]))}},58659:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveCellResultError=void 0;class n extends Error{constructor(e){super("Cell failed to execute"),this.cell=e}}t.InteractiveCellResultError=n},30002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterConnectError=void 0;const r=n(37853);class o extends r.BaseError{constructor(e,t){super("jupyterconnection",e+(t?`\n${t}`:""))}}t.JupyterConnectError=o},89112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterDataRateLimitError=void 0;const r=n(25251),o=n(37853);class i extends o.BaseError{constructor(){super("unknown",r.DataScience.jupyterDataRateExceeded())}}t.JupyterDataRateLimitError=i},44501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExpiredCertsError=void 0;const r=n(37853);class o extends r.BaseError{constructor(e){super("jupyterexpiredcert",e)}}t.JupyterExpiredCertsError=o},41779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInstallError=void 0;const r=n(37853);class o extends r.BaseError{constructor(e){super("jupyterinstall",e)}}t.JupyterInstallError=o},84079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSelfCertsError=void 0;const r=n(37853);class o extends r.BaseError{constructor(e){super("jupyterselfcert",e)}static isSelfCertsError(e){return e.message.indexOf("reason: self signed certificate")>=0}}t.JupyterSelfCertsError=o},50689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSelfCertsExpiredError=void 0;const r=n(37853);class o extends r.BaseError{constructor(e){super("jupyterselfexpiredcert",e)}static isSelfCertsExpiredError(e){return e.message.indexOf("reason: certificate has expired")>=0}}t.JupyterSelfCertsExpiredError=o},95739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalJupyterServerConnectionError=void 0;const r=n(25251),o=n(37853);class i extends o.BaseError{constructor(e){super("localjupyterserverconnection",r.DataScience.jupyterNotebookFailure().format(e.message||e.toString())),this.originalError=e}}t.LocalJupyterServerConnectionError=i},4169:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NotSupportedInWebError=void 0;const s=n(37853),a=i(n(25251));class c extends s.BaseError{constructor(){super("nodeonly",a.DataScience.webNotSupported())}}t.NotSupportedInWebError=c},54990:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteJupyterServerConnectionError=void 0;const r=n(25251),o=n(37853);class i extends o.BaseError{constructor(e,t,n){super("remotejupyterserverconnection",r.DataScience.remoteJupyterConnectionFailedWithServerWithError().format(s(e),n.message||n.toString())),this.serverId=t,this.originalError=n,this.baseUrl=s(e)}}function s(e){const t=new URL(e);return`${t.protocol}//${t.host}/`}t.RemoteJupyterServerConnectionError=i},65864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionDisposedError=void 0;const r=n(25251),o=n(37853);class i extends o.BaseError{constructor(){super("sessionDisposed",r.DataScience.sessionDisposed())}}t.SessionDisposedError=i},37853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCategory=t.WrappedError=t.BaseError=void 0;class n extends Error{constructor(e,t){super(t),this.category=e}}t.BaseError=n;class r extends n{constructor(e,t){super(o(t),e),this.originalException=t,t&&(this.stack=`${new Error("").stack}\n\n${t.stack}`)}static from(e,t){return t instanceof n?t:new r(e,t)}static unwrap(e){return e?(e instanceof r&&e.originalException&&e.originalException instanceof n&&(e=e.originalException),e):e}}function o(e){return e&&e instanceof n?e.category:"unknown"}t.WrappedError=r,t.getErrorCategory=o},47931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterSelector=void 0,t.IInterpreterSelector=Symbol("IInterpreterSelector")},84570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterService=void 0,t.IInterpreterService=Symbol("IInterpreterService")},32653:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPackages=void 0;const o=n(86700);let i=class{async listPackages(e){return[]}async getPackageVersions(e){return new Map}async getPackageVersion(e,t){}trackPackages(e,t){}};i=r([(0,o.injectable)()],i),t.InterpreterPackages=i},58301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterPackages=t.IReservedPythonNamedProvider=void 0,t.IReservedPythonNamedProvider=Symbol("IReservedPythonNamedProvider"),t.IInterpreterPackages=Symbol("IInterpreterPackages")},17835:function(e,t,n){"use strict";var r,o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceInterpreterTracker=void 0;const s=n(42080),a=n(10053),c=n(86700),l=n(84570),u=n(77886),d=n(46031);let p=r=class{constructor(e,t,n,o,i){this.extensions=e,this.workspaceService=t,this.pythonExtensionChecker=n,this.disposables=o,this.interpreterService=i,r.getWorkspaceIdentifier=this.workspaceService.getWorkspaceFolderIdentifier.bind(this.workspaceService)}activate(){this.trackActiveInterpreters(),this.extensions.onDidChange(this.trackActiveInterpreters,this,this.disposables)}static isActiveWorkspaceInterpreter(e,t){if(!t)return;const n=r.getWorkspaceIdentifier(e),o=r.workspaceInterpreters.get(n);return o?(0,d.areInterpreterPathsSame)(o,t.uri):void 0}trackActiveInterpreters(){!this.trackingInterpreters&&this.pythonExtensionChecker.isPythonExtensionActive&&(this.trackingInterpreters=!0,this.interpreterService.onDidChangeInterpreter((async()=>{const e=Array.isArray(this.workspaceService.workspaceFolders)?this.workspaceService.workspaceFolders.map((e=>e.uri)):[];await Promise.all(e.map((async e=>{try{const t=this.workspaceService.getWorkspaceFolderIdentifier(e),n=await this.interpreterService.getActiveInterpreter(e);r.workspaceInterpreters.set(t,null==n?void 0:n.uri)}catch(e){}})))}),this,this.disposables))}};p.workspaceInterpreters=new Map,p.getWorkspaceIdentifier=()=>"",p=r=o([(0,c.injectable)(),i(0,(0,c.inject)(s.IExtensions)),i(1,(0,c.inject)(a.IWorkspaceService)),i(2,(0,c.inject)(u.IPythonExtensionChecker)),i(3,(0,c.inject)(s.IDisposableRegistry)),i(4,(0,c.inject)(l.IInterpreterService))],p),t.WorkspaceInterpreterTracker=p},5337:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceContainer=void 0;const o=n(17187),i=n(86700),s=n(11642);try{(0,i.decorate)((0,i.injectable)(),o.EventEmitter)}catch(e){(0,s.traceWarning)("Failed to decorate EventEmitter for DI (possibly already decorated by another Extension)",e)}let a=class{constructor(e){this.container=e}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}};a=r([(0,i.injectable)()],a),t.ServiceContainer=a},33796:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const o=n(86700),i=n(85446);let s=class{constructor(e){this.container=e}getContainer(){return this.container}add(e,t,n,r){n?this.container.bind(e).to(t).whenTargetNamed(n):this.container.bind(e).to(t),r&&r.forEach((t=>{this.addBinding(e,t)}))}addFactory(e,t){this.container.bind(e).toFactory(t)}addBinding(e,t){this.container.bind(t).toService(e)}addSingleton(e,t,n,r){n?this.container.bind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.bind(e).to(t).inSingletonScope(),r&&r.forEach((t=>{this.addBinding(e,t)}))}addSingletonInstance(e,t,n){n?this.container.bind(e).toConstantValue(t).whenTargetNamed(n):this.container.bind(e).toConstantValue(t)}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}rebind(e,t,n){n?this.container.rebind(e).to(t).whenTargetNamed(n):this.container.rebind(e).to(t)}rebindSingleton(e,t,n){n?this.container.rebind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.rebind(e).to(t).inSingletonScope()}rebindInstance(e,t,n){n?this.container.rebind(e).toConstantValue(t).whenTargetNamed(n):this.container.rebind(e).toConstantValue(t)}dispose(){this.container.unbindAll(),this.container.unload()}};r([(0,i.testOnlyMethod)()],s.prototype,"getContainer",null),s=r([(0,o.injectable)()],s),t.ServiceManager=s},41778:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IServiceContainer=t.IServiceManager=void 0,t.IServiceManager=Symbol("IServiceManager"),t.IServiceContainer=Symbol("IServiceContainer")},91057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0;const r=n(17693),o=n(35960);function i(e,t,...n){const i=0===[...n].length?o(t):o(t,...n);return e?`${e} ${(0,r.getTimeForLogging)()}: ${i}`:i}t.ConsoleLogger=class{constructor(e){this.prefix=e}traceLog(e,...t){console.log(o(`${this.prefix||""} ${e}`,...t))}traceError(e,...t){console.error(i("error",`${this.prefix||""} ${e}`,...t))}traceWarn(e,...t){console.warn(i("warn",`${this.prefix||""} ${e}`,...t))}traceInfo(e,...t){console.info(i("info",`${this.prefix||""} ${e}`,...t))}traceVerbose(e,...t){console.log(i("verbose",`${this.prefix||""} ${e}`,...t))}traceEverything(e,...t){console.log(i("everything",`${this.prefix||""} ${e}`,...t))}}},11642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logTo=t.tracing=t.createTracingDecorator=t.ignoreLogging=t.logValue=t.traceDecoratorWarn=t.traceDecoratorInfo=t.traceDecoratorError=t.traceDecoratorVerbose=t.traceInfoIfCI=t.traceVerbose=t.traceEverything=t.traceInfo=t.traceWarning=t.traceError=t.traceLog=t.setHomeDirectory=t.setLoggingLevel=t.registerLogger=void 0;const r=n(15925),o=n(99203),i=n(85446),s=n(58681),a=n(17693);let c="";const l=o.TraceOptions.Arguments|o.TraceOptions.ReturnValue;let u=[];t.registerLogger=function(e){return u.push(e),{dispose:()=>{u=u.filter((t=>t!==e))}}};const d=new Map([["error",o.LogLevel.Error],["warn",o.LogLevel.Warn],["info",o.LogLevel.Info],["debug",o.LogLevel.Debug],["everything",o.LogLevel.Everything],["none",o.LogLevel.Off],["off",o.LogLevel.Off],[void 0,o.LogLevel.Error]]);let p=o.LogLevel.Debug;function h(e,...t){p<=o.LogLevel.Error&&u.forEach((n=>n.traceError(e,...t)))}function f(e,...t){p<=o.LogLevel.Warn&&u.forEach((n=>n.traceWarn(e,...t)))}function g(e,...t){p<=o.LogLevel.Info&&u.forEach((n=>n.traceInfo(e,...t)))}function m(e,...t){p<=o.LogLevel.Trace&&u.forEach((n=>n.traceVerbose(e,...t)))}t.setLoggingLevel=function(e){var t;p="number"==typeof e?e:null!==(t=d.get(e))&&void 0!==t?t:o.LogLevel.Error},t.setHomeDirectory=function(e){c=e.toLowerCase()},t.traceLog=function(e,...t){u.forEach((n=>n.traceLog(e,...t)))},t.traceError=h,t.traceWarning=f,t.traceInfo=g,t.traceEverything=function(e,...t){p<=o.LogLevel.Everything&&u.forEach((n=>n.traceEverything(e,...t)))},t.traceVerbose=m,t.traceInfoIfCI=function(e,...t){r.isCI&&g(e,...t)},t.traceDecoratorVerbose=function(e,t=l){return v({message:e,opts:t,level:o.LogLevel.Trace})},t.traceDecoratorError=function(e){return v({message:e,opts:l,level:o.LogLevel.Error})},t.traceDecoratorInfo=function(e){return v({message:e,opts:l,level:o.LogLevel.Info})},t.traceDecoratorWarn=function(e){return v({message:e,opts:l,level:o.LogLevel.Warn})};const y=new WeakMap;function v(e){return(0,i.trace)(((t,n)=>S(e,n,t)),(e.opts&o.TraceOptions.BeforeCall)>0)}function b(e){const t=c?e.toLowerCase().indexOf(c):-1;return-1===t?e:`~${e.substring(t+c.length)}`}function S(e,t,n){const r=function(e,t,n){n=function(e){let{kind:t,name:n,args:r}=e;return t&&""!==t||(t="Function"),n&&""!==n||(n="<anon>"),r||(r=[]),{kind:t,name:n,args:r,methodName:e.methodName||"",target:e.target||void 0}}(n);const r=[e.message];return r.push(`${n.kind} name = ${n.name}`.trim()),t?(r.push(`completed in ${t.elapsed}ms`),r.push(`has a ${t.returnValue?"truthy":"falsy"} return value`)):r[r.length-1]=`${r[r.length-1]} (started execution)`,(e.opts&o.TraceOptions.Arguments)===o.TraceOptions.Arguments&&(e.level===o.LogLevel.Trace?r.push((0,a.argsToLogString)(n.args.map(((e,t)=>n?function(e,t,n,r){var o;if(function(e){if(!e)return!1;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme}(n))return b(n.path);if(!n)return n;const i=null===(o=y.get(e))||void 0===o?void 0:o.get(t),s=null==i?void 0:i.find((e=>e.parameterIndex===r));if(!s)return"string"==typeof n?b(n):n;if("ignore"in s&&s.ignore)return"";let a=n;return"propertyOfParameterToLog"in s&&s.propertyOfParameterToLog&&(a=n[s.propertyOfParameterToLog]),"string"==typeof a?b(a):a}(n.target,n.methodName,e,t):e)))):r.push((0,a.argsToLogString)(n.args))),t&&(e.opts&o.TraceOptions.ReturnValue)===o.TraceOptions.ReturnValue&&r.push((0,a.returnValueToLogString)(t.returnValue)),r.join(", ")}(e,t,n);t?void 0===t.err?e.level&&e.level===o.LogLevel.Error||(e.level?w(e.level,r):w(o.LogLevel.Info,r)):w(o.LogLevel.Error,r,t.err):e.level&&e.level!==o.LogLevel.Error&&w(e.level,r)}function w(e,t,...n){switch(e){case o.LogLevel.Error:h(t,...n);break;case o.LogLevel.Warn:f(t,...n);break;case o.LogLevel.Info:g(t,...n);break;case o.LogLevel.Debug:case o.LogLevel.Trace:m(t,...n)}}t.logValue=function(e){return(t,n,r)=>{y.has(t)||y.set(t,new Map);let o=y.get(t);o||y.set(t,o=new Map),o.has(n)||o.set(n,[]),o.get(n).push({parameterIndex:r,propertyOfParameterToLog:e})}},t.ignoreLogging=function(){return(e,t,n)=>{y.has(e)||y.set(e,new Map);let r=y.get(e);r||y.set(e,r=new Map),r.has(t)||r.set(t,[]),r.get(t).push({parameterIndex:n,ignore:!0})}},t.createTracingDecorator=v,t.tracing=function(e,t,n){return(0,s.tracing)((t=>S(e,t,n)),t,(e.opts&o.TraceOptions.BeforeCall)>0)},t.logTo=w},75409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputChannelLogger=void 0;const r=n(17693),o=n(35960);function i(e,t,...n){return e?`${e} ${(0,r.getTimeForLogging)()}: ${o(t,...n)}`:o(t,...n)}t.OutputChannelLogger=class{constructor(e){this.channel=e}traceLog(e,...t){this.channel.appendLine(o(e,...t))}traceError(e,...t){this.channel.appendLine(i("error",e,...t))}traceWarn(e,...t){this.channel.appendLine(i("warn",e,...t))}traceInfo(e,...t){this.channel.appendLine(i("info",e,...t))}traceVerbose(e,...t){this.channel.appendLine(i("debug",e,...t))}traceEverything(e,...t){this.channel.appendLine(i("everything",e,...t))}}},28413:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputCommandListener=void 0;const i=n(86700),s=n(15925),a=n(42080);let c=class{constructor(e,t){this.jupyterOutput=e,this.disposableRegistry=t}register(e){this.disposableRegistry.push(e.registerCommand(s.Commands.ViewJupyterOutput,this.viewJupyterOutput,this))}viewJupyterOutput(){this.jupyterOutput.show(!0)}};c=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IOutputChannel)),o(0,(0,i.named)(s.JUPYTER_OUTPUT_CHANNEL)),o(1,(0,i.inject)(a.IDisposableRegistry))],c),t.OutputCommandListener=c},99203:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleForegroundColors=t.TraceOptions=t.LogLevel=void 0,(o=t.LogLevel||(t.LogLevel={}))[o.Error=40]="Error",o[o.Warn=30]="Warn",o[o.Info=20]="Info",o[o.Debug=10]="Debug",o[o.Trace=5]="Trace",o[o.Everything=1]="Everything",o[o.Off=100]="Off",(r=t.TraceOptions||(t.TraceOptions={}))[r.None=0]="None",r[r.Arguments=1]="Arguments",r[r.ReturnValue=2]="ReturnValue",r[r.BeforeCall=4]="BeforeCall",(n=t.ConsoleForegroundColors||(t.ConsoleForegroundColors={})).Green="[32m",n.Red="[31m"},17693:(e,t)=>{"use strict";function n(e,t){if(Array.isArray(e))return e.map((e=>n(e,t))).join(", ");if(void 0===e)return"undefined";if(null===e)return"null";try{return e&&e.path?`<Uri:${e.path}>`:JSON.stringify(e)}catch(e){return`<${t} cannot be serialized for logging>`}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeForLogging=t.returnValueToLogString=t.argsToLogString=void 0,t.argsToLogString=function(e){if(!e)return"";try{return e.map(((e,t)=>`Arg ${t+1}: ${n(e,"argument")}`)).join(", ")}catch(e){return""}},t.returnValueToLogString=function(e){return`Return Value: ${n(e,"Return value")}`},t.getTimeForLogging=function(){const e=new Date;return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}.${String(e.getMilliseconds()).padStart(3,"0")}`}},74064:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportAction=t.disposeRegisteredReporters=t.registerReporter=void 0;const r=n(11642),o=new Set;function i(e){try{o.forEach((t=>t.report(e)))}catch(e){(0,r.traceError)("Failed to report progress",e)}}t.registerReporter=function(e){o.add(e)},t.disposeRegisteredReporters=function(){o.clear()},t.reportAction=function(e){return function(t,n,r){const o=r.value;r.value=async function(...t){return i({action:e,phase:"started"}),o.apply(this,t).finally((()=>{i({action:e,phase:"completed"})}))}}}},72584:function(e,t,n){"use strict";var r,o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelProgressReporter=void 0;const s=n(86700),a=n(66828),c=n(6491),l=n(20397),u=n(42080),d=n(43138),p=n(58681),h=n(11642),f=n(52859),g=n(83964);let m=r=class{constructor(e){this.kernelResourceProgressReporter=new Map,e.push(this),r.instance=this}activate(){}dispose(){(0,l.disposeAllDisposables)(Array.from(r.disposables))}static createProgressReporter(e,t,n){if(!r.instance)return new a.Disposable(p.noop);const o=e?(0,f.getComparisonKey)(e):"";return r.instance.kernelResourceProgressReporter.has(o)?r.reportProgress(e,t):r.createProgressReporterInternal(o,t,n)}static wrapAndReportProgress(e,t,n){const o=e?(0,f.getComparisonKey)(e):"";if(!r.instance)return n();const i=r.reportProgressInternal(o,t);return n().finally((()=>null==i?void 0:i.dispose()))}static reportProgress(e,t){const n=(0,g.getUserMessageForAction)(t)||t,o=e?(0,f.getComparisonKey)(e):"";return n?r.reportProgressInternal(o,n||""):new a.Disposable((()=>p.noop))}static reportProgressInternal(e,t){if(!r.instance)return new a.Disposable(p.noop);let n=r.instance.kernelResourceProgressReporter.get(e);if(n||(n={title:t,pendingProgress:[],progressList:[],dispose:p.noop},r.instance.kernelResourceProgressReporter.set(e,n)),n.reporter)n.progressList.push(t),n.reporter.report({message:t});else{if(n.progressList.includes(t))return new a.Disposable(p.noop);n.pendingProgress.push(t)}return{dispose:()=>{try{if(!(null==n?void 0:n.reporter))return;const o=n.progressList.findIndex((e=>e===t));if(o>=0&&n.progressList.splice(o),n.progressList.length>0){const e=n.progressList[n.progressList.length-1];e!==n.title&&n.reporter.report({message:e})}else r.instance.kernelResourceProgressReporter.delete(e),n.dispose()}catch(t){(0,h.traceError)(`Failed to dispose Progress reporter for ${e}`,t)}}}}static createProgressReporterInternal(e,t,n){const o=(0,d.createDeferred)(),i=new a.Disposable((()=>o.resolve())),s=r.instance.kernelResourceProgressReporter.get(e)||{title:t,pendingProgress:[],progressList:[],tokenSources:[],dispose:()=>{i.dispose()}};let l=!1;const u=()=>{l||(l=!0,a.window.withProgress({location:a.ProgressLocation.Notification,title:t},(async(n,s)=>{const a=r.instance.kernelResourceProgressReporter.get(e);if(a){for(a.reporter=n;a.pendingProgress.length>0;){const e=a.pendingProgress.shift();e===t?a.progressList.push(e):e!==t&&e&&(a.progressList.push(e),n.report({message:e}))}await Promise.race([(0,c.createPromiseFromCancellation)({token:s,cancelAction:"resolve",defaultValue:!0}),o.promise]),r.instance.kernelResourceProgressReporter.get(e)===a&&r.instance.kernelResourceProgressReporter.delete(e),r.disposables.delete(i)}})).then(p.noop,p.noop))};return r.instance.kernelResourceProgressReporter.set(e,{...s,dispose:()=>i.dispose(),show:u}),r.disposables.add(i),s.pendingProgress.push(t),n||u(),{dispose:()=>i.dispose(),show:u}}};m.disposables=new Set,m=r=o([(0,s.injectable)(),i(0,(0,s.inject)(u.IDisposableRegistry))],m),t.KernelProgressReporter=m},83964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserMessageForAction=void 0;const r=n(25251),o=n(40453),i={[o.ReportableAction.JupyterSessionWaitForIdleSession]:r.DataScience.waitingForJupyterSessionToBeIdle(),[o.ReportableAction.KernelsGetKernelForRemoteConnection]:r.DataScience.gettingListOfKernelsForRemoteConnection(),[o.ReportableAction.KernelsGetKernelSpecs]:r.DataScience.gettingListOfKernelSpecs(),[o.ReportableAction.KernelsRegisterKernel]:r.DataScience.registeringKernel(),[o.ReportableAction.NotebookConnect]:r.DataScience.connectingToJupyter(),[o.ReportableAction.NotebookStart]:r.DataScience.startingJupyterNotebook(),[o.ReportableAction.InstallingMissingDependencies]:r.DataScience.installingMissingDependencies(),[o.ReportableAction.ExportNotebookToPython]:r.DataScience.exportNotebookToPython(),[o.ReportableAction.PerformingExport]:r.DataScience.performingExport()};t.getUserMessageForAction=function(e){return i[e]}},70835:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressReporter=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(43138),l=n(58681),u=n(74064),d=n(83964);let p=class{constructor(e){this.appShell=e,this.progressReporters=[],this.actionPhases=new Map,this.currentActions=[],(0,u.registerReporter)(this)}get currentAction(){return 0===this.currentActions.length?void 0:this.currentActions[this.currentActions.length-1]}createProgressIndicator(e,t=!1){const n=new s.CancellationTokenSource,r=(0,c.createDeferred)(),o={location:s.ProgressLocation.Notification,cancellable:t,title:e};return this.appShell.withProgress(o,(async(e,t)=>{t.onCancellationRequested((()=>{t.isCancellationRequested&&n.cancel(),r.resolve()})),n.token.onCancellationRequested((()=>{r.resolve()})),this.progressReporters.push(e),await r.promise})).then(l.noop,l.noop),{token:n.token,dispose:()=>r.resolve()}}report(e){if(0!==this.progressReporters.length&&(this.actionPhases.set(e.action,e.phase),"started"===e.phase&&this.currentActions.push(e.action),this.currentAction)){for(;this.actionPhases.get(this.currentAction)&&"started"!==this.actionPhases.get(this.currentAction);)this.actionPhases.delete(this.currentAction),this.currentActions.pop();this.updateProgressMessage()}}updateProgressMessage(){if(!this.currentAction||0===this.progressReporters.length)return;const e=(0,d.getUserMessageForAction)(this.currentAction);e&&this.progressReporters.forEach((t=>t.report({message:e})))}};p=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IApplicationShell))],p),t.ProgressReporter=p},39239:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusProvider=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(43138),l=n(58681);class u{constructor(e,t,n){this.disposed=!1,this.dispose=()=>{this.disposed||(this.disposed=!0,this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0),this.disposeCallback(),this.deferred.completed||this.deferred.resolve())},this.promise=()=>this.deferred.promise,this.reject=()=>{this.deferred.reject(),this.dispose()},this.deferred=(0,c.createDeferred)(),this.disposeCallback=t,n&&(this.timeout=setTimeout(this.dispose,n))}}let d=class{constructor(e){this.applicationShell=e,this.statusCount=0,this.incrementCount=()=>{this.statusCount+=1},this.decrementCount=()=>{const e=this.statusCount-1;this.statusCount=Math.max(e,0)}}set(e,t,n){this.incrementCount();const r=new u(e,(()=>this.decrementCount()),t),o={location:n?s.ProgressLocation.Notification:s.ProgressLocation.Window,title:e,cancellable:void 0!==n};return this.applicationShell.withProgress(o,((e,t)=>(t&&n&&t.onCancellationRequested((()=>{n(),r.reject()})),r.promise()))).then(l.noop,l.noop),r}async waitWithStatus(e,t,n,r){const o=this.set(t,n,r);let i;try{i=await e()}finally{o.dispose()}return i}};d=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IApplicationShell))],d),t.StatusProvider=d},40453:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IStatusProvider=t.ReportableAction=void 0,(n=t.ReportableAction||(t.ReportableAction={})).KernelsGetKernelForRemoteConnection="KernelsGetKernelForRemoteConnection",n.KernelsRegisterKernel="KernelsRegisterKernel",n.KernelsGetKernelSpecs="KernelsGetKernelSpecs",n.NotebookStart="NotebookStart",n.NotebookConnect="NotebookConnect",n.JupyterSessionWaitForIdleSession="JupyterSessionWaitForIdleSession",n.InstallingMissingDependencies="InstallingMissingDependencies",n.ExportNotebookToPython="ExportNotebookToPython",n.PerformingExport="PerformingExport",t.IStatusProvider=Symbol("IStatusProvider")},47891:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentType=void 0,(n=t.EnvironmentType||(t.EnvironmentType={})).Unknown="Unknown",n.Conda="Conda",n.VirtualEnv="VirtualEnv",n.Pipenv="PipEnv",n.Pyenv="Pyenv",n.Venv="Venv",n.Poetry="Poetry",n.VirtualEnvWrapper="VirtualEnvWrapper"},46031:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getNormalizedInterpreterPath=t.areInterpreterPathsSame=t.getInterpreterHash=void 0;const s=n(66828),a=i(n(52859)),c=n(72728),l=n(35412),u=n(96434);function d(e=s.Uri.file(""),t=(0,c.getOSType)(),n=!1){let r=(0,l.getFilePath)(e);return n&&(r=r.toLowerCase()),r.endsWith("/bin/python")&&[c.OSType.Linux,c.OSType.OSX].includes(t)&&r.endsWith("/bin/python")&&r.split("/").length>4?s.Uri.file(r.replace("/bin/python","/python")):s.Uri.file(r)}t.getInterpreterHash=function(e){const t=d(e.uri);return(0,u.getTelemetrySafeHashedString)(t.path)},t.areInterpreterPathsSame=function(e=s.Uri.file(""),t=s.Uri.file(""),n=(0,c.getOSType)(),r=!1){const o=d(e,n,n==c.OSType.Windows||r),i=d(t,n,n==c.OSType.Windows||r);return o===i||a.isEqual(o,i,!0)},t.getNormalizedInterpreterPath=d},11311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(88814),o=n(42959),i=n(8917),s=n(10053),a=n(89316),c=n(50968),l=n(54952),u=n(42080),d=n(70835),p=n(39239),h=n(40453),f=n(78163),g=n(52064),m=n(28413),y=n(83599),v=n(67646),b=n(72584),S=n(80208),w=n(22670),C=n(32653),k=n(58301),_=n(17835);t.registerTypes=function(e){e.addSingleton(y.IFileSystem,v.FileSystem),e.addSingleton(s.ICommandManager,i.CommandManager),e.addSingleton(s.IWorkspaceService,f.WorkspaceService),e.addSingleton(s.IApplicationShell,o.ApplicationShell),e.addSingleton(s.IApplicationEnvironment,r.ApplicationEnvironment),e.addSingleton(u.IConfigurationService,a.ConfigurationService),e.addSingleton(h.IStatusProvider,p.StatusProvider),e.addSingleton(u.IDataScienceCommandListener,m.OutputCommandListener),e.addSingleton(d.ProgressReporter,d.ProgressReporter),(0,l.registerTypes)(e),(0,c.registerTypes)(e),e.addSingleton(g.IExtensionSyncActivationService,b.KernelProgressReporter),e.addSingleton(k.IInterpreterPackages,C.InterpreterPackages),e.addSingleton(g.IExtensionSyncActivationService,_.WorkspaceInterpreterTracker),e.add(s.IWebviewViewProvider,w.WebviewViewProvider),e.add(s.IWebviewPanelProvider,S.WebviewPanelProvider)}},2161:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.SliceOperationSource=t.CheckboxState=t.EventName=void 0,(o=t.EventName||(t.EventName={})).EXTENSION_LOAD="EXTENSION.LOAD",o.ENVFILE_VARIABLE_SUBSTITUTION="ENVFILE_VARIABLE_SUBSTITUTION",o.ENVFILE_WORKSPACE="ENVFILE_WORKSPACE",o.HASHED_PACKAGE_NAME="HASHED_PACKAGE_NAME",o.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_REQUEST="OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_REQUEST_EX",o.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_ERROR="OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_ERROR_EX",o.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_SUCCESS="OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_SUCCESS_EX",(r=t.CheckboxState||(t.CheckboxState={})).Checked="checked",r.Unchecked="unchecked",(n=t.SliceOperationSource||(t.SliceOperationSource={})).Dropdown="dropdown",n.TextBox="textbox",n.Checkbox="checkbox"},96434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTelemetrySafeHashedString=t.getTelemetrySafeVersion=void 0;const r=n(46729),o=n(11642);t.getTelemetrySafeVersion=function(e){try{const[t,n,r]=`${e.trim()}...`.split(".").map((e=>parseInt(e,10)));if(isNaN(t))return;return isNaN(n)?t.toString():isNaN(r)?`${t}.${n}`:`${t}.${n}.${r}`}catch(t){(0,o.traceError)(`Failed to parse version ${e}`,t)}},t.getTelemetrySafeHashedString=async function(e){return(0,r.computeHash)(e,"SHA-256")}},68125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedPropertyMapping=t.captureUsageTelemetry=t.capturePerfTelemetry=t.sendTelemetryEvent=t.clearTelemetryReporter=t.setTelemetryReporter=t.getTelemetryReporter=t._resetSharedProperties=t.setSharedProperty=t.isTelemetryDisabled=t.waitBeforeSending=t.Telemetry=t.JupyterCommands=void 0;const r=n(15925),o=n(11642),i=n(11386),s=n(58681),a=n(25472),c=n(12189);var l=n(15925);Object.defineProperty(t,"JupyterCommands",{enumerable:!0,get:function(){return l.JupyterCommands}}),Object.defineProperty(t,"Telemetry",{enumerable:!0,get:function(){return l.Telemetry}}),t.waitBeforeSending="waitBeforeSending",t.isTelemetryDisabled=function(e){return!1===e.getConfiguration("telemetry").inspect("enableTelemetry").globalValue};const u={};let d;function p(){if(d)return d;const e=r.JVSC_EXTENSION_ID,t=n(66828).extensions.getExtension(e).packageJSON.version,o=n(58331).default;return d=new o(e,t,r.AppinsightsKey,!0)}function h(e,n){let r={};return Object.getOwnPropertyNames(n).forEach((i=>{if(void 0!==n[i]&&null!==n[i]&&i!==t.waitBeforeSending)try{r[i]="string"==typeof n[i]?n[i]:"object"==typeof n[i]?"object":n[i].toString()}catch(t){(0,o.traceError)(`Failed to serialize ${i} for ${e}`,t)}})),r}t.setSharedProperty=function(e,t){const n=e;(0,r.isUnitTestExecution)()&&n.startsWith("ds_")||(void 0===t?delete u[n]:u[n]=t)},t._resetSharedProperties=function(){for(const e of Object.keys(u))delete u[e]},t.getTelemetryReporter=p,t.setTelemetryReporter=function(e){d=e},t.clearTelemetryReporter=function(){d=void 0};const f=[];function g(e,t,o,i){(function(){try{const e=n(66828),t=n(58331);return void 0!==e&&void 0!==t}catch(e){return!1}})()&&!(0,r.isTestExecution)()&&((0,a.isPromise)(null==o?void 0:o.waitBeforeSending)||f.length?(f.push({eventName:e,measures:t,properties:o,ex:i,queueEverythingUntilCompleted:null==o?void 0:o.waitBeforeSending}),m()):y(e,t,o,i))}function m(){if(0===f.length)return;const e=f[0];let t;function n(){t&&clearTimeout(t),0!==f.length&&f[0]===e&&(f.shift(),y(e.eventName,e.measures,e.properties,e.ex),m())}if(!e.queueEverythingUntilCompleted)return n();t=setTimeout((()=>n()),3e4),e.queueEverythingUntilCompleted.finally((()=>n())).catch(s.noop)}function y(e,t,n,r){const i=p();let s={},a=e;r?(s={},Object.assign(s,u),Object.assign(s,n||{}),(0,c.populateTelemetryWithErrorInfo)(s,r).then((()=>{s=h(a,s),i.sendTelemetryEvent(a,s,t)})).ignoreErrors()):(n&&(s=h(a,n)),Object.assign(s,u),i.sendTelemetryEvent(a,s,t)),(0,o.traceEverything)(`Telemetry Event : ${a} Measures: ${JSON.stringify(t)} Props: ${JSON.stringify(s)} `)}t.sendTelemetryEvent=g;const v=new Set;t.capturePerfTelemetry=function(e,t){return function(n,r,o){const s=o.value;return o.value=function(...n){const r=t||{},o=new i.StopWatch,a=`${e.toString()}${JSON.stringify(r)}`,c=!v.has(a);v.add(a);const l=s.apply(this,n);return l&&"function"==typeof l.then&&"function"==typeof l.catch?l.then((t=>{const n={...r};return c&&(n.firstTime=c),g(e,o?{duration:null==o?void 0:o.elapsedTime}:void 0,n),t})).catch((t=>{const n={...r};n.failed=!0,g(e,o?{duration:null==o?void 0:o.elapsedTime}:{},n,t)})):g(e,o?{duration:null==o?void 0:o.elapsedTime}:void 0,r),l},o}},t.captureUsageTelemetry=function(e,t){return function(n,r,o){const i=o.value;return o.value=function(...n){return g(e,void 0,t),i.apply(this,n)},o}},t.SharedPropertyMapping=class{}},80772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendErrorTelemetry=t.sendStartupTelemetry=void 0;const r=n(10053),o=n(15925),i=n(11642),s=n(68125),a=n(2161);async function c(e,t){const n=e.get(r.IWorkspaceService),o=n.hasWorkspaceFolders?n.workspaceFolders.length:0;t.workspaceFolderCount=o}t.sendStartupTelemetry=async function(e,t,n,r){if(!(0,o.isTestExecution)())try{await e,t.totalActivateTime=n.elapsedTime,await c(r,t),(0,s.sendTelemetryEvent)(a.EventName.EXTENSION_LOAD,t)}catch(e){(0,i.traceError)("sendStartupTelemetry() failed.",e)}},t.sendErrorTelemetry=async function(e,t,n){try{let r={};if(n)try{await c(n,t)}catch(e){(0,i.traceError)("getActivationTelemetryProps() failed.",e)}(0,s.sendTelemetryEvent)(a.EventName.EXTENSION_LOAD,t,r,e)}catch(e){(0,i.traceError)("sendErrorTelemetry() failed.",e)}}},10499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContextualPropsForTelemetry=t.deleteTrackedInformation=t.updatePythonPackages=t.initializeGlobals=t.pythonEnvironmentsByHash=t.trackedInfo=void 0;const r=n(50361),o=n(96434),i=n(43138),s=n(86563),a=n(52859),c=n(11642);let l;function u(e,n){if(!e.pythonEnvironmentPath)return;const r=(0,i.createDeferred)();e.waitBeforeSending=r.promise,n&&(n.waitBeforeSending=r.promise),async function(e){if(!l)return(0,c.traceError)("Python package provider is not initialized."),"{}";let n;if(n="interpreter"in e?e.interpreter:t.pythonEnvironmentsByHash.get(e.interpreterHash),!n)return"{}";const r=await l(n);return r&&0!==r.size?JSON.stringify(Object.fromEntries(r)):"{}"}({interpreterHash:e.pythonEnvironmentPath}).then((t=>{e.pythonEnvironmentPackages=t||e.pythonEnvironmentPackages,n&&(n.pythonEnvironmentPackages=t||n.pythonEnvironmentPackages)})).catch((()=>{})).finally((()=>{r.resolve(),e.waitBeforeSending=void 0,n&&(n.waitBeforeSending=void 0)}))}t.trackedInfo=new Map,t.pythonEnvironmentsByHash=new Map,t.initializeGlobals=function(e){l=e},t.updatePythonPackages=u,t.deleteTrackedInformation=function(e){t.trackedInfo.delete((0,a.getComparisonKey)(e))},t.getContextualPropsForTelemetry=async function(e){if(!e)return{};const n=t.trackedInfo.get((0,a.getComparisonKey)(e)),i=(0,s.getResourceType)(e);if(!n&&i)return{resourceType:i,resourceHash:e?await(0,o.getTelemetrySafeHashedString)(e.toString()):void 0};if(!n)return{};const c=r(n[0]);return u(n[0],c),c}},78357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeExecutionHelperBase=void 0,n(8513);const r=n(66828),o=n(10053),i=n(15925),s=n(58681);t.CodeExecutionHelperBase=class{constructor(e){this.documentManager=e.get(o.IDocumentManager),this.applicationShell=e.get(o.IApplicationShell)}async normalizeLines(e,t){throw Error("Not Implemented")}async getFileToExecute(){const e=this.documentManager.activeTextEditor;if(e)if(e.document.isUntitled)this.applicationShell.showErrorMessage("The active file needs to be saved before it can be run").then(s.noop,s.noop);else{if(e.document.languageId===i.PYTHON_LANGUAGE)return e.document.isDirty&&await e.document.save(),e.document.uri;this.applicationShell.showErrorMessage("The active file is not a Python source file").then(s.noop,s.noop)}else this.applicationShell.showErrorMessage("No open file to run in terminal").then(s.noop,s.noop)}getSelectedTextToExecute(e){if(!e)return;const t=e.selection;let n;return n=t.isEmpty?e.document.lineAt(t.start.line).text:t.isSingleLine?this.getSingleLineSelectionText(e):this.getMultiLineSelectionText(e),n}async saveFileIfDirty(e){const t=this.documentManager.textDocuments.filter((t=>t.uri.path===e.path));1===t.length&&t[0].isDirty&&await t[0].save()}getSingleLineSelectionText(e){const t=e.selection,n=new r.Range(t.start,t.end),o=e.document.getText(n),i=e.document.lineAt(t.start.line).text;return o.trim()===i.trim()?i:o}getMultiLineSelectionText(e){const t=e.selection,n=new r.Range(t.start,t.end),o=e.document.getText(n),i=new r.Range(new r.Position(t.start.line,0),new r.Position(t.end.line,e.document.lineAt(t.end.line).text.length)),s=e.document.getText(i);if(o.trim()===s.trim())return s;const a=e.document.lineAt(t.start.line).text,c=new r.Range(t.start,new r.Position(t.start.line,a.length)),l=e.document.getText(c);return l.trimLeft()===a.trimLeft()?a+o.substr(l.length):o}}},83176:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeExecutionHelper=void 0;const i=n(86700),s=n(41778),a=n(78357);let c=class extends a.CodeExecutionHelperBase{constructor(e){super(e)}};c=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IServiceContainer))],c),t.CodeExecutionHelper=c},12234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(83176),o=n(89275);t.registerTypes=function(e){e.addSingleton(o.ICodeExecutionHelper,r.CodeExecutionHelper)}},89275:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeExecutionHelper=t.ICodeExecutionService=void 0,t.ICodeExecutionService=Symbol("ICodeExecutionService"),t.ICodeExecutionHelper=Symbol("ICodeExecutionHelper")},11959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCachedComputed=t.Cache=void 0;const r=n(66828);t.Cache=class{constructor(e){this.task=e,this.result=null}get(){if(this.result)return this.result;const e=new r.CancellationTokenSource,t=this.task(e.token);return this.result={promise:t,dispose:()=>{this.result=null,e.cancel(),e.dispose()}},this.result}},t.LRUCachedComputed=class{constructor(e){this.computeFn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.computeFn(e)),this.lastCache}}},3499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindowsDriveLetter=t.isEqualOrParent=t.getRoot=t.toPosixPath=t.toSlashes=t.isPathSeparator=void 0;const r=n(15948),o=n(13715);function i(e){return 47===e||92===e}function s(e){return e.replace(/[\\/]/g,r.posix.sep)}function a(e){return e>=65&&e<=90||e>=97&&e<=122}t.isPathSeparator=i,t.toSlashes=s,t.toPosixPath=function(e){return-1===e.indexOf("/")&&(e=s(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e},t.getRoot=function(e,t=r.posix.sep){if(!e)return"";const n=e.length,o=e.charCodeAt(0);if(i(o)){if(i(e.charCodeAt(1))&&!i(e.charCodeAt(2))){let r=3;const o=r;for(;r<n&&!i(e.charCodeAt(r));r++);if(o!==r&&!i(e.charCodeAt(r+1)))for(r+=1;r<n;r++)if(i(e.charCodeAt(r)))return e.slice(0,r+1).replace(/[\\/]/g,t)}return t}if(a(o)&&58===e.charCodeAt(1))return i(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);let s=e.indexOf("://");if(-1!==s)for(s+=3;s<n;s++)if(i(e.charCodeAt(s)))return e.slice(0,s+1);return""},t.isEqualOrParent=function(e,t,n,i=r.sep){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(n){if(!(0,o.startsWithIgnoreCase)(e,t))return!1;if(t.length===e.length)return!0;let n=t.length;return t.charAt(t.length-1)===i&&n--,e.charAt(n)===i}return t.charAt(t.length-1)!==i&&(t+=i),0===e.indexOf(t)},t.isWindowsDriveLetter=a},56297:(e,t,n)=>{"use strict";var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedMap=t.ResourceSet=t.ResourceMap=t.UriIterator=t.PathIterator=t.ConfigKeysIterator=t.StringIterator=void 0;const s=n(13715);t.StringIterator=class{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}},t.ConfigKeysIterator=class{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1;return this}cmp(e){return this._caseSensitive?(0,s.compareSubstring)(e,this._value,0,e.length,this._from,this._to):(0,s.compareSubstringIgnoreCase)(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}};class a{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const e=this._value.charCodeAt(t);if(!(47===e||this._splitOnBackslash&&92===e))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?(0,s.compareSubstring)(e,this._value,0,e.length,this._from,this._to):(0,s.compareSubstringIgnoreCase)(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}t.PathIterator=a,t.UriIterator=class{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new a(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return(0,s.compareIgnoreCase)(e,this._value.scheme);if(2===this._states[this._stateIdx])return(0,s.compareIgnoreCase)(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return(0,s.compare)(e,this._value.query);if(5===this._states[this._stateIdx])return(0,s.compare)(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}};class c{constructor(e,t){this.uri=e,this.value=t}}class l{constructor(e,t){this[r]="ResourceMap",e instanceof l?(this.map=new Map(e.map),this.toKey=null!=t?t:l.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:l.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new c(e,t)),this}get(e){var t;return null===(t=this.map.get(this.toKey(e)))||void 0===t?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(let[t,n]of this.map)e(n.value,n.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(r=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}}t.ResourceMap=l,l.defaultToKey=e=>e.toString();class u{constructor(e,t){this[o]="ResourceSet",e&&"function"!=typeof e?(this._map=new l(t),e.forEach(this.add,this)):this._map=new l(e)}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,t){this._map.forEach(((n,r)=>e.call(t,r,r,this)))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(o=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}t.ResourceSet=u;class d{constructor(){this[i]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const n=this._map.get(e);if(n)return 0!==t&&this.touch(n,t),n.value}set(e,t,n=0){let r=this._map.get(e);if(r)r.value=t,0!==n&&this.touch(r,n);else{switch(r={key:e,value:t,next:void 0,previous:void 0},n){case 0:case 2:default:this.addItemLast(r);break;case 1:this.addItemFirst(r)}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[(i=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=d},15948:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.delimiter=t.sep=t.toNamespacedPath=t.parse=t.format=t.extname=t.basename=t.dirname=t.relative=t.resolve=t.join=t.isAbsolute=t.normalize=t.posix=t.win32=void 0;const s=i(n(92527)),a=46,c=47,l=92,u=58;class d extends Error{constructor(e,t,n){let r;"string"==typeof t&&0===t.indexOf("not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be";const o=-1!==e.indexOf(".")?"property":"argument";let i=`The "${e}" ${o} ${r} of type ${t}`;i+=". Received type "+typeof n,super(i),this.code="ERR_INVALID_ARG_TYPE"}}function p(e,t){if("string"!=typeof e)throw new d(t,"string",e)}function h(e){return e===c||e===l}function f(e){return e===c}function g(e){return e>=65&&e<=90||e>=97&&e<=122}function m(e,t,n,r){let o="",i=0,s=-1,l=0,u=0;for(let d=0;d<=e.length;++d){if(d<e.length)u=e.charCodeAt(d);else{if(r(u))break;u=c}if(r(u)){if(s===d-1||1===l);else if(2===l){if(o.length<2||2!==i||o.charCodeAt(o.length-1)!==a||o.charCodeAt(o.length-2)!==a){if(o.length>2){const e=o.lastIndexOf(n);-1===e?(o="",i=0):(o=o.slice(0,e),i=o.length-1-o.lastIndexOf(n)),s=d,l=0;continue}if(0!==o.length){o="",i=0,s=d,l=0;continue}}t&&(o+=o.length>0?`${n}..`:"..",i=2)}else o.length>0?o+=`${n}${e.slice(s+1,d)}`:o=e.slice(s+1,d),i=d-s-1;s=d,l=0}else u===a&&-1!==l?++l:l=-1}return o}function y(e,t){if(null===t||"object"!=typeof t)throw new d("pathObject","Object",t);const n=t.dir||t.root,r=t.base||`${t.name||""}${t.ext||""}`;return n?n===t.root?`${n}${r}`:`${n}${e}${r}`:r}t.win32={resolve(...e){let t="",n="",r=!1;for(let o=e.length-1;o>=-1;o--){let i;if(o>=0){if(i=e[o],p(i,"path"),0===i.length)continue}else 0===t.length?i=s.cwd():(i=s.env[`=${t}`]||s.cwd(),(void 0===i||i.slice(0,2).toLowerCase()!==t.toLowerCase()&&i.charCodeAt(2)===l)&&(i=`${t}\\`));const a=i.length;let c=0,d="",f=!1;const m=i.charCodeAt(0);if(1===a)h(m)&&(c=1,f=!0);else if(h(m))if(f=!0,h(i.charCodeAt(1))){let e=2,t=e;for(;e<a&&!h(i.charCodeAt(e));)e++;if(e<a&&e!==t){const n=i.slice(t,e);for(t=e;e<a&&h(i.charCodeAt(e));)e++;if(e<a&&e!==t){for(t=e;e<a&&!h(i.charCodeAt(e));)e++;e!==a&&e===t||(d=`\\\\${n}\\${i.slice(t,e)}`,c=e)}}}else c=1;else g(m)&&i.charCodeAt(1)===u&&(d=i.slice(0,2),c=2,a>2&&h(i.charCodeAt(2))&&(f=!0,c=3));if(d.length>0)if(t.length>0){if(d.toLowerCase()!==t.toLowerCase())continue}else t=d;if(r){if(t.length>0)break}else if(n=`${i.slice(c)}\\${n}`,r=f,f&&t.length>0)break}return n=m(n,!r,"\\",h),r?`${t}\\${n}`:`${t}${n}`||"."},normalize(e){p(e,"path");const t=e.length;if(0===t)return".";let n,r=0,o=!1;const i=e.charCodeAt(0);if(1===t)return f(i)?"\\":e;if(h(i))if(o=!0,h(e.charCodeAt(1))){let o=2,i=o;for(;o<t&&!h(e.charCodeAt(o));)o++;if(o<t&&o!==i){const s=e.slice(i,o);for(i=o;o<t&&h(e.charCodeAt(o));)o++;if(o<t&&o!==i){for(i=o;o<t&&!h(e.charCodeAt(o));)o++;if(o===t)return`\\\\${s}\\${e.slice(i)}\\`;o!==i&&(n=`\\\\${s}\\${e.slice(i,o)}`,r=o)}}}else r=1;else g(i)&&e.charCodeAt(1)===u&&(n=e.slice(0,2),r=2,t>2&&h(e.charCodeAt(2))&&(o=!0,r=3));let s=r<t?m(e.slice(r),!o,"\\",h):"";return 0!==s.length||o||(s="."),s.length>0&&h(e.charCodeAt(t-1))&&(s+="\\"),void 0===n?o?`\\${s}`:s:o?`${n}\\${s}`:`${n}${s}`},isAbsolute(e){p(e,"path");const t=e.length;if(0===t)return!1;const n=e.charCodeAt(0);return h(n)||t>2&&g(n)&&e.charCodeAt(1)===u&&h(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let n,r;for(let t=0;t<e.length;++t){const o=e[t];p(o,"path"),o.length>0&&(void 0===n?n=r=o:n+=`\\${o}`)}if(void 0===n)return".";let o=!0,i=0;if("string"==typeof r&&h(r.charCodeAt(0))){++i;const e=r.length;e>1&&h(r.charCodeAt(1))&&(++i,e>2&&(h(r.charCodeAt(2))?++i:o=!1))}if(o){for(;i<n.length&&h(n.charCodeAt(i));)i++;i>=2&&(n=`\\${n.slice(i)}`)}return t.win32.normalize(n)},relative(e,n){if(p(e,"from"),p(n,"to"),e===n)return"";const r=t.win32.resolve(e),o=t.win32.resolve(n);if(r===o)return"";if((e=r.toLowerCase())===(n=o.toLowerCase()))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===l;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===l;)s--;const a=s-i;let c=0;for(;c<n.length&&n.charCodeAt(c)===l;)c++;let u=n.length;for(;u-1>c&&n.charCodeAt(u-1)===l;)u--;const d=u-c,h=a<d?a:d;let f=-1,g=0;for(;g<h;g++){const t=e.charCodeAt(i+g);if(t!==n.charCodeAt(c+g))break;t===l&&(f=g)}if(g!==h){if(-1===f)return o}else{if(d>h){if(n.charCodeAt(c+g)===l)return o.slice(c+g+1);if(2===g)return o.slice(c+g)}a>h&&(e.charCodeAt(i+g)===l?f=g:2===g&&(f=3)),-1===f&&(f=0)}let m="";for(g=i+f+1;g<=s;++g)g!==s&&e.charCodeAt(g)!==l||(m+=0===m.length?"..":"\\..");return c+=f,m.length>0?`${m}${o.slice(c,u)}`:(o.charCodeAt(c)===l&&++c,o.slice(c,u))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const n=t.win32.resolve(e);if(n.length<=2)return e;if(n.charCodeAt(0)===l){if(n.charCodeAt(1)===l){const e=n.charCodeAt(2);if(63!==e&&e!==a)return`\\\\?\\UNC\\${n.slice(2)}`}}else if(g(n.charCodeAt(0))&&n.charCodeAt(1)===u&&n.charCodeAt(2)===l)return`\\\\?\\${n}`;return e},dirname(e){p(e,"path");const t=e.length;if(0===t)return".";let n=-1,r=0;const o=e.charCodeAt(0);if(1===t)return h(o)?e:".";if(h(o)){if(n=r=1,h(e.charCodeAt(1))){let o=2,i=o;for(;o<t&&!h(e.charCodeAt(o));)o++;if(o<t&&o!==i){for(i=o;o<t&&h(e.charCodeAt(o));)o++;if(o<t&&o!==i){for(i=o;o<t&&!h(e.charCodeAt(o));)o++;if(o===t)return e;o!==i&&(n=r=o+1)}}}}else g(o)&&e.charCodeAt(1)===u&&(n=t>2&&h(e.charCodeAt(2))?3:2,r=n);let i=-1,s=!0;for(let n=t-1;n>=r;--n)if(h(e.charCodeAt(n))){if(!s){i=n;break}}else s=!1;if(-1===i){if(-1===n)return".";i=n}return e.slice(0,i)},basename(e,t){void 0!==t&&p(t,"ext"),p(e,"path");let n,r=0,o=-1,i=!0;if(e.length>=2&&g(e.charCodeAt(0))&&e.charCodeAt(1)===u&&(r=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(n=e.length-1;n>=r;--n){const c=e.charCodeAt(n);if(h(c)){if(!i){r=n+1;break}}else-1===a&&(i=!1,a=n+1),s>=0&&(c===t.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=a))}return r===o?o=a:-1===o&&(o=e.length),e.slice(r,o)}for(n=e.length-1;n>=r;--n)if(h(e.charCodeAt(n))){if(!i){r=n+1;break}}else-1===o&&(i=!1,o=n+1);return-1===o?"":e.slice(r,o)},extname(e){p(e,"path");let t=0,n=-1,r=0,o=-1,i=!0,s=0;e.length>=2&&e.charCodeAt(1)===u&&g(e.charCodeAt(0))&&(t=r=2);for(let c=e.length-1;c>=t;--c){const t=e.charCodeAt(c);if(h(t)){if(!i){r=c+1;break}}else-1===o&&(i=!1,o=c+1),t===a?-1===n?n=c:1!==s&&(s=1):-1!==n&&(s=-1)}return-1===n||-1===o||0===s||1===s&&n===o-1&&n===r+1?"":e.slice(n,o)},format:y.bind(null,"\\"),parse(e){p(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const n=e.length;let r=0,o=e.charCodeAt(0);if(1===n)return h(o)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(h(o)){if(r=1,h(e.charCodeAt(1))){let t=2,o=t;for(;t<n&&!h(e.charCodeAt(t));)t++;if(t<n&&t!==o){for(o=t;t<n&&h(e.charCodeAt(t));)t++;if(t<n&&t!==o){for(o=t;t<n&&!h(e.charCodeAt(t));)t++;t===n?r=t:t!==o&&(r=t+1)}}}}else if(g(o)&&e.charCodeAt(1)===u){if(n<=2)return t.root=t.dir=e,t;if(r=2,h(e.charCodeAt(2))){if(3===n)return t.root=t.dir=e,t;r=3}}r>0&&(t.root=e.slice(0,r));let i=-1,s=r,c=-1,l=!0,d=e.length-1,f=0;for(;d>=r;--d)if(o=e.charCodeAt(d),h(o)){if(!l){s=d+1;break}}else-1===c&&(l=!1,c=d+1),o===a?-1===i?i=d:1!==f&&(f=1):-1!==i&&(f=-1);return-1!==c&&(-1===i||0===f||1===f&&i===c-1&&i===s+1?t.base=t.name=e.slice(s,c):(t.name=e.slice(s,i),t.base=e.slice(s,c),t.ext=e.slice(i,c))),t.dir=s>0&&s!==r?e.slice(0,s-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},t.posix={resolve(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:s.cwd();p(o,"path"),0!==o.length&&(t=`${o}/${t}`,n=o.charCodeAt(0)===c)}return t=m(t,!n,"/",f),n?`/${t}`:t.length>0?t:"."},normalize(e){if(p(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===c,n=e.charCodeAt(e.length-1)===c;return 0===(e=m(e,!t,"/",f)).length?t?"/":n?"./":".":(n&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(p(e,"path"),e.length>0&&e.charCodeAt(0)===c),join(...e){if(0===e.length)return".";let n;for(let t=0;t<e.length;++t){const r=e[t];p(r,"path"),r.length>0&&(void 0===n?n=r:n+=`/${r}`)}return void 0===n?".":t.posix.normalize(n)},relative(e,n){if(p(e,"from"),p(n,"to"),e===n)return"";if((e=t.posix.resolve(e))===(n=t.posix.resolve(n)))return"";const r=e.length,o=r-1,i=n.length-1,s=o<i?o:i;let a=-1,l=0;for(;l<s;l++){const t=e.charCodeAt(1+l);if(t!==n.charCodeAt(1+l))break;t===c&&(a=l)}if(l===s)if(i>s){if(n.charCodeAt(1+l)===c)return n.slice(1+l+1);if(0===l)return n.slice(1+l)}else o>s&&(e.charCodeAt(1+l)===c?a=l:0===l&&(a=0));let u="";for(l=1+a+1;l<=r;++l)l!==r&&e.charCodeAt(l)!==c||(u+=0===u.length?"..":"/..");return`${u}${n.slice(1+a)}`},toNamespacedPath:e=>e,dirname(e){if(p(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===c;let n=-1,r=!0;for(let t=e.length-1;t>=1;--t)if(e.charCodeAt(t)===c){if(!r){n=t;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"//":e.slice(0,n)},basename(e,t){void 0!==t&&p(t,"ext"),p(e,"path");let n,r=0,o=-1,i=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(n=e.length-1;n>=0;--n){const l=e.charCodeAt(n);if(l===c){if(!i){r=n+1;break}}else-1===a&&(i=!1,a=n+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=a))}return r===o?o=a:-1===o&&(o=e.length),e.slice(r,o)}for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===c){if(!i){r=n+1;break}}else-1===o&&(i=!1,o=n+1);return-1===o?"":e.slice(r,o)},extname(e){p(e,"path");let t=-1,n=0,r=-1,o=!0,i=0;for(let s=e.length-1;s>=0;--s){const l=e.charCodeAt(s);if(l!==c)-1===r&&(o=!1,r=s+1),l===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=s+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)},format:y.bind(null,"/"),parse(e){p(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const n=e.charCodeAt(0)===c;let r;n?(t.root="/",r=1):r=0;let o=-1,i=0,s=-1,l=!0,u=e.length-1,d=0;for(;u>=r;--u){const t=e.charCodeAt(u);if(t!==c)-1===s&&(l=!1,s=u+1),t===a?-1===o?o=u:1!==d&&(d=1):-1!==o&&(d=-1);else if(!l){i=u+1;break}}if(-1!==s){const r=0===i&&n?1:i;-1===o||0===d||1===d&&o===s-1&&o===i+1?t.base=t.name=e.slice(r,s):(t.name=e.slice(r,o),t.base=e.slice(r,s),t.ext=e.slice(o,s))}return i>0?t.dir=e.slice(0,i-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null},t.posix.win32=t.win32.win32=t.win32,t.posix.posix=t.win32.posix=t.posix,t.normalize="win32"===s.platform?t.win32.normalize:t.posix.normalize,t.isAbsolute="win32"===s.platform?t.win32.isAbsolute:t.posix.isAbsolute,t.join="win32"===s.platform?t.win32.join:t.posix.join,t.resolve="win32"===s.platform?t.win32.resolve:t.posix.resolve,t.relative="win32"===s.platform?t.win32.relative:t.posix.relative,t.dirname="win32"===s.platform?t.win32.dirname:t.posix.dirname,t.basename="win32"===s.platform?t.win32.basename:t.posix.basename,t.extname="win32"===s.platform?t.win32.extname:t.posix.extname,t.format="win32"===s.platform?t.win32.format:t.posix.format,t.parse="win32"===s.platform?t.win32.parse:t.posix.parse,t.toNamespacedPath="win32"===s.platform?t.win32.toNamespacedPath:t.posix.toNamespacedPath,t.sep="win32"===s.platform?t.win32.sep:t.posix.sep,t.delimiter="win32"===s.platform?t.win32.delimiter:t.posix.delimiter},76300:(e,t,n)=>{"use strict";var r,o=n(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.isAndroid=t.isEdge=t.isSafari=t.isFirefox=t.isChrome=t.isLittleEndian=t.OS=t.setTimeout0=t.translationsConfigFile=t.locale=t.Language=t.language=t.userAgent=t.platform=t.isCI=t.isIOS=t.isWebWorker=t.isWeb=t.isElectron=t.isNative=t.isLinuxSnap=t.isLinux=t.isMacintosh=t.isWindows=t.PlatformToString=t.isElectronSandboxed=t.globals=void 0;const i="en";let s,a,c,l,u=!1,d=!1,p=!1,h=!1,f=!1,g=!1,m=!1,y=!1,v=!1,b=i;t.globals="object"==typeof self?self:"object"==typeof n.g?n.g:{},l=void 0!==t.globals.vscode&&void 0!==t.globals.vscode.process?t.globals.vscode.process:o;const S="string"==typeof(null===(r=null==l?void 0:l.versions)||void 0===r?void 0:r.electron),w=S&&"renderer"===(null==l?void 0:l.type);if(t.isElectronSandboxed=w&&(null==l?void 0:l.sandboxed),"object"!=typeof navigator||w)if("object"==typeof l){u="win32"===l.platform,d="darwin"===l.platform,p="linux"===l.platform,h=p&&!!l.env.SNAP&&!!l.env.SNAP_REVISION,m=S,v=!!l.env.CI||!!l.env.BUILD_ARTIFACTSTAGINGDIRECTORY,s=i,b=i;const e=l.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),n=t.availableLanguages["*"];s=t.locale,b=n||i,a=t._translationsConfigFile}catch(e){}f=!0}else console.error("Unable to resolve platform.");else c=navigator.userAgent,u=c.indexOf("Windows")>=0,d=c.indexOf("Macintosh")>=0,y=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,p=c.indexOf("Linux")>=0,g=!0,s=navigator.language,b=s;t.PlatformToString=function(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}};let C=0;var k;d?C=1:u?C=3:p&&(C=2),t.isWindows=u,t.isMacintosh=d,t.isLinux=p,t.isLinuxSnap=h,t.isNative=f,t.isElectron=m,t.isWeb=g,t.isWebWorker=g&&"function"==typeof t.globals.importScripts,t.isIOS=y,t.isCI=v,t.platform=C,t.userAgent=c,t.language=b,(k=t.Language||(t.Language={})).value=function(){return t.language},k.isDefaultVariant=function(){return 2===t.language.length?"en"===t.language:t.language.length>=3&&"e"===t.language[0]&&"n"===t.language[1]&&"-"===t.language[2]},k.isDefault=function(){return"en"===t.language},t.locale=s,t.translationsConfigFile=a,t.setTimeout0=(()=>{if("function"==typeof t.globals.postMessage&&!t.globals.importScripts){let e=[];t.globals.addEventListener("message",(t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r.id===t.data.vscodeScheduleAsyncWork)return e.splice(n,1),void r.callback()}}));let n=0;return r=>{const o=++n;e.push({id:o,callback:r}),t.globals.postMessage({vscodeScheduleAsyncWork:o},"*")}}return e=>setTimeout(e)})(),t.OS=d||y?2:u?1:3;let _=!0,I=!1;t.isLittleEndian=function(){if(!I){I=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);_=513===t[0]}return _},t.isChrome=!!(t.userAgent&&t.userAgent.indexOf("Chrome")>=0),t.isFirefox=!!(t.userAgent&&t.userAgent.indexOf("Firefox")>=0),t.isSafari=!!(!t.isChrome&&t.userAgent&&t.userAgent.indexOf("Safari")>=0),t.isEdge=!!(t.userAgent&&t.userAgent.indexOf("Edg/")>=0),t.isAndroid=!!(t.userAgent&&t.userAgent.indexOf("Android")>=0)},92527:(e,t,n)=>{"use strict";var r=n(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.arch=t.platform=t.env=t.cwd=void 0;const o=n(76300);let i;if(void 0!==o.globals.vscode&&void 0!==o.globals.vscode.process){const e=o.globals.vscode.process;i={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd()}}else i={get platform(){return"web"},get arch(){return r.arch},get env(){return r.env},cwd:()=>r.env.VSCODE_CWD||r.cwd()};t.cwd=i.cwd,t.env=i.env,t.platform=i.platform,t.arch=i.arch},52859:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DataUri=t.addTrailingPathSeparator=t.removeTrailingPathSeparator=t.hasTrailingPathSeparator=t.isEqualAuthority=t.isAbsolutePath=t.resolvePath=t.relativePath=t.normalizePath=t.joinPath=t.dirname=t.extname=t.basename=t.basenameOrAuthority=t.getComparisonKey=t.isEqualOrParent=t.isEqual=t.extUriIgnorePathCase=t.extUriBiasedIgnorePathCase=t.extUri=t.ExtUri=t.originalFSPath=void 0;const s=n(66828),a=i(n(3499)),c=i(n(15948)),l=n(76300),u=n(13715),d=n(25982);function p(e){return l.isWeb?(null==e?void 0:e.path)||"":(null==e?void 0:e.fsPath)||""}t.originalFSPath=p;class h{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:(0,u.compare)(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,n,r=!1,o=(l.isWindows?"\\":"/")){if(e.scheme===n.scheme){if(e.scheme===d.Schemas.file)return a.isEqualOrParent(p(e),p(n),this._ignorePathCasing(e),o)&&e.query===n.query&&(r||e.fragment===n.fragment);if((0,t.isEqualAuthority)(e.authority,n.authority))return a.isEqualOrParent(e.path,n.path,this._ignorePathCasing(e),"/")&&e.query===n.query&&(r||e.fragment===n.fragment)}return!1}joinPath(e,...t){return s.Uri.joinPath(e,...t)}basenameOrAuthority(e){return(0,t.basename)(e)||e.authority}basename(e,t){return c.posix.basename(e.path,t)}extname(e){return c.posix.extname(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===d.Schemas.file?t=s.Uri.file(c.dirname(p(e))).path:(t=c.posix.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===d.Schemas.file?s.Uri.file(c.normalize(p(e))).path:c.posix.normalize(e.path),e.with({path:t})}relativePath(e,n){if(e.scheme!==n.scheme||!(0,t.isEqualAuthority)(e.authority,n.authority))return;if(e.scheme===d.Schemas.file){const t=c.relative(p(e),p(n));return l.isWindows?a.toSlashes(t):t}let r=e.path||"/",o=n.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(r.length,o.length);e<t&&(r.charCodeAt(e)===o.charCodeAt(e)||r.charAt(e).toLowerCase()===o.charAt(e).toLowerCase());e++);r=o.substr(0,e)+r.substr(e)}return c.posix.relative(r,o)}resolvePath(e,t){if(e.scheme===d.Schemas.file){const n=s.Uri.file(c.resolve(p(e),t));return e.with({authority:n.authority,path:n.path})}return t=a.toPosixPath(t),e.with({path:c.posix.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&"/"===e.path[0]}isEqualAuthority(e,t){return e===t||void 0!==e&&void 0!==t&&(0,u.equalsIgnoreCase)(e,t)}hasTrailingPathSeparator(e,t=c.sep){if(e.scheme===d.Schemas.file){const n=p(e);return n.length>a.getRoot(n).length&&n[n.length-1]===t}{const t=e.path;return t.length>1&&47===t.charCodeAt(t.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,n=c.sep){return(0,t.hasTrailingPathSeparator)(e,n)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,n=c.sep){let r=!1;if(e.scheme===d.Schemas.file){const t=p(e);r=void 0!==t&&t.length===a.getRoot(t).length&&t[t.length-1]===n}else{n="/";const t=e.path;r=1===t.length&&47===t.charCodeAt(t.length-1)}return r||(0,t.hasTrailingPathSeparator)(e,n)?e:e.with({path:e.path+"/"})}}var f;t.ExtUri=h,t.extUri=new h((()=>!1)),t.extUriBiasedIgnorePathCase=new h((e=>e.scheme!==d.Schemas.file||!l.isLinux)),t.extUriIgnorePathCase=new h((e=>!0)),t.isEqual=t.extUri.isEqual.bind(t.extUri),t.isEqualOrParent=t.extUri.isEqualOrParent.bind(t.extUri),t.getComparisonKey=t.extUri.getComparisonKey.bind(t.extUri),t.basenameOrAuthority=t.extUri.basenameOrAuthority.bind(t.extUri),t.basename=t.extUri.basename.bind(t.extUri),t.extname=t.extUri.extname.bind(t.extUri),t.dirname=t.extUri.dirname.bind(t.extUri),t.joinPath=t.extUri.joinPath.bind(t.extUri),t.normalizePath=t.extUri.normalizePath.bind(t.extUri),t.relativePath=t.extUri.relativePath.bind(t.extUri),t.resolvePath=t.extUri.resolvePath.bind(t.extUri),t.isAbsolutePath=t.extUri.isAbsolutePath.bind(t.extUri),t.isEqualAuthority=t.extUri.isEqualAuthority.bind(t.extUri),t.hasTrailingPathSeparator=t.extUri.hasTrailingPathSeparator.bind(t.extUri),t.removeTrailingPathSeparator=t.extUri.removeTrailingPathSeparator.bind(t.extUri),t.addTrailingPathSeparator=t.extUri.addTrailingPathSeparator.bind(t.extUri),(f=t.DataUri||(t.DataUri={})).META_DATA_LABEL="label",f.META_DATA_DESCRIPTION="description",f.META_DATA_SIZE="size",f.META_DATA_MIME="mime",f.parseMetaData=function(e){const t=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((e=>{const[n,r]=e.split(":");n&&r&&t.set(n,r)}));const n=e.path.substring(0,e.path.indexOf(";"));return n&&t.set(f.META_DATA_MIME,n),t}},13715:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.InvisibleCharacters=t.AmbiguousCharacters=t.startsWithIgnoreCase=t.equalsIgnoreCase=t.isLowerAsciiLetter=t.compareSubstringIgnoreCase=t.compareIgnoreCase=t.compareSubstring=t.compare=void 0;const o=n(11959),i=n(62624);function s(e,t,n=0,r=e.length,o=0,i=t.length){for(;n<r&&o<i;n++,o++){let r=e.charCodeAt(n),i=t.charCodeAt(o);if(r<i)return-1;if(r>i)return 1}const s=r-n,a=i-o;return s<a?-1:s>a?1:0}function a(e,t,n=0,r=e.length,o=0,i=t.length){for(;n<r&&o<i;n++,o++){let a=e.charCodeAt(n),l=t.charCodeAt(o);if(a===l)continue;if(a>=128||l>=128)return s(e.toLowerCase(),t.toLowerCase(),n,r,o,i);c(a)&&(a-=32),c(l)&&(l-=32);const u=a-l;if(0!==u)return u}const a=r-n,l=i-o;return a<l?-1:a>l?1:0}function c(e){return e>=97&&e<=122}t.compare=function(e,t){return e<t?-1:e>t?1:0},t.compareSubstring=s,t.compareIgnoreCase=function(e,t){return a(e,t,0,e.length,0,t.length)},t.compareSubstringIgnoreCase=a,t.isLowerAsciiLetter=c,t.equalsIgnoreCase=function(e,t){return e.length===t.length&&0===a(e,t)},t.startsWithIgnoreCase=function(e,t){const n=t.length;return!(t.length>e.length)&&0===a(e,t,0,n)};class l{constructor(e){this.confusableDictionary=e}static getInstance(e){return l.cache.get(Array.from(e))}static getLocales(){return l._locales.getValue()}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}t.AmbiguousCharacters=l,r=l,l.ambiguousCharacterData=new i.Lazy((()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))),l.cache=new o.LRUCachedComputed((e=>{function t(e){const t=new Map;for(let n=0;n<e.length;n+=2)t.set(e[n],e[n+1]);return t}function n(e,t){if(!e)return t;const n=new Map;for(const[r,o]of e)t.has(r)&&n.set(r,o);return n}const o=r.ambiguousCharacterData.getValue();let i,s=e.filter((e=>!e.startsWith("_")&&e in o));0===s.length&&(s=["_default"]);for(const e of s)i=n(i,t(o[e]));const a=function(e,t){const n=new Map(e);for(const[e,r]of t)n.set(e,r);return n}(t(o._common),i);return new l(a)})),l._locales=new i.Lazy((()=>Object.keys(l.ambiguousCharacterData.getValue()).filter((e=>!e.startsWith("_")))));class u{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(u.getRawData())),this._data}static isInvisibleCharacter(e){return u.getData().has(e)}static get codePoints(){return u.getData()}}t.InvisibleCharacters=u,u._data=void 0},25982:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Schemas=void 0,(n=t.Schemas||(t.Schemas={})).inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebook="vscode-notebook",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractive="vscode-interactive",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls"},42173:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Webview=void 0,n(8513);const s=n(66828),a=n(11642),c=n(15925),l=i(n(25251)),u=n(52859);t.Webview=class{constructor(e,t,n,r,o=[]){this.fs=e,this.disposableRegistry=t,this.context=n,this.options=r,this.loadFailedEmitter=new s.EventEmitter;const i={enableScripts:!0,localResourceRoots:[this.options.rootPath,this.options.cwd,...o]};r.webviewHost?(this.webviewHost=r.webviewHost,this.webviewHost.webview.options=i):this.webviewHost=this.createWebview(i),this.loadPromise=this.load()}get loadFailed(){return this.loadFailedEmitter.event}asWebviewUri(e){var t;if(!(null===(t=this.webviewHost)||void 0===t?void 0:t.webview))throw new Error("WebView not initialized, too early to get a Uri");return this.webviewHost.webview.asWebviewUri(e)}postMessage(e){var t,n;(null===(t=this.webviewHost)||void 0===t?void 0:t.webview)&&(null===(n=this.webviewHost)||void 0===n||n.webview.postMessage(e))}async generateLocalReactHtml(){var e;if(!(null===(e=this.webviewHost)||void 0===e?void 0:e.webview))throw new Error("WebView not initialized, too early to get a Uri");const t=this.webviewHost.webview.asWebviewUri(this.options.cwd).toString(),n=this.options.scripts.map((e=>this.webviewHost.webview.asWebviewUri(e))),r=this.webviewHost.webview.asWebviewUri(this.options.rootPath).toString(),o=this.webviewHost.webview.asWebviewUri((0,u.joinPath)(this.context.extensionUri,"out","fontAwesome","node_modules","font-awesome","css","font-awesome.min.css")).toString();return`<!doctype html>\n        <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">\n                <meta http-equiv="Content-Security-Policy" content="img-src 'self' data: https: http: blob: ${this.webviewHost.webview.cspSource}; default-src 'unsafe-inline' 'unsafe-eval' data: https: http: blob: ${this.webviewHost.webview.cspSource};">\n                <meta name="theme-color" content="#000000">\n                <meta name="theme" content="${c.Identifiers.GeneratedThemeName}"/>\n                <title>VS Code Python React UI</title>\n                <base href="${t}${t.endsWith("/")?"":"/"}"/>\n                <link rel="stylesheet" href="${o}">\n                </head>\n            <body>\n                <noscript>You need to enable JavaScript to run this app.</noscript>\n                <div id="root"></div>\n                <script type="text/javascript">\n                    // Public path that will be used by webpack.\n                    window.__PVSC_Public_Path = "${r}/";\n                    function resolvePath(relativePath) {\n                        if (relativePath && relativePath[0] == '.' && relativePath[1] != '.') {\n                            return "${t}" + relativePath.substring(1);\n                        }\n\n                        return "${t}" + relativePath;\n                    }\n                    function forceTestMiddleware() {\n                        return false;\n                    }\n                <\/script>\n                ${n.map((e=>`<script type="text/javascript" src="${e}"><\/script>`)).join("\n")}\n            </body>\n        </html>`}async load(){var e;try{if(null===(e=this.webviewHost)||void 0===e?void 0:e.webview)if((await Promise.all(this.options.scripts.map((e=>this.fs.exists(e))))).every((e=>!0===e)))this.webviewHost.webview.html=await this.generateLocalReactHtml(),this.postLoad(this.webviewHost);else{const e=l.DataScience.badWebPanelFormatString();this.webviewHost.webview.html=e.format(this.options.scripts.join(", "))}}catch(e){(0,a.traceError)(`Error Loading WebviewPanel: ${e}`),this.loadFailedEmitter.fire()}}}},92660:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewHost=void 0,n(8513);const a=n(66828),c=n(15925),l=n(11642),u=n(43138),d=n(85446),p=s(n(25251)),h=n(11386),f=n(30682),g=n(9959),m=n(72728);class y{constructor(e,t,n,r){this.configService=e,this.workspaceService=t,this.rootPath=n,this.scripts=r,this.disposed=!1,this.themeIsDarkPromise=(0,u.createDeferred)(),this.webviewInit=(0,u.createDeferred)(),this._disposables=[],this.startupStopwatch=new h.StopWatch,this.onMessageListeners=[],this._onDidDisposeWebviewPanel=new a.EventEmitter,this.onDataScienceSettingsChanged=async()=>{const e=JSON.stringify(await this.generateDataScienceExtraSettings());this.postMessageInternal(f.SharedMessages.UpdateSettings,e).ignoreErrors()},this.onWebViewLoadFailed=async()=>{this.dispose()},this.onPossibleSettingsChange=async e=>{if(e.affectsConfiguration("workbench.colorTheme")||e.affectsConfiguration("editor.fontSize")||e.affectsConfiguration("editor.fontFamily")||e.affectsConfiguration("editor.cursorStyle")||e.affectsConfiguration("editor.cursorBlinking")||e.affectsConfiguration("editor.autoClosingBrackets")||e.affectsConfiguration("editor.autoClosingQuotes")||e.affectsConfiguration("editor.autoSurround")||e.affectsConfiguration("editor.autoIndent")||e.affectsConfiguration("editor.scrollBeyondLastLine")||e.affectsConfiguration("editor.fontLigatures")||e.affectsConfiguration("editor.scrollbar.verticalScrollbarSize")||e.affectsConfiguration("editor.scrollbar.horizontalScrollbarSize")||e.affectsConfiguration("files.autoSave")||e.affectsConfiguration("files.autoSaveDelay")||e.affectsConfiguration("jupyter.widgetScriptSources")){const e=await this.generateDataScienceExtraSettings();if(e){const t=JSON.stringify(e);this.postMessageInternal(f.SharedMessages.UpdateSettings,t).ignoreErrors()}}},this._disposables.push(this.workspaceService.onDidChangeConfiguration(this.onPossibleSettingsChange,this)),this._disposables.push(this.configService.getSettings(void 0).onDidChange(this.onDataScienceSettingsChanged.bind(this)))}get onDidDispose(){return this._onDidDisposeWebviewPanel.event}dispose(){this.disposed||(this.disposed=!0,this._disposables.forEach((e=>e.dispose()))),this.webviewInit=void 0,this._onDidDisposeWebviewPanel.fire()}getHTMLById(e){if(this.activeHTMLRequest)throw new Error("getHTMLById request already in progress");return this.activeHTMLRequest=(0,u.createDeferred)(),this.postMessageInternal(f.InteractiveWindowMessages.GetHTMLByIdRequest,e).ignoreErrors(),this.activeHTMLRequest.promise}addMessageListener(e){this.onMessageListeners.push(e)}removeMessageListener(e){const t=this.onMessageListeners.indexOf(e);t>=0&&this.onMessageListeners.splice(t,1)}asWebviewUri(e){var t;if(!this.webview)throw new Error("asWebViewUri called too early");return null===(t=this.webview)||void 0===t?void 0:t.asWebviewUri(e)}postMessage(e,t){return this.postMessageInternal(e.toString(),t)}onMessage(e,t){switch(e){case f.SharedMessages.Started:this.webViewRendered();break;case f.InteractiveWindowMessages.GetHTMLByIdResponse:this.activeHTMLRequest&&(this.activeHTMLRequest.resolve(t),this.activeHTMLRequest=void 0)}this.onMessageListeners.forEach((n=>{n(e,t)}))}async loadWebview(e,t){var n;if(this.disposed=!1,this.webviewInit=this.webviewInit||(0,u.createDeferred)(),(0,l.traceInfo)("Loading webview. View is "+(this.webview?"set":"notset")),void 0===this.webview){const r=await this.generateDataScienceExtraSettings();(0,l.traceInfo)("Loading web view...");const o=null===(n=this.workspaceService.getWorkspaceFolder(e))||void 0===n?void 0:n.uri;this.webview=await this.provideWebview(e,r,o,t),this._disposables.push(this.webview.loadFailed(this.onWebViewLoadFailed,this)),(0,l.traceInfo)("Webview panel created.")}this.onDataScienceSettingsChanged().ignoreErrors(),this.sendLocStrings().ignoreErrors()}async generateDataScienceExtraSettings(){const e=this.owningResource,t=this.workspaceService.getConfiguration("editor"),n=this.workspaceService.getConfiguration("workbench"),r=n?n.get("colorTheme",c.DefaultTheme):c.DefaultTheme,o=a.extensions.getExtension(c.PythonExtension);return{...JSON.parse(JSON.stringify(this.configService.getSettings(e))),extraSettings:{editor:{cursor:this.getValue(t,"cursorStyle","line"),cursorBlink:this.getValue(t,"cursorBlinking","blink"),autoClosingBrackets:this.getValue(t,"autoClosingBrackets","languageDefined"),autoClosingQuotes:this.getValue(t,"autoClosingQuotes","languageDefined"),autoSurround:this.getValue(t,"autoSurround","languageDefined"),autoIndent:this.getValue(t,"autoIndent",!1),fontLigatures:this.getValue(t,"fontLigatures",!1),scrollBeyondLastLine:this.getValue(t,"scrollBeyondLastLine",!0),verticalScrollbarSize:this.getValue(t,"scrollbar.verticalScrollbarSize",14),horizontalScrollbarSize:this.getValue(t,"scrollbar.horizontalScrollbarSize",10),fontSize:this.getValue(t,"fontSize",14),fontFamily:this.getValue(t,"fontFamily","Consolas, 'Courier New', monospace")},theme:r,hasPythonExtension:void 0!==o,isWeb:(0,m.getOSType)()===m.OSType.Unknown}}}async sendLocStrings(){const e=(0,c.isTestExecution)()?"{}":p.getCollectionJSON();this.postMessageInternal(f.SharedMessages.LocInit,e).ignoreErrors()}async postMessageInternal(e,t){var n;this.webviewInit&&(await this.webviewInit.promise,null===(n=this.webview)||void 0===n||n.postMessage({type:e.toString(),payload:t}))}webViewRendered(){this.webviewInit&&!this.webviewInit.resolved&&((0,g.sendTelemetryEvent)(c.Telemetry.WebviewStartup,{duration:this.startupStopwatch.elapsedTime}),this.webviewInit.resolve(),(0,l.traceInfo)("Web view react rendered")),this.sendLocStrings().ignoreErrors(),this.onDataScienceSettingsChanged().ignoreErrors()}getValue(e,t,n){return e?e.get(t,n):n}}i([(0,d.testOnlyMethod)()],y.prototype,"getHTMLById",null),i([(0,d.testOnlyMethod)()],y.prototype,"addMessageListener",null),i([(0,d.testOnlyMethod)()],y.prototype,"removeMessageListener",null),t.WebviewHost=y},78086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewPanelHost=void 0,n(8513);const r=n(92660);class o extends r.WebviewHost{constructor(e,t,n,r,o,i,s,a){super(e,n,o,i),this.configService=e,this.provider=t,this.workspaceService=n,this._title=s,this.viewColumn=a,this.viewState={visible:!1,active:!1},this.webPanelViewStateChanged=e=>{const t=e.isVisible(),n=e.isActive(),r={visible:t,active:n},o={visible:this.viewState.visible,active:this.viewState.active};this.viewState.visible=t,this.viewState.active=n,this.onViewStateChanged({current:r,previous:o})},this.messageListener=r(this.onMessage.bind(this),this.webPanelViewStateChanged.bind(this),this.dispose.bind(this))}get isDisposed(){return this.disposed}get webPanel(){if(this.webview)return this.webview}async show(e){this.isDisposed||this.webPanel&&await this.webPanel.show(e)}dispose(){this.isDisposed||this.webPanel&&this.webPanel.close(),super.dispose()}get title(){return this._title}setTitle(e){this._title=e,!this.isDisposed&&this.webPanel&&this.webPanel.setTitle(e)}onViewStateChanged(e){}async provideWebview(e,t,n,r){return this.provider.create({viewColumn:this.viewColumn,listener:this.messageListener,title:this.title,rootPath:this.rootPath,scripts:this.scripts,settings:t,cwd:e,webviewHost:r,additionalPaths:n?[n]:[]})}}t.WebviewPanelHost=o},80208:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewPanelProvider=void 0;const c=n(86700),l=n(66828),u=n(83599),d=n(42080),p=s(n(15948)),h=n(42173);class f extends h.Webview{get panel(){return this.webviewHost}get panelOptions(){return this.options}constructor(e,t,n,r,o=[]){super(e,t,n,r,o)}async show(e){await this.loadPromise,this.panel&&(e?this.panel.visible||this.panel.reveal(this.panel.viewColumn,e):this.panel.active||this.panel.reveal(this.panel.viewColumn,e))}close(){this.panel&&this.panel.dispose()}get viewColumn(){var e;return null===(e=this.panel)||void 0===e?void 0:e.viewColumn}isVisible(){return!!this.panel&&this.panel.visible}isActive(){return!!this.panel&&this.panel.active}setTitle(e){this.panelOptions.title=e,this.panel&&(this.panel.title=e)}createWebview(e){return l.window.createWebviewPanel(this.panelOptions.title.toLowerCase().replace(" ",""),this.panelOptions.title,{viewColumn:this.panelOptions.viewColumn,preserveFocus:!0},{retainContextWhenHidden:!0,enableFindWidget:!0,...e})}postLoad(e){this.disposableRegistry.push(e.onDidDispose((()=>{this.webviewHost=void 0,this.panelOptions.listener.dispose().ignoreErrors()}))),this.disposableRegistry.push(e.webview.onDidReceiveMessage((e=>{this.panelOptions.listener.onMessage(e.type,e.payload)}))),this.disposableRegistry.push(e.onDidChangeViewState((e=>{this.panelOptions.listener.onChangeViewState(this)}))),this.panelOptions.listener.onChangeViewState(this)}}let g=class{constructor(e,t,n){this.disposableRegistry=e,this.fs=t,this.context=n}async create(e){const t=[l.Uri.file(p.join(this.context.extensionPath,"tmp"))];return Array.isArray(e.additionalPaths)&&t.push(...e.additionalPaths),new f(this.fs,this.disposableRegistry,this.context,e,t)}};g=i([(0,c.injectable)(),a(0,(0,c.inject)(d.IDisposableRegistry)),a(1,(0,c.inject)(u.IFileSystem)),a(2,(0,c.inject)(d.IExtensionContext))],g),t.WebviewPanelProvider=g},87486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewViewHost=void 0,n(8513);const r=n(92660);class o extends r.WebviewHost{constructor(e,t,n,r,o,i){super(e,t,o,i),this.configService=e,this.workspaceService=t,this.provider=r,this.messageListener=n(this.onMessage.bind(this),this.dispose.bind(this))}get isDisposed(){return this.disposed}get webviewView(){return this.webview&&this.webview}async provideWebview(e,t,n,r){if(!r)throw new Error("WebviewViews must be passed an initial VS Code Webview");return this.provider.create({additionalPaths:n?[n]:[],rootPath:this.rootPath,cwd:e,listener:this.messageListener,scripts:this.scripts,settings:t,webviewHost:r})}}t.WebviewViewHost=o},22670:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewViewProvider=void 0;const i=n(86700),s=n(66828),a=n(83599),c=n(42080),l=n(42173);class u extends l.Webview{constructor(e,t,n,r,o=[]){super(e,t,n,r,o),this.panelOptions=r,this._onDidChangeVisibility=new s.EventEmitter}get visible(){return!!this.webviewHost&&this.webviewHost.visible}get onDidChangeVisibility(){return this._onDidChangeVisibility.event}createWebview(e){throw new Error("Webview Views must be passed in an initial view")}postLoad(e){this.disposableRegistry.push(e.onDidDispose((()=>{this.webviewHost=void 0,this.panelOptions.listener.dispose().ignoreErrors()}))),this.disposableRegistry.push(e.webview.onDidReceiveMessage((e=>{this.panelOptions.listener.onMessage(e.type,e.payload)}))),this.disposableRegistry.push(e.onDidChangeVisibility((()=>{this._onDidChangeVisibility.fire()}))),this._onDidChangeVisibility.fire()}}let d=class{constructor(e,t,n){this.disposableRegistry=e,this.fs=t,this.context=n}async create(e){return new u(this.fs,this.disposableRegistry,this.context,e)}};d=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IDisposableRegistry)),o(1,(0,i.inject)(a.IFileSystem)),o(2,(0,i.inject)(c.IExtensionContext))],d),t.WebviewViewProvider=d},46498:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionActivationManager=void 0;const i=n(86700),s=n(52064),a=n(11642);let c=class{constructor(e,t){this.singleActivationServices=e,this.syncActivationServices=t}dispose(){}activateSync(){this.syncActivationServices.map((e=>e.activate()))}async activate(){await Promise.all([this.singleActivationServices.map((async e=>{const t=e.activate();if(t&&t.then)return t.catch(a.traceError)}))])}};c=r([(0,i.injectable)(),o(0,(0,i.optional)()),o(0,(0,i.multiInject)(s.IExtensionSingleActivationService)),o(1,(0,i.optional)()),o(1,(0,i.multiInject)(s.IExtensionSyncActivationService))],c),t.ExtensionActivationManager=c},73381:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalActivation=void 0;const i=n(86700),s=n(10053),a=n(15925),c=n(29444);n(8513);const l=n(42080),u=n(85446),d=n(58681),p=n(15925),h=n(99216),f=n(94523),g=n(9959);let m=class{constructor(e,t,n,r,o,i,s){this.commandManager=e,this.disposableRegistry=t,this.configuration=n,this.documentManager=r,this.workspace=o,this.rawSupported=i,this.commandListeners=s,this.isDisposed=!1,this.startTime=Date.now(),this.onSettingsChanged=()=>{const e=this.configuration.getSettings(void 0).sendSelectionToInteractiveWindow;new c.ContextKey(p.EditorContexts.OwnsSelection,this.commandManager).set(e).catch(d.noop)}}get activationStartTime(){return this.startTime}async activate(){this.onSettingsChanged(),this.changeHandler=this.configuration.getSettings(void 0).onDidChange(this.onSettingsChanged.bind(this)),this.disposableRegistry.push(this),this.disposableRegistry.push(this.documentManager.onDidChangeActiveTextEditor((()=>this.onChangedActiveTextEditor()))),this.onChangedActiveTextEditor(),this.sendSettingsTelemetry().ignoreErrors(),this.computeZmqAvailable(),this.commandListeners&&this.commandListeners.forEach((e=>e.register(this.commandManager)))}async dispose(){this.changeHandler&&(this.changeHandler.dispose(),this.changeHandler=void 0)}computeZmqAvailable(){new c.ContextKey(p.EditorContexts.ZmqAvailable,this.commandManager).set(!!this.rawSupported&&this.rawSupported.isSupported).then(d.noop,d.noop)}onChangedActiveTextEditor(){const e=new c.ContextKey(p.EditorContexts.HasCodeCells,this.commandManager),t=this.documentManager.activeTextEditor;t&&t.document.languageId===a.PYTHON_LANGUAGE?e.set((0,f.hasCells)(t.document,this.configuration.getSettings())).catch(d.noop):e.set(!1).catch(d.noop)}async sendSettingsTelemetry(){const e=this.configuration.getSettings(),t=this.workspace.getConfiguration("jupyter");if(t){const n=Object.keys(e),r={};for(const o of n){const n=e[o];if(!o.startsWith("_")&&"function"!=typeof n)if("string"==typeof n&&"interactiveWindowMode"!==o){const e=t.inspect(`${o}`);e&&e.defaultValue!==n?r[o]="non-default":r[o]="default"}else r[o]=n}(0,g.sendTelemetryEvent)(a.Telemetry.DataScienceSettings,void 0,{settingsJson:JSON.stringify(r)})}}};r([(0,u.debounceAsync)(1),(0,u.swallowExceptions)("Sending DataScience Settings Telemetry failed")],m.prototype,"sendSettingsTelemetry",null),m=r([(0,i.injectable)(),o(0,(0,i.inject)(s.ICommandManager)),o(1,(0,i.inject)(l.IDisposableRegistry)),o(2,(0,i.inject)(l.IConfigurationService)),o(3,(0,i.inject)(s.IDocumentManager)),o(4,(0,i.inject)(s.IWorkspaceService)),o(5,(0,i.inject)(h.IRawNotebookSupportedService)),o(5,(0,i.optional)()),o(6,(0,i.multiInject)(l.IDataScienceCommandListener))],m),t.GlobalActivation=m},34383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildApi=t.IExportedKernelServiceFactory=void 0;const r=n(66828),o=n(24319),i=n(46875),s=n(27527),a=n(94433),c=n(90391),l=n(77886),u=n(15925),d=n(11642),p=n(50867);t.IExportedKernelServiceFactory=Symbol("IExportedKernelServiceFactory"),t.buildApi=function(e,n,h,f){let g=!1;const m={ready:e.catch((e=>((0,d.traceError)("Failure during activation.",e),Promise.reject(e)))),registerPythonApi:e=>{g||(g=!0,h.get(l.IPythonApiProvider).setApi(e))},async showDataViewer(e,t){const n=h.get(c.IDataViewerFactory);await n.create(e,t)},registerRemoteServerProvider(e){h.get(a.IJupyterUriProviderRegistration).registerProvider(e)},getKernelService:async()=>h.get(t.IExportedKernelServiceFactory).getService(),getSuggestedController:async(e,t,n)=>{const r=h.get(p.IControllerPreferredService),s=h.get(o.JupyterConnection),a=(0,i.generateUriFromRemoteProvider)(e,t);await s.updateServerUri(a);const c=await(0,i.computeServerId)(a),{controller:l}=await r.computePreferred(n,c);return null==l?void 0:l.controller},addRemoteJupyterServer:async(e,t)=>{const n=h.get(o.JupyterConnection),r=h.get(s.JupyterServerSelector),a=(0,i.generateUriFromRemoteProvider)(e,t);await n.updateServerUri(a),await r.setJupyterURIToRemote(a)}};return((0,u.isTestExecution)()||f.extensionMode===r.ExtensionMode.Development||f.extensionMode===r.ExtensionMode.Test)&&(m.serviceContainer=h,m.serviceManager=n),m}},81827:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApiAccessService=t.PublishersAllowedWithPrompts=t.TrustedExtensionPublishers=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(15925),l=n(42080),u=n(43138),d=n(25251),p=n(9959),h=n(11642),f=n(58681),g="JUPYTER_API_ACCESS_INFORMATION";t.TrustedExtensionPublishers=new Set([c.JVSC_EXTENSION_ID.split(".")[0],"rchiodo","donjayamanne"]),t.PublishersAllowedWithPrompts=new Set([c.JVSC_EXTENSION_ID.split(".")[0],"rchiodo"]);let m=class{constructor(e,t,n){this.globalState=e,this.appShell=t,this.context=n,this.extensionAccess=new Map,this.promiseChain=new u.PromiseChain}async getAccessInformation(e){const n=e.extensionId.split(".")[0];if(this.context.extensionMode===s.ExtensionMode.Test)return t.TrustedExtensionPublishers.has(n)&&!t.PublishersAllowedWithPrompts.has(n)||this.appShell.showInformationMessage(d.DataScience.thanksForUsingJupyterKernelApiPleaseRegisterWithUs()).then(f.noop,f.noop),{extensionId:e.extensionId,accessAllowed:!0};if(t.TrustedExtensionPublishers.has(n))return{extensionId:e.extensionId,accessAllowed:!0};if(!t.PublishersAllowedWithPrompts.has(n))return this.appShell.showErrorMessage(`Please contact the Jupyter Extension to get access to the Kernel API. Publisher ${n}`).then(f.noop,f.noop),(0,h.traceError)(`Publisher ${n} is not allowed to access the Kernel API.`),{extensionId:e.extensionId,accessAllowed:!1};const r=this.globalState.get(g),o=null==r?void 0:r.find((t=>t.extensionId===e.extensionId));if(o)return(0,p.sendTelemetryEvent)(c.Telemetry.JupyterKernelApiAccess,void 0,{extensionId:e.extensionId,allowed:o.allowed}),{extensionId:e.extensionId,accessAllowed:"yes"===o.allowed};if(this.extensionAccess.get(e.extensionId))return this.extensionAccess.get(e.extensionId);const i=(async()=>{const t=d.DataScience.allowExtensionToUseJupyterKernelApi().format(`${e.displayName} (${e.extensionId})`,d.Common.bannerLabelYes()),n=await this.appShell.showInformationMessage(t,{modal:!0},d.Common.bannerLabelYes(),d.Common.bannerLabelNo())===d.Common.bannerLabelYes();return this.promiseChain.chainFinally((async()=>{let t=[...this.globalState.get(g,[])];return t=t.filter((t=>t.extensionId!==e.extensionId)),t.push({allowed:n?"yes":"no",extensionId:e.extensionId}),this.globalState.update(g,t)})).then(f.noop,f.noop),(0,p.sendTelemetryEvent)(c.Telemetry.JupyterKernelApiAccess,void 0,{extensionId:e.extensionId,allowed:n?"yes":"no"}),{extensionId:e.extensionId,accessAllowed:n}})();return this.extensionAccess.set(e.extensionId,i),i}};m=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IMemento)),o(0,(0,i.named)(l.GLOBAL_MEMENTO)),o(1,(0,i.inject)(a.IApplicationShell)),o(2,(0,i.inject)(l.IExtensionContext))],m),t.ApiAccessService=m},49612:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterKernelServiceFactory=void 0;const i=n(86700),s=n(66828),a=n(35908),c=n(94062),l=n(20397),u=n(11642),d=n(42080),p=n(43138),h=n(9959),f=n(81827),g=n(15925),m=n(46799),y=n(88960),v=n(41778),b=n(50867);let S=class{constructor(e,t,n,r,o,i,s,a){this.kernelProvider=e,this.thirdPartyKernelProvider=t,this.disposables=n,this.controllerRegistration=r,this.controllerLoader=o,this.apiAccess=i,this.extensions=s,this.serviceContainer=a,this.chainedApiAccess=new p.PromiseChain,this.extensionApi=new Map}async getService(){const e=await this.extensions.determineExtensionFromCallStack(),t=await this.chainedApiAccess.chainFinally((()=>this.apiAccess.getAccessInformation(e)));if(!t.accessAllowed)return;if(this.extensionApi.get(t.extensionId))return this.extensionApi.get(t.extensionId);const n=new w(t.extensionId,this.kernelProvider,this.thirdPartyKernelProvider,this.disposables,this.controllerRegistration,this.controllerLoader,this.serviceContainer);return this.extensionApi.set(t.extensionId,n),n}};S=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IKernelProvider)),o(1,(0,i.inject)(c.IThirdPartyKernelProvider)),o(2,(0,i.inject)(d.IDisposableRegistry)),o(3,(0,i.inject)(b.IControllerRegistration)),o(4,(0,i.inject)(b.IControllerLoader)),o(5,(0,i.inject)(f.ApiAccessService)),o(6,(0,i.inject)(d.IExtensions)),o(7,(0,i.inject)(v.IServiceContainer))],S),t.JupyterKernelServiceFactory=S;let w=class e{constructor(e,t,n,r,o,i,a){this.callingExtensionId=e,this.kernelProvider=t,this.thirdPartyKernelProvider=n,this.disposables=r,this.controllerRegistration=o,this.controllerLoader=i,this.serviceContainer=a,this._onDidChangeKernelSpecifications=new s.EventEmitter,this._onDidChangeKernels=new s.EventEmitter,this.translatedConnections=new WeakMap,this.kernelProvider.onDidDisposeKernel((e=>{var t;(0,u.traceInfoIfCI)(`Kernel ${e.kernelConnectionMetadata.id}, ${null===(t=e.kernelConnectionMetadata.interpreter)||void 0===t?void 0:t.uri.toString()} disposed`),this._onDidChangeKernels.fire()}),this,r),this.kernelProvider.onDidStartKernel((e=>{var t;(0,u.traceInfoIfCI)(`Kernel ${e.kernelConnectionMetadata.id}, ${null===(t=e.kernelConnectionMetadata.interpreter)||void 0===t?void 0:t.uri.toString()} started`),this._onDidChangeKernels.fire()}),this,r),this.thirdPartyKernelProvider.onDidDisposeKernel((e=>{var t;(0,u.traceInfoIfCI)(`Third party Kernel ${e.kernelConnectionMetadata.id}, ${null===(t=e.kernelConnectionMetadata.interpreter)||void 0===t?void 0:t.uri.toString()} disposed`),this._onDidChangeKernels.fire()}),this,r),this.thirdPartyKernelProvider.onDidStartKernel((e=>{var t;(0,u.traceInfoIfCI)(`Third party Kernel ${e.kernelConnectionMetadata.id}, ${null===(t=e.kernelConnectionMetadata.interpreter)||void 0===t?void 0:t.uri.toString()} started`),this._onDidChangeKernels.fire()}),this,r),this.controllerLoader.refreshed((()=>this._onDidChangeKernelSpecifications.fire()),this,r)}get onDidChangeKernelSpecifications(){return(0,h.sendTelemetryEvent)(g.Telemetry.JupyterKernelApiUsage,void 0,{extensionId:this.callingExtensionId,pemUsed:"onDidChangeKernelSpecifications"}),(0,u.traceVerbose)(`API called from ${this.callingExtensionId}`),this._onDidChangeKernelSpecifications.event}get onDidChangeKernels(){return(0,h.sendTelemetryEvent)(g.Telemetry.JupyterKernelApiUsage,void 0,{extensionId:this.callingExtensionId,pemUsed:"onDidChangeKernels"}),this._onDidChangeKernels.event}async getKernelSpecifications(){return(0,h.sendTelemetryEvent)(g.Telemetry.JupyterKernelApiUsage,void 0,{extensionId:this.callingExtensionId,pemUsed:"getKernelSpecifications"}),await this.controllerLoader.loaded,this.controllerRegistration.registered.map((e=>this.translateKernelConnectionMetadataToExportedType(e.connection)))}getActiveKernels(){(0,h.sendTelemetryEvent)(g.Telemetry.JupyterKernelApiUsage,void 0,{extensionId:this.callingExtensionId,pemUsed:"getActiveKernels"});const e=[],t=new Set;return this.kernelProvider.kernels.filter((e=>e.startedAtLeastOnce||"connectToLiveRemoteKernel"===e.kernelConnectionMetadata.kind)).forEach((n=>{var r;const o=this.kernelProvider.get(n.notebook);o&&(null===(r=o.session)||void 0===r?void 0:r.kernelId)&&t.add(o.session.kernelId),e.push({metadata:this.translateKernelConnectionMetadataToExportedType(n.kernelConnectionMetadata),uri:n.uri})})),this.thirdPartyKernelProvider.kernels.filter((e=>e.startedAtLeastOnce||"connectToLiveRemoteKernel"===e.kernelConnectionMetadata.kind)).forEach((n=>{var r;const o=this.thirdPartyKernelProvider.get(n.uri);o&&(null===(r=o.session)||void 0===r?void 0:r.kernelId)&&t.add(o.session.kernelId),e.push({metadata:this.translateKernelConnectionMetadataToExportedType(n.kernelConnectionMetadata),uri:n.uri})})),this.controllerRegistration.registered.forEach((n=>{n.controller.notebookType===g.JupyterNotebookView&&"connectToLiveRemoteKernel"===n.connection.kind&&n.connection.kernelModel.id&&!t.has(n.connection.kernelModel.id)&&e.push({metadata:n.connection,uri:void 0})})),e}getKernel(e){var t,n;(0,h.sendTelemetryEvent)(g.Telemetry.JupyterKernelApiUsage,void 0,{extensionId:this.callingExtensionId,pemUsed:"getKernel"});const r=null!==(t=this.thirdPartyKernelProvider.get(e))&&void 0!==t?t:this.kernelProvider.get(e);if(null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.kernel){const e=this.wrapKernelConnection(r);return{metadata:this.translateKernelConnectionMetadataToExportedType(r.kernelConnectionMetadata),connection:e}}}async startKernel(e,t){return(0,h.sendTelemetryEvent)(g.Telemetry.JupyterKernelApiUsage,void 0,{extensionId:this.callingExtensionId,pemUsed:"startKernel"}),this.startOrConnect(e,t)}async connect(e,t){return(0,h.sendTelemetryEvent)(g.Telemetry.JupyterKernelApiUsage,void 0,{extensionId:this.callingExtensionId,pemUsed:"connect"}),this.startOrConnect(e,t)}async startOrConnect(t,n){var r;await this.controllerLoader.loaded;const o=this.controllerRegistration.all.find((e=>e.id===t.id));if(!o)throw new Error("Not found");const i=await m.KernelConnector.connectToKernel(o,this.serviceContainer,{resource:n},new y.DisplayOptions(!1),this.disposables,"3rdPartyExtension");let s=e.wrappedKernelConnections.get(i);if(s)return s;if(!(null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.kernel))throw new Error("Not found");return this.wrapKernelConnection(i)}wrapKernelConnection(t){if(e.wrappedKernelConnections.get(t))return e.wrappedKernelConnections.get(t);const n={connection:new a.KernelConnectionWrapper(t,this.disposables),kernelSocket:new C(t)};return e.wrappedKernelConnections.set(t,n),n}translateKernelConnectionMetadataToExportedType(e){if(!this.translatedConnections.has(e)){const t=Object.freeze(JSON.parse(JSON.stringify(e)));this.translatedConnections.set(e,t)}return this.translatedConnections.get(e)}};w.wrappedKernelConnections=new WeakMap,w=r([o(1,(0,i.inject)(c.IKernelProvider)),o(2,(0,i.inject)(c.IThirdPartyKernelProvider)),o(3,(0,i.inject)(d.IDisposableRegistry)),o(4,(0,i.inject)(b.IControllerRegistration)),o(5,(0,i.inject)(b.IControllerLoader)),o(6,(0,i.inject)(v.IServiceContainer))],w);class C{constructor(e){this.disposables=[],this.receiveHooks=new Set,this.sendHooks=new Set,this._onDidSocketChange=new s.EventEmitter;const t=e.kernelSocket.subscribe((e=>{this.removeHooks(),this.socket=null==e?void 0:e.socket,this.addHooks(),this._onDidSocketChange.fire()}));this.disposables.push(new s.Disposable((()=>t.unsubscribe())))}get ready(){return!!this.socket}get onDidChange(){return this._onDidSocketChange.event}dispose(){(0,l.disposeAllDisposables)(this.disposables)}sendToRealKernel(e,t){var n;null===(n=this.socket)||void 0===n||n.sendToRealKernel(e,t)}addReceiveHook(e){this.receiveHooks.add(e)}removeReceiveHook(e){this.receiveHooks.delete(e)}addSendHook(e){this.sendHooks.add(e)}removeSendHook(e){this.sendHooks.delete(e)}removeHooks(){this.socket&&(this.receiveHooks.forEach((e=>{var t;return null===(t=this.socket)||void 0===t?void 0:t.removeReceiveHook(e)})),this.sendHooks.forEach((e=>{var t;return null===(t=this.socket)||void 0===t?void 0:t.removeSendHook(e)})))}addHooks(){this.socket&&(this.receiveHooks.forEach((e=>{var t;return null===(t=this.socket)||void 0===t?void 0:t.addReceiveHook(e)})),this.sendHooks.forEach((e=>{var t;return null===(t=this.socket)||void 0===t?void 0:t.addSendHook(e)})))}}},35908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnectionWrapper=void 0;const r=n(58681),o=n(23429);class i extends o.BaseKernelConnectionWrapper{constructor(e,t){super(e.session.kernel,t),this.kernel=e;const n=()=>{this.statusChanged.emit(e.status),"dead"!==e.status||e.disposed||e.disposing||this.connectionStatusChanged.emit("disconnected")};e.onDisposed((()=>{n(),this.disposed.emit()}),this,t),e.onStarted(n,this,t),e.onRestarted(n,this,t),e.onStatusChanged(n,this,t),this.startHandleKernelMessages(e.session.kernel)}get possibleKernelConnection(){var e,t;return(null===(e=this.kernel.session)||void 0===e?void 0:e.kernel)===this._kernelConnection?this._kernelConnection:(this.stopHandlingKernelMessages(this._kernelConnection),(null===(t=this.kernel.session)||void 0===t?void 0:t.kernel)?(this.startHandleKernelMessages(this.kernel.session.kernel),this._kernelConnection):void 0)}async shutdown(){var e;"startUsingRemoteKernelSpec"!==this.kernel.kernelConnectionMetadata.kind&&"connectToLiveRemoteKernel"!==this.kernel.kernelConnectionMetadata.kind||await(null===(e=this.kernel.session)||void 0===e?void 0:e.shutdown()),await this.kernel.dispose()}dispose(){this.kernel.dispose().catch(r.noop)}async interrupt(){var e;if(this.stopHandlingKernelMessages(this.possibleKernelConnection),await this.kernel.interrupt(),!(null===(e=this.kernel.session)||void 0===e?void 0:e.kernel))throw new Error("Restart failed");this.startHandleKernelMessages(this.kernel.session.kernel)}async restart(){var e;if(this.possibleKernelConnection&&this.stopHandlingKernelMessages(this.possibleKernelConnection),await this.kernel.restart(),!(null===(e=this.kernel.session)||void 0===e?void 0:e.kernel))throw new Error("Restart failed");this.startHandleKernelMessages(this.kernel.session.kernel)}startHandleKernelMessages(e){this._kernelConnection=e,super.startHandleKernelMessages(e)}}t.KernelConnectionWrapper=i},4188:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveEditorContextService=void 0;const i=n(86700),s=n(94062),a=n(10053),c=n(15925),l=n(29444),u=n(42080),d=n(58681),p=n(15925),h=n(135),f=n(86563),g=n(98729),m=n(50867);let y=class{constructor(e,t,n,r,o,i,s){this.interactiveProvider=e,this.docManager=t,this.commandManager=n,this.vscNotebook=o,this.kernelProvider=i,this.controllers=s,this.disposables=[],this.isPythonFileActive=!1,r.push(this),this.nativeContext=new l.ContextKey(c.EditorContexts.IsNativeActive,this.commandManager),this.canRestartNotebookKernelContext=new l.ContextKey(c.EditorContexts.CanRestartNotebookKernel,this.commandManager),this.canInterruptNotebookKernelContext=new l.ContextKey(c.EditorContexts.CanInterruptNotebookKernel,this.commandManager),this.canRestartInteractiveWindowKernelContext=new l.ContextKey(c.EditorContexts.CanRestartInteractiveWindowKernel,this.commandManager),this.canInterruptInteractiveWindowKernelContext=new l.ContextKey(c.EditorContexts.CanInterruptInteractiveWindowKernel,this.commandManager),this.interactiveContext=new l.ContextKey(c.EditorContexts.IsInteractiveActive,this.commandManager),this.interactiveOrNativeContext=new l.ContextKey(c.EditorContexts.IsInteractiveOrNativeActive,this.commandManager),this.pythonOrNativeContext=new l.ContextKey(c.EditorContexts.IsPythonOrNativeActive,this.commandManager),this.pythonOrInteractiveContext=new l.ContextKey(c.EditorContexts.IsPythonOrInteractiveActive,this.commandManager),this.pythonOrInteractiveOrNativeContext=new l.ContextKey(c.EditorContexts.IsPythonOrInteractiveOrNativeActive,this.commandManager),this.hasNativeNotebookCells=new l.ContextKey(c.EditorContexts.HaveNativeCells,this.commandManager),this.isPythonNotebook=new l.ContextKey(c.EditorContexts.IsPythonNotebook,this.commandManager),this.isJupyterKernelSelected=new l.ContextKey(c.EditorContexts.IsJupyterKernelSelected,this.commandManager),this.hasNativeNotebookOrInteractiveWindowOpen=new l.ContextKey(c.EditorContexts.HasNativeNotebookOrInteractiveWindowOpen,this.commandManager)}dispose(){this.disposables.forEach((e=>e.dispose()))}async activate(){var e;this.docManager.onDidChangeActiveTextEditor(this.onDidChangeActiveTextEditor,this,this.disposables),this.kernelProvider.onKernelStatusChanged(this.onDidKernelStatusChange,this,this.disposables),this.interactiveProvider&&(this.interactiveProvider.onDidChangeActiveInteractiveWindow(this.onDidChangeActiveInteractiveWindow,this,this.disposables),this.interactiveProvider.activeWindow&&this.onDidChangeActiveInteractiveWindow()),this.vscNotebook.activeNotebookEditor&&this.onDidChangeActiveNotebookEditor(this.vscNotebook.activeNotebookEditor),this.vscNotebook.onDidChangeActiveNotebookEditor(this.onDidChangeActiveNotebookEditor,this,this.disposables),(null===(e=this.docManager.activeTextEditor)||void 0===e?void 0:e.document.languageId)===c.PYTHON_LANGUAGE&&this.onDidChangeActiveTextEditor(this.docManager.activeTextEditor),this.vscNotebook.onDidChangeNotebookEditorSelection(this.updateNativeNotebookInteractiveWindowOpenContext,this,this.disposables),this.vscNotebook.onDidOpenNotebookDocument(this.updateNativeNotebookInteractiveWindowOpenContext,this,this.disposables),this.vscNotebook.onDidCloseNotebookDocument(this.updateNativeNotebookInteractiveWindowOpenContext,this,this.disposables),this.controllers.onControllerSelectionChanged((()=>this.updateSelectedKernelContext()),this,this.disposables),this.updateSelectedKernelContext()}updateNativeNotebookCellContext(){var e;const t=((null===(e=this.vscNotebook.activeNotebookEditor)||void 0===e?void 0:e.notebook.cellCount)||0)>0;this.hasNativeNotebookCells.set(t).ignoreErrors()}onDidChangeActiveInteractiveWindow(e){this.interactiveContext.set(!!e).ignoreErrors(),this.updateNativeNotebookInteractiveWindowOpenContext(),this.updateMergedContexts(),this.updateContextOfActiveInteractiveWindowKernel()}onDidChangeActiveNotebookEditor(e){const t=!!e&&e.notebook.notebookType===p.JupyterNotebookView;this.nativeContext.set(t).ignoreErrors(),this.isPythonNotebook.set(!(!e||!t)&&(0,g.isPythonNotebook)((0,f.getNotebookMetadata)(e.notebook))).ignoreErrors(),this.updateContextOfActiveNotebookKernel(e),this.updateContextOfActiveInteractiveWindowKernel(),this.updateNativeNotebookInteractiveWindowOpenContext(),this.updateNativeNotebookCellContext(),this.updateMergedContexts()}updateNativeNotebookInteractiveWindowOpenContext(){this.hasNativeNotebookOrInteractiveWindowOpen.set(this.vscNotebook.notebookDocuments.some((e=>e.notebookType===p.JupyterNotebookView||e.notebookType===p.InteractiveWindowView))).ignoreErrors()}updateContextOfActiveNotebookKernel(e){const t=e&&e.notebook.notebookType===p.JupyterNotebookView?this.kernelProvider.get(e.notebook):void 0;if(t){const e="unknown"!==t.status;this.canRestartNotebookKernelContext.set(!!e).ignoreErrors();const n="busy"===t.status;this.canInterruptNotebookKernelContext.set(!!n).ignoreErrors()}else this.canRestartNotebookKernelContext.set(!1).ignoreErrors(),this.canInterruptNotebookKernelContext.set(!1).ignoreErrors();this.updateSelectedKernelContext()}updateSelectedKernelContext(){var e,t,n,r;const o=(null===(e=this.vscNotebook.activeNotebookEditor)||void 0===e?void 0:e.notebook)||(null===(r=null===(n=null===(t=this.interactiveProvider)||void 0===t?void 0:t.getActiveOrAssociatedInteractiveWindow())||void 0===n?void 0:n.notebookEditor)||void 0===r?void 0:r.notebook);o&&(0,f.isJupyterNotebook)(o)&&this.controllers.getSelected(o)?this.isJupyterKernelSelected.set(!0).catch(d.noop):this.isJupyterKernelSelected.set(!1).catch(d.noop)}updateContextOfActiveInteractiveWindowKernel(){var e,t,n;const r=null===(n=null===(t=null===(e=this.interactiveProvider)||void 0===e?void 0:e.getActiveOrAssociatedInteractiveWindow())||void 0===t?void 0:t.notebookEditor)||void 0===n?void 0:n.notebook,o=r?this.kernelProvider.get(r):void 0;if(o){const e="unknown"!==o.status;this.canRestartInteractiveWindowKernelContext.set(!!e).ignoreErrors();const t="busy"===o.status;this.canInterruptInteractiveWindowKernelContext.set(!!t).ignoreErrors()}else this.canRestartInteractiveWindowKernelContext.set(!1).ignoreErrors(),this.canInterruptInteractiveWindowKernelContext.set(!1).ignoreErrors();this.updateSelectedKernelContext()}onDidKernelStatusChange({kernel:e}){var t;const n=e.notebook;n.notebookType===p.InteractiveWindowView?this.updateContextOfActiveInteractiveWindowKernel():n.notebookType===p.JupyterNotebookView&&n===(null===(t=this.vscNotebook.activeNotebookEditor)||void 0===t?void 0:t.notebook)&&this.updateContextOfActiveNotebookKernel(this.vscNotebook.activeNotebookEditor)}onDidChangeActiveTextEditor(e){this.isPythonFileActive=(null==e?void 0:e.document.languageId)===c.PYTHON_LANGUAGE&&!(0,d.isNotebookCell)(e.document.uri),this.updateNativeNotebookCellContext(),this.updateMergedContexts(),this.updateContextOfActiveInteractiveWindowKernel()}updateMergedContexts(){this.interactiveOrNativeContext.set(!0===this.nativeContext.value||!0===this.interactiveContext.value).ignoreErrors(),this.pythonOrNativeContext.set(!0===this.nativeContext.value||!0===this.isPythonFileActive).ignoreErrors(),this.pythonOrInteractiveContext.set(!0===this.interactiveContext.value||!0===this.isPythonFileActive).ignoreErrors(),this.pythonOrInteractiveOrNativeContext.set(!0===this.nativeContext.value||!0===this.interactiveContext.value&&!0===this.isPythonFileActive).ignoreErrors()}};y=r([(0,i.injectable)(),o(0,(0,i.inject)(h.IInteractiveWindowProvider)),o(0,(0,i.optional)()),o(1,(0,i.inject)(a.IDocumentManager)),o(2,(0,i.inject)(a.ICommandManager)),o(3,(0,i.inject)(u.IDisposableRegistry)),o(4,(0,i.inject)(a.IVSCodeNotebook)),o(5,(0,i.inject)(s.IKernelProvider)),o(6,(0,i.inject)(m.IControllerSelection))],y),t.ActiveEditorContextService=y},42750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClearCacheCommand=void 0;const r=n(66828),o=n(58681);t.addClearCacheCommand=function(e,t){t&&r.commands.registerCommand("dataScience.ClearCache",(()=>{for(const t of e.globalState.keys())e.globalState.update(t,void 0).then(o.noop,o.noop);for(const t of e.workspaceState.keys())e.workspaceState.update(t,void 0).then(o.noop,o.noop)}))}},22913:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getJupyterOutputChannel=void 0;const s=n(66828),a=i(n(25251));t.getJupyterOutputChannel=function(e,t,n){const r=s.workspace.getConfiguration("jupyter").get("logKernelOutputSeparately",!1);if(!e&&!r)return n;const o=s.window.createOutputChannel(a.DataScience.jupyterServerConsoleOutputChannel());t.push(o);const i={get(e,t){const r=e[t];if("function"==typeof r){if("append"===t)return(...e)=>(o.append(...e),n.append(...e));if("appendLine"===t)return(...e)=>(o.appendLine(...e),n.appendLine(...e))}return r}};return new Proxy(n,i)}},71263:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(42750);t.registerTypes=function(e,t,n){(0,r.addClearCacheCommand)(e,n)}},29591:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRegistry=void 0;const i=n(86700),s=n(135),a=n(10053),c=n(83599),l=n(42080),u=n(62440),d=n(72716),p=n(50867);let h=class{constructor(e,t,n,r,o,i,s,a,c,l){this.disposables=e,this.workspace=t,this.commandManager=n,this.fileConverter=r,this.applicationShell=o,this.fs=i,this.notebooks=s,this.interactiveProvider=a,this.controllerSelection=c,this.controllerPreferred=l,this.exportCommand=new d.ExportCommands(this.commandManager,this.fileConverter,this.applicationShell,this.fs,this.notebooks,this.interactiveProvider,c,l),this.workspace.isTrusted||this.workspace.onDidGrantWorkspaceTrust(this.registerCommandsIfTrusted,this,this.disposables)}async activate(){this.registerCommandsIfTrusted()}registerCommandsIfTrusted(){var e;this.workspace.isTrusted&&(null===(e=this.exportCommand)||void 0===e||e.register())}};h=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IDisposableRegistry)),o(1,(0,i.inject)(a.IWorkspaceService)),o(2,(0,i.inject)(a.ICommandManager)),o(3,(0,i.inject)(u.IFileConverter)),o(4,(0,i.inject)(a.IApplicationShell)),o(5,(0,i.inject)(c.IFileSystem)),o(6,(0,i.inject)(a.IVSCodeNotebook)),o(7,(0,i.inject)(s.IInteractiveWindowProvider)),o(7,(0,i.optional)()),o(8,(0,i.inject)(p.IControllerSelection)),o(9,(0,i.inject)(p.IControllerPreferredService))],h),t.CommandRegistry=h},72716:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportCommands=void 0;const s=i(n(25251)),a=n(11642),c=n(25251),l=n(58681),u=n(9959),d=n(15925),p=n(62440),h=n(86563),f=n(98729);t.ExportCommands=class{constructor(e,t,n,r,o,i,s,a){this.commandManager=e,this.fileConverter=t,this.applicationShell=n,this.fs=r,this.notebooks=o,this.interactiveProvider=i,this.controllerSelection=s,this.controllerPreferred=a,this.disposables=[]}register(){this.registerCommand(d.Commands.ExportAsPythonScript,((e,t)=>this.export(e,p.ExportFormat.python,void 0,t))),this.registerCommand(d.Commands.ExportToHTML,((e,t,n)=>this.export(e,p.ExportFormat.html,t,n))),this.registerCommand(d.Commands.ExportToPDF,((e,t,n)=>this.export(e,p.ExportFormat.pdf,t,n))),this.registerCommand(d.Commands.Export,((e,t,n)=>this.export(e,void 0,t,n))),this.registerCommand(d.Commands.NativeNotebookExport,(e=>this.nativeNotebookExport(e)))}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommand(e,t){const n=this.commandManager.registerCommand(e,t,this);this.disposables.push(n)}async nativeNotebookExport(e){var t,n,r,o;const i=(0,l.isUri)(e)?e:null===(t=null==e?void 0:e.notebookEditor)||void 0===t?void 0:t.notebookUri,s=i?this.notebooks.notebookDocuments.find((e=>this.fs.arePathsSame(e.uri,i))):null===(n=this.notebooks.activeNotebookEditor)||void 0===n?void 0:n.notebook;if(s){const e=(null===(r=this.controllerSelection.getSelected(s))||void 0===r?void 0:r.connection.interpreter)||(null===(o=this.controllerPreferred.getPreferred(s))||void 0===o?void 0:o.connection.interpreter);return this.export(s,void 0,void 0,e)}return this.export(void 0,void 0,void 0,void 0)}async export(e,t,n,r){var o,i,s,c,l;if(!e){if(!(e=(null===(o=this.notebooks.activeNotebookEditor)||void 0===o?void 0:o.notebook)||(null===(s=null===(i=this.interactiveProvider)||void 0===i?void 0:i.getActiveOrAssociatedInteractiveWindow())||void 0===s?void 0:s.notebookDocument)))return void(0,a.traceInfo)("Export called without a valid exportable document active");r=r||(null===(c=this.controllerSelection.getSelected(e))||void 0===c?void 0:c.connection.interpreter)||(null===(l=this.controllerPreferred.getPreferred(e))||void 0===l?void 0:l.connection.interpreter),t&&(0,u.sendTelemetryEvent)(d.Telemetry.ExportNotebookAsCommand,void 0,{format:t})}if(t)await this.fileConverter.export(t,e,n,r);else{const t=await this.showExportQuickPickMenu(e,n,r).then((e=>e));void 0!==t?t.handler():(0,u.sendTelemetryEvent)(d.Telemetry.ClickedExportNotebookAsQuickPick)}}getExportQuickPickItems(e,t,n){const r=[];return(n||e.metadata&&(0,f.isPythonNotebook)((0,h.getNotebookMetadata)(e)))&&r.push({label:c.DataScience.exportPythonQuickPickLabel(),picked:!0,handler:()=>{(0,u.sendTelemetryEvent)(d.Telemetry.ClickedExportNotebookAsQuickPick,void 0,{format:p.ExportFormat.python}),this.commandManager.executeCommand(d.Commands.ExportAsPythonScript,e,n).then(l.noop,l.noop)}}),r.push({label:c.DataScience.exportHTMLQuickPickLabel(),picked:!1,handler:()=>{(0,u.sendTelemetryEvent)(d.Telemetry.ClickedExportNotebookAsQuickPick,void 0,{format:p.ExportFormat.html}),this.commandManager.executeCommand(d.Commands.ExportToHTML,e,t,n).then(l.noop,l.noop)}},{label:c.DataScience.exportPDFQuickPickLabel(),picked:!1,handler:()=>{(0,u.sendTelemetryEvent)(d.Telemetry.ClickedExportNotebookAsQuickPick,void 0,{format:p.ExportFormat.pdf}),this.commandManager.executeCommand(d.Commands.ExportToPDF,e,t,n).then(l.noop,l.noop)}}),r}async showExportQuickPickMenu(e,t,n){const r=this.getExportQuickPickItems(e,t,n),o={ignoreFocusOut:!1,matchOnDescription:!0,matchOnDetail:!0,placeHolder:s.DataScience.exportAsQuickPickPlaceholder()};return this.applicationShell.showQuickPick(r,o)}}},85303:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImportTracker=t.IImportTracker=void 0;const i=n(86700),s=n(66828),a=n(9959),c=n(10053),l=n(15925);n(8513);const u=n(20397),d=n(42080),p=n(58681),h=n(2161),f=n(96434),g=n(86563),m=n(56297),y=n(9959),v=/^\s*(from (?<fromImport>\w+)(?:\.\w+)* import \w+(?:, \w+)*(?: as \w+)?|import (?<importImport>\w+(?:, \w+)*)(?: as \w+)?)$/,b=(0,l.isTestExecution)();t.IImportTracker=Symbol("IImportTracker");let S=class{constructor(e,t,n){this.vscNotebook=e,this.workspace=n,this.pendingChecks=new m.ResourceMap,this.disposables=[],this.sentMatches=new Set,t.push(this),this.vscNotebook.onDidOpenNotebookDocument((e=>this.onOpenedOrClosedNotebookDocument(e,"onOpenCloseOrSave")),this.disposables),this.vscNotebook.onDidCloseNotebookDocument((e=>this.onOpenedOrClosedNotebookDocument(e,"onOpenCloseOrSave")),this.disposables),this.vscNotebook.onDidSaveNotebookDocument((e=>this.onOpenedOrClosedNotebookDocument(e,"onOpenCloseOrSave")),this.disposables),this.vscNotebook.onDidChangeNotebookCellExecutionState((e=>{e.state!=s.NotebookCellExecutionState.Pending||this.isTelemetryDisabled||this.checkNotebookCell(e.cell,"onExecution").ignoreErrors()}),this,t)}get isTelemetryDisabled(){return(0,y.isTelemetryDisabled)(this.workspace)}dispose(){(0,u.disposeAllDisposables)(this.disposables),this.pendingChecks.clear()}async activate(){this.vscNotebook.notebookDocuments.forEach((e=>this.checkNotebookDocument(e,"onOpenCloseOrSave")))}getDocumentLines(e){const t=[];for(let n=0;n<Math.min(1e3,e.lineCount);n++){const r=e.lineAt(n);r.isEmptyOrWhitespace||t.push(r.text.trim())}return t}onOpenedOrClosedNotebookDocument(e,t){(0,g.isJupyterNotebook)(e)&&!this.isTelemetryDisabled&&this.scheduleCheck(e.uri,this.checkNotebookDocument.bind(this,e,t))}scheduleCheck(e,t){const n=this.pendingChecks.get(e);n&&(clearTimeout(n),this.pendingChecks.delete(e)),b?t():this.pendingChecks.set(e,setTimeout(t,5e3))}async checkNotebookDocument(e,t){(0,g.isJupyterNotebook)(e)&&!this.isTelemetryDisabled&&await Promise.all(e.getCells().map((async e=>this.checkNotebookCell(e,t))))}async checkNotebookCell(e,t){if((0,g.isJupyterNotebook)(e.notebook)&&e.kind===s.NotebookCellKind.Code&&e.document.languageId===l.PYTHON_LANGUAGE)try{const n=e.notebook.notebookType===l.JupyterNotebookView?"notebook":"interactive";await this.sendTelemetryForImports(this.getDocumentLines(e.document),n,t)}catch(e){if(!l.isCI)throw e}}lookForImports(e){const t=[];try{for(const n of e){if(!n.includes("import")&&!n.includes("from"))continue;const e=n?v.exec(n):null;null!==e&&void 0!==e.groups&&(void 0!==e.groups.fromImport?t.push(e.groups.fromImport):void 0!==e.groups.importImport&&t.push(...e.groups.importImport.split(",").map((e=>e.trim()))))}}catch(e){(0,p.noop)()}return t}async sendTelemetryForImports(e,t,n){await Promise.all(this.lookForImports(e).map((async e=>{const r=`${e}_${t||""}_${n}`;if(this.sentMatches.has(r))return;this.sentMatches.add(r);const o=await(0,f.getTelemetrySafeHashedString)(e);(0,a.sendTelemetryEvent)(h.EventName.HASHED_PACKAGE_NAME,void 0,{hashedNamev2:o,resourceType:t,when:n})})))}};S=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IVSCodeNotebook)),o(1,(0,i.inject)(d.IDisposableRegistry)),o(2,(0,i.inject)(c.IWorkspaceService))],S),t.ImportTracker=S},27011:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExporter=void 0;const i=n(86700),s=n(66828),a=n(49691),c=n(10053),l=n(11642),u=n(83599),d=n(42080),p=n(86563),h=n(25251),f=n(15925),g=n(94433),m=n(13730),y=n(58681),v=n(90541);let b=class{constructor(e,t,n,r,o){this.jupyterExecution=e,this.configService=t,this.fileSystem=n,this.applicationShell=r,this.errorHandler=o,this.pruneCells=(e,t)=>e.map((e=>this.pruneCell(e,t))),this.pruneCell=(e,t)=>{const n=(0,p.pruneCell)({...e.data});return n.source=this.pruneSource(e.data.source,t),n},this.pruneSource=(e,t)=>{if(Array.isArray(e)&&e.length>0){if(t.isCell(e[0]))return e.slice(1)}else{const n=e.toString().split("\n").map((e=>`${e}\n`));if(n.length>0&&t.isCell(n[0]))return n.slice(1)}return e},this.extractPythonMainVersion=async()=>{const e=await this.jupyterExecution.getUsableJupyterPython();return e&&e.version?e.version.major:3}}dispose(){}async exportToFile(e,t,n=!0){const r=await this.translateToNotebook(e);try{const e=JSON.stringify(r);if(await this.fileSystem.writeFile(s.Uri.file(t),e),!n)return;const o=h.DataScience.exportOpenQuestion1();this.applicationShell.showInformationMessage(h.DataScience.exportDialogComplete().format(t),o).then((async e=>{try{e===o&&await(0,m.openAndShowNotebook)(s.Uri.file(t))}catch(e){await this.errorHandler.handleError(e)}}),y.noop)}catch(e){(0,l.traceError)("Error in exporting notebook file"),this.applicationShell.showInformationMessage(h.DataScience.exportDialogFailed().format(e)).then(y.noop,y.noop)}}async translateToNotebook(e,t){const n=await this.extractPythonMainVersion(),r={language_info:{codemirror_mode:{name:"ipython",version:n},file_extension:".py",mimetype:"text/x-python",name:"python",nbconvert_exporter:"python",pygments_lexer:`ipython${n}`,version:n},orig_nbformat:f.defaultNotebookFormat.major,kernelspec:t},o=new a.CellMatcher(this.configService.getSettings());return{cells:this.pruneCells(e,o),nbformat:f.defaultNotebookFormat.major,nbformat_minor:f.defaultNotebookFormat.minor,metadata:r}}};b=r([(0,i.injectable)(),o(0,(0,i.inject)(g.IJupyterExecution)),o(1,(0,i.inject)(d.IConfigurationService)),o(2,(0,i.inject)(u.IFileSystem)),o(3,(0,i.inject)(c.IApplicationShell)),o(4,(0,i.inject)(v.IDataScienceErrorHandler))],b),t.JupyterExporter=b},73584:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.mapJupyterKind=void 0,function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.Snippet=25]="Snippet"}(n||(n={})),t.mapJupyterKind=new Map([["method",n.Method],["function",n.Function],["constructor",n.Constructor],["field",n.Field],["variable",n.Variable],["class",n.Class],["struct",n.Struct],["interface",n.Interface],["module",n.Module],["property",n.Property],["event",n.Event],["operator",n.Operator],["unit",n.Unit],["value",n.Value],["constant",n.Constant],["enum",n.Enum],["enumMember",n.EnumMember],["keyword",n.Keyword],["text",n.Text],["color",n.Color],["file",n.File],["reference",n.Reference],["customcolor",n.Customcolor],["folder",n.Folder],["typeParameter",n.TypeParameter],["snippet",n.Snippet],["<unknown>",n.Field]])},43793:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCellBangInstallDiagnosticsProvider=void 0;const i=n(86700),s=n(66828),a=n(10053),c=n(15925),l=n(20397),u=n(42080),d=n(25251),p=n(15925),h=n(86563),f=d.DataScience.percentPipCondaInstallInsteadOfBang().format("pip"),g=d.DataScience.percentPipCondaInstallInsteadOfBang().format("conda"),m=d.DataScience.matplotlibWidgetInsteadOfOther(),y="Jupyter";let v=class{constructor(e,t,n){this.notebooks=e,this.documents=n,this.disposables=[],this.notebooksProcessed=new WeakMap,this.cellsToProcess=new Set,this.problems=s.languages.createDiagnosticCollection(y),this.disposables.push(this.problems),t.push(this)}dispose(){(0,l.disposeAllDisposables)(this.disposables),this.problems.dispose()}activate(){this.disposables.push(s.languages.registerCodeActionsProvider(c.PYTHON_LANGUAGE,this)),this.disposables.push(s.languages.registerHoverProvider(c.PYTHON_LANGUAGE,this)),this.documents.onDidChangeTextDocument((e=>{const t=(0,h.getAssociatedJupyterNotebook)(e.document);if(!t)return;const n=t.getCells().find((t=>t.document===e.document));n&&this.analyzeNotebookCell(n)}),this,this.disposables),this.notebooks.onDidCloseNotebookDocument((e=>{this.problems.delete(e.uri);const t=this.notebooksProcessed.get(e);this.notebooksProcessed.delete(e),t&&t.forEach(((e,t)=>this.problems.delete(s.Uri.parse(t))))}),this,this.disposables),this.notebooks.onDidOpenNotebookDocument((e=>this.analyzeNotebook(e)),this,this.disposables),s.workspace.onDidChangeNotebookDocument((e=>{const t=this.notebooksProcessed.get(e.notebook);e.contentChanges.forEach((e=>{e.removedCells.forEach((e=>{null==t||t.delete(e.document.uri.toString())})),e.addedCells.forEach((e=>this.queueCellForProcessing(e)))})),e.cellChanges.forEach((e=>this.queueCellForProcessing(e.cell)))}),this,this.disposables),this.notebooks.notebookDocuments.map((e=>this.analyzeNotebook(e)))}provideHover(e,t,n){const r=(0,h.getAssociatedJupyterNotebook)(e);if((null==r?void 0:r.notebookType)!==p.JupyterNotebookView)return;const o=this.problems.get(e.uri);if(!o)return;const i=o.find((e=>e.message===f||e.message===g));if(!i||!i.range.contains(t))return;const a=i.message===f?"pip":"conda";return new s.Hover(d.DataScience.pipCondaInstallHoverWarning().format(a,"https://aka.ms/jupyterCellMagicBangInstall"),i.range)}provideCodeActions(e,t,n,r){if(!(0,h.getAssociatedJupyterNotebook)(e))return[];const o=[];return n.diagnostics.forEach((t=>{switch(t.message){case f:o.push(this.createReplaceCodeAction(e,"pip",t));break;case g:o.push(this.createReplaceCodeAction(e,"conda",t));break;case m:o.push(this.createGotoWikiAction(e,s.Uri.parse("https://aka.ms/vscodejupytermatplotlibwidget"),t))}})),o}createReplaceCodeAction(e,t,n){const r=new s.CodeAction(d.DataScience.replacePipCondaInstallCodeAction().format(t),s.CodeActionKind.QuickFix);r.isPreferred=!0,r.diagnostics=[n];const o=new s.WorkspaceEdit;return o.replace(e.uri,new s.Range(n.range.start,new s.Position(n.range.start.line,n.range.start.character+1)),"%"),r.edit=o,r}createGotoWikiAction(e,t,n){const r=new s.CodeAction(d.DataScience.matplotlibWidgetCodeActionTitle(),s.CodeActionKind.QuickFix);return r.isPreferred=!0,r.diagnostics=[n],r.command={title:d.DataScience.matplotlibWidgetCodeActionTitle(),command:"vscode.open",arguments:[t]},r}analyzeNotebook(e){e.notebookType===p.JupyterNotebookView&&e.getCells().forEach(((e,t)=>t<100?this.queueCellForProcessing(e):void 0))}queueCellForProcessing(e){this.cellsToProcess.add(e),this.analyzeNotebookCells()}analyzeNotebookCells(){if(0===this.cellsToProcess.size)return;const e=this.cellsToProcess.values().next().value;this.cellsToProcess.delete(e),this.analyzeNotebookCell(e),setTimeout((()=>this.analyzeNotebookCells()),0)}analyzeNotebookCell(e){var t;if(e.kind!==s.NotebookCellKind.Code||e.document.languageId!==c.PYTHON_LANGUAGE||e.notebook.isClosed||e.document.isClosed)return;if((null===(t=this.notebooksProcessed.get(e.notebook))||void 0===t?void 0:t.get(e.document.uri.toString()))===e.document.version)return;this.problems.delete(e.document.uri);const n=this.notebooksProcessed.get(e.notebook)||new Map;n.set(e.document.uri.toString(),e.document.version),this.notebooksProcessed.set(e.notebook,n);for(let t=0;t<Math.min(e.document.lineCount,50);t++){const n=e.document.lineAt(t),r=n.text;if(r.trim().startsWith("!pip install")){const t=r.indexOf("!"),o=r.indexOf("l"),i=new s.Range(n.lineNumber,t,n.lineNumber,o+2);this.problems.set(e.document.uri,[{message:f,range:i,severity:s.DiagnosticSeverity.Error,source:y}])}else if(r.trim().startsWith("!conda install")){const t=r.indexOf("!"),o=r.indexOf("l"),i=new s.Range(n.lineNumber,t,n.lineNumber,o+2);this.problems.set(e.document.uri,[{message:g,range:i,severity:s.DiagnosticSeverity.Error,source:y}])}else if(r.trim().startsWith("%matplotlib")&&!r.trim().endsWith("widget")&&!r.trim().endsWith("inline")){const t=r.indexOf("%"),o=r.length,i=new s.Range(n.lineNumber,t,n.lineNumber,o);this.problems.set(e.document.uri,[{message:m,range:i,severity:s.DiagnosticSeverity.Warning,source:y}])}}}};v=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IVSCodeNotebook)),o(1,(0,i.inject)(u.IDisposableRegistry)),o(2,(0,i.inject)(a.IDocumentManager))],v),t.NotebookCellBangInstallDiagnosticsProvider=v},97800:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.filterCompletions=t.generateSortString=t.PythonKernelCompletionProvider=t.setIntellisenseTimeout=void 0;const i=n(86700),s=n(66828),a=n(6491),c=n(11642),l=n(35412),u=n(42080),d=n(43138),p=n(58681),h=n(11386),f=n(94062),g=n(85249),m=n(73584),y=n(15925),v=n(86563);let b=y.Settings.IntellisenseTimeout;t.setIntellisenseTimeout=function(e){b=e};let S=class{constructor(e,t,n,r,o){this.kernelProvider=e,this.notebookEditorProvider=t,this.notebookCompletionProvider=n,this.allowStringFilter=!1;const i=r.getSettings().pythonCompletionTriggerCharacters;this.allowStringFilter=null!=i&&(i.includes("'")||i.includes('"')),s.workspace.onDidChangeConfiguration((e=>{if(e.affectsConfiguration("jupyter.pythonCompletionTriggerCharacters")){const e=r.getSettings().pythonCompletionTriggerCharacters;this.allowStringFilter=null!=e&&(e.includes("'")||e.includes('"'))}}),this,o)}async provideCompletionItems(e,t,n,r){if(!(0,p.isNotebookCell)(e))return[];const o=this.notebookEditorProvider.findAssociatedNotebookDocument(e.uri);if(!o)return(0,c.traceError)(`Notebook not found for Cell ${(0,l.getDisplayPath)(e.uri)}`),[];const i=this.kernelProvider.get(o);if(!i||!i.session)return(0,c.traceError)(`Live Notebook not available for ${(0,l.getDisplayPath)(o.uri)}`),[];(0,c.traceInfoIfCI)(`Notebook completion request for ${e.getText()}, ${e.offsetAt(t)}`);const[a,u]=await Promise.all([(0,d.waitForPromise)(this.getJupyterCompletion(i.session,e.getText(),e.offsetAt(t),n),b),(0,d.waitForPromise)(this.getPylanceCompletions(e,t,r,n),b)]);if(!a)return(0,c.traceInfoIfCI)("Notebook completions not found."),[];(0,c.traceInfoIfCI)(`Completions found, filtering the list: ${JSON.stringify(a)}.`);let h=[];const f=a.metadata?a.metadata._jupyter_types_experimental:[];return h=Array.isArray(f)&&f.length>=a.matches.length&&f.every((e=>"number"==typeof e.start&&"number"==typeof e.end&&"string"==typeof e.text))?f.map(((t,n)=>({label:t.text,itemText:t.text,range:new s.Range(e.positionAt(t.start),e.positionAt(t.end)),kind:t.type?m.mapJupyterKind.get(t.type):s.CompletionItemKind.Field,sortText:w(n)}))):a.matches.map(((e,t)=>({label:e,itemText:e,sortText:w(t)}))),C(r.triggerCharacter,this.allowStringFilter,h,u,e,t)}async getJupyterCompletion(e,t,n,r){const o=new h.StopWatch;if("busy"===e.status&&!(0,y.isTestExecution)())return{matches:[],cursor:{start:0,end:0},metadata:{}};const i=await Promise.race([e.requestComplete({code:t,cursor_pos:n}),(0,a.createPromiseFromCancellation)({defaultValue:void 0,cancelAction:"resolve",token:r})]);return(0,c.traceInfoIfCI)(`Got jupyter notebook completions. Is cancel? ${null==r?void 0:r.isCancellationRequested}: ${i?JSON.stringify(i):"empty"}`),(0,c.traceVerbose)(`Jupyter completion time: ${o.elapsedTime}`),i&&i.content&&"matches"in i.content?{matches:i.content.matches,cursor:{start:i.content.cursor_start,end:i.content.cursor_end},metadata:i.content.metadata}:{matches:[],cursor:{start:0,end:0},metadata:{}}}async getPylanceCompletions(e,t,n,r){const o=(0,v.getAssociatedJupyterNotebook)(e);if(o&&this.notebookCompletionProvider)return this.notebookCompletionProvider.getCompletions(o,e,t,n,r)}};function w(e){return e>=300?"ZZZZZZZ":e<=25?`A${String.fromCharCode(65+e)}`:`${String.fromCharCode(65+Math.ceil(e/25))}${String.fromCharCode(65+e%25)}`}function C(e,t,n,r,o,i){let a=n;const l=0===i.character?void 0:new s.Range(i.line,i.character-1,i.line,i.character),u="."===(l?o.getText(l):void 0),d=o.getWordRangeAtPosition(u||"."===e?new s.Position(i.line,i.character-1):i),p=d&&l?d.union(l):void 0,h=o.lineAt(i.line).text,f=p?o.getText(p):h,g=f.endsWith(".")||u,m=t&&("'"==e||'"'==e||function(e,t){const n=e.indexOf('"'),r=e.indexOf("'"),o=e.lastIndexOf('"'),i=e.lastIndexOf("'"),s=n>=0?n:r,a=o>=0?o:i;return s>=0&&t.character>s&&t.character<=a}(h,i));if((0,c.traceInfoIfCI)(`Jupyter completions filtering applied: ${m} on ${h}`),a=a.map(((e,t)=>{if(e.itemText.startsWith("%")||e.itemText.startsWith("!"))return{...e,sortText:`ZZZ${e.sortText}`};if(m)return e;const n=f?e.itemText.indexOf(f):-1;let r,o,i;if(f&&g&&e.itemText.includes(f)){r=e.itemText.substring(e.itemText.indexOf(f)+(g?f.length:0)),o=e.itemText.substring(e.itemText.indexOf(f)+f.length);const t=("string"==typeof e.label?e.label.length:e.label.label.length)-o.length;i=e.range&&"start"in e.range?new s.Range(new s.Position(e.range.start.line,e.range.start.character+t),e.range.end):e.range}if(!o&&n>0){r=e.itemText.substring(e.itemText.indexOf(f)+(g?f.length:0)),o=e.itemText.substring(e.itemText.indexOf(f)+f.length);const t=("string"==typeof e.label?e.label.length:e.label.label.length)-o.length;i=e.range&&"start"in e.range?new s.Range(new s.Position(e.range.start.line,e.range.start.character+t),e.range.end):e.range}return r&&o&&i&&(e.label=r,e.itemText=o,e.insertText=o,e.filterText=g?`.${o}`:o,e.range=i,e.sortText=w(t)),e})),a=m?a.map((e=>e.itemText.endsWith("/")?{...e,command:{command:"editor.action.triggerSuggest",title:""}}:(e.itemText.includes(" ")&&(e.itemText=e.itemText.replace(/\\ /g," "),"string"==typeof e.label?e.label=e.label.replace(/\\ /g," "):e.label.label=e.label.label.replace(/\\ /g," ")),e))):a.filter((e=>!e.itemText.includes(".")&&!e.itemText.endsWith("/"))),r){const e=new Set(r.map((e=>e.label.toString())));a=a.filter((t=>!e.has(t.itemText)))}return(0,c.traceInfoIfCI)(`Jupyter completions for ${f} at pos ${i.line}:${i.character} with trigger: ${e}\n   ${n.map((e=>e.label)).join(",")}`),(0,c.traceInfoIfCI)(`Jupyter results for ${f} at pos ${i.line}:${i.character} with trigger: ${e}\n   ${a.map((e=>e.label)).join(",")}`),a}S=r([(0,i.injectable)(),o(0,(0,i.inject)(f.IKernelProvider)),o(1,(0,i.inject)(g.INotebookEditorProvider)),o(2,(0,i.inject)(g.INotebookCompletionProvider)),o(2,(0,i.optional)()),o(3,(0,i.inject)(u.IConfigurationService)),o(4,(0,i.inject)(u.IDisposableRegistry))],S),t.PythonKernelCompletionProvider=S,t.generateSortString=w,t.filterCompletions=C},73974:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonKernelCompletionProviderRegistration=void 0;const i=n(86700),s=n(66828),a=n(15925),c=n(42080),l=n(97800),u=[".","%"];let d=class{constructor(e,t,n){this.disposables=e,this.config=t,this.completionProvider=n}async activate(){var e;let t=(null===(e=this.config.getSettings().pythonCompletionTriggerCharacters)||void 0===e?void 0:e.split(""))||u;(t.includes('"')||t.includes("'"))&&(t=[...t,"/"]),this.registerCompletionItemProvider(t)}registerCompletionItemProvider(e){const t=s.languages.registerCompletionItemProvider(a.NOTEBOOK_SELECTOR,this.completionProvider,...e);this.disposables.push(t)}};d=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IDisposableRegistry)),o(1,(0,i.inject)(c.IConfigurationService)),o(2,(0,i.inject)(l.PythonKernelCompletionProvider))],d),t.PythonKernelCompletionProviderRegistration=d},65108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(52064),o=n(43793),i=n(97800),s=n(73974);t.registerTypes=function(e,t){e.addSingleton(r.IExtensionSyncActivationService,o.NotebookCellBangInstallDiagnosticsProvider),e.addSingleton(i.PythonKernelCompletionProvider,i.PythonKernelCompletionProvider),e.addSingleton(r.IExtensionSingleActivationService,s.PythonKernelCompletionProviderRegistration)}},66646:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonExtensionRestartNotification=void 0;const c=n(86700),l=s(n(25251)),u=n(77886),d=n(10053),p=n(42080),h=n(58681),f=n(94062);let g=class{constructor(e,t,n,r){this.extensionChecker=e,this.disposables=t,this.applicationShell=n,this.kernelProvider=r}activate(){this.extensionChecker.onPythonExtensionInstallationStatusChanged(this.onPythonExtensionInstallationStatusChanged,this,this.disposables)}async onPythonExtensionInstallationStatusChanged(e){"installed"===e&&this.anyKernelsAreActive()&&this.applicationShell.showInformationMessage(l.DataScience.pythonExtensionInstalled(),l.Common.ok()).then(h.noop,h.noop)}anyKernelsAreActive(){return this.kernelProvider.kernels.length>0}};g=i([(0,c.injectable)(),a(0,(0,c.inject)(u.IPythonExtensionChecker)),a(1,(0,c.inject)(p.IDisposableRegistry)),a(2,(0,c.inject)(d.IApplicationShell)),a(3,(0,c.inject)(f.IKernelProvider))],g),t.PythonExtensionRestartNotification=g},14388:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionSideRenderer=t.IExtensionSideRenderer=void 0;const a=n(86700),c=s(n(66828)),l=n(15925),u=n(25251),d=n(58681);t.IExtensionSideRenderer=Symbol("IExtensionSideRenderer");let p=class{constructor(){this.disposables=[],this.errorRendererMessage=c.notebooks.createRendererMessaging("jupyter-error-renderer"),this.disposables.push(this.errorRendererMessage.onDidReceiveMessage((e=>{2===e.message.type&&this.loadLoc(e.editor)}))),this.errorRendererMessage.postMessage({type:1}).then(d.noop,d.noop)}loadLoc(e){const t=(0,l.isTestExecution)()?"{}":(0,u.getCollectionJSON)();this.errorRendererMessage.postMessage({type:2,data:t},e).then(d.noop,d.noop)}dispose(){this.disposables.forEach((e=>e.dispose()))}};p=i([(0,a.injectable)()],p),t.ExtensionSideRenderer=p},63521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(52064),o=n(29591),i=n(14388),s=n(4188),a=n(73381),c=n(94433),l=n(27011),u=n(49612),d=n(34383),p=n(81827),h=n(46498),f=n(71263),g=n(65108),m=n(66646),y=n(85303);t.registerTypes=function(e,t,n){t.addSingleton(r.IExtensionSingleActivationService,a.GlobalActivation),t.addSingleton(r.IExtensionSingleActivationService,s.ActiveEditorContextService),t.addSingleton(r.IExtensionSingleActivationService,o.CommandRegistry),t.addSingletonInstance(i.IExtensionSideRenderer,new i.ExtensionSideRenderer),t.addSingleton(r.IExtensionSingleActivationService,y.ImportTracker),t.add(r.IExtensionActivationManager,h.ExtensionActivationManager),t.add(c.INotebookExporter,l.JupyterExporter),t.addSingleton(d.IExportedKernelServiceFactory,u.JupyterKernelServiceFactory),t.addSingleton(p.ApiAccessService,p.ApiAccessService),t.addSingleton(r.IExtensionSyncActivationService,m.PythonExtensionRestartNotification),(0,g.registerTypes)(t,n),(0,f.registerTypes)(e,t,n)}},9959:function(e,t,n){"use strict";var r,o,i,s,a,c,l,u,d,p,h,f,g,m,y,v,b,S,w,C,k,_,I,E,P,D,T,x,j,M,N,O,A,R,L,F,U,K,W,V,B,H,J,q,$,G,z,Y,Q,Z,X,ee,te,ne,re,oe,ie,se,ae,ce,le,ue,de,pe,he,fe,ge,me,ye,ve,be,Se,we,Ce,ke,_e,Ie,Ee,Pe,De,Te,xe,je,Me,Ne,Oe,Ae,Re,Le,Fe,Ue,Ke,We,Ve,Be,He,Je,qe,$e,Ge,ze,Ye,Qe,Ze,Xe,et,tt,nt,rt,ot,it,st,at,ct,lt,ut,dt,pt,ht,ft,gt,mt,yt,vt,bt,St,wt,Ct,kt,_t,It,Et,Pt,Dt,Tt,xt,jt,Mt,Nt,Ot,At,Rt,Lt,Ft,Ut,Kt,Wt,Vt,Bt,Ht,Jt,qt,$t,Gt,zt,Yt,Qt,Zt,Xt,en,tn,nn,rn,on,sn,an,cn,ln,un,dn,pn,hn=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),fn=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||hn(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.IEventNamePropertyMapping=t.CommonPropertyAndMeasureTypeNames=t.CommonProperties=void 0;const gn=n(15925),mn=n(2161),yn=n(3445);fn(n(68125),t),t.CommonProperties={duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0},failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isamlcompute:{classification:"SystemMetaData",purpose:"FeatureInsight",comment:"Whether this is an AML compute instance. Common to all events."},isInsiderExtension:{classification:"SystemMetaData",purpose:"FeatureInsight",comment:"Whether this is the Insider version of the Jupyter extension or not. Common to all events."},isPythonExtensionInstalled:{classification:"SystemMetaData",purpose:"FeatureInsight",comment:"Whether Python extension is installed or not. Common to all events."},rawKernelSupported:{classification:"SystemMetaData",purpose:"FeatureInsight",comment:"Whether the raw kernel is supported or not. Common to all events."}},t.CommonPropertyAndMeasureTypeNames=["ResourceSpecificTelemetryProperties","DurationMeasurement","ResourceTypeTelemetryProperty","TelemetryErrorProperties"],t.IEventNamePropertyMapping=class{constructor(){this[r]={owner:"donjayamanne",feature:"N/A",source:"N/A",measures:{totalActivateTime:{classification:"SystemMetaData",purpose:"PerformanceAndHealth",isMeasurement:!0},workspaceFolderCount:{classification:"SystemMetaData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[o]={owner:"donjayamanne",feature:"N/A",source:"N/A"},this[i]={owner:"donjayamanne",feature:"N/A",source:"N/A"},this[s]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{hashedNamev2:{classification:"SystemMetaData",purpose:"FeatureInsight"},when:{classification:"SystemMetaData",purpose:"FeatureInsight"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}}},this[a]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{firstTime:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[c]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{firstTime:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[l]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{kind:{classification:"SystemMetaData",purpose:"FeatureInsight"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[u]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{mimeType:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},when:{classification:"SystemMetaData",purpose:"FeatureInsight"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}}},this[d]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{envType:{classification:"SystemMetaData",purpose:"FeatureInsight"},failed:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},reason:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},source:{classification:"SystemMetaData",purpose:"FeatureInsight"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[p]={owner:"IanMatthewHuff",source:"User Action",feature:["DataFrameViewer","VariableViewer"]},this[h]={owner:"IanMatthewHuff",source:"N/A",feature:["DataFrameViewer","VariableViewer"]},this[f]={owner:"IanMatthewHuff",source:"User Action",feature:["DataFrameViewer","VariableViewer"]},this[g]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[m]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[y]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],properties:{failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"}}},this[v]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[b]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],properties:{failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"}}},this[S]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[w]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[C]={owner:"amunger",feature:"N/A",source:"N/A",properties:{settingsJson:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[k]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[_]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[I]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[E]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[P]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[D]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],properties:{failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},name:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},language:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"}}},this[T]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[x]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[j]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],properties:{actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[M]={owner:"IanMatthewHuff",feature:["Import-Export","InteractiveWindow"],source:"User Action"},this[N]={owner:"IanMatthewHuff",feature:["Import-Export","InteractiveWindow"],source:"User Action"},this[O]={owner:"IanMatthewHuff",feature:["Import-Export","InteractiveWindow"],source:"User Action",properties:{format:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[A]={owner:"IanMatthewHuff",feature:["Import-Export"],source:"N/A",properties:{format:{classification:"SystemMetaData",purpose:"FeatureInsight"},cancelled:{classification:"SystemMetaData",purpose:"FeatureInsight"},successful:{classification:"SystemMetaData",purpose:"FeatureInsight"},opened:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[R]={owner:"IanMatthewHuff",feature:["Import-Export"],source:"User Action",properties:{scope:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[L]={owner:"IanMatthewHuff",feature:["Import-Export"],source:"User Action",properties:{format:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[F]={owner:"IanMatthewHuff",feature:["Import-Export"],source:"N/A",properties:{format:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[U]={owner:"donjayamanne",feature:"N/A",source:"N/A"},this[K]={owner:"donjayamanne",feature:"N/A",source:"N/A"},this[W]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"},this[V]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"},this[B]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"},this[H]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"},this[J]={owner:"IanMatthewHuff",feature:"N/A",source:"N/A",measures:{nbformat:{classification:"PublicNonPersonalData",isMeasurement:!0,purpose:"FeatureInsight"},nbformat_minor:{classification:"PublicNonPersonalData",isMeasurement:!0,purpose:"FeatureInsight"}}},this[q]={owner:"IanMatthewHuff",feature:["PlotViewer"],source:"User Action"},this[$]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[G]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[z]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[Y]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[Q]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[Z]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[X]={owner:"amunger",feature:["InteractiveWindow"],source:"User Action"},this[ee]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A"},this[te]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A"},this[ne]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[re]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[oe]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[ie]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[se]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[ae]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[ce]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[le]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[ue]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[de]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[pe]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[he]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[fe]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[ge]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[me]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[ye]={owner:"donjayamanne",feature:"N/A",source:"N/A"},this[ve]={owner:"donjayamanne",feature:"N/A",source:"N/A"},this[be]={owner:"IanMatthewHuff",source:"N/A",feature:["KernelPicker"],measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Se]={owner:"IanMatthewHuff",source:"N/A",feature:["KernelPicker"],measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[we]={owner:"IanMatthewHuff",source:"N/A",feature:["KernelPicker"],properties:{actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}}},this[Ce]={owner:"IanMatthewHuff",source:"N/A",feature:["KernelPicker"],properties:{actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}}},this[ke]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[_e]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[Ie]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"},this[Ee]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[Pe]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"},this[De]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"User Action",properties:{action:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Te]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"User Action",properties:{action:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[xe]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"User Action",properties:{action:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[je]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{action:{classification:"SystemMetaData",purpose:"FeatureInsight"},isModulePresent:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},moduleName:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},pythonEnvType:{classification:"SystemMetaData",purpose:"FeatureInsight"},resourceHash:{classification:"SystemMetaData",purpose:"FeatureInsight"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Me]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"N/A",properties:{commandSource:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Ne]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Oe]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"N/A",properties:{azure:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Ae]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A"},this[Re]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"User Action",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Le]={owner:"IanMatthewHuff",source:"N/A",feature:["DataFrameViewer"],measures:{rows:{classification:"PublicNonPersonalData",purpose:"FeatureInsight",isMeasurement:!0},columns:{classification:"PublicNonPersonalData",purpose:"FeatureInsight",isMeasurement:!0}}},this[Fe]={owner:"IanMatthewHuff",source:"N/A",feature:["DataFrameViewer"],measures:{rowsTimer:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"}}},this[Ue]={owner:"IanMatthewHuff",feature:["DataFrameViewer","VariableViewer"],source:"N/A"},this[Ke]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"User Action"},this[We]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A"},this[Ve]={owner:"donjayamanne",feature:"N/A",source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Be]={owner:"donjayamanne",feature:"N/A",source:"N/A"},this[He]={owner:"IanMatthewHuff",feature:["VariableViewer"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Je]={owner:"IanMatthewHuff",feature:["VariableViewer"],source:"N/A",measures:{variableCount:{classification:"PublicNonPersonalData",purpose:"FeatureInsight",isMeasurement:!0}}},this[qe]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[$e]={owner:"IanMatthewHuff",feature:"N/A",source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Ge]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[ze]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[Ye]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],properties:{result:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Qe]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[Ze]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],properties:{kind:{classification:"SystemMetaData",purpose:"FeatureInsight"},language:{classification:"SystemMetaData",purpose:"FeatureInsight"},usesShell:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Xe]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"]},this[et]={owner:"donjayamanne",feature:"N/A",source:"N/A",tags:["KernelStartup"],properties:{failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[tt]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[nt]={owner:"IanMatthewHuff",feature:["InteractiveWindow","Notebook","KernelPicker"],source:"N/A",properties:{resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},hasActiveInterpreter:{classification:"SystemMetaData",purpose:"FeatureInsight"},language:{classification:"SystemMetaData",purpose:"FeatureInsight"},result:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[rt]={owner:"donjayamanne",feature:"N/A",source:"N/A"},this[ot]={owner:"amunger",feature:["InteractiveWindow"],source:"N/A"},this[it]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A",properties:{cdnSearched:{classification:"SystemMetaData",purpose:"FeatureInsight"},hashedName:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},source:{classification:"SystemMetaData",purpose:"FeatureInsight"},moduleName:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},moduleVersion:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"}}},this[st]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A",properties:{type:{classification:"SystemMetaData",purpose:"FeatureInsight"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[at]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A"},this[ct]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A",properties:{moduleHash:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},moduleVersion:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"}}},this[lt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A",properties:{timedout:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},isOnline:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},moduleHash:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},moduleVersion:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"}}},this[ut]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A",properties:{moduleHash:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},moduleVersion:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"}}},this[dt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A"},this[pt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A",properties:{selection:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"}}},this[ht]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A",measures:{totalOverheadInMs:{classification:"SystemMetaData",purpose:"PerformanceAndHealth",isMeasurement:!0},numberOfMessagesWaitedOn:{classification:"SystemMetaData",purpose:"PerformanceAndHealth",isMeasurement:!0},averageWaitTime:{classification:"SystemMetaData",purpose:"PerformanceAndHealth",isMeasurement:!0},numberOfRegisteredHooks:{classification:"SystemMetaData",purpose:"FeatureInsight",isMeasurement:!0}}},this[ft]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A"},this[gt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],tags:["Widgets"],source:"N/A",properties:{msg_type:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"}}},this[mt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",tags:["KernelStartup"],measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0},attempts:{classification:"SystemMetaData",purpose:"PerformanceAndHealth",isMeasurement:!0}},properties:{actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},timedout:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"}}},this[yt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",tags:["KernelStartup"],measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[vt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"User Action",tags:["Cell Execution"],properties:{actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"}}},this[bt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",tags:["KernelStartup"],properties:{actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"}}},this[St]={owner:"IanMatthewHuff",feature:["Notebook","InteractiveWindow"],source:"N/A",properties:{actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}}},this[wt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"User Action",properties:{result:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Ct]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"User Action",properties:{resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}},measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[kt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",properties:{resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}},measures:{reason:{classification:"SystemMetaData",isMeasurement:!0,purpose:"PerformanceAndHealth"}}},this[_t]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",properties:{exitReason:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}},measures:{exitCode:{classification:"CallstackOrException",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[It]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",properties:{isRequestToShutdownRestartSession:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},stacktrace:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}}},this[Et]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",properties:{stacktrace:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}}},this[Pt]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[Dt]={owner:"donjayamanne",feature:["KernelPicker"],source:"N/A",measures:{kernelSpecCount:{classification:"SystemMetaData",purpose:"FeatureInsight",isMeasurement:!0},kernelInterpreterCount:{classification:"SystemMetaData",purpose:"FeatureInsight",isMeasurement:!0},kernelLiveCount:{classification:"SystemMetaData",purpose:"FeatureInsight",isMeasurement:!0},localKernelSpecCount:{classification:"SystemMetaData",purpose:"PerformanceAndHealth",isMeasurement:!0},remoteKernelSpecCount:{classification:"SystemMetaData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Tt]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",properties:{outputType:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"}}},this[xt]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"N/A",measures:{count:{classification:"SystemMetaData",purpose:"FeatureInsight",isMeasurement:!0}}},this[jt]={owner:"IanMatthewHuff",feature:["InteractiveWindow"],tags:["IntelliSense"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}},properties:{isResultNull:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Mt]={owner:"IanMatthewHuff",feature:["VariableViewer"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Nt]={owner:"IanMatthewHuff",feature:["VariableViewer"],source:"N/A"},this[Ot]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[At]={owner:"IanMatthewHuff",feature:["PlotViewer"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[Rt]={owner:"amunger",feature:"N/A",source:"N/A",properties:{command:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Lt]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"User Action",properties:{newState:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Ft]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A",measures:{numberOfDimensions:{classification:"SystemMetaData",purpose:"FeatureInsight",isMeasurement:!0}}},this[Ut]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"User Action",properties:{source:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Kt]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"N/A",properties:{failed:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},failureSubCategory:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFile:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorFolder:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonErrorPackage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},stackTrace:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kind:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"}}},this[Wt]={owner:"IanMatthewHuff",feature:"N/A",source:"N/A",properties:{extensionId:{classification:"SystemMetaData",purpose:"FeatureInsight"},action:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Vt]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[Bt]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[Ht]={owner:"roblourens",feature:["Debugger"],properties:{status:{classification:"SystemMetaData",purpose:"FeatureInsight"}},source:"N/A"},this[Jt]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[qt]={owner:"roblourens",feature:["Debugger"],source:"N/A"},this[$t]={owner:"roblourens",feature:["Debugger"],source:"N/A"},this[Gt]={owner:"roblourens",feature:["Debugger"],source:"User Action"},this[zt]={owner:"roblourens",feature:["Debugger"],source:"N/A"},this[Yt]={owner:"roblourens",feature:["Debugger"],source:"N/A",properties:{reason:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Qt]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{extensionId:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},pemUsed:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"}}},this[Zt]={owner:"donjayamanne",feature:"N/A",source:"N/A",properties:{extensionId:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},allowed:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[Xt]={owner:"IanMatthewHuff",feature:["VariableViewer"],source:"N/A",properties:{ename:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},evalue:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"}}},this[en]={owner:"roblourens",feature:["InteractiveWindow","Debugger"],source:"N/A",properties:{ename:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"},evalue:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"}}},this[tn]={owner:"donjayamanne",feature:["Notebook","InteractiveWindow"],source:"N/A",properties:{actionSource:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},disableUI:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},userExecutedCell:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceHash:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth"},pythonEnvironmentVersion:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPath:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},pythonEnvironmentPackages:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelSessionId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelLanguage:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelId:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},kernelConnectionType:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},isUsingActiveInterpreter:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},capturedEnvVars:{classification:"PublicNonPersonalData",comment:"",purpose:"PerformanceAndHealth"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"},resourceType:{classification:"PublicNonPersonalData",comment:"",purpose:"FeatureInsight"}}},this[nn]={owner:"IanMatthewHuff",source:"N/A",feature:["KernelPicker"]},this[rn]={owner:"IanMatthewHuff",source:"User Action",feature:["KernelPicker"]},this[on]={owner:"amunger",feature:"N/A",source:"N/A",properties:{testName:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},testResult:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},perfWarmup:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},commitHash:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},timedCheckpoints:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"}}},this[sn]={owner:"IanMatthewHuff",feature:["KernelPicker"],source:"N/A",measures:{matchedReason:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[an]={owner:"donjayamanne",feature:"N/A",source:"N/A",measures:{frontEndVersion:{classification:"SystemMetaData",isMeasurement:!0,purpose:"PerformanceAndHealth"}},properties:{detection:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},failed:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"},frontEnd:{classification:"PublicNonPersonalData",purpose:"FeatureInsight"},reason:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"}}},this[cn]={owner:"donjayamanne",feature:["Notebook","Notebook"],tags:["Widgets"],source:"N/A",measures:{requireEntryPointCount:{classification:"SystemMetaData",isMeasurement:!0,purpose:"PerformanceAndHealth"}},properties:{failed:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"},failure:{classification:"CallstackOrException",purpose:"PerformanceAndHealth"},patternUsedToRegisterRequireConfig:{classification:"SystemMetaData",purpose:"PerformanceAndHealth"},widgetFolderNameHash:{classification:"SystemMetaData",purpose:"FeatureInsight"}}},this[ln]={owner:"donjayamanne",feature:["Notebook","Notebook"],tags:["Widgets"],source:"N/A",measures:{duration:{classification:"PublicNonPersonalData",purpose:"PerformanceAndHealth",isMeasurement:!0}}},this[un]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"},this[dn]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"},this[pn]={owner:"IanMatthewHuff",feature:["DataFrameViewer"],source:"N/A"}}},r=mn.EventName.EXTENSION_LOAD,o=mn.EventName.ENVFILE_VARIABLE_SUBSTITUTION,i=mn.EventName.ENVFILE_WORKSPACE,s=mn.EventName.HASHED_PACKAGE_NAME,a=gn.Telemetry.InterpreterListingPerf,c=gn.Telemetry.ActiveInterpreterListingPerf,l=gn.Telemetry.KernelListingPerf,u=gn.Telemetry.CellOutputMimeType,d=gn.Telemetry.GetActivatedEnvironmentVariables,p=mn.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_REQUEST,h=mn.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_ERROR,f=mn.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_SUCCESS,g=gn.Telemetry.AddCellBelow,m=gn.Telemetry.CodeLensAverageAcquisitionTime,y=gn.Telemetry.ConnectFailedJupyter,v=gn.Telemetry.ConnectRemoteJupyterViaLocalHost,b=gn.Telemetry.ConnectRemoteFailedJupyter,S=gn.Telemetry.ConnectRemoteSelfCertFailedJupyter,w=gn.Telemetry.ConnectRemoteExpiredCertFailedJupyter,C=gn.Telemetry.DataScienceSettings,k=gn.Telemetry.DebugContinue,_=gn.Telemetry.DebugCurrentCell,I=gn.Telemetry.DebugStepOver,E=gn.Telemetry.DebugStop,P=gn.Telemetry.DebugFileInteractive,D=gn.Telemetry.FailedToUpdateKernelSpec,T=gn.Telemetry.DisableInteractiveShiftEnter,x=gn.Telemetry.EnableInteractiveShiftEnter,j=gn.Telemetry.PerceivedJupyterStartupNotebook,M=gn.Telemetry.ExportPythonFileInteractive,N=gn.Telemetry.ExportPythonFileAndOutputInteractive,O=gn.Telemetry.ClickedExportNotebookAsQuickPick,A=gn.Telemetry.ExportNotebookAs,R=gn.Telemetry.ImportNotebook,L=gn.Telemetry.ExportNotebookAsCommand,F=gn.Telemetry.ExportNotebookAsFailed,U=gn.Telemetry.GetPasswordFailure,K=gn.Telemetry.GetPasswordSuccess,W=gn.Telemetry.PandasNotInstalled,V=gn.Telemetry.PandasTooOld,B=gn.Telemetry.PandasOK,H=gn.Telemetry.PandasInstallCanceled,J=gn.Telemetry.OpenNotebookAll,q=gn.Telemetry.OpenPlotViewer,$=gn.Telemetry.RunAllCells,G=gn.Telemetry.RunSelectionOrLine,z=gn.Telemetry.RunCurrentCell,Y=gn.Telemetry.RunAllCellsAbove,Q=gn.Telemetry.RunCellAndAllBelow,Z=gn.Telemetry.RunCurrentCellAndAdvance,X=gn.Telemetry.RunFileInteractive,ee=gn.Telemetry.RunToLine,te=gn.Telemetry.RunFromLine,ne=gn.Telemetry.InsertCellBelowPosition,re=gn.Telemetry.InsertCellBelow,oe=gn.Telemetry.InsertCellAbove,ie=gn.Telemetry.DeleteCells,se=gn.Telemetry.SelectCell,ae=gn.Telemetry.SelectCellContents,ce=gn.Telemetry.ExtendSelectionByCellAbove,le=gn.Telemetry.ExtendSelectionByCellBelow,ue=gn.Telemetry.MoveCellsUp,de=gn.Telemetry.MoveCellsDown,pe=gn.Telemetry.ChangeCellToMarkdown,he=gn.Telemetry.ChangeCellToCode,fe=gn.Telemetry.GotoNextCellInFile,ge=gn.Telemetry.GotoPrevCellInFile,me=gn.Telemetry.RunCurrentCellAndAddBelow,ye=gn.Telemetry.SelfCertsMessageClose,ve=gn.Telemetry.SelfCertsMessageEnabled,be=gn.Telemetry.SelectJupyterURI,Se=gn.Telemetry.EnterJupyterURI,we=gn.Telemetry.SelectLocalJupyterKernel,Ce=gn.Telemetry.SelectRemoteJupyterKernel,ke=gn.Telemetry.JupyterNotInstalledErrorShown,_e=gn.Telemetry.UserInstalledJupyter,Ie=gn.Telemetry.UserInstalledPandas,Ee=gn.Telemetry.UserDidNotInstallJupyter,Pe=gn.Telemetry.UserDidNotInstallPandas,De=gn.Telemetry.PythonNotInstalled,Te=gn.Telemetry.PythonExtensionNotInstalled,xe=gn.Telemetry.PythonExtensionInstalledViaKernelPicker,je=gn.Telemetry.PythonModuleInstall,Me=gn.Telemetry.SetJupyterURIUIDisplayed,Ne=gn.Telemetry.SetJupyterURIToLocal,Oe=gn.Telemetry.SetJupyterURIToUserSpecified,Ae=gn.Telemetry.ShiftEnterBannerShown,Re=gn.Telemetry.StartShowDataViewer,Le=gn.Telemetry.ShowDataViewer,Fe=gn.Telemetry.ShowDataViewerRowsLoaded,Ue=gn.Telemetry.FailedShowDataViewer,Ke=gn.Telemetry.RefreshDataViewer,We=gn.Telemetry.CreateNewInteractive,Ve=gn.Telemetry.StartJupyter,Be=gn.Telemetry.JupyterInstalledButNotKernelSpecModule,He=gn.Telemetry.VariableExplorerFetchTime,Je=gn.Telemetry.VariableExplorerVariableCount,qe=gn.Telemetry.WaitForIdleJupyter,$e=gn.Telemetry.WebviewStartup,Ge=gn.Telemetry.RegisterInterpreterAsKernel,ze=gn.Telemetry.SelectJupyterInterpreterCommand,Ye=gn.Telemetry.SelectJupyterInterpreter,Qe=gn.Telemetry.StartSessionFailedJupyter,Ze=gn.Telemetry.KernelSpecLanguage,Xe=gn.Telemetry.KernelSpecNotFound,et=gn.Telemetry.KernelLauncherPerf,tt=gn.Telemetry.RankKernelsPerf,nt=gn.Telemetry.PreferredKernel,rt=gn.Telemetry.JupyterCommandLineNonDefault,ot=gn.Telemetry.NewFileForInteractiveWindow,it=gn.Telemetry.HashedIPyWidgetNameUsed,st=gn.Telemetry.DiscoverIPyWidgetNamesPerf,at=gn.Telemetry.HashedIPyWidgetScriptDiscoveryError,ct=gn.Telemetry.IPyWidgetLoadSuccess,lt=gn.Telemetry.IPyWidgetLoadFailure,ut=gn.Telemetry.IPyWidgetWidgetVersionNotSupportedLoadFailure,dt=gn.Telemetry.IPyWidgetPromptToUseCDN,pt=gn.Telemetry.IPyWidgetPromptToUseCDNSelection,ht=gn.Telemetry.IPyWidgetOverhead,ft=gn.Telemetry.IPyWidgetRenderFailure,gt=gn.Telemetry.IPyWidgetUnhandledMessage,mt=gn.Telemetry.RawKernelInfoResponse,yt=gn.Telemetry.RawKernelProcessLaunch,vt=gn.Telemetry.ExecuteCell,bt=gn.Telemetry.NotebookStart,St=gn.Telemetry.SwitchKernel,wt=gn.Telemetry.NotebookInterrupt,Ct=gn.Telemetry.NotebookRestart,kt=gn.Telemetry.RawKernelSessionStartNoIpykernel,_t=gn.Telemetry.RawKernelSessionKernelProcessExited,It=gn.Telemetry.RawKernelSessionShutdown,Et=gn.Telemetry.RawKernelSessionDisposed,Pt=gn.Telemetry.RunByLineVariableHover,Dt=gn.Telemetry.KernelCount,Tt=gn.Telemetry.VSCNotebookCellTranslationFailed,xt=gn.Telemetry.NumberOfSavedRemoteKernelIds,jt=gn.Telemetry.InteractiveFileTooltipsPerf,Mt=gn.Telemetry.NativeVariableViewLoaded,Nt=gn.Telemetry.NativeVariableViewMadeVisible,Ot=gn.Telemetry.DataViewerWebviewLoaded,At=gn.Telemetry.PlotViewerWebviewLoaded,Rt=gn.Telemetry.CommandExecuted,Lt=gn.Telemetry.DataViewerSliceEnablementStateChanged,Ft=gn.Telemetry.DataViewerDataDimensionality,Ut=gn.Telemetry.DataViewerSliceOperation,Kt=gn.Telemetry.FailedToCreateNotebookController,Wt=gn.Telemetry.RecommendExtension,Vt=yn.DebuggingTelemetry.clickedOnSetup,Bt=yn.DebuggingTelemetry.closedModal,Ht=yn.DebuggingTelemetry.ipykernel6Status,Jt=yn.DebuggingTelemetry.clickedRunByLine,qt=yn.DebuggingTelemetry.successfullyStartedRunByLine,$t=yn.DebuggingTelemetry.successfullyStartedIWJupyterDebugger,Gt=yn.DebuggingTelemetry.clickedRunAndDebugCell,zt=yn.DebuggingTelemetry.successfullyStartedRunAndDebugCell,Yt=yn.DebuggingTelemetry.endedSession,Qt=gn.Telemetry.JupyterKernelApiUsage,Zt=gn.Telemetry.JupyterKernelApiAccess,Xt=gn.Telemetry.PythonVariableFetchingCodeFailure,en=gn.Telemetry.InteractiveWindowDebugSetupCodeFailure,tn=gn.Telemetry.KernelCrash,nn=gn.Telemetry.JupyterKernelHiddenViaFilter,rn=gn.Telemetry.JupyterKernelFilterUsed,on=gn.Telemetry.RunTest,sn=gn.Telemetry.PreferredKernelExactMatch,an=gn.Telemetry.JupyterInstalled,cn=gn.Telemetry.IPyWidgetExtensionJsInfo,ln=gn.Telemetry.IPyWidgetNbExtensionCopyTime,un=gn.Telemetry.NoActiveKernelSession,dn=gn.Telemetry.DataViewerUsingInterpreter,pn=gn.Telemetry.DataViewerUsingKernel},81274:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDataViewerDependencyImplementation=void 0;const o=n(25251),i=n(21378),s=n(86563),a=n(9959),c=n(59985),l=n(83902),u=n(66828),d=n(6491),p=n(11642);class h{constructor(e,t){this.applicationShell=e,this.isCodeSpace=t}async getVersion(e,t){try{const n=await this._getVersion(e,t);return"string"==typeof n?(0,s.parseSemVer)(n):n}catch(e){return void(0,p.traceWarning)(o.DataScience.failedToGetVersionOfPandas(),e.message)}}async promptInstall(e,t,n){let r=n?o.DataScience.pandasTooOldForViewingFormat().format(n,i.pandasMinimumVersionSupportedByVariableViewer):o.DataScience.pandasRequiredForViewing().format(i.pandasMinimumVersionSupportedByVariableViewer);if((this.isCodeSpace?o.Common.install():await this.applicationShell.showErrorMessage(r,{modal:!0},o.Common.install()))!==o.Common.install())throw(0,a.sendTelemetryEvent)(a.Telemetry.UserDidNotInstallPandas),new Error(r);await this._doInstall(e,t)}async checkOrInstall(e){const t=new u.CancellationTokenSource;try{const n=await this.getVersion(e,t.token);if(d.Cancellation.isCanceled(t.token))return void(0,a.sendTelemetryEvent)(a.Telemetry.PandasInstallCanceled);if(n){if(n.compare(i.pandasMinimumVersionSupportedByVariableViewer)>0)return void(0,a.sendTelemetryEvent)(a.Telemetry.PandasOK);(0,a.sendTelemetryEvent)(a.Telemetry.PandasTooOld);const r=`${n.major}.${n.minor}.${n.build}`;await this.promptInstall(e,t,r)}(0,a.sendTelemetryEvent)(a.Telemetry.PandasNotInstalled),await this.promptInstall(e,t)}finally{t.dispose()}}}r([(0,a.capturePerfTelemetry)(a.Telemetry.PythonModuleInstall,{action:"displayed",moduleName:c.ProductNames.get(l.Product.pandas)})],h.prototype,"promptInstall",null),t.BaseDataViewerDependencyImplementation=h},21378:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pandasMinimumVersionSupportedByVariableViewer=void 0,t.pandasMinimumVersionSupportedByVariableViewer="0.20.0"},32613:function(e,t,n){"use strict";var r=n(34155),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewer=void 0,n(8513);const l=n(86700),u=n(66828),d=n(9959),p=n(89112),h=n(19058),f=n(90391),g=n(14783),m=n(2161),y=n(10053),v=n(15925),b=n(11642),S=n(42080),w=a(n(25251)),C=n(11386),k=n(78086),_=n(58681),I=n(52859),E=n(90541),P="JupyterDataViewerPreferredViewColumn";let D=class extends k.WebviewPanelHost{constructor(e,t,n,r,o,i,s){var a;const c=(0,I.joinPath)(s.extensionUri,"out","webviews","webview-side","viewers");super(t,e,n,((e,t,n)=>new h.DataViewerMessageListener(e,t,n)),c,[(0,I.joinPath)(c,"dataExplorer.js")],w.DataScience.dataExplorerTitle(),null!==(a=o.get(P))&&void 0!==a?a:u.ViewColumn.One),this.applicationShell=r,this.globalMemento=o,this.errorHandler=i,this.context=s,this.pendingRowsCount=0,this.sentDataViewerSliceDimensionalityTelemetry=!1,this._onDidDisposeDataViewer=new u.EventEmitter,this._onDidChangeDataViewerViewState=new u.EventEmitter,this.onDidDispose(this.dataViewerDisposed,this)}get active(){var e;return!!(null===(e=this.webPanel)||void 0===e?void 0:e.isActive())}get refreshPending(){return this.pendingRowsCount>0}get onDidDisposeDataViewer(){return this._onDidDisposeDataViewer.event}get onDidChangeDataViewerViewState(){return this._onDidChangeDataViewerViewState.event}async showData(e,t){if(!this.isDisposed){this.dataProvider=e,await super.loadWebview(u.Uri.file(r.cwd())).catch(b.traceError),super.setTitle(t),await super.show(!0);let n=await this.prepDataFrameInfo();if(n.shape&&n.shape.length>2){this.maybeSendSliceDataDimensionalityTelemetry(n.shape.length);const e=(0,g.preselectedSliceExpression)(n.shape);n=await this.getDataFrameInfo(e)}this.postMessage(f.DataViewerMessages.InitializeData,n).ignoreErrors()}}get kernel(){if(this.dataProvider&&"kernel"in this.dataProvider)return this.dataProvider.kernel}dataViewerDisposed(){this._onDidDisposeDataViewer.fire(this)}async refreshData(){const e=this.currentSliceExpression;this.dataFrameInfoPromise=void 0;let t=await this.getDataFrameInfo(void 0,!0);if(void 0!==e&&void 0!==t.shape)if((0,g.isValidSliceExpression)(e,t.shape))t=await this.getDataFrameInfo(e);else{const e=(0,g.preselectedSliceExpression)(t.shape);t=await this.getDataFrameInfo(e)}(0,b.traceInfo)(`Refreshing data viewer for variable ${t.name}`),this.postMessage(f.DataViewerMessages.InitializeData,t).ignoreErrors()}dispose(){super.dispose(),this.dataProvider&&(this.dataProvider.dispose(),this.dataProvider=void 0)}async onViewStateChanged(e){var t;e.current.active&&e.current.visible&&e.previous.active&&e.current.visible&&await this.globalMemento.update(P,null===(t=this.webPanel)||void 0===t?void 0:t.viewColumn),this._onDidChangeDataViewerViewState.fire()}get owningResource(){}onMessage(e,t){switch(e){case f.DataViewerMessages.GetAllRowsRequest:this.getAllRows(t).ignoreErrors();break;case f.DataViewerMessages.GetRowsRequest:this.getRowChunk(t).ignoreErrors();break;case f.DataViewerMessages.GetSliceRequest:this.getSlice(t).ignoreErrors();break;case f.DataViewerMessages.RefreshDataViewer:this.refreshData().ignoreErrors(),(0,d.sendTelemetryEvent)(v.Telemetry.RefreshDataViewer);break;case f.DataViewerMessages.SliceEnablementStateChanged:(0,d.sendTelemetryEvent)(v.Telemetry.DataViewerSliceEnablementStateChanged,void 0,{newState:t.newState?m.CheckboxState.Checked:m.CheckboxState.Unchecked})}super.onMessage(e,t)}getDataFrameInfo(e,t){return this.dataFrameInfoPromise&&e===this.currentSliceExpression||(this.dataFrameInfoPromise=this.dataProvider?this.dataProvider.getDataFrameInfo(e,t):Promise.resolve({}),this.currentSliceExpression=e),this.dataFrameInfoPromise}async prepDataFrameInfo(){this.rowsTimer=new C.StopWatch;const e=await this.getDataFrameInfo();try{(0,d.sendTelemetryEvent)(v.Telemetry.ShowDataViewer,void 0,{rows:e.rowCount?e.rowCount:0,columns:e.columns?e.columns.length:0}),this.pendingRowsCount=e.rowCount?e.rowCount:0}catch(e){(0,_.noop)()}return e}async getAllRows(e){return this.wrapRequest((async()=>{if(this.dataProvider){const t=await this.dataProvider.getAllRows(e);return this.pendingRowsCount=0,this.postMessage(f.DataViewerMessages.GetAllRowsResponse,t)}}))}getSlice(e){return this.wrapRequest((async()=>{var t;if(this.dataProvider){const n=await this.getDataFrameInfo(e.slice);return(null===(t=n.shape)||void 0===t?void 0:t.length)&&this.maybeSendSliceDataDimensionalityTelemetry(n.shape.length),(0,d.sendTelemetryEvent)(v.Telemetry.DataViewerSliceOperation,void 0,{source:e.source}),this.postMessage(f.DataViewerMessages.InitializeData,n)}}))}getRowChunk(e){return this.wrapRequest((async()=>{if(this.dataProvider){const t=await this.getDataFrameInfo(e.sliceExpression),n=await this.dataProvider.getRows(e.start,Math.min(e.end,t.rowCount?t.rowCount:0),e.sliceExpression);return this.pendingRowsCount=Math.max(0,this.pendingRowsCount-n.length),this.postMessage(f.DataViewerMessages.GetRowsResponse,{rows:n,start:e.start,end:e.end})}}))}async wrapRequest(e){try{return await e()}catch(e){if(e instanceof p.JupyterDataRateLimitError){(0,b.traceError)(e.message);const t=w.DataScience.pythonInteractiveHelpLink();this.applicationShell.showErrorMessage(w.DataScience.jupyterDataRateExceeded(),t).then((e=>{e===t&&this.applicationShell.openUrl(v.HelpLinks.JupyterDataRateHelpLink)}),_.noop),this.dispose()}(0,b.traceError)(e),this.errorHandler.handleError(e).then(_.noop,_.noop)}finally{this.sendElapsedTimeTelemetry()}}sendElapsedTimeTelemetry(){this.rowsTimer&&0===this.pendingRowsCount&&(0,d.sendTelemetryEvent)(v.Telemetry.ShowDataViewerRowsLoaded,void 0,{rowsTimer:this.rowsTimer.elapsedTime})}maybeSendSliceDataDimensionalityTelemetry(e){this.sentDataViewerSliceDimensionalityTelemetry||((0,d.sendTelemetryEvent)(v.Telemetry.DataViewerDataDimensionality,{numberOfDimensions:e}),this.sentDataViewerSliceDimensionalityTelemetry=!0)}};s([(0,d.capturePerfTelemetry)(v.Telemetry.DataViewerWebviewLoaded)],D.prototype,"showData",null),D=s([(0,l.injectable)(),c(0,(0,l.inject)(y.IWebviewPanelProvider)),c(1,(0,l.inject)(S.IConfigurationService)),c(2,(0,l.inject)(y.IWorkspaceService)),c(3,(0,l.inject)(y.IApplicationShell)),c(4,(0,l.inject)(S.IMemento)),c(4,(0,l.named)(S.GLOBAL_MEMENTO)),c(5,(0,l.inject)(E.IDataScienceErrorHandler)),c(6,(0,l.inject)(S.IExtensionContext))],D),t.DataViewer=D},724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerChecker=void 0;const r=n(66828),o=n(25251),i=n(90391);t.DataViewerChecker=class{constructor(e,t){this.configuration=e,this.applicationShell=t}async isRequestedColumnSizeAllowed(e,t){if(e>i.ColumnWarningSize&&await this.shouldAskForLargeData(t)){const e=o.DataScience.tooManyColumnsMessage(),t=o.DataScience.tooManyColumnsYes(),n=o.DataScience.tooManyColumnsNo(),r=o.DataScience.tooManyColumnsDontAskAgain(),i=await this.applicationShell.showWarningMessage(e,t,n,r);return i===r&&await this.disableAskForLargeData(),i===t}return!0}async shouldAskForLargeData(e){const t=e?this.configuration.getSettings(e):this.configuration.getSettings();return t&&!0===t.askForLargeDataFrames}async disableAskForLargeData(e){const t=e?this.configuration.getSettings(e):this.configuration.getSettings();t&&(t.askForLargeDataFrames=!1,this.configuration.updateSetting("askForLargeDataFrames",!1,void 0,r.ConfigurationTarget.Global).ignoreErrors())}}},97480:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerCommandRegistry=void 0;const i=n(86700),s=n(66828),a=n(50068),c=n(7214),l=n(10053),u=n(15925),d=n(83599),p=n(42080),h=n(25251),f=n(58681),g=n(72728),m=n(84570),y=n(11642),v=n(9959),b=n(2161),S=n(90541),w=n(724),C=n(90391);let k=class{constructor(e,t,n,r,o,i,s,a,c,l,u,d,p){this.disposables=e,this.commandManager=t,this.debugService=n,this.jupyterVariableDataProviderFactory=i,this.dataViewerFactory=s,this.variableProvider=a,this.workspace=c,this.errorHandler=l,this.dataViewerDependencyService=u,this.interpreterService=d,this.platformService=p,this.dataViewerChecker=new w.DataViewerChecker(r,o),this.workspace.isTrusted||this.workspace.onDidGrantWorkspaceTrust(this.registerCommandsIfTrusted,this,this.disposables)}async activate(){this.registerCommandsIfTrusted()}registerCommandsIfTrusted(){this.workspace.isTrusted&&this.registerCommand(u.Commands.ShowDataViewer,this.onVariablePanelShowDataViewerRequest)}registerCommand(e,t){const n=this.commandManager.registerCommand(e,t,this);this.disposables.push(n)}async onVariablePanelShowDataViewerRequest(e){var t,n;if((0,v.sendTelemetryEvent)(b.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_REQUEST),(null===(t=this.debugService)||void 0===t?void 0:t.activeDebugSession)&&this.variableProvider&&this.jupyterVariableDataProviderFactory&&this.dataViewerFactory)try{if(this.debugService.activeDebugSession.configuration&&this.dataViewerDependencyService&&this.interpreterService){const e=await this.getDebugAdapterPython(this.debugService.activeDebugSession.configuration);e&&await this.dataViewerDependencyService.checkAndInstallMissingDependencies(e)}const t=(0,a.convertDebugProtocolVariableToIJupyterVariable)(e.variable),r=await this.variableProvider.getFullVariable(t),o=await this.jupyterVariableDataProviderFactory.create(r),i=await o.getDataFrameInfo(),s=null===(n=null==i?void 0:i.columns)||void 0===n?void 0:n.length;if(s&&await this.dataViewerChecker.isRequestedColumnSizeAllowed(s)){const e=`${h.DataScience.dataExplorerTitle()} - ${r.name}`;await this.dataViewerFactory.create(o,e),(0,v.sendTelemetryEvent)(b.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_SUCCESS)}}catch(e){(0,v.sendTelemetryEvent)(b.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_ERROR,void 0,void 0,e),(0,y.traceError)(e),this.errorHandler.handleError(e).then(f.noop,f.noop)}}async getDebugAdapterPython(e){if(!this.interpreterService)return void(0,y.traceInfo)("Interpreter Service missing when trying getDebugAdapterPython");let t="";if(void 0!==e.debugAdapterPython?((0,y.traceInfo)("Found debugAdapterPython on Debug Configuration to use"),t=e.debugAdapterPython):e.pythonPath&&((0,y.traceInfo)("Found pythonPath on Debug Configuration to use"),t=e.pythonPath),t){let e=t;return e.startsWith("~")&&this.platformService.homeDir&&(e=(0,g.untildify)(e,this.platformService.homeDir.path)),this.interpreterService.getInterpreterDetails(s.Uri.file(e))}return this.interpreterService.getActiveInterpreter()}};k=r([(0,i.injectable)(),o(0,(0,i.inject)(p.IDisposableRegistry)),o(1,(0,i.inject)(l.ICommandManager)),o(2,(0,i.inject)(l.IDebugService)),o(2,(0,i.optional)()),o(3,(0,i.inject)(p.IConfigurationService)),o(4,(0,i.inject)(l.IApplicationShell)),o(5,(0,i.inject)(C.IJupyterVariableDataProviderFactory)),o(5,(0,i.optional)()),o(6,(0,i.inject)(C.IDataViewerFactory)),o(6,(0,i.optional)()),o(7,(0,i.inject)(c.IJupyterVariables)),o(7,(0,i.optional)()),o(7,(0,i.named)(u.Identifiers.DEBUGGER_VARIABLES)),o(8,(0,i.inject)(l.IWorkspaceService)),o(9,(0,i.inject)(S.IDataScienceErrorHandler)),o(10,(0,i.inject)(C.IDataViewerDependencyService)),o(10,(0,i.optional)()),o(11,(0,i.inject)(m.IInterpreterService)),o(11,(0,i.optional)()),o(12,(0,i.inject)(d.IPlatformService))],k),t.DataViewerCommandRegistry=k},96663:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerDependencyService=void 0;const i=n(86700),s=n(10053),a=n(42080),c=n(11461);let l=class{constructor(e,t){this.withKernel=new c.KernelDataViewerDependencyImplementation(e,t)}async checkAndInstallMissingDependencies(e){return this.withKernel.checkAndInstallMissingDependencies(e)}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IApplicationShell)),o(1,(0,i.inject)(a.IsCodeSpace))],l),t.DataViewerDependencyService=l},48334:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerFactory=void 0,n(8513);const i=n(86700),s=n(9959),a=n(90391),c=n(23279),l=n(10053),u=n(29444),d=n(42080),p=n(41778),h=n(58681),f=n(15925);let g=class{constructor(e,t,n,r){this.serviceContainer=e,this.disposables=n,this.commandManager=r,this.knownViewers=new Set,this.refreshDataViewer=c((()=>{for(const e of this.knownViewers)e.active&&e.refreshData().then(h.noop,h.noop)}),1e3),t.push(this),this.viewContext=new u.ContextKey(f.EditorContexts.IsDataViewerActive,this.commandManager),this.disposables.push(this.commandManager.registerCommand(f.Commands.RefreshDataViewer,this.refreshDataViewer,this))}async dispose(){for(const e of this.knownViewers)e.dispose()}async create(e,t){let n;const r=this.serviceContainer.get(a.IDataViewer);try{this.knownViewers.add(r),r.onDidDisposeDataViewer(this.updateOpenDataViewers,this,this.disposables),r.onDidChangeDataViewerViewState(this.updateViewStateContext,this,this.disposables),await r.showData(e,t),n=r}finally{n||r.dispose()}return n}get activeViewer(){return[...this.knownViewers.values()].find((e=>e.active))}updateOpenDataViewers(e){this.knownViewers.delete(e)}async updateViewStateContext(){let e=!1;this.knownViewers.forEach((t=>{t.active&&(e=!0)})),await this.viewContext.set(e)}};r([(0,s.capturePerfTelemetry)(f.Telemetry.StartShowDataViewer)],g.prototype,"create",null),g=r([(0,i.injectable)(),o(0,(0,i.inject)(p.IServiceContainer)),o(1,(0,i.inject)(d.IAsyncDisposableRegistry)),o(2,(0,i.inject)(d.IDisposableRegistry)),o(3,(0,i.inject)(l.ICommandManager))],g),t.DataViewerFactory=g},19058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerMessageListener=void 0,n(8513),t.DataViewerMessageListener=class{constructor(e,t,n){this.disposedCallback=n,this.callback=e,this.viewChanged=t}async dispose(){this.disposedCallback()}onMessage(e,t){this.callback(e,t)}onChangeViewState(e){this.viewChanged(e)}}},64752:function(e,t,n){"use strict";var r,o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterVariableDataProvider=void 0,n(8513);const s=n(86700),a=n(90391),c=n(7214),l=n(11642),u=n(15925),d=n(35412),p=n(58681);let h=r=class{constructor(e,t){this.variableManager=e,this.dependencyService=t,this.initialized=!1}get kernel(){return this._kernel}static getNormalizedColumns(e){return e.map((e=>{let t;switch(e.type){case"bool":t=a.ColumnType.Bool;break;case"integer":case"int32":case"int64":case"float":case"float32":case"float64":case"number":t=a.ColumnType.Number;break;default:t=a.ColumnType.String}return{key:e.key,type:t}}))}static parseShape(e){try{if(e.startsWith("(")&&e.endsWith(")"))return e.substring(1,e.length-1).split(",").map((e=>parseInt(e)))}catch(t){(0,l.traceError)(`Could not parse IJupyterVariable with malformed shape: ${e}`)}}dispose(){}setDependencies(e,t){this._kernel=t,this.variable=e}async getDataFrameInfo(e,t){let n={};await this.ensureInitialized();let o=this.variable;return o&&((e||t)&&(o=await this.variableManager.getDataFrameInfo(o,this._kernel,e,t)),n={columns:o.columns?r.getNormalizedColumns(o.columns):o.columns,indexColumn:o.indexColumn,rowCount:o.rowCount,dataDimensionality:o.dataDimensionality,shape:r.parseShape(o.shape),sliceExpression:e,type:o.type,maximumRowChunkSize:o.maximumRowChunkSize,name:o.name,fileName:(0,d.getFilePath)(o.fileName)}),t&&(this.variable=o),n}async getAllRows(e){let t=[];return await this.ensureInitialized(),this.variable&&this.variable.rowCount&&(t=(await this.variableManager.getDataFrameRows(this.variable,0,this.variable.rowCount,this._kernel,e)).data),t}async getRows(e,t,n){let r=[];return await this.ensureInitialized(),this.variable&&this.variable.rowCount&&(r=(await this.variableManager.getDataFrameRows(this.variable,e,t,this._kernel,n)).data),r}async ensureInitialized(){var e,t;!this.initialized&&this.variable&&(this.initialized=!0,(null===(e=this._kernel)||void 0===e?void 0:e.kernelConnectionMetadata)&&this.dependencyService&&await this.dependencyService.checkAndInstallMissingDependencies((0,p.isWeb)()?this._kernel:(null===(t=this._kernel)||void 0===t?void 0:t.kernelConnectionMetadata.interpreter)||this._kernel),this.variable=await this.variableManager.getDataFrameInfo(this.variable,this._kernel))}};h=r=o([(0,s.injectable)(),i(0,(0,s.inject)(c.IJupyterVariables)),i(0,(0,s.named)(u.Identifiers.ALL_VARIABLES)),i(1,(0,s.inject)(a.IDataViewerDependencyService)),i(1,(0,s.optional)())],h),t.JupyterVariableDataProvider=h},70997:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterVariableDataProviderFactory=void 0,n(8513);const i=n(86700),s=n(41778),a=n(90391);let c=class{constructor(e){this.serviceContainer=e}async create(e,t){const n=this.serviceContainer.get(a.IJupyterVariableDataProvider);return n.setDependencies(e,t),n}};c=r([(0,i.injectable)(),o(0,(0,i.inject)(s.IServiceContainer))],c),t.JupyterVariableDataProviderFactory=c},11461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDataViewerDependencyImplementation=t.kernelGetPandasVersion=void 0;const r=n(11642),o=n(25251),i=n(47891),s=n(9959),a=n(98729),c=n(81274);t.kernelGetPandasVersion="import pandas as _VSCODE_pandas;print(_VSCODE_pandas.__version__);del _VSCODE_pandas";class l extends c.BaseDataViewerDependencyImplementation{async execute(e,t){const n=await(0,a.executeSilently)(t.session,e),i=n.find((e=>"error"===e.output_type));return i&&(0,r.traceWarning)(o.DataScience.failedToGetVersionOfPandas(),i.message),n.map((e=>{var t;return null===(t=e.text)||void 0===t?void 0:t.toString()}))}async _getVersion(e){return(await this.execute(t.kernelGetPandasVersion,e)).map((e=>e?e.toString():void 0)).find((e=>e))}async _doInstall(e){const t=`${function(e){var t;return(null===(t=e.kernelConnectionMetadata.interpreter)||void 0===t?void 0:t.envType)===i.EnvironmentType.Conda?"%conda":"%pip"}(e)} install pandas`;try{await this.execute(t,e),(0,s.sendTelemetryEvent)(s.Telemetry.UserInstalledPandas)}catch(e){throw(0,s.sendTelemetryEvent)(s.Telemetry.UserInstalledPandas,void 0,void 0,e),new Error(o.DataScience.failedToInstallPandas())}}async checkAndInstallMissingDependencies(e){if((0,s.sendTelemetryEvent)(s.Telemetry.DataViewerUsingKernel),!function(e){return Boolean(e.session)}(e))throw(0,s.sendTelemetryEvent)(s.Telemetry.NoActiveKernelSession),new Error("No no active kernel session.");await this.checkOrInstall(e)}}t.KernelDataViewerDependencyImplementation=l},90391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDataViewerDependencyService=t.IJupyterVariableDataProviderFactory=t.IJupyterVariableDataProvider=t.IDataViewer=t.IDataViewerFactory=t.ColumnType=t.DataViewerMessages=t.DataViewerRowStates=t.ColumnWarningSize=t.MaxStringCompare=t.CellFetchSizeSubsequent=t.CellFetchSizeFirst=t.CellFetchAllLimit=void 0;const r=n(30682);var o,i,s;t.CellFetchAllLimit=1e5,t.CellFetchSizeFirst=1e5,t.CellFetchSizeSubsequent=1e6,t.MaxStringCompare=200,t.ColumnWarningSize=1e3,(s=t.DataViewerRowStates||(t.DataViewerRowStates={})).Fetching="fetching",s.Skipped="skipped",(i=t.DataViewerMessages||(t.DataViewerMessages={})).Started=r.SharedMessages.Started,i.UpdateSettings=r.SharedMessages.UpdateSettings,i.InitializeData="init",i.GetAllRowsRequest="get_all_rows_request",i.GetAllRowsResponse="get_all_rows_response",i.GetRowsRequest="get_rows_request",i.GetRowsResponse="get_rows_response",i.CompletedData="complete",i.GetSliceRequest="get_slice_request",i.RefreshDataViewer="refresh_data_viewer",i.SliceEnablementStateChanged="slice_enablement_state_changed",(o=t.ColumnType||(t.ColumnType={})).String="string",o.Number="number",o.Bool="bool",t.IDataViewerFactory=Symbol("IDataViewerFactory"),t.IDataViewer=Symbol("IDataViewer"),t.IJupyterVariableDataProvider=Symbol("IJupyterVariableDataProvider"),t.IJupyterVariableDataProviderFactory=Symbol("IJupyterVariableDataProviderFactory"),t.IDataViewerDependencyService=Symbol("IDataViewerDependencyService")},55635:function(e,t,n){"use strict";var r=n(48764).Buffer,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlotSaveHandler=t.imageExtensionForMimeType=t.svgMimeType=void 0;const l=n(86700),u=n(66828),d=a(n(15948)),p=n(10053),h=n(11642),f=n(35412),g=n(83599),m=n(25251);t.svgMimeType="image/svg+xml",t.imageExtensionForMimeType={"image/png":"png","image/jpeg":"jpeg","image/gif":"gif",[t.svgMimeType]:"svg"};let y=class{constructor(e,t,n){this.shell=e,this.fs=t,this.workspace=n}async savePlot(e,n,r){if(e.isClosed)return;const o=function(e,t,n){for(const r of e.getCells())for(const e of r.outputs)if(e.id===t&&e.items.find((e=>e.mime===n)))return e}(e,n,r);if(!o)return(0,h.traceError)(`No plot to save ${(0,f.getDisplayPath)(e.uri)}, id: ${n} for ${r}`);if(!(r.toLowerCase()in t.imageExtensionForMimeType))return(0,h.traceError)(`Unsupported MimeType ${(0,f.getDisplayPath)(e.uri)}, id: ${n} for ${r}`);const i=await this.getSaveTarget(o,r);i&&(i.path.toLowerCase().endsWith("pdf")?await this.saveAsPdf(o,i):await this.saveAsImage(o,i))}getSaveTarget(e,n){var r;const o=t.imageExtensionForMimeType[n.toLowerCase()],i={};e.items.find((e=>e.mime.toLowerCase()===t.svgMimeType))&&(i[m.DataScience.pdfFilter()]=["pdf"],i[m.DataScience.svgFilter()]=["svg"]),"png"===o&&(i[m.DataScience.pngFilter()]=["png"]),0===Object.keys(i).length&&(i.Images=[o]);const s=((null===(r=this.workspace.workspaceFolders)||void 0===r?void 0:r.length)||0)>0?this.workspace.workspaceFolders[0].uri:void 0,a=`output.${o}`,c=s?u.Uri.joinPath(s,a):u.Uri.file(a);return this.shell.showSaveDialog({defaultUri:c,saveLabel:m.DataScience.exportPlotTitle(),filters:i})}async saveAsImage(e,n){const o=d.extname(n.path).substring(1),i=Object.keys(t.imageExtensionForMimeType).find((e=>t.imageExtensionForMimeType[e]===o)),s=e.items.find((e=>e.mime===i));if(!s)throw new Error(`Unsupported MimeType ${n.toString()}, available mime Types: ${e.items.map((e=>e.mime)).join(", ")}`);await this.fs.writeFile(n,r.from(s.data))}async saveAsPdf(e,t){return(0,h.traceError)("Save as PDF is not yet supported on the web.")}};y=s([(0,l.injectable)(),c(0,(0,l.inject)(p.IApplicationShell)),c(1,(0,l.inject)(g.IFileSystem)),c(2,(0,l.inject)(p.IWorkspaceService))],y),t.PlotSaveHandler=y},94981:function(e,t,n){"use strict";var r=n(48764).Buffer,o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlotViewHandler=void 0;const a=s(n(47935)),c=n(86700),l=n(11642),u=n(35412),d=n(45047);let p=class{constructor(e){this.plotViewProvider=e}async openPlot(e,t){if(e.isClosed)return;const n=h(e,t,"image/svg+xml");let o;if(n)o=(new TextDecoder).decode(n.data);else{const n=h(e,t,"image/png");if(!n)return(0,l.traceError)(`No SVG or PNG Plot to open ${(0,u.getDisplayPath)(e.uri)}, id: ${t}`);o=function(e){const t=r.from(e.data),n=t.toString("base64"),o=(0,a.default)(t);return`<?xml version="1.0" encoding="utf-8" standalone="no"?>\n<svg height="${o.height}" width="${o.width}" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g>\n        <image xmlns="http://www.w3.org/2000/svg" x="0" y="0" height="100%" width="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="data:image/png;base64,${n}"/>\n    </g>\n</svg>`}(n)}o&&await this.plotViewProvider.showPlot(o)}};function h(e,t,n){for(const r of e.getCells())for(const e of r.outputs)if(e.id===t)return e.items.find((e=>e.mime===n))}p=o([(0,c.injectable)(),i(0,(0,c.inject)(d.IPlotViewerProvider))],p),t.PlotViewHandler=p},95185:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RendererCommunication=void 0;const i=n(86700),s=n(66828),a=n(20397),c=n(58681),l=n(94981),u=n(86522);let d=class{constructor(e,t){this.plotSaveHandler=e,this.plotViewHandler=t,this.disposables=[]}dispose(){(0,a.disposeAllDisposables)(this.disposables)}async activate(){const e=s.extensions.getExtension("ms-toolsai.jupyter-renderers");e&&(e.isActive||await e.activate(),e.exports.onDidReceiveMessage((({editor:e,message:t})=>{var n;const r=e.notebook||(null===(n=s.window.activeNotebookEditor)||void 0===n?void 0:n.notebook);r&&("saveImageAs"===t.type?this.plotSaveHandler.savePlot(r,t.outputId,t.mimeType).catch(c.noop):"openImageInPlotViewer"===t.type&&this.plotViewHandler.openPlot(r,t.outputId).catch(c.noop))}),this,this.disposables))}};d=r([(0,i.injectable)(),o(0,(0,i.inject)(u.IPlotSaveHandler)),o(1,(0,i.inject)(l.PlotViewHandler))],d),t.RendererCommunication=d},86522:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPlotSaveHandler=void 0,t.IPlotSaveHandler=Symbol("IPlotSaveHandler")},16798:function(e,t,n){"use strict";var r=n(34155),o=n(48764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},l=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlotViewer=void 0,n(8513);const u=n(86700),d=c(n(15948)),p=n(66828),h=n(11642),f=n(48233),g=n(45047),m=n(10053),y=n(42080),v=n(83599),b=c(n(25251)),S=n(78086),w=n(52859),C=n(58681),k=n(9959),_=n(11386);let I=class extends S.WebviewPanelHost{constructor(e,t,n,o,i,s){const a=new _.StopWatch,c=(0,w.joinPath)(s.extensionUri,"out","webviews","webview-side","viewers");super(t,e,n,((e,t,n)=>new f.PlotViewerMessageListener(e,t,n)),c,[(0,w.joinPath)(c,"plotViewer.js")],b.DataScience.plotViewerTitle(),p.ViewColumn.One),this.applicationShell=o,this.fs=i,this.context=s,this.closedEvent=new p.EventEmitter,this.removedEvent=new p.EventEmitter,this.addPlot=async e=>{this.isDisposed||(await super.show(!1),this.postMessage(g.PlotViewerMessages.SendPlot,e).ignoreErrors())},super.loadWebview(p.Uri.file(r.cwd())).catch(h.traceError).finally((()=>{(0,k.sendTelemetryEvent)(k.Telemetry.PlotViewerWebviewLoaded,{duration:a.elapsedTime})}))}get closed(){return this.closedEvent.event}get removed(){return this.removedEvent.event}async show(){if(!this.isDisposed)return super.show(!0)}dispose(){super.dispose(),this.removedEvent.dispose(),this.closedEvent&&this.closedEvent.fire(this)}get owningResource(){}onMessage(e,t){switch(e){case g.PlotViewerMessages.CopyPlot:this.copyPlot(t.toString()).ignoreErrors();break;case g.PlotViewerMessages.ExportPlot:this.exportPlot(t).ignoreErrors();break;case g.PlotViewerMessages.RemovePlot:this.removePlot(t)}super.onMessage(e,t)}removePlot(e){this.removedEvent.fire(e)}copyPlot(e){return Promise.resolve()}async exportPlot(e){(0,h.traceInfo)("exporting plot...");const t={};t[b.DataScience.pngFilter()]=["png"],t[b.DataScience.svgFilter()]=["svg"];const n=await this.applicationShell.showSaveDialog({saveLabel:b.DataScience.exportPlotTitle(),filters:t});try{if(n)if(".png"===d.extname(n.path).toLowerCase()){const t=o.from(e.png.replace("data:image/png;base64",""),"base64");await this.fs.writeFile(n,t)}else await this.fs.writeFile(n,e.svg)}catch(e){(0,h.traceError)(e),this.applicationShell.showErrorMessage(b.DataScience.exportImageFailed().format(e)).then(C.noop,C.noop)}}};I=a([(0,u.injectable)(),l(0,(0,u.inject)(m.IWebviewPanelProvider)),l(1,(0,u.inject)(y.IConfigurationService)),l(2,(0,u.inject)(m.IWorkspaceService)),l(3,(0,u.inject)(m.IApplicationShell)),l(4,(0,u.inject)(v.IFileSystem)),l(5,(0,u.inject)(y.IExtensionContext))],I),t.PlotViewer=I},48233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotViewerMessageListener=void 0,n(8513),t.PlotViewerMessageListener=class{constructor(e,t,n){this.disposedCallback=n,this.callback=e,this.viewChanged=t}async dispose(){this.disposedCallback()}onMessage(e,t){this.callback(e,t)}onChangeViewState(e){this.viewChanged&&this.viewChanged(e)}}},93704:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlotViewerProvider=void 0,n(8513);const i=n(86700),s=n(45047),a=n(42080),c=n(41778),l=n(9959);let u=class{constructor(e,t){this.serviceContainer=e,this.imageList=[],this.closedViewer=()=>{this.currentViewer&&(this.currentViewer=void 0),this.currentViewerClosed&&(this.currentViewerClosed.dispose(),this.currentViewerClosed=void 0)},this.removedPlot=e=>{this.imageList.splice(e,1)},t.push(this)}async dispose(){this.currentViewer&&this.currentViewer.dispose()}async showPlot(e){this.imageList.push(e);const t=this.currentViewer?[e]:this.imageList,n=await this.getOrCreate();await Promise.all(t.map(n.addPlot))}async getOrCreate(){return this.currentViewer||(this.currentViewer=this.serviceContainer.get(s.IPlotViewer),this.currentViewerClosed=this.currentViewer.closed(this.closedViewer),this.currentViewer.removed(this.removedPlot),(0,l.sendTelemetryEvent)(l.Telemetry.OpenPlotViewer),await this.currentViewer.show()),this.currentViewer}};u=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IServiceContainer)),o(1,(0,i.inject)(a.IAsyncDisposableRegistry))],u),t.PlotViewerProvider=u},45047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPlotViewer=t.IPlotViewerProvider=t.IPlotViewerMapping=t.PlotViewerMessages=void 0;const r=n(30682);var o;!function(e){e.Started=r.SharedMessages.Started,e.UpdateSettings=r.SharedMessages.UpdateSettings,e.SendPlot="send_plot",e.CopyPlot="copy_plot",e.ExportPlot="export_plot",e.RemovePlot="remove_plot"}(o=t.PlotViewerMessages||(t.PlotViewerMessages={})),t.IPlotViewerMapping=class{},o.Started,o.UpdateSettings,o.SendPlot,o.CopyPlot,o.ExportPlot,o.RemovePlot,t.IPlotViewerProvider=Symbol("IPlotViewerProvider"),t.IPlotViewer=Symbol("IPlotViewer")},61480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(52891),o=n(55231),i=n(67726),s=n(64752),a=n(70997),c=n(90391),l=n(97480),u=n(79708),d=n(48334),p=n(32613),h=n(52064),f=n(96663),g=n(45047),m=n(16798),y=n(93704),v=n(55635),b=n(94981),S=n(95185),w=n(86522);t.registerTypes=function(e){e.addSingleton(h.IExtensionSyncActivationService,S.RendererCommunication),e.addSingleton(h.IExtensionSingleActivationService,l.DataViewerCommandRegistry),e.add(c.IDataViewer,p.DataViewer),e.addSingleton(c.IDataViewerFactory,d.DataViewerFactory),e.addSingleton(c.IDataViewerDependencyService,f.DataViewerDependencyService),e.add(g.IPlotViewer,m.PlotViewer),e.addSingleton(g.IPlotViewerProvider,y.PlotViewerProvider),e.addSingleton(w.IPlotSaveHandler,v.PlotSaveHandler),e.addSingleton(b.PlotViewHandler,b.PlotViewHandler),e.addSingleton(o.INotebookWatcher,u.NotebookWatcher),e.addSingleton(h.IExtensionSingleActivationService,r.VariableViewActivationService),e.addSingleton(o.IVariableViewProvider,i.VariableViewProvider),e.add(c.IJupyterVariableDataProvider,s.JupyterVariableDataProvider),e.addSingleton(c.IJupyterVariableDataProviderFactory,a.JupyterVariableDataProviderFactory)}},79708:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookWatcher=void 0;const i=n(86700),s=n(66828);n(8513);const a=n(94062),c=n(135),l=n(10053),u=n(42080),d=n(90391),p=n(15925),h=n(86563);var f;!function(e){e[e.executed=0]="executed",e[e.restarted=1]="restarted"}(f||(f={}));let g=class{constructor(e,t,n,r,o){this.interactiveWindowProvider=e,this.kernelProvider=t,this.dataViewerFactory=n,this.disposables=r,this.notebooks=o,this._onDidExecuteActiveNotebook=new s.EventEmitter,this._onDidChangeActiveNotebook=new s.EventEmitter,this._onDidRestartActiveNotebook=new s.EventEmitter,this._executionCountTracker=new WeakMap,this.notebooks.onDidChangeActiveNotebookEditor(this.activeEditorChanged,this,this.disposables),this.notebooks.onDidCloseNotebookDocument(this.notebookEditorClosed,this,this.disposables),this.kernelProvider.onDidRestartKernel((e=>{this.handleRestart({state:f.restarted,notebook:e.notebook})}),this,this.disposables),o.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,this.disposables)}get onDidChangeActiveNotebook(){return this._onDidChangeActiveNotebook.event}get onDidExecuteActiveNotebook(){return this._onDidExecuteActiveNotebook.event}get onDidRestartActiveNotebook(){return this._onDidRestartActiveNotebook.event}get activeKernel(){var e;const t=null===(e=this.notebooks.activeNotebookEditor)||void 0===e?void 0:e.notebook,n=(null==t?void 0:t.notebookType)==p.JupyterNotebookView?this.kernelProvider.get(t):void 0;if(n)return n;const r=this.getActiveInteractiveWindowDocument(),o=r?this.kernelProvider.get(r):void 0;if(o)return o;const i=this.dataViewerFactory.activeViewer;return i?this.kernelProvider.kernels.find((e=>e===i.kernel)):void 0}get activeNotebookExecutionCount(){var e;const t=null===(e=this.activeKernel)||void 0===e?void 0:e.notebook;return t?this._executionCountTracker.get(t):void 0}getActiveInteractiveWindowDocument(){const e=this.interactiveWindowProvider.getActiveOrAssociatedInteractiveWindow();if(e)return this.notebooks.notebookDocuments.find((t=>t===(null==e?void 0:e.notebookDocument)))}onDidChangeNotebookCellExecutionState(e){(0,h.isJupyterNotebook)(e.cell.notebook)&&e.state===s.NotebookCellExecutionState.Idle&&this.handleExecute({notebook:e.cell.notebook,state:f.executed,cell:e.cell})}handleExecute(e){var t,n,r,o,i,s;this.isNonSilentExecution(e)&&(void 0!==(null===(n=null===(t=e.cell)||void 0===t?void 0:t.executionSummary)||void 0===n?void 0:n.executionOrder)&&this._executionCountTracker.set(e.notebook,null===(r=e.cell.executionSummary)||void 0===r?void 0:r.executionOrder),this.isActiveNotebookEvent(e)&&void 0!==(null===(i=null===(o=e.cell)||void 0===o?void 0:o.executionSummary)||void 0===i?void 0:i.executionOrder)&&this._onDidExecuteActiveNotebook.fire({executionCount:null===(s=e.cell.executionSummary)||void 0===s?void 0:s.executionOrder}))}handleRestart(e){this._executionCountTracker.delete(e.notebook),this.isActiveNotebookEvent(e)&&this._onDidRestartActiveNotebook.fire()}notebookEditorClosed(e){this._executionCountTracker.delete(e)}activeEditorChanged(e){const t={};if(e&&(0,h.isJupyterNotebook)(e.notebook)){const n=this._executionCountTracker.get(e.notebook);n&&(t.executionCount=n)}this._onDidChangeActiveNotebook.fire(t)}isNonSilentExecution(e){var t;return!(e.state!==f.executed||!e.cell||!(null===(t=e.cell.executionSummary)||void 0===t?void 0:t.executionOrder))}isActiveNotebookEvent(e){var t;return(null===(t=this.activeKernel)||void 0===t?void 0:t.notebook)===e.notebook}};g=r([(0,i.injectable)(),o(0,(0,i.inject)(c.IInteractiveWindowProvider)),o(1,(0,i.inject)(a.IKernelProvider)),o(2,(0,i.inject)(d.IDataViewerFactory)),o(3,(0,i.inject)(u.IDisposableRegistry)),o(4,(0,i.inject)(l.IVSCodeNotebook))],g),t.NotebookWatcher=g},55231:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IVariableViewProvider=t.INotebookWatcher=t.IVariableViewPanelMapping=void 0;const r=n(30682);t.IVariableViewPanelMapping=class{},r.InteractiveWindowMessages.ForceVariableRefresh,r.InteractiveWindowMessages.SettingsUpdated,r.InteractiveWindowMessages.Activate,r.InteractiveWindowMessages.ShowDataViewer,r.InteractiveWindowMessages.GetVariablesRequest,r.InteractiveWindowMessages.GetVariablesResponse,r.InteractiveWindowMessages.VariableExplorerToggle,r.InteractiveWindowMessages.SetVariableExplorerHeight,r.InteractiveWindowMessages.VariableExplorerHeightResponse,r.InteractiveWindowMessages.OpenLink,r.InteractiveWindowMessages.VariablesComplete,r.SharedMessages.UpdateSettings,r.SharedMessages.LocInit,r.InteractiveWindowMessages.FinishCell,r.InteractiveWindowMessages.UpdateVariableViewExecutionCount,r.InteractiveWindowMessages.GetHTMLByIdRequest,r.InteractiveWindowMessages.GetHTMLByIdResponse,r.InteractiveWindowMessages.RestartKernel,t.INotebookWatcher=Symbol("INotebookWatcher"),t.IVariableViewProvider=Symbol("IVariableViewProvider")},56715:function(e,t,n){"use strict";var r=n(34155),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableView=void 0,n(8513);const c=n(66828),l=n(52859),u=n(9959),d=n(70166),p=n(30682),h=n(29444),f=n(11642),g=a(n(25251)),m=n(724),y=n(87486),v=n(85446),b=n(58681);class S extends y.WebviewViewHost{constructor(e,t,n,r,o,i,s,a,c,u,p,h){const f=(0,l.joinPath)(r.extensionUri,"out","webviews","webview-side","viewers");super(e,t,((e,t)=>new d.VariableViewMessageListener(e,t)),n,f,[(0,l.joinPath)(f,"variableView.js")]),this.variables=o,this.disposables=i,this.appShell=s,this.jupyterVariableDataProviderFactory=a,this.dataViewerFactory=c,this.notebookWatcher=u,this.commandManager=p,this.documentManager=h,this.notebookWatcher.onDidExecuteActiveNotebook(this.activeNotebookExecuted,this,this.disposables),this.notebookWatcher.onDidChangeActiveNotebook(this.activeNotebookChanged,this,this.disposables),this.notebookWatcher.onDidRestartActiveNotebook(this.activeNotebookRestarted,this,this.disposables),this.variables.refreshRequired(this.sendRefreshMessage,this,this.disposables),this.documentManager.onDidChangeActiveTextEditor(this.activeTextEditorChanged,this,this.disposables),this.dataViewerChecker=new m.DataViewerChecker(e,s)}get owningResource(){}async load(e){await super.loadWebview(c.Uri.file(r.cwd()),e).catch(f.traceError),this.webviewView&&this.disposables.push(this.webviewView.onDidChangeVisibility((()=>{this.handleVisibilityChanged()}))),this.handleVisibilityChanged()}get title(){return"variableView"}onMessage(e,t){switch(e){case p.InteractiveWindowMessages.GetVariablesRequest:this.handleMessage(e,t,this.requestVariables);break;case p.InteractiveWindowMessages.ShowDataViewer:this.handleMessage(e,t,this.showDataViewer)}super.onMessage(e,t)}handleMessage(e,t,n){const r=t;n.bind(this)(r)}handleVisibilityChanged(){const e=new h.ContextKey("jupyter.variableViewVisible",this.commandManager);let t=!1;this.webviewView&&(t=this.webviewView.visible),e.set(t).ignoreErrors(),t&&((0,u.sendTelemetryEvent)(u.Telemetry.NativeVariableViewMadeVisible),void 0!==this.notebookWatcher.activeNotebookExecutionCount?this.postMessage(p.InteractiveWindowMessages.UpdateVariableViewExecutionCount,{executionCount:this.notebookWatcher.activeNotebookExecutionCount}).ignoreErrors():this.postMessage(p.InteractiveWindowMessages.ForceVariableRefresh).ignoreErrors())}async showDataViewer(e){try{if(this.notebookWatcher.activeKernel&&await this.dataViewerChecker.isRequestedColumnSizeAllowed(e.columnSize,this.owningResource)){const t=await this.jupyterVariableDataProviderFactory.create(e.variable,this.notebookWatcher.activeKernel),n=`${g.DataScience.dataExplorerTitle()} - ${e.variable.name}`;return await this.dataViewerFactory.create(t,n)}}catch(e){(0,f.traceError)(e),(0,u.sendTelemetryEvent)(u.Telemetry.FailedShowDataViewer),this.appShell.showErrorMessage(g.DataScience.showDataViewerFail()).then(b.noop,b.noop)}}async requestVariables(e){const t=this.notebookWatcher.activeKernel;if(t){const n=await this.variables.getVariables(e,t);this.postMessage(p.InteractiveWindowMessages.GetVariablesResponse,n).ignoreErrors(),(0,u.sendTelemetryEvent)(u.Telemetry.VariableExplorerVariableCount,{variableCount:n.totalCount})}else{const t={executionCount:e.executionCount,pageStartIndex:-1,pageResponse:[],totalCount:0,refreshCount:e.refreshCount};this.postMessage(p.InteractiveWindowMessages.GetVariablesResponse,t).ignoreErrors()}}async activeNotebookExecuted(e){this.postMessage(p.InteractiveWindowMessages.UpdateVariableViewExecutionCount,{executionCount:e.executionCount}).ignoreErrors()}async activeNotebookChanged(e){e.executionCount?this.postMessage(p.InteractiveWindowMessages.UpdateVariableViewExecutionCount,{executionCount:e.executionCount}).ignoreErrors():this.postMessage(p.InteractiveWindowMessages.UpdateVariableViewExecutionCount,{executionCount:0}).ignoreErrors(),this.postMessage(p.InteractiveWindowMessages.ForceVariableRefresh).ignoreErrors()}activeTextEditorChanged(){this.postMessage(p.InteractiveWindowMessages.ForceVariableRefresh).ignoreErrors()}async activeNotebookRestarted(){this.postMessage(p.InteractiveWindowMessages.RestartKernel).ignoreErrors()}async sendRefreshMessage(){this.postMessage(p.InteractiveWindowMessages.ForceVariableRefresh).ignoreErrors()}}s([(0,u.capturePerfTelemetry)(u.Telemetry.NativeVariableViewLoaded)],S.prototype,"load",null),s([(0,v.swallowExceptions)()],S.prototype,"showDataViewer",null),s([(0,v.swallowExceptions)()],S.prototype,"requestVariables",null),t.VariableView=S},52891:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableViewActivationService=void 0;const i=n(86700),s=n(66828),a=n(42080),c=n(55231);let l=class{constructor(e,t){this.extensionContext=e,this.variableViewProvider=t}async activate(){this.extensionContext.subscriptions.push(s.window.registerWebviewViewProvider(this.variableViewProvider.viewType,this.variableViewProvider,{webviewOptions:{retainContextWhenHidden:!1}}))}};l=r([(0,i.injectable)(),o(0,(0,i.inject)(a.IExtensionContext)),o(1,(0,i.inject)(c.IVariableViewProvider))],l),t.VariableViewActivationService=l},70166:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariableViewMessageListener=void 0,t.VariableViewMessageListener=class{constructor(e,t){this.disposedCallback=t,this.callback=e}async dispose(){this.disposedCallback()}onMessage(e,t){this.callback(e,t)}}},67726:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableViewProvider=void 0;const i=n(86700),s=n(7214),a=n(10053),c=n(15925),l=n(42080),u=n(43138),d=n(90391),p=n(55231),h=n(56715);let f=class{constructor(e,t,n,r,o,i,s,a,c,l,u,d){this.configuration=e,this.workspaceService=t,this.webviewViewProvider=n,this.context=r,this.variables=o,this.disposables=i,this.appShell=s,this.jupyterVariableDataProviderFactory=a,this.dataViewerFactory=c,this.notebookWatcher=l,this.commandManager=u,this.documentManager=d,this.viewType="jupyterViewVariables"}get activeVariableView(){if(!(0,c.isTestExecution)())throw new Error("activeVariableView only for test code");return this.variableView?Promise.resolve(this.variableView):(this.activeVariableViewPromise=(0,u.createDeferred)(),this.activeVariableViewPromise.promise)}async resolveWebviewView(e,t,n){e.webview.options={enableScripts:!0},this.variableView=new h.VariableView(this.configuration,this.workspaceService,this.webviewViewProvider,this.context,this.variables,this.disposables,this.appShell,this.jupyterVariableDataProviderFactory,this.dataViewerFactory,this.notebookWatcher,this.commandManager,this.documentManager),this.activeVariableViewPromise&&this.activeVariableViewPromise.resolve(this.variableView),await this.variableView.load(e)}};f=r([(0,i.injectable)(),o(0,(0,i.inject)(l.IConfigurationService)),o(1,(0,i.inject)(a.IWorkspaceService)),o(2,(0,i.inject)(a.IWebviewViewProvider)),o(3,(0,i.inject)(l.IExtensionContext)),o(4,(0,i.inject)(s.IJupyterVariables)),o(4,(0,i.named)(c.Identifiers.ALL_VARIABLES)),o(5,(0,i.inject)(l.IDisposableRegistry)),o(6,(0,i.inject)(a.IApplicationShell)),o(7,(0,i.inject)(d.IJupyterVariableDataProviderFactory)),o(8,(0,i.inject)(d.IDataViewerFactory)),o(9,(0,i.inject)(p.INotebookWatcher)),o(10,(0,i.inject)(a.ICommandManager)),o(11,(0,i.inject)(a.IDocumentManager))],f),t.VariableViewProvider=f},14783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidSliceExpression=t.validateSliceExpression=t.fullSliceExpression=t.preselectedSliceExpression=t.sliceRegEx=void 0;const r=n(65634);function o(e,n){if(e.startsWith("[")&&e.endsWith("]")){let o;const i=e.substring(1,e.length-1).split(",").map(((e,r)=>{var i;const s=t.sliceRegEx.exec(e);if((null===(i=null==s?void 0:s.groups)||void 0===i?void 0:i.Start)&&!s.groups.Stop){const e=parseInt(s.groups.Start),t=n[r];return(e>=0&&e>=t||e<0&&e<-t)&&(o={shapeIndex:r,value:e}),e}}));if(o){const{shapeIndex:e,value:t}=o,i=(0,r.getLocString)("DataScience.sliceIndexError","Index {0} out of range for axis {1} with {2} elements");return(0,r.format)(i,t.toString(),e.toString(),n[e].toString())}if(i&&i.length!==n.length){const e=(0,r.getLocString)("DataScience.sliceMismatchedAxesError","Expected {0} axes, got {1} in slice expression");return(0,r.format)(e,n.length.toString(),i.length.toString())}}return""}t.sliceRegEx=/^\s*((?<StartRange>-?\d+:)|(?<StopRange>-?:\d+)|(?:(?<Start>-?\d+)(?::(?<Stop>-?\d+))?(?::(?<Step>-?\d+))?))\s*$/,t.preselectedSliceExpression=function(e){let t=e.length-2;return"["+e.map((()=>t>0?(t-=1,"0"):":")).join(", ")+"]"},t.fullSliceExpression=function(e){return"["+e.map((()=>":")).join(", ")+"]"},t.validateSliceExpression=o,t.isValidSliceExpression=function(e,t){return""===o(e,t)}},65634:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.format=t.storeLocStrings=t.getLocString=void 0,t.getLocString=function(e,t){return n&&n.hasOwnProperty(e)?n[e]:t},t.storeLocStrings=function(e){n=e},t.format=function(e,...t){return e.replace(/{(\d+)}/g,((e,n)=>void 0===t[n]?e:t[n]))}},84564:(e,t,n)=>{"use strict";var r=n(47418),o=n(57129),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(i,"")}var p=[["#","hash"],["?","query"],function(e,t){return g(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function f(e){var t,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(e=e||r);if("blob:"===e.protocol)o=new y(unescape(e.pathname),{});else if("string"===i)for(t in o=new y(e,{}),h)delete o[t];else if("object"===i){for(t in e)t in h||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=a.test(e.href))}return o}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function m(e,t){e=(e=d(e)).replace(s,""),t=t||{};var n,r=l.exec(e),o=r[1]?r[1].toLowerCase():"",i=!!r[2],a=!!r[3],c=0;return i?a?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):a?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===o?c>=2&&(n=n.slice(2)):g(o)?n=r[4]:o?i&&(n=n.slice(2)):c>=2&&g(t.protocol)&&(n=r[4]),{protocol:o,slashes:i||g(o),slashesCount:c,rest:n}}function y(e,t,n){if(e=(e=d(e)).replace(s,""),!(this instanceof y))return new y(e,t,n);var i,a,c,l,h,v,b=p.slice(),S=typeof t,w=this,C=0;for("object"!==S&&"string"!==S&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),i=!(a=m(e||"",t=f(t))).protocol&&!a.slashes,w.slashes=a.slashes||i&&t.slashes,w.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||u.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!g(w.protocol)))&&(b[3]=[/(.*)/,"pathname"]);C<b.length;C++)"function"!=typeof(l=b[C])?(c=l[0],v=l[1],c!=c?w[v]=e:"string"==typeof c?~(h="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof l[2]?(w[v]=e.slice(0,h),e=e.slice(h+l[2])):(w[v]=e.slice(h),e=e.slice(0,h))):(h=c.exec(e))&&(w[v]=h[1],e=e.slice(0,h.index)),w[v]=w[v]||i&&l[3]&&t[v]||"",l[4]&&(w[v]=w[v].toLowerCase())):e=l(e,w);n&&(w.query=n(w.query)),i&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(i=!0),n.splice(r,1),s--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&g(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(h=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,h),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(h+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&g(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}y.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,c.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";i[e]=t.charAt(0)!==s?s+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(i.username=t.slice(0,a),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(a+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var l=0;l<p.length;l++){var u=p[l];u[4]&&(i[u[1]]=i[u[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&g(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(n.protocol&&n.slashes||g(n.protocol)?"//":"");return n.username?(s+=n.username,n.password&&(s+=":"+n.password),s+="@"):n.password?(s+=":"+n.password,s+="@"):"file:"!==n.protocol&&g(n.protocol)&&!r&&"/"!==n.pathname&&(s+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),s+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(s+=n.hash),s}},y.extractProtocol=m,y.location=f,y.trimLeft=d,y.qs=o,e.exports=y},45327:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},85217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},71171:(e,t,n)=>{var r=n(85217),o=n(45327);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},39054:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,n(25669).default.install();const i=n(23870);o(n(23870),t);class s extends i.AbstractMessageReader{constructor(e){super(),this._onData=new i.Emitter,this._messageListener=e=>{this._onData.fire(e.data)},e.addEventListener("error",(e=>this.fireError(e))),e.onmessage=this._messageListener}listen(e){return this._onData.event(e)}}t.BrowserMessageReader=s;class a extends i.AbstractMessageWriter{constructor(e){super(),this.context=e,this.errorCount=0,e.addEventListener("error",(e=>this.fireError(e)))}write(e){try{return this.context.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.BrowserMessageWriter=a,t.createMessageConnection=function(e,t,n,r){return void 0===n&&(n=i.NullLogger),i.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,i.createMessageConnection)(e,t,n,r)}},25669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30147),o=n(83911),i=n(27135),s=n(75530);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return(new TextEncoder).encode(e)}toString(e,t){return"ascii"===t?this.asciiDecoder.decode(e):new TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e:e.slice(0,t)}allocNative(e){return new Uint8Array(e)}}a.emptyBuffer=new Uint8Array(0);class c{constructor(e){this.socket=e,this._onData=new i.Emitter,this._messageListener=e=>{e.data.arrayBuffer().then((e=>{this._onData.fire(new Uint8Array(e))}),(()=>{(0,r.default)().console.error("Converting blob to array buffer failed.")}))},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),o.Disposable.create((()=>this.socket.removeEventListener("close",e)))}onError(e){return this.socket.addEventListener("error",e),o.Disposable.create((()=>this.socket.removeEventListener("error",e)))}onEnd(e){return this.socket.addEventListener("end",e),o.Disposable.create((()=>this.socket.removeEventListener("end",e)))}onData(e){return this._onData.event(e)}}class l{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),o.Disposable.create((()=>this.socket.removeEventListener("close",e)))}onError(e){return this.socket.addEventListener("error",e),o.Disposable.create((()=>this.socket.removeEventListener("error",e)))}onEnd(e){return this.socket.addEventListener("end",e),o.Disposable.create((()=>this.socket.removeEventListener("end",e)))}write(e,t){if("string"==typeof e){if(void 0!==t&&"utf-8"!==t)throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}}const u=new TextEncoder,d=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if("utf-8"!==t.charset)throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(u.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new l(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function p(){return d}!function(e){e.install=function(){r.default.install(d)}}(p||(p={})),t.default=p},23870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFormat=t.TraceValues=t.Trace=t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=void 0;const r=n(20839);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const o=n(96184);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return o.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return o.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return o.Touch}});const i=n(83911);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}});const s=n(27135);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});const a=n(13881);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const c=n(56525);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const l=n(96654);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return l.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return l.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return l.WriteableStreamMessageWriter}});const u=n(61343);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return u.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return u.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return u.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return u.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return u.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return u.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return u.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return u.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return u.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return u.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return u.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return u.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return u.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return u.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return u.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return u.CancellationStrategy}});const d=n(30147);t.RAL=d.default},13881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(30147),o=n(67574),i=n(27135);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||o.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},61343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const r=n(30147),o=n(67574),i=n(20839),s=n(96184),a=n(27135),c=n(13881);var l,u,d,p,h,f,g,m,y,v,b,S,w,C,k;!function(e){e.type=new i.NotificationType("$/cancelRequest")}(l||(l={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(u=t.ProgressToken||(t.ProgressToken={})),function(e){e.type=new i.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return o.func(e)}}(p||(p={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(h=t.Trace||(t.Trace={})),(k=t.TraceValues||(t.TraceValues={})).Off="off",k.Messages="messages",k.Compact="compact",k.Verbose="verbose",function(e){e.fromString=function(t){if(!o.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return o.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new i.NotificationType("$/setTrace")}(g=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new i.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(y=t.ConnectionErrors||(t.ConnectionErrors={}));class _ extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,_.prototype)}}t.ConnectionError=_,function(e){e.is=function(e){const t=e;return t&&o.func(t.cancelUndispatched)}}(v=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&o.func(t.createCancellationTokenSource)}}(b=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(l.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&o.func(t.sendCancellation)&&o.func(t.cleanup)}}(S=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:b.Message,sender:S.Message}),e.is=function(e){const t=e;return t&&b.is(t.receiver)&&S.is(t.sender)}}(w=t.CancellationStrategy||(t.CancellationStrategy={})),(t.ConnectionOptions||(t.ConnectionOptions={})).is=function(e){const t=e;return t&&(w.is(t.cancellationStrategy)||v.is(t.connectionStrategy))},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(C||(C={})),t.createMessageConnection=function(e,n,v,b){const S=void 0!==v?v:t.NullLogger;let k=0,I=0,E=0;const P="2.0";let D;const T=new Map;let x;const j=new Map,M=new Map;let N,O,A=new s.LinkedMap,R=new Map,L=new Set,F=new Map,U=h.Off,K=f.Text,W=C.New;const V=new a.Emitter,B=new a.Emitter,H=new a.Emitter,J=new a.Emitter,q=new a.Emitter,$=b&&b.cancellationStrategy?b.cancellationStrategy:w.Message;function G(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function z(e){}function Y(){return W===C.Listening}function Q(){return W===C.Closed}function Z(){return W===C.Disposed}function X(){W!==C.New&&W!==C.Listening||(W=C.Closed,B.fire(void 0))}function ee(){N||0===A.size||(N=(0,r.default)().timer.setImmediate((()=>{N=void 0,function(){if(0===A.size)return;const e=A.shift();try{i.Message.isRequest(e)?function(e){if(Z())return;function t(t,r,o){const s={jsonrpc:P,id:e.id};t instanceof i.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,re(s,r,o),n.write(s).catch((()=>S.error("Sending response failed.")))}function r(t,r,o){const i={jsonrpc:P,id:e.id,error:t.toJson()};re(i,r,o),n.write(i).catch((()=>S.error("Sending response failed.")))}!function(e){if(U!==h.Off&&O)if(K===f.Text){let t;U!==h.Verbose&&U!==h.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),O.log(`Received request '${e.method} - (${e.id})'.`,t)}else ie("receive-request",e)}(e);const s=T.get(e.method);let a,c;s&&(a=s.type,c=s.handler);const l=Date.now();if(c||D){const s=e.id??String(Date.now()),u=$.receiver.createCancellationTokenSource(s);null!==e.id&&L.has(e.id)&&u.cancel(),null!==e.id&&F.set(s,u);try{let d;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void r(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but received none.`),e.method,l);d=c(u.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===i.ParameterStructures.byName)return void r(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,l);d=c(...e.params,u.token)}else{if(void 0!==a&&a.parameterStructures===i.ParameterStructures.byPosition)return void r(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,l);d=c(e.params,u.token)}else D&&(d=D(e.method,e.params,u.token));const p=d;d?p.then?p.then((n=>{F.delete(s),t(n,e.method,l)}),(t=>{F.delete(s),t instanceof i.ResponseError?r(t,e.method,l):t&&o.string(t.message)?r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)})):(F.delete(s),t(d,e.method,l)):(F.delete(s),function(t,r,o){void 0===t&&(t=null);const i={jsonrpc:P,id:e.id,result:t};re(i,r,o),n.write(i).catch((()=>S.error("Sending response failed.")))}(d,e.method,l))}catch(n){F.delete(s),n instanceof i.ResponseError?t(n,e.method,l):n&&o.string(n.message)?r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,l):r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else r(new i.ResponseError(i.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,l)}(e):i.Message.isNotification(e)?function(e){if(Z())return;let t,n;if(e.method===l.type.method){const t=e.params.id;return L.delete(t),void oe(e)}{const r=j.get(e.method);r&&(n=r.handler,t=r.type)}if(n||x)try{if(oe(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==i.ParameterStructures.byName&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),n();else if(Array.isArray(e.params)){const r=e.params;e.method===d.type.method&&2===r.length&&u.is(r[0])?n({token:r[0],value:r[1]}):(void 0!==t&&(t.parameterStructures===i.ParameterStructures.byName&&S.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${r.length} arguments`)),n(...r))}else void 0!==t&&t.parameterStructures===i.ParameterStructures.byPosition&&S.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params);else x&&x(e.method,e.params)}catch(t){t.message?S.error(`Notification handler '${e.method}' failed with message: ${t.message}`):S.error(`Notification handler '${e.method}' failed unexpectedly.`)}else H.fire(e)}(e):i.Message.isResponse(e)?function(e){if(!Z())if(null===e.id)e.error?S.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):S.error("Received response message without id. No further error information provided.");else{const t=e.id,n=R.get(t);if(function(e,t){if(U!==h.Off&&O)if(K===f.Text){let n;if(U!==h.Verbose&&U!==h.Compact||(e.error&&e.error.data?n=`Error data: ${ne(e.error.data)}\n\n`:e.result?n=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";O.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else O.log(`Received response ${e.id} without active response promise.`,n)}else ie("receive-response",e)}(e,n),void 0!==n){R.delete(t);try{if(e.error){const t=e.error;n.reject(new i.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?S.error(`Response handler '${n.method}' failed with message: ${e.message}`):S.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void S.error("Received empty message.");S.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(o.string(t.id)||o.number(t.id)){const e=t.id,n=R.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{ee()}}()})))}e.onClose(X),e.onError((function(e){V.fire([e,void 0,void 0])})),n.onClose(X),n.onError((function(e){V.fire(e)}));const te=e=>{try{if(i.Message.isNotification(e)&&e.method===l.type.method){const t=e.params.id,r=G(t),o=A.get(r);if(i.Message.isRequest(o)){const i=b?.connectionStrategy,s=i&&i.cancelUndispatched?i.cancelUndispatched(o,z):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return A.delete(r),F.delete(t),s.id=o.id,re(s,e.method,Date.now()),void n.write(s).catch((()=>S.error("Sending response for canceled message failed.")))}const s=F.get(t);if(void 0!==s)return s.cancel(),void oe(e);L.add(t)}!function(e,t){var n;i.Message.isRequest(t)?e.set(G(t.id),t):i.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++E).toString():"res-"+n.toString(),t):e.set("not-"+(++I).toString(),t)}(A,e)}finally{ee()}};function ne(e){if(null!=e)switch(U){case h.Verbose:return JSON.stringify(e,null,4);case h.Compact:return JSON.stringify(e);default:return}}function re(e,t,n){if(U!==h.Off&&O)if(K===f.Text){let r;U!==h.Verbose&&U!==h.Compact||(e.error&&e.error.data?r=`Error data: ${ne(e.error.data)}\n\n`:e.result?r=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),O.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else ie("send-response",e)}function oe(e){if(U!==h.Off&&O&&e.method!==m.type.method)if(K===f.Text){let t;U!==h.Verbose&&U!==h.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),O.log(`Received notification '${e.method}'.`,t)}else ie("receive-notification",e)}function ie(e,t){if(!O||U===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};O.log(n)}function se(){if(Q())throw new _(y.Closed,"Connection is closed.");if(Z())throw new _(y.Disposed,"Connection is disposed.")}function ae(e){return void 0===e?null:e}function ce(e){return null===e?void 0:e}function le(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function ue(e,t){switch(e){case i.ParameterStructures.auto:return le(t)?ce(t):[ae(t)];case i.ParameterStructures.byName:if(!le(t))throw new Error("Received parameters by name but param is not an object literal.");return ce(t);case i.ParameterStructures.byPosition:return[ae(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function de(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=ue(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ae(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const pe={sendNotification:(e,...t)=>{let r,s;if(se(),o.string(e)){r=e;const n=t[0];let o=0,a=i.ParameterStructures.auto;i.ParameterStructures.is(n)&&(o=1,a=n);let c=t.length;const l=c-o;switch(l){case 0:s=void 0;break;case 1:s=ue(a,t[o]);break;default:if(a===i.ParameterStructures.byName)throw new Error(`Received ${l} parameters for 'by Name' notification parameter structure.`);s=t.slice(o,c).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n)}const a={jsonrpc:P,method:r,params:s};return function(e){if(U!==h.Off&&O)if(K===f.Text){let t;U!==h.Verbose&&U!==h.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),O.log(`Sending notification '${e.method}'.`,t)}else ie("send-notification",e)}(a),n.write(a).catch((()=>S.error("Sending notification failed.")))},onNotification:(e,t)=>{let n;return se(),o.func(e)?x=e:t&&(o.string(e)?(n=e,j.set(e,{type:void 0,handler:t})):(n=e.method,j.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?j.delete(n):x=void 0}}},onProgress:(e,t,n)=>{if(M.has(t))throw new Error(`Progress handler for token ${t} already registered`);return M.set(t,n),{dispose:()=>{M.delete(t)}}},sendProgress:(e,t,n)=>pe.sendNotification(d.type,{token:t,value:n}),onUnhandledProgress:J.event,sendRequest:(e,...t)=>{let r,s,a;if(se(),function(){if(!Y())throw new Error("Call listen() first.")}(),o.string(e)){r=e;const n=t[0],o=t[t.length-1];let l=0,u=i.ParameterStructures.auto;i.ParameterStructures.is(n)&&(l=1,u=n);let d=t.length;c.CancellationToken.is(o)&&(d-=1,a=o);const p=d-l;switch(p){case 0:s=void 0;break;case 1:s=ue(u,t[l]);break;default:if(u===i.ParameterStructures.byName)throw new Error(`Received ${p} parameters for 'by Name' request parameter structure.`);s=t.slice(l,d).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n);const o=e.numberOfParams;a=c.CancellationToken.is(n[o])?n[o]:void 0}const l=k++;let u;return a&&(u=a.onCancellationRequested((()=>{const e=$.sender.sendCancellation(pe,l);return void 0===e?(S.log(`Received no promise from cancellation strategy when cancelling id ${l}`),Promise.resolve()):e.catch((()=>{S.log(`Sending cancellation messages for id ${l} failed`)}))}))),new Promise(((e,t)=>{const o={jsonrpc:P,id:l,method:r,params:s};let a={method:r,timerStart:Date.now(),resolve:t=>{e(t),$.sender.cleanup(l),u?.dispose()},reject:e=>{t(e),$.sender.cleanup(l),u?.dispose()}};!function(e){if(U!==h.Off&&O)if(K===f.Text){let t;U!==h.Verbose&&U!==h.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),O.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ie("send-request",e)}(o);try{n.write(o).catch((()=>S.error("Sending request failed.")))}catch(e){a.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&R.set(l,a)}))},onRequest:(e,t)=>{se();let n=null;return p.is(e)?(n=void 0,D=e):o.string(e)?(n=null,void 0!==t&&(n=e,T.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,T.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?T.delete(n):D=void 0)}}},hasPendingResponse:()=>R.size>0,trace:async(e,t,n)=>{let r=!1,i=f.Text;void 0!==n&&(o.boolean(n)?r=n:(r=n.sendNotification||!1,i=n.traceFormat||f.Text)),U=e,K=i,O=U===h.Off?void 0:t,!r||Q()||Z()||await pe.sendNotification(g.type,{value:h.toString(e)})},onError:V.event,onClose:B.event,onUnhandledNotification:H.event,onDispose:q.event,end:()=>{n.end()},dispose:()=>{if(Z())return;W=C.Disposed,q.fire(void 0);const t=new i.ResponseError(i.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of R.values())e.reject(t);R=new Map,F=new Map,L=new Set,A=new s.LinkedMap,o.func(n.dispose)&&n.dispose(),o.func(e.dispose)&&e.dispose()},listen:()=>{se(),function(){if(Y())throw new _(y.AlreadyListening,"Connection is already listening")}(),W=C.Listening,e.listen(te)},inspect:()=>{(0,r.default)().console.log("inspect")}};return pe.onNotification(m.type,(e=>{if(U===h.Off||!O)return;const t=U===h.Verbose||U===h.Compact;O.log(e.message,t?e.verbose:void 0)})),pe.onNotification(d.type,(e=>{const t=M.get(e.token);t?t(e.value):J.fire(e)})),pe}},83911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}}},27135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(30147);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class o{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,o=this._callbacks.length;r<o;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),o=this._contexts.slice(0);for(let i=0,s=n.length;i<s;i++)try{t.push(n[i].apply(o[i],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=i,i._noop=function(){}},67574:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},96184:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class o{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let o=this._map.get(e);if(o)o.value=t,n!==r.None&&this.touch(o,n);else{switch(o={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(o);break;case r.First:this.addItemFirst(o);break;case r.Last:default:this.addItemLast(o)}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=o,t.LRUCache=class extends o{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},75530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const o=this._chunks[t];for(n=0;n<o.length;){switch(o[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=o.byteLength,t++}if(4!==e)return;const o=this._read(r+n),i=new Map,s=this.toString(o,"ascii").split("\r\n");if(s.length<2)return i;for(let e=0;e<s.length-2;e++){const t=s[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),o=t.substr(n+1).trim();i.set(r,o)}return i}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const o=r.slice(0,e);t.set(o,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},56525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(30147),o=n(67574),i=n(27135);var s;(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&o.func(t.listen)&&o.func(t.dispose)&&o.func(t.onError)&&o.func(t.onClose)&&o.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${o.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){let t,n;const o=new Map;let i;const s=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,o.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(i=e.contentTypeDecoder,s.set(i.name,i)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===i&&(i=(0,r.default)().applicationJson.decoder,s.set(i.name,i)),{charset:t,contentDecoder:n,contentDecoders:o,contentTypeDecoder:i,contentTypeDecoders:s}}}(s||(s={})),t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=(0,r.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,r.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},96654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(30147),o=n(67574),i=n(80142),s=n(27135);var a;(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&o.func(t.dispose)&&o.func(t.onClose)&&o.func(t.onError)&&o.func(t.write)};class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${o.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,r.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,r.default)().applicationJson.encoder}}}(a||(a={})),t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new i.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},20839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(67574);var o,i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(o=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:o.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=s;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class c{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=c,t.RequestType0=class extends c{constructor(e){super(e,0)}},t.RequestType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends c{constructor(e){super(e,2)}},t.RequestType3=class extends c{constructor(e){super(e,3)}},t.RequestType4=class extends c{constructor(e){super(e,4)}},t.RequestType5=class extends c{constructor(e){super(e,5)}},t.RequestType6=class extends c{constructor(e){super(e,6)}},t.RequestType7=class extends c{constructor(e){super(e,7)}},t.RequestType8=class extends c{constructor(e){super(e,8)}},t.RequestType9=class extends c{constructor(e){super(e,9)}},t.NotificationType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends c{constructor(e){super(e,0)}},t.NotificationType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends c{constructor(e){super(e,2)}},t.NotificationType3=class extends c{constructor(e){super(e,3)}},t.NotificationType4=class extends c{constructor(e){super(e,4)}},t.NotificationType5=class extends c{constructor(e){super(e,5)}},t.NotificationType6=class extends c{constructor(e){super(e,6)}},t.NotificationType7=class extends c{constructor(e){super(e,7)}},t.NotificationType8=class extends c{constructor(e){super(e,8)}},t.NotificationType9=class extends c{constructor(e){super(e,9)}},(i=t.Message||(t.Message={})).isRequest=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},i.isNotification=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},i.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},30147:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},80142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(30147);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},30189:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.BundleFormat=t.MessageFormat=void 0;var o=n(71926),i=n(40800),s=n(40800);function a(e){return function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if("number"==typeof e)throw new Error("Browser implementation does currently not support externalized strings.");return i.localize.apply(void 0,r([e,t],n,!1))}}function c(e){var t;return(0,i.setPseudo)("pseudo"===(null===(t=null==e?void 0:e.locale)||void 0===t?void 0:t.toLowerCase())),a}Object.defineProperty(t,"MessageFormat",{enumerable:!0,get:function(){return s.MessageFormat}}),Object.defineProperty(t,"BundleFormat",{enumerable:!0,get:function(){return s.BundleFormat}}),t.loadMessageBundle=a,t.config=c,o.default.install(Object.freeze({loadMessageBundle:a,config:c}))},40800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var r,o,i,s=n(71926);function a(e){return void 0!==e}function c(e,n){return t.isPseudo&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===n.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var r=t[0],o=n[r],i=e;return"string"==typeof o?i=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(i=String(o)),i}))}(i=t.MessageFormat||(t.MessageFormat={})).file="file",i.bundle="bundle",i.both="both",(o=t.BundleFormat||(t.BundleFormat={})).standalone="standalone",o.languagePack="languagePack",function(e){e.is=function(e){var t=e;return t&&a(t.key)&&a(t.comment)}}(r||(r={})),t.isDefined=a,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=c,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return c(t,n)},t.loadMessageBundle=function(e){return(0,s.default)().loadMessageBundle(e)},t.config=function(e){return(0,s.default)().config(e)}},71926:(e,t)=>{"use strict";var n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},59035:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15654);t.getExperimentationService=r.getExperimentationService,t.getExperimentationServiceAsync=r.getExperimentationServiceAsync;var o=n(22560);t.TargetPopulation=o.TargetPopulation},55708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MementoKeyValueStorage=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}}},4619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}},22560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class o{constructor(e,t,n){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=n}static trimVersionSuffix(e){return e.split(/\-[a-zA-Z0-9]+$/)[0]}getFilterValue(e){switch(e){case i.ApplicationVersion:return o.trimVersionSuffix(r.version);case i.Build:return r.env.appName;case i.ClientId:return r.env.machineId;case i.ExtensionName:return this.extensionName;case i.ExtensionVersion:return o.trimVersionSuffix(this.extensionVersion);case i.Language:return r.env.language;case i.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(i);for(let n of t)e.set(n,this.getFilterValue(n));return e}}var i,s;t.VSCodeFilterProvider=o,function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"}(i=t.Filters||(t.Filters={})),(s=t.TargetPopulation||(t.TargetPopulation={})).Team="team",s.Internal="internal",s.Insiders="insider",s.Public="public"},15654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22560),o=n(14802),i=n(66828),s=n(55708),a=n(4619);function c(e,t,n,c,l,...u){if(!l)throw new Error("Memento storage was not provided.");const d=i.workspace.getConfiguration("telemetry");if(!(void 0===i.env.isTelemetryEnabled?d.get("enableTelemetry",!0):i.env.isTelemetryEnabled))return new a.default;const p=[new r.VSCodeFilterProvider(e,t,n),...u],h=new s.MementoKeyValueStorage(l);return new o.ExperimentationService({filterProviders:p,telemetry:c,storageKey:"VSCode.ABExp.FeatureData",keyValueStorage:h,featuresTelemetryPropertyName:"VSCode.ABExp.Features",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext",telemetryEventName:"query-expfeature",endpoint:"https://default.exp-tas.com/vscode/ab",refetchInterval:18e5})}t.getExperimentationService=c,t.getExperimentationServiceAsync=async function(e,t,n,r,o,...i){const s=c(e,t,n,r,o,...i);return await s.initializePromise,s}},10667:(e,t,n)=>{const r="object"==typeof window&&window.crypto&&window.crypto.subtle&&window.crypto.subtle.subtle?window.crypto:void 0,o="object"==typeof window&&window.msCrypto&&window.msCrypto.subtle&&window.msCrypto.subtle.subtle?window.msCrypto:void 0,i=r||o||n(30941);t.computeHash=async function(e,t){const n=(new TextEncoder).encode(e),r=await i.subtle.digest({name:t},n);return Array.from(new Uint8Array(r)).map((e=>e.toString(16).padStart(2,"0"))).join("")}},30941:function(e,t){"use strict";var n,r;r=this,n=function(){return r.msrCrypto=function(e){e=e||{};return function(){var t={register:function(e,n,r){t[e]||(t[e]={});var o=t[e];o[n]||(o[n]=r)},exists:function(e,n){return!!t[e]&&!!t[e][n]}},n=function(){if("undefined"!=typeof document)try{throw new Error}catch(t){if(t.stack){var e=/\w+:\/\/(.+?\/)*.+\.js/.exec(t.stack);return e&&e.length>0?e[0]:null}}else if("undefined"!=typeof self&&void 0!==self.location)return self.location.href;return null}(),r="undefined"!=typeof Worker,o="function"==typeof importScripts&&self instanceof WorkerGlobalScope,s=!1,a="undefined"!=typeof ArrayBuffer,c=function(){try{return Object.defineProperty({},"oncomplete",{}),!0}catch(e){return!1}}(),l=!1,u=function(e,t,n,r,o){if(c){var i={};r&&(i.get=r),o&&(i.set=o),Object.defineProperty(e,t,i)}else e[t]=n},d={},p=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(t){for(t=t.replace(/-/g,"+").replace(/_/g,"/");t.length%4!=0;)t+="=";var n,r,o,i,s,a,c,l=[];for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),c=0;c<t.length;c+=4)n=e.indexOf(t.charAt(c))<<2|(i=e.indexOf(t.charAt(c+1)))>>4,r=(15&i)<<4|(s=e.indexOf(t.charAt(c+2)))>>2,o=(3&s)<<6|(a=e.indexOf(t.charAt(c+3))),l.push(n),64!==s&&l.push(r),64!==a&&l.push(o);return l}function n(e){return Object.prototype.toString.call(e).slice(8,-1)}function r(e){return[e>>>24&255,e>>>16&255,e>>>8&255,255&e]}function o(e){if(!e)return[];if(e.pop)return e;if("ArrayBuffer"===n(e)?e=new Uint8Array(e):e.BYTES_PER_ELEMENT>1&&(e=new Uint8Array(e.buffer)),1===e.length)return[e[0]];if(e.length<65536)return Array.apply(null,e);for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}return{consoleLog:function(e){"console"in self&&"log"in console&&console.log(e)},toBase64:function(t,r){var i=n(t);if("Array"!==i&&"Uint8Array"!==i&&"ArrayBuffer"!==i)throw new Error("invalid input");var s,a,c,l,u,d,p,h,f="",g=o(t);for(r||(r=!1),h=0;h<g.length;h+=3)l=(s=g[h])>>2,u=(3&s)<<4|(a=g[h+1])>>4,d=(15&a)<<2|(c=g[h+2])>>6,p=63&c,isNaN(a)?d=p=64:isNaN(c)&&(p=64),f=f+e.charAt(l)+e.charAt(u)+e.charAt(d)+e.charAt(p);return r?f.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""):f},fromBase64:t,checkParam:function(e,t,r){if(!e)throw new Error(r);if(t&&n(e)!==t)throw new Error(r);return!0},getObjectType:n,bytesToHexString:function(e,t){var n="";void 0===t&&(t=!1);for(var r=0;r<e.length;r++){t&&r%4==0&&0!==r&&(n+="-");var o=e[r].toString(16).toUpperCase();1===o.length&&(n+="0"),n+=o}return n},bytesToInt32:function(e,t){return e[t=t||0]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]},stringToBytes:function(e){for(var t=[],n=0,r=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t[r++]=o:o<2048?(t[r++]=o>>>6|192,t[r++]=63&o|128):o<55296||o>57343?(t[r++]=o>>>12|224,t[r++]=o>>>6&63|128,t[r++]=63&o|128):(o=1024*(o-55296)+(e.charCodeAt(++n)-56320)+65536,t[r++]=o>>>18|240,t[r++]=o>>>12&63|128,t[r++]=o>>>6&63|128,t[r++]=63&o|128)}return t},bytesToString:function(e){var t,n="";e=o(e);for(var r=0;r<e.length;){var i=e[r++];if((t=i<128?i:i<224?(i<<6)+e[r++]-12416:i<240?(i<<12)+(e[r++]<<6)+e[r++]-925824:(i<<18)+(e[r++]<<12)+(e[r++]<<6)+e[r++]-63447168)>65535){var s=Math.floor((t-65536)/1024)+55296,a=(t-65536)%1024+56320;n+=String.fromCharCode(s,a)}else n+=String.fromCharCode(t)}return n},unpackData:function(e,n,r){var o,i=t(e),s=[];if(isNaN(n))return i;for(o=0;o<i.length;o+=n)s.push(i.slice(o,o+n));if(r)for(o=0;o<s.length;o++)s[o]=(s[o][0]<<24)+(s[o][1]<<16)+(s[o][2]<<8)+s[o][3];return s},hexToBytesArray:function(e){e=e.replace(/\-/g,"");for(var t=[];e.length>=2;)t.push(parseInt(e.substring(0,2),16)),e=e.substring(2,e.length);return t},int32ToBytes:r,int32ArrayToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(r(e[n]));return t},toArray:o,arraysEqual:function(e,t){var n=!0;e.length!==t.length&&(n=!1);for(var r=0;r<e.length;r++)e[r]!==t[r]&&(n=!1);return n},clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},xorVectors:function(e,t,n){for(var r=Math.min(e.length,t.length),o=(n=n||new Array(r),0);o<r;o+=1)n[o]=e[o]^t[o];return n},padEnd:function(e,t,n){for(;e.length<n;)e.push(t);return e},padFront:function(e,t,n){for(;e.length<n;)e.unshift(t);return e},getVector:function(e,t){isNaN(t)&&(t=0);for(var n=new Array(e),r=0;r<e;r+=1)n[r]=t;return n},verifyByteArray:function(e){if("Array"!==n(e))return!1;for(var t,r=0;r<e.length;r++)if(t=e[r],isNaN(t)||t<0||t>255)return!1;return!0}}}(),h=function(){var e={0:"CUSTOM",1:"BOOLEAN",2:"INTEGER",3:"BIT STRING",4:"OCTET STRING",5:"NULL",6:"OBJECT IDENTIFIER",16:"SEQUENCE",17:"SET",19:"PRINTABLE STRING",23:"UTCTime"};function t(e,n){var r=new Array(n+1).join(" ")+e.type+" ("+e.length+") "+bytesToHexString(e.data).substring(0,16)+"\n";if(!e.children)return r;for(var o=0;o<e.children.length;o++)r+=t(e.children[o],n+4)+"";return r}return{parse:function t(n,r){r=!!r;var o,i,s,a=e[31&n[0]],c=n[1],l=0,u=!!(32&n[0]);if(128&c)for(l=0,c=0;l<(127&n[1]);l++)c=(c<<8)+n[2+l];if(s=2+l,void 0===a||c>n.length)return null;var d=u?[]:{};if(d.type=a,d.header=s,d.data=n.slice(0,c+s),u||r)for("BIT STRING"===d.type&&0===n[s]&&l++,o=n.slice(s,d.data.length);o.length>0&&null!==(i=t(o));)d.push(i),o=o.slice(i.data.length);return d},encode:function(e){throw new Error("not implemented")},toString:function(e){return t(e,0)}}}(),f=function(){function e(e){return s&&o&&self.postMessage(e),e}return{jsCryptoRunner:function(n){n.data.workerid,n.data.operationType,n.data.operationSubType;var r=n.data.operationType,o=t[r][n.data.algorithm.name],i=n.data;if(!t.exists(r,n.data.algorithm.name))throw new Error("unregistered algorithm.");return i.operationSubType?e({type:i.operationSubType,result:o(i)}):e(o(i))},returnResult:e}}();o&&(self.onmessage=function(e){if(!s&&e.data.prngSeed){var t=e.data.prngSeed;return $.init(t),s=!0,f.returnResult({initialized:!0})}!0===s&&f.jsCryptoRunner(e)});var g=function(){var e=p;function t(e){var t=e.algorithm.name.slice(0,3).toUpperCase();return"RSA"===t?"RSA":"ECD"===t?"EC":"oct"}function n(e){return e.hash.name.substring(e.hash.name.indexOf("-")+1)}var r={HMAC:function(e){return"HS"+n(e)},"AES-CBC":function(e){return"A"+e.length.toString()+"CBC"},"AES-GCM":function(e){return"A"+e.length.toString()+"GCM"},"RSAES-PKCS1-V1_5":function(e){return"RSA1_5"},"RSASSA-PKCS1-V1_5":function(e){return"RS"+n(e)},"RSA-OAEP":function(e){return"SHA-1"===e.hash.name.toUpperCase()?"RSA-OAEP":"RSA-OAEP-"+n(e)},"RSA-PSS":function(e){return"PS"+n(e)},ECDSA:function(e){return"EC-"+e.namedCurve.substring(e.namedCurve.indexOf("-")+1)}};return{keyToJwkOld:function(n,r){var o={};if(o.kty=t(n),o.extractable=n.extractable,r.pop)o.k=e.toBase64(r,!0);else for(var i in r)r[i].pop&&(o[i]=e.toBase64(r[i],!0));return n.algorithm.namedCurve&&(o.crv=n.algorithm.namedCurve),function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return 0===t[t.length-1]&&t.pop(),t}(JSON.stringify(o,null,"\t"))},keyToJwk:function(n,o){var i={};if(i.kty=t(n),i.ext=n.extractable,r[n.algorithm.name.toUpperCase()]&&(i.alg=r[n.algorithm.name.toUpperCase()](n.algorithm)),i.key_ops=n.usages,o.pop)i.k=e.toBase64(o,!0);else for(var s in o)o[s].pop&&"key_ops"!==s&&(i[s]=e.toBase64(o[s],!0));return n.algorithm.namedCurve&&(i.crv=n.algorithm.namedCurve),i},jwkToKey:function(t,n,r){for(var o=JSON.parse(JSON.stringify(t)),i=0;i<r.length;i+=1){var s=o[r[i]];s&&(o[r[i]]=e.fromBase64(s))}return o}}}();var m=m||function(){for(var e=24,t=Math.floor(3),n=16777215,r=16777216,o=1/r,i=[1,256],s=2;s<=t;s++)i[s]=256*i[s-1];var a=[0],c=[1];function l(e){var t,n=null;if(arguments.length&&"number"!=typeof arguments[0]){if("object"==typeof arguments[0])for(n=new Array(e.length),t=0;t<e.length;t+=1)n[t]=e[t]}else for(n=new Array(e),t=0;t<e;t+=1)n[t]=0;return n}function u(e,t,n,r,o){for(;o-- >0;)n[r+o]=e[t+o]}function d(e){var t,n=0;for(t=0;t<e.length;t+=1)n|=e[t];return!n}function p(e){var n=Math.floor((e.length+t-1)/t),o=new Array(n);o[0]=0;for(var s=0,a=0,c=0,l=e.length-1;l>=0;l--)s+=i[c++]*(255&e[l]),i[c]===r&&(c=0,o[a++]=s,s=0);for(0!==s&&(o[a]=s);null==o[--n];)o[n]=0;return o}function h(t,n){if(void 0===n)if(t<=1)n=1;else{var o=Math.log(t)/Math.LN2;n=Math.ceil(o/e)}for(var i=[];t>0;)i.push(t%r),t=Math.floor(t/r);for(;i.length<n;)i.push(0);return i}function f(e){for(var t=e.length-1;t>=0;t--)if(void 0!==e[t]&&0!==e[t])return t;return 0===e[0]?-1:0}function g(e,t){var n,r,o=0;for(r=0;r<Math.max(e.length,t.length);r++)o=(n=~~e[r]-~~t[r])+(o&-!n);return o}function y(e,t,n){var r=f(e);if(e.length=t||r+1,n)for(;++r<e.length;)e[r]=0;return e.length<=0&&(e[0]=0,e.length=1),e}function v(t,r,o,i){if(void 0===o)o=1;else if(o>=e||o<0)throw new Error("bit count must be smaller than DIGIT_BITS and positive in shiftLeft");void 0===i&&(i=t.length);var s=e-o;r[i]=t[i-1]>>>e-o||r[i];for(var a=i-1;a>0;a--)r[a]=(t[a]<<o|t[a-1]>>>s)&n;r[0]=t[0]<<o&n}function b(t,r,o){var i=t,s=r;r.length<t.length&&(i=r,s=t);var a,c=i.length,l=0;for(a=0;a<c;a+=1)l+=i[a]+s[a],o[a]=l&n,l>>=e;for(a=c;a<s.length;a+=1)l+=s[a],o[a]=l&n,l>>=e;return o.length=s.length,0!==l&&(o[a]=l&n),l}function S(t,r,o){var i=r.length;if(t.length<r.length&&(i=f(r)+1,t.length<i))throw new Error("Subtrahend is longer than minuend, not supported.");var s,a=0;for(s=0;s<i;s+=1)a+=t[s]-r[s],o[s]=a&n,a>>=e;for(;s<t.length;)a+=t[s],o[s++]=a&n,a>>=e;return a}function w(e,t,r){t="number"==typeof t?[t]:t;var i,s,a,c,l,u,d,p,h=e.length,f=t.length;for(i=0;i<h+f;i+=1)r[i]=0;i=0,c=0;for(var g=0;i<f;){for(c=Math.min(c+31,f);i<c;i++)for(p=t[i],s=0;s<h;s++)r[i+s]+=e[s]*p;for(l=0,a=g;a<i+h;a++)d=(u=r[a]+l)&n,r[a]=d,l=(u-d)*o;r[a]=l,g+=31}return r.length=h+f,r}function C(t,o,i,s,a,c){var l,d,p,h,g,m,b,S=f(t)+1,w=f(o)+1;if(S<w)return u(t,0,s,0,t.length),s.length=t.length,y(s),i[0]=0,void(i.length=1);if(0===w||1===w&&0===o[w-1])throw new Error("Division by zero.");if(1===w){for(g=o[0],d=0,b=S-1;b>=0;b--)h=d*r+t[b],i[b]=h/g&n,d=h-i[b]*g&n;return i.length=S,y(i),s[0]=d,void(s.length=1)}var C=23-function(t){for(var n=0,r=0;r<e;r++)n=Math.max(n,-(t>>>r&1)&r);return n}(o[w-1]),k=a||[];k.length=w,v(o,k,C,w);var _=c||[];for(_.length=S,v(t,_,C,S),_[S]=_[S]||0,i.length=S-w+1,s.length=w,b=S-w;b>=0;b--){for(l=Math.floor((_[b+w]*r+_[b+w-1])/k[w-1]),d=_[b+w]*r+_[b+w-1]-l*k[w-1];(l>=r||l*k[w-2]>d*r+_[b+w-2])&&(l-=1,(d+=k[w-1])<r););for(p=0,m=0;m<w;m++)h=l*k[m],g=_[m+b]-p-(h&n),_[m+b]=g&n,p=Math.floor(h/r)-Math.floor(g/r);if(g=_[b+w]-p,_[b+w]=g&n,i[b]=l&n,g<0){for(i[b]=i[b]-1,p=0,m=0;m<w;m++)g=_[m+b]+k[m]+p,_[m+b]=g&n,p=g>>e;_[b+w]=_[b+w]+p&n}}for(m=0;m<w;m++)s[m]=(_[m]>>>C|_[m+1]<<e-C)&n;y(i),y(s)}function k(e,t,n,r,o){var i;if(d(e))return u(t,0,o,0,t.length),o.length=t.length,0;if(d(t))return u(e,0,o,0,e.length),o.length=e.length,0;g(e,t)<0?(i=e.slice(0),u(t,0,o,0,t.length),o.length=t.length):(i=t.slice(0),u(e,0,o,0,e.length),o.length=e.length),y(o),y(i);var s,a,c=new Array(o.length),l=new Array(o.length),p=new Array(o.length),h=void 0!==r;h&&((s=new Array(o.length))[0]=1,s.length=1,r[0]=0,r.length=1);var f=new Array(o.length),m=void 0!==n;m&&((a=new Array(o.length))[0]=0,a.length=1,n[0]=1,n.length=1);for(var v,S=-1,k=n,_=r,I=o;!d(i);)C(o,i,c,l,f,p),m&&(w(c,a,f),b(f,n,f),y(f),v=n,n=a,a=f,f=v),h&&(w(c,s,p),b(p,r,p),y(p),v=r,r=s,s=p,p=v),v=o,o=i,i=l,l=v,S++;return m&&(u(n,0,k,0,n.length),k.length=n.length),h&&(u(r,0,_,0,r.length),_.length=r.length),u(o,0,I,0,o.length),I.length=o.length,S}function _(e,t,n,r){if(r=r||[],0===g(t,a))r[0]=1;else if(0===g(t,c))u(e,0,r,0,e.length),r.length=e.length;else{var o=new I(n);y(e,o.s,!0),o.modExp(e,t,r),r.length=n.length}return r}function I(t,r){function i(t){for(var r=1,o=2,i=3,s=i&t,a=2;a<=e;a+=1)o<s&&(r+=o),o<<=1,s=t*r&(i=i<<1|1);return 1+(~r&n)}function s(e,t,r,i){for(var s,a,u,d,p,h,f,g,y=(i=i||this).m,v=y.length,b=i.mPrime,S=i.m0,w=0,C=0,k=l(v+2);w<v;){for(C=Math.min(v,C+16);w<C;){for(s=~~t[w],u=((a=k[0]+e[0]*s)&n)*b&n,k[1]+=(S*u+a)*o|0,d=1,p=0;d<v;p=d,d+=1)k[p]=k[d]+y[d]*u+e[d]*s;k[p]=k[d],k[d]=0,w++}for(g=0,d=0;d<v;d++)f=(h=k[d]+g)&n,k[d]=f,g=(h-f)*o;k[d]=g}for(w=0;w<v;w+=1)r[w]=k[w];r.length=v;var _=+(m.compareDigits(k,y)>0);m.subtract(r,y,i.temp2),c(_,r,i.temp2)}function a(e,t,n){var r,o,i,s,a;for(r=0;r<e[0].length;r++)n[r]=0;for(o=0;o<e.length;o++)for(s=e[o],i=-(t===o),a=0;a<s.length;a++)n[a]=n[a]|s[a]&i}function c(e,t,n){for(var r=-e,o=~r,i=0;i<t.length;i++)t[i]=t[i]&o|n[i]&r}var u=(r=r||function(e){var t=e.length,n=e[0],r={m:e,mPrime:i(n),m0:n,temp1:l(2*t+1),temp2:l(2*t+1)},o=l(2*e.length);o[o.length]=1,r.mu=[],C(o,e,r.mu,[]);var a=l(2*t+1),c=l(t+1),u=l(2*t+1),d=l(2*t+1),p=c;p[t]=1,C(p,e,a,c,u,d),r.rModM=y(c,t,!0);var h=l(2*t+1),f=h;return f[2*t]=1,C(f,e,a,h,u,d),r.rSquaredModm=y(h,t,!0),r.rCubedModm=l(t),s(h,h,r.rCubedModm,r),r}(t)).m,d=r.mu,p=r.m0,h=u.length,f=l(h+1).slice(0,h);f[0]=1;var v=r.mPrime,b=r.rModM,k=r.rSquaredModm,_=r.rCubedModm,I=l(2*h+1),E=l(2*h+1),P=new Array(4);return P[0]=b,P[1]=new Array(h),P[2]=new Array(h),P[3]=new Array(h),{m:u,m0:p,mPrime:v,mu:d,rSquaredModm:k,s:h,rModM:b,rCubedModm:_,one:f,temp1:I,temp2:E,convertToMontgomeryForm:function(e){if(e.length<this.s){e.length=this.s;for(var t=0;t<this.s;t++)e[t]=isNaN(e[t])?0:e[t]}var n=l(e.length);for(this.montgomeryMultiply(e,this.rSquaredModm,n),t=0;t<this.s;t+=1)e[t]=n[t]},convertToStandardForm:function(e){this.montgomeryMultiply(e,this.one,this.temp1);for(var t=0;t<this.s;t+=1)e[t]=this.temp1[t]},montgomeryMultiply:s,modExp:function(t,n,r,o){o=!!o;var i,s,c=function(t){var n,r,o=2,i=t*e;r=4+3*Math.ceil(i/2)+1;do{o++,n=r,r=Math.pow(2,o)+Math.ceil(i/o)*(o+1)+1}while(r<n);return o-1}(n.length),l=function(t,n){var r,o=t.length,i=(new Array(o*e),0),s=0,a=0,c=0,l=new Array(Math.ceil(o*e/n));for(a=0,l[0]=0;i<o;i++)for(s=0,r=t[i];s<e;s++,r>>>=1)a===n&&(l[++c]=0,a=0),l[c]+=(1&r)<<a++;return l}(n,c).reverse(),u=this.rModM.slice(0),d=Math.pow(2,c),p=P;for(p.length=d,p[0]=this.rModM,i=1;i<d;i++)p[i]=[],w(p[i-1],t,p[i]),this.reduce(p[i]);var h,f=[];for(i=0;i<l.length;i++){for(s=0;s<c;s++)this.montgomeryMultiply(u,u,u);h=l[i],o?f=p[h]:a(p,h,f),this.montgomeryMultiply(u,f,u)}return this.montgomeryMultiply(u,this.one,r),r},reduce:function(e,t){var n,r,o,i,s,a,l=this.m.length,d=[];for(t=t||e,n=[],w(e.slice(l-1),this.mu,n),r=n.slice(l+1),o=e.slice(0,l+1),w(r,u,i=[]),i=i.slice(0,l+1),o[l+1]=g(o,i)>>>31,s=0;s<t.length;s++)t[s]=0;S(o,i,t),a=+(g(t,u)>0),m.subtract(t,u,d),c(a,t,d),y(t)},ctx:r}}return{DIGIT_BITS:e,DIGIT_NUM_BYTES:t,DIGIT_MASK:n,DIGIT_BASE:r,DIGIT_MAX:16777215,Zero:a,One:c,normalizeDigitArray:y,bytesToDigits:p,stringToDigits:function(e,t){e=e.replace(/^\s+|\s+$/g,"");var n=[0],r=[0];t=t||10;for(var o=0;o<e.length;o+=1){var i=parseInt(e[o],t);if(isNaN(i))throw new Error("Failed to convert string to integer in radix "+t.toString());w(n,t,r),b(r,[i],n),y(n)}return n},digitsToString:function(e,t){if(r<=(t=t||10))throw new Error("DIGIT_BASE is smaller than RADIX; cannot convert.");var n,o=e.length,i=[],s=[],a=[],c=[],l=[],u=[],d="",p="0";for(l[0]=t;Math.floor(r/l[0])>=t;)l[0]=l[0]*t,p=p.concat("0");for(n=0;n<o;n+=1)u[n]=e[n];for(;;){var h=!0;for(n=0;n<u.length;n+=1)if(0!==u[n]){h=!1;break}if(h)break;C(u,l,i,s,a,c),y(i,u.length,!0);var f=s[0].toString(t);d=p.substring(0,p.length-f.length)+f+d;var g=u;u=i,i=g}for(;0!==d.length&&"0"===d[0];)d=d.substring(1,d.length);return 0===d.length&&(d="0"),d},intToDigits:h,digitsToBytes:function(e,n,r){var o,i,s,a=[0];for(void 0===n&&(n=!0),o=0;o<e.length;o+=1)for(s=e[o],i=0;i<t;i+=1)a[o*t+i]=255&s,s=Math.floor(s/256);if(a.reverse(),void 0===r&&(r=1),n)for(;a.length>r&&0===a[0];)a.shift();return a},isZero:d,isEven:function(e){return 0==(1&e[0])},shiftRight:function(t,r,o,i){if(void 0===o)o=1;else if(o>=e||o<0)throw new Error("Invalid bit count for shiftRight");void 0===i&&(i=t.length);for(var s=i-1,a=e-o,c=0;c<s;c++)r[c]=(t[c+1]<<a|t[c]>>>o)&n;r[s]=t[s]>>>o},shiftLeft:v,compareDigits:g,bitLength:function(e){for(var t=0,n=0;t<e.length;){if(0===n)for(var r=7;r>=0&&0===n;){var o=1<<r;(e[t]&o)===o&&(n=r+1),r--}else n+=8;t+=1}return n},fixedWindowRecode:function(e,t,n){e=e.slice();for(var r=[],o=Math.pow(2,t),i=Math.pow(2,t-1),s=0;s<n;s++)r[s]=e[0]%o-i,e[0]=e[0]-r[s],m.shiftRight(e,e,t-1);return r[s]=e[0],r},IntegerGroup:function(t){var r=p(t),o=r.length,i=h(0,o),s=h(1,o),a=l(o),c=l(o);function u(e,t){return{m_digits:e,m_group:t,equals:function(e){return 0===g(this.m_digits,e.m_digits)&&this.m_group.equals(this.m_group,e.m_group)}}}return{m_modulus:r,m_digitWidth:o,montmul:new I(r),createElementFromInteger:function(e){return u(h(e,this.m_digitWidth),this)},createElementFromBytes:function(e){var t=p(e);if(m.compareDigits(t,this.m_modulus)>=0)throw new Error("The number provided is not an element of this group");return y(t,this.m_digitWidth,!0),u(t,this)},createElementFromDigits:function(e){return m.normalizeDigitArray(e,this.m_digitWidth,!0),u(e,this)},equals:function(e){return 0===g(this.m_modulus,e.m_modulus)},add:function(t,r,o){var i,s=this.m_digitWidth,a=o.m_digits;m.add(t.m_digits,r.m_digits,a);var c=(g(a,this.m_modulus)>>>31)-1&n,l=0;for(i=0;i<s;i+=1)l=a[i]-(this.m_modulus[i]&c)+l,a[i]=l&n,l>>=e;a.length=s},subtract:function(t,r,o){var i,s=this.m_digitWidth,a=o.m_digits,c=m.subtract(t.m_digits,r.m_digits,o.m_digits);if(-1===c)for(c=0,i=0;i<s;i+=1)c+=a[i]+this.m_modulus[i],a[i]=c&n,c>>=e},multiply:function(e,t,n){return m.modMul(e.m_digits,t.m_digits,this.m_modulus,n.m_digits,a,c)},inverse:function(e,t){m.modInv(e.m_digits,this.m_modulus,t.m_digits)},modexp:function(e,t,n){if(n=n||u([],this),0===g(t,i))n.m_digits=h(1,this.m_digitWidth);else if(0===g(t,s)){for(var r=0;r<e.m_digits.length;r++)n.m_digits[r]=e.m_digits[r];n.m_digits.length=e.m_digits.length}else this.montmul.modExp(e.m_digits,t,n.m_digits),n.m_digits.length=this.montmul.s;return n}}},add:b,subtract:S,multiply:w,divRem:C,reduce:function(e,t,n,r,o){return C(e,t,[],n,r,o),n},modInv:function(e,t,n,r){var o=new Array(t.length),i=new Array(t.length),s=new Array(t.length),a=k(e,t,i,o,s);return n=n||[],0!==g(s,c)?(n[0]=NaN,n.length=1):(1==(1&a)?S(t,o,n):(u(o,0,n,0,o.length),n.length=o.length),r?y(n,t.length,!0):y(n)),n},modInvCT:function(e,t,n,r){var o=[];return n=n||[],S(t,[2],o),_(e,o,t,n),y(n),n},modExp:_,modMul:function(e,t,n,r,o,i){var s=[];return w(e,t,s),C(s,n,s,r,o,i),r},MontgomeryMultiplier:I,gcd:function(e,t,n){var r=e,o=t;return g(e,t)>0&&(r=t,o=e),k(r,o,void 0,void 0,n),y(n)},sequenceEqual:function(e,t){for(var n=e.length===t.length,r=0;r<Math.min(e.length,t.length);r+=1)e[r]!==t[r]&&(n=!1);return n},swapEndianness:function(e){return e.reverse()},computeBitArray:function(e){for(var t=l(8*e.length),n=0,r=e.length-1;r>=0;){for(var o=0;o<8;){var i=1<<o,s=(e[r]&i)===i?1:0,a=8*(e.length-r-1)+o;1===s&&(n=a+1),t[a]=s,o+=1}r--}return t.slice(0,n)}}}();var y=y||function(){var e=m.bytesToDigits;function t(e){var t,n=null;if(arguments.length&&"number"!=typeof arguments[0]){if("object"==typeof arguments[0])for(n=[],t=0;t<e.length;t+=1)n[t]=e[t]}else for(n=[],t=0;t<e;t+=1)n[t]=0;return n}var n=function(e,t,n,o,i,s){var a=e.length;return{p:e,a:t,b:n,order:o,generator:r(this,!1,i,s,null,!1),allocatePointStorage:function(){return r(this,!1,m.intToDigits(0,a),m.intToDigits(0,a))},createPointAtInfinity:function(){return r(this,!0,m.intToDigits(0,a),m.intToDigits(0,a))}}},r=function(e,n,o,i,s,a){var l;return void 0===s&&(s=null),void 0===a&&(a=!1),u(l={equals:function(e){return function(e){return!(!e||(!l.isInfinity||!e.isInfinity)&&(null===l.z&&null!==e.z||null!==l.z&&null===e.z||(null===l.z?0!==m.compareDigits(l.x,e.x)||0!==m.compareDigits(l.y,e.y)||l.isInMontgomeryForm!==e.isInMontgomeryForm:0!==m.compareDigits(l.x,e.x)||0!==m.compareDigits(l.y,e.y)||0!==m.compareDigits(l.z,e.z)||l.isInMontgomeryForm!==e.isInMontgomeryForm)))}(e)},copy:function(e){!function(e,t){if(t.curve=e.curve,t.x=e.x.slice(),t.y=e.y.slice(),null!==e.z?t.z=e.z.slice():t.z=null,c||(t.isAffine=e.isAffine),t.isInMontgomeryForm=e.isInMontgomeryForm,t.isInfinity=e.isInfinity,!t.equals(e))throw new Error("Instances should be equal.")}(this,e)},clone:function(){return e=r(l.curve,l.isInfinity,t(l.x),t(l.y),l.z?t(l.z):null,l.isInMontgomeryForm),l.ta&&(e.ta=t(l.ta)),l.tb&&(e.tb=t(l.tb)),e;var e}},"curve",e,(function(){return e}),(function(t){e=t})),u(l,"x",o,(function(){return o}),(function(e){o=e})),u(l,"y",i,(function(){return i}),(function(e){i=e})),u(l,"z",s,(function(){return s}),(function(e){s=e})),u(l,"isInMontgomeryForm",a,(function(){return a}),(function(e){a=e})),u(l,"isInfinity",n,(function(){return n}),(function(e){n=e})),u(l,"isAffine",null===s,(function(){return null===s})),l},o=function(e){var n=1===e.type,r=e.p.length,o=m.MontgomeryMultiplier(e.p),s=e.a.slice();o.convertToMontgomeryForm(s);var a=m.isZero(e.a),l=m.One,u=t(r);u[0]=1,o.convertToMontgomeryForm(u);var d=m.IntegerGroup(m.digitsToBytes(o.m),!0),p=t(r),h=t(r),f=t(r),g=t(r),y=t(r),v=t(r),b=t(r),S=t(r),w=t(r),C=t(r),k=t(r),_=t(r);function I(e,t,n){var r=d.createElementFromInteger(0);r.m_digits=n,d.subtract(d.createElementFromDigits(e),d.createElementFromDigits(t),r)}function E(e,t,n){var r=d.createElementFromInteger(0);r.m_digits=n,d.add(d.createElementFromDigits(e),d.createElementFromDigits(t),r)}function P(t,n){var r=t.length,o=e.p;if(1==(1&t[0])){for(var i=0,s=0;s<r;s+=1)i+=t[s]+o[s],n[s]=i&m.DIGIT_MASK,i>>>=m.DIGIT_BITS;i<<=m.DIGIT_BITS-1,m.shiftRight(n,n),n[r-1]|=i}else m.shiftRight(t,n)}function D(e,t,n){o.montgomeryMultiply(e,t,n)}function T(e,t){o.montgomeryMultiply(e,e,t)}function x(e,t){var n=t.clone();if(L(n),!K(n))throw new Error("Invalid Parameter");var r=t.clone();U(r);var o,i=[t.clone()],s=r.clone(),a=r.clone();j(r,a),F(a);for(var c=1;c<Math.pow(2,e-2);c++)N(s,a,s),F(o=s.clone()),i[c]=o;return i}function j(e,t){if(void 0===e)throw new Error("point undefined");if(void 0===t)throw new Error("outputPoint undefined");if(e.isAffine)throw new Error("Given point was in Affine form. Use convertToJacobian() first.");if(!e.isInMontgomeryForm)throw new Error("Given point must be in Montgomery form. Use montgomeryize() first.");a?function(e,t){if(e.isInfinity)t.isInfinity=!0;else{T(e.y,g),T(e.x,y),E(y,y,p),E(p,y,y),D(e.x,g,v),T(g,p),P(y,h),T(h,g),D(e.y,e.z,w);for(var n=0;n<w.length;n+=1)t.z[n]=w[n];I(g,v,t.x),I(t.x,v,t.x),I(v,t.x,y),D(h,y,f),I(f,p,t.y),t.isInfinity=!1,t.isInMontgomeryForm=!0}}(e,t):function(e,t){e.isInfinity?t.isInfinity=!0:(T(e.z,h),D(e.z,e.y,y),E(e.x,h,f),I(e.x,h,h),t.z=y.slice(),D(h,f,g),P(g,f),E(g,f,h),T(e.y,f),T(h,y),D(e.x,f,g),I(y,g,y),I(y,g,t.x),I(g,t.x,y),T(f,g),D(h,y,f),I(f,g,t.y),t.isInfinity=!1,t.isInMontgomeryForm=!0)}(e,t)}function M(e,t,n){if(e.isInfinity)return t.copy(n),void this.convertToJacobianForm(n);if(t.isInfinity)e.copy(n);else{if(T(e.z,v),D(e.z,v,b),D(t.x,v,y),D(t.y,b,v),I(y,e.x,h),I(v,e.y,f),m.isZero(h))return m.isZero(f)?(j(e,n),void N(n,t,n)):(n.x=e.x.slice(0),n.y=e.y.slice(0),void(n.z=e.z.slice(0)));if(T(f,y),T(h,b),D(b,e.x,v),D(h,b,p),I(y,v,g),I(g,v,g),D(e.z,h,y),I(g,v,g),D(p,e.y,b),I(g,p,g),m.isZero(g)){for(i=0;i<n.x.length;i++)n.x[i]=0,n.y[i]=0,n.z[i]=0;n.y[0]=1}else E(b,b,h),D(y,g,n.z),D(f,g,y),T(g,p),E(h,y,h),D(p,v,y),T(h,S),D(p,g,v),I(S,y,n.x),I(n.x,y,n.x),I(n.x,v,n.x),I(n.x,y,g),D(v,b,p),D(h,g,y),I(y,p,n.y),n.isInfinity=!1,n.isInMontgomeryForm=!0}}function N(e,t,n){if(null===e)throw new Error("jacobianPoint");if(null===t)throw new Error("affinePoint");if(null===n)throw new Error("outputPoint");if(e.curve!==t.curve||e.curve!==n.curve)throw new Error("All points must be from the same curve object.");if(e.isAffine)throw new Error("Given jacobianPoint was in Affine form. Use ConvertToJacobian()                     before calling DoubleJacobianAddAffinePoints().");if(!t.isAffine)throw new Error("Given affinePoint was in Jacobian form. Use ConvertToAffine() before                      calling DoubleJacobianAddAffinePoints().");if(n.isAffine)throw new Error("Given jacobianPoint was in Jacobian form. Use ConvertToJacobian() before                      calling DoubleJacobianAddAffinePoints().");if(!e.isInMontgomeryForm)throw new Error("Jacobian point must be in Montgomery form");if(!t.isInMontgomeryForm)throw new Error("Affine point must be in Montgomery form");if(e.isInfinity)return t.copy(n),void this.convertToJacobianForm(n);if(t.isInfinity)e.copy(n);else{var o;for(T(e.z,h),D(h,e.z,f),D(h,t.x,g),D(f,t.y,y),I(g,e.x,h),I(y,e.y,f),o=0;o<h.length;o+=1)if(0!==h[o]){D(e.z,h,p);for(var i=0;i<r;i+=1)n.z[i]=p[i];return T(h,g),D(g,h,y),D(g,e.x,v),E(v,v,h),T(f,n.x),I(n.x,h,n.x),I(n.x,y,n.x),I(v,n.x,g),D(f,g,v),D(e.y,y,b),I(v,b,n.y),n.isInfinity=!1,void(n.isInMontgomeryForm=!0)}for(o=0;o<f.length;o+=1)if(0!==f[o])return n.isInfinity=!0,void(n.isInMontgomeryForm=!0);t.copy(n),this.convertToJacobianForm(n),this.double(n,n),n.isInMontgomeryForm=!0}}function O(t,n,o,i){if(n.isInfinity||m.isZero(t))o.isInfinity=!0;else{if(m.compareDigits(t,e.order)>=0)throw new Error("The scalar k must be in the range 1 <= k < order.");if(t=t.slice(),1===n.curve.type){var s=void 0!==n.ta;s||B(n),function(e,t,n,o){if(!W(t))throw new Error("Invalid Parameter");var i=t.curve.rbits;o=void 0===o||o;var s,a,c=r<=8?5:6,l=Math.floor((i+(c-2))/(c-1));e=e.slice();var u=t.clone();B(u),o&&(q(u,u),q(u,u));var d=V(1<<c-2,u),p=1&e[0],h=[];for(I(t.curve.order,e,h),s=0;s<e.length;s++)e[s]=p-1&(e[s]^h[s])^e[s];var f=m.fixedWindowRecode(e,c,l),g=Math.floor(Math.abs(f[l])-1)/2,y=d[g];for(u.x=y.x.slice(),u.y=y.y.slice(),u.z=y.z.slice(),s=l-1;s>=0;s--){for(a=0;a<c-1;a++)q(u,u);var v=H(d,g=Math.floor((Math.abs(f[s])-1)/2)),b=-(f[s]>>>31);I(t.curve.p,v.x,h);for(var S=0;S<v.x.length;S++)v.x[S]=v.x[S]&~b|h[S]&b;for(I(t.curve.p,v.td,h),S=0;S<v.td.length;S++)v.td[S]=v.td[S]&~b|h[S]&b;G(v,u,u)}for(I(t.curve.p,u.x,h),s=0;s<u.x.length;s++)u.x[s]=p-1&(u.x[s]^h[s])^u.x[s];J(u),n.x=u.x.slice(),n.y=u.y.slice()}(t,n,o,i),s||J(n)}else{var a=n.isInMontgomeryForm,c=o.isInMontgomeryForm,l=o.isAffine;a||R(n),c||R(o),function(e,t,n){var o=t.clone();if(L(o),!K(o))throw new Error("Invalid Parameters.");var i=1&e[0],s=[];for(I(t.curve.order,e,s),f=0;f<e.length;f++)e[f]=i-1&(e[f]^s[f])^e[f];var a=r<=8?5:6,c=t.curve.p.length*m.DIGIT_BITS,l=Math.ceil(c/(a-1)),u=m.fixedWindowRecode(e,a,l),d=x(a,t),p=Math.floor(Math.abs(u[l])-1)/2,h=d[p].clone();U(h);for(var f=l-1;f>=0;f--){for(var g=0;g<a-2;g++)j(h,h);var y=A(d,p=Math.floor((Math.abs(u[f])-1)/2));I(y.curve.p,y.y,s);for(var v=-(u[f]>>>31),b=0;b<y.y.length;b++)y.y[b]=y.y[b]&~v|s[b]&v;M(h,y,h)}for(I(t.curve.p,h.y,s),f=0;f<h.y.length;f++)h.y[f]=i-1&(h.y[f]^s[f])^h.y[f];h.copy(n)}(t,n,o),l&&F(o),a||L(n),c||L(o)}}}function A(e,t){for(var n,r,o=0;o<e.length;o++)n=+(o===t),r=[r,e[o].clone()][n];return r}function R(e){if(e.isInMontgomeryForm)throw new Error("The given point is already in Montgomery form.");e.isInfinity||(o.convertToMontgomeryForm(e.x),o.convertToMontgomeryForm(e.y),null!==e.z&&o.convertToMontgomeryForm(e.z),void 0!==e.ta&&(o.convertToMontgomeryForm(e.ta),o.convertToMontgomeryForm(e.tb))),e.isInMontgomeryForm=!0}function L(e){if(!e.isInMontgomeryForm)throw new Error("The given point is not in montgomery form.");e.isInfinity||(o.convertToStandardForm(e.x),o.convertToStandardForm(e.y),null!==e.z&&o.convertToStandardForm(e.z),void 0!==e.ta&&(o.convertToStandardForm(e.ta),o.convertToStandardForm(e.tb))),e.isInMontgomeryForm=!1}function F(t){if(t.isInfinity)return t.z=null,void(c||(t.isAffine=!0));if(m.modInv(t.z,e.p,_,!0),t.isInMontgomeryForm){D(_,o.rCubedModm,k);var n=_;_=k,k=n}T(_,C),D(t.x,C,k);for(var i=0;i<r;i+=1)t.x[i]=k[i];D(t.y,C,k),D(k,_,t.y),t.z=null,delete t.ta,delete t.tb,c||(t.isAffine=!0)}function U(e){if(!e.isAffine)throw new Error("The given point is not in Affine form.");c||(e.isAffine=!1);var n,r,o=e.isInMontgomeryForm?u:l;for(n=t(o.length),r=0;r<o.length;r+=1)n[r]=o[r];e.z=n}function K(e){return!e.isInfinity&&(m.modMul(e.y,e.y,e.curve.p,h),m.modMul(e.x,e.x,e.curve.p,f),m.modMul(e.x,f,e.curve.p,g),E(g,e.curve.b,f),m.modMul(e.x,e.curve.a,e.curve.p,g),E(f,g,f),I(h,f,h),!1!==m.isZero(h))}function W(e){return e.ta&&J(e=e.clone()),m.modMul(e.y,e.y,e.curve.p,g),m.modMul(e.x,e.x,e.curve.p,f),m.add(f,g,h),m.reduce(y,e.curve.p,y),m.modMul(f,g,e.curve.p,y),m.modMul(e.curve.d,y,e.curve.p,g),m.add(g,[1],f),m.reduce(f,e.curve.p,f),m.subtract(h,f,h),!1!==m.isZero(h)||(m.reduce(h,e.curve.p,h),!1!==m.isZero(h))}function V(e,t){var n=t.clone(),r=n.clone(),o=[];o[0]=$(t),q(n,n),r=$(n),n=t.clone();for(var i=1;i<e;i++)G(r,n,n),o[i]=$(n);return o}function B(e){e.ta=e.x.slice(),e.tb=e.y.slice(),e.z=[1]}function H(e,t){for(var n=(t+1)%e.length,r=0;r<e.length;r++){var o={x:e[n].x.slice(),y:e[n].y.slice(),z:e[n].z.slice(),td:e[n].td.slice()};n=(n+1)%e.length}return o}function J(t){m.modInv(t.z,e.p,_,!0),m.modMul(t.x,_,e.p,t.x),m.modMul(t.y,_,e.p,t.y),delete t.ta,delete t.tb,t.z=null}function q(e,t){if(void 0===e.ta)throw new Error("Point should be in Extended Projective form.");m.modMul(e.x,e.x,e.curve.p,p),m.modMul(e.y,e.y,e.curve.p,h),m.modMul(e.z,e.z,e.curve.p,e.ta),I(h,p,t.tb),E(p,h,p),E(e.ta,e.ta,e.ta),E(e.y,e.y,e.y),I(e.ta,p,h),m.modMul(e.x,e.y,e.curve.p,t.ta),m.modMul(p,t.tb,e.curve.p,t.y),m.modMul(h,t.ta,e.curve.p,t.x),m.modMul(p,h,e.curve.p,t.z)}function $(e){var t=e.curve,n=t.p,r={x:e.x.slice(),y:e.y.slice(),z:e.z.slice(),td:[],curve:e.curve};return m.modMul(e.ta,e.tb,n,C),m.modMul(C,t.d,n,r.td),r}function G(e,t,n){var r=m,o=t.curve.p;h=[],f=[],g=[],r.modMul(t.z,e.z,o,g),r.modMul(t.ta,t.tb,o,h),E(t.x,t.y,t.ta),r.modMul(h,e.td,o,f),E(e.x,e.y,t.tb),I(g,f,h),E(g,f,g),r.modMul(t.ta,t.tb,o,f),r.modMul(t.x,e.x,o,t.z),r.modMul(t.y,e.y,o,t.x),I(f,t.z,f),I(t.x,t.z,n.ta),I(f,t.x,n.tb),r.modMul(n.ta,g,o,n.y),r.modMul(n.tb,h,o,n.x),r.modMul(g,h,o,n.z)}var z={convertToMontgomeryForm:R,convertToStandardForm:L,convertToAffineForm:F,convertToJacobianForm:U,generatePrecomputationTable:function(e,t){return x(e,t)}};return n?(z.double=q,z.add=function(e,t,n){if(void 0===e.ta)throw new Error("Point1 should be in Extended Projective form.");if(void 0===t.ta)throw new Error("Point2 should be in Extended Projective form.");G($(e),t,n)},z.scalarMultiply=O,z.normalize=J,z.convertToExtendedProjective=B,z.convertTedToWeierstrass=function(e,t){var n=e.curve.a.slice(),r=e.curve.d.slice(),o=e.curve.p,i=m.modMul,s=m.modInv;i(n,h=[5],o,f),I(f,r,f),i(r,h,o,g),I(n,g,h),i(e.y,h,o,g),E(g,f,f),I(h=[1],e.y,g),i(h=[12],g,o,y),s(y,o,y,!0),i(e.x,g,o,h),E(h,h,g),E(g,g,g),s(g,o,g,!0),i(y,f,o,t.x),h=[1],E(e.y,h,h),I(n,r,f),i(h,f,o,y),i(y,g,o,t.y)},z.convertWeierstrassToTed=function(e,t){var n=t.curve.a.slice(),r=t.curve.d.slice(),o=t.curve.p,i=m.modMul,s=m.modInv;E(e.x,e.x,h),E(e.x,h,h),E(h,h,h),I(h,n,f),I(f,r,f),E(e.y,e.y,g),E(e.y,g,g),E(g,g,g),s(g,o,g,!0),i(f,g,o,t.x),E(h,h,h),E(h,r,f),E(h,n,h),E(n,n,g),I(f,g,f),I(f,g,f),I(f,n,f),E(r,r,g),I(h,g,h),I(h,g,h),I(h,r,h),s(h,o,h,!0),i(h,f,o,t.y)},z.validatePoint=W,z.generatePrecomputationTable=function(e,t){return V(e,t)}):(z.double=j,z.mixedDoubleAdd=M,z.mixedAdd=N,z.scalarMultiply=O,z.negate=function(e,t){e!==t&&e.copy(t),I(e.curve.p,e.y,t.y)},z.validatePoint=K),z},s={},a=function(t){var r=s[t.toUpperCase()];if(!r)throw new Error(t+" Unsupported curve.");if(0===r.type)return function(t){var r=new n(e(t.p),e(t.a),e(t.b),e(t.order),e(t.gx),e(t.gy));return r.type=t.type,r.name=t.name,r.generator.curve=r,r}(r);if(1===r.type)return function(t){var r=new n(e(t.p),e(t.a),e(t.d),e(t.order),e(t.gx),e(t.gy));return r.type=t.type,1===r.type&&(r.d=r.b.slice(),delete r.b),r.rbits=t.info[2],r.name=t.name,r.generator.curve=r,r}(r);throw new Error(t+" Unsupported curve type.")};return{createCurve:a,curves:s,sec1EncodingFp:function(){return{encodePoint:function(e){if(!e)throw new Error("point");if(!e.isAffine)throw new Error("Point must be in affine form.");if(e.isInMontgomeryForm)throw new Error("Point must not be in Montgomery form.");if(e.isInfinity)return t(1);var n=m.digitsToBytes(e.x),r=m.digitsToBytes(e.y),o=m.digitsToBytes(e.curve.p).length;if(o<n.length||o<r.length)throw new Error("Point coordinate(s) are bigger than the field order.");var i=t(2*o+1);i[0]=4;for(var s=o-n.length,a=0;a<n.length;a++)i[a+1+s]=n[a];for(s=o-r.length,a=0;a<r.length;a++)i[o+a+1+s]=r[a];return i},decodePoint:function(e,n){if(e.length<1)throw new Error("Byte array must have non-zero length");var o=m.digitsToBytes(n.p).length;if(0===e[0]&&1===e.length)return n.createPointAtInfinity();if(4===e[0]&&e.length===1+2*o){for(var i=t(o),s=t(o),a=0;a<o;a++)i[a]=e[a+1],s[a]=e[o+a+1];var c=m.bytesToDigits(i),l=m.bytesToDigits(s);return r(n,!1,c,l)}throw new Error("Unsupported encoding format")}}},validatePoint:function(t,n,i,s){var c=a(t),l=new r(c,!1,e(n),e(i),s&&e(s),!1);return new o(c).validatePoint(l)},EllipticCurvePointFp:r,EllipticCurveOperatorFp:o,ModularSquareRootSolver:function(e){var t=e,n=[];if(void 0===e)throw new Error("modulus");if(m.isEven(e))throw new Error("Only odd moduli are supported");var r=m.MontgomeryMultiplier(t);t[0]%4==3?(m.add(t,m.One,n),m.shiftRight(n,n,2)):n=null;var o=new Array(t.length),i=new Array(t.length);return{squareRoot:function(e){if(null!==n)return function(e){var t=m.intToDigits(0,16);r.modExp(e,n,t);var o=[0];return m.modMul(t,t,r.m,o),0!==m.compareDigits(e,o)?null:t}(e);throw new Error("GeneralCase not supported.")},jacobiSymbol:function(e){var n,r;n=e.slice(),r=t.slice(),m.reduce(n,r,n,o,i);for(var s=1;!m.isZero(n);){for(;m.isEven(n);){m.shiftRight(n,n);var a=7&r[0];3!==a&&5!==a||(s=-s)}var c=n;n=r,r=c;var l=3&n[0],u=3&r[0];3===l&&3===u&&(s=-s),m.reduce(n,r,n,o,i)}return 0===m.compareDigits(r,m.One)?s:0}}}}}();void 0!==y&&(y.curves["P-256"]={name:"P-256",type:0,p:[255,255,255,255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255],a:[255,255,255,255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,252],b:[90,198,53,216,170,58,147,231,179,235,189,85,118,152,134,188,101,29,6,176,204,83,176,246,59,206,60,62,39,210,96,75],order:[255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,188,230,250,173,167,23,158,132,243,185,202,194,252,99,37,81],gx:[107,23,209,242,225,44,66,71,248,188,230,229,99,164,64,242,119,3,125,129,45,235,51,160,244,161,57,69,216,152,194,150],gy:[79,227,66,226,254,26,127,155,142,231,235,74,124,15,158,22,43,206,51,87,107,49,94,206,203,182,64,104,55,191,81,245],cf:1},y.curves["P-384"]={name:"P-384",type:0,p:[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,255,255,0,0,0,0,0,0,0,0,255,255,255,255],a:[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,255,255,0,0,0,0,0,0,0,0,255,255,255,252],b:[179,49,47,167,226,62,231,228,152,142,5,107,227,248,45,25,24,29,156,110,254,129,65,18,3,20,8,143,80,19,135,90,198,86,57,141,138,46,209,157,42,133,200,237,211,236,42,239],order:[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,199,99,77,129,244,55,45,223,88,26,13,178,72,176,167,122,236,236,25,106,204,197,41,115],gx:[170,135,202,34,190,139,5,55,142,177,199,30,243,32,173,116,110,29,59,98,139,167,155,152,89,247,65,224,130,84,42,56,85,2,242,93,191,85,41,108,58,84,94,56,114,118,10,183],gy:[54,23,222,74,150,38,44,111,93,158,152,191,146,146,220,41,248,244,29,189,40,154,20,124,233,218,49,19,181,240,184,192,10,96,177,206,29,126,129,157,122,67,29,124,144,234,14,95],cf:1},y.curves["P-521"]={name:"P-521",type:0,p:[1,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],a:[1,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252],b:[0,81,149,62,185,97,142,28,154,31,146,154,33,160,182,133,64,238,162,218,114,91,153,179,21,243,184,180,137,145,142,241,9,225,86,25,57,81,236,126,147,123,22,82,192,189,59,177,191,7,53,115,223,136,61,44,52,241,239,69,31,212,107,80,63,0],order:[1,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,81,134,135,131,191,47,150,107,127,204,1,72,247,9,165,208,59,181,201,184,137,156,71,174,187,111,183,30,145,56,100,9],gx:[0,198,133,142,6,183,4,4,233,205,158,62,203,102,35,149,180,66,156,100,129,57,5,63,181,33,248,40,175,96,107,77,61,186,161,75,94,119,239,231,89,40,254,29,193,39,162,255,168,222,51,72,179,193,133,106,66,155,249,126,126,49,194,229,189,102],gy:[1,24,57,41,106,120,154,59,192,4,92,138,95,180,44,125,27,217,152,245,68,73,87,155,68,104,23,175,189,23,39,62,102,44,151,238,114,153,94,244,38,64,197,80,185,1,63,173,7,97,53,60,112,134,162,114,194,64,136,190,148,118,159,209,102,80],cf:1});void 0!==y&&(y.curves["BN-254"]={name:"BN-254",type:0,p:[37,35,100,130,64,0,0,1,186,52,77,128,0,0,0,8,97,33,0,0,0,0,0,19,167,0,0,0,0,0,0,19],a:[0],b:[2],order:[37,35,100,130,64,0,0,1,186,52,77,128,0,0,0,7,255,159,128,0,0,0,0,16,161,0,0,0,0,0,0,13],gx:[37,35,100,130,64,0,0,1,186,52,77,128,0,0,0,8,97,33,0,0,0,0,0,19,167,0,0,0,0,0,0,18],gy:[1],cf:1});var v={info:["numsp256d1",256,256,256],type:0,p:[67,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),a:[64,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),b:[129,85,2].reverse(),order:[37,168,81,71,41,32,171,32,96,92,38,234,117,130,60,228,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),gx:[177,172,26,178,30,238,82,188,58,199,212,3,9,155,87,131,9,203,66,79,160,149,122,41,97,219,170,90,182,214,158,188].reverse(),gy:[159,222,132,33,203,185,181,128,187,15,49,21,209,195,85,201,53,224,4,126,247,139,68,115,166,182,153,51,241,192,143,208].reverse(),cf:1},b={info:["numsp256t1",256,255,256],name:"numsp256t1",type:1,p:[67,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),a:[1],d:[85,195,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),order:[245,74,221,238,144,177,71,26,155,67,89,47,165,90,149,65,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64].reverse(),gx:[218,19,237,46,144,192,222,160,134,53,8,227,14,138,57,12,214,155,32,105,95,61,30,205,125,35,234,106,251,20,117,138].reverse(),gy:[230,137,138,121,231,22,166,47,211,110,133,16,216,97,95,113,16,128,75,166,217,101,150,206,199,37,217,217,159,62,213,68].reverse(),cf:4},S={info:["numsp384d1",384,384,384],name:"numsp384d1",type:0,p:[195,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),a:[192,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),b:[187,119,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),order:[185,97,14,123,246,129,77,96,122,226,55,76,61,157,218,190,129,104,93,235,30,175,30,214,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),gx:[42,21,152,32,4,186,156,235,123,196,97,15,16,237,46,82,66,199,108,42,27,41,189,243,244,249,129,251,205,193,37,2,166,241,5,65,34,202,128,72,28,24,111,177,240,86,121,117].reverse(),gy:[22,7,24,102,236,184,116,92,38,173,244,191,219,180,214,188,126,131,26,18,125,131,32,185,156,115,127,248,119,105,4,176,126,207,132,5,48,61,227,215,56,142,155,225,104,227,222,172].reverse(),cf:1},w={info:["numsp384t1",384,382,384],name:"numsp384t1",type:1,p:[195,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),a:[1],d:[159,209,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),order:[125,137,163,230,196,220,185,32,121,200,53,171,90,85,228,97,207,225,107,180,28,26,71,226,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,63].reverse(),gx:[222,107,32,108,228,64,213,80,19,148,69,101,177,146,242,111,64,99,49,243,168,255,99,87,0,76,190,229,70,244,11,179,181,93,229,154,18,162,182,192,108,38,169,69,251,17,177,97].reverse(),gy:[146,147,114,240,225,3,141,157,220,72,236,70,249,176,114,0,75,150,69,246,247,152,15,131,86,95,66,241,116,130,173,22,215,13,177,35,164,177,56,135,176,238,166,185,103,62,152,130].reverse(),cf:4},C={info:["numsp512d1",512,512,512],name:"numsp512d1",type:0,p:[199,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),a:[196,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),b:[155,217,1].reverse(),order:[93,85,51,4,57,63,21,206,67,210,124,96,54,139,86,59,198,189,208,151,237,88,194,79,27,131,231,148,251,164,60,91,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),gx:[87,174,171,140,149,135,130,220,226,93,111,125,19,96,93,29,131,21,86,37,134,66,121,147,158,53,107,7,81,161,33,80,249,217,6,83,194,224,6,69,133,246,1,181,59,216,202,152,82,59,61,160,2,112,43,218,147,10,29,20,71,52,192,58].reverse(),gy:[166,39,53,56,96,135,160,35,233,15,253,76,30,92,43,207,2,86,90,178,64,168,33,193,233,237,14,139,218,21,132,162,20,79,209,123,12,38,75,143,140,187,188,171,222,219,151,75,0,177,235,99,220,238,14,206,179,86,173,41,202,84,58,148].reverse(),cf:4},k={info:["numsp512t1",512,510,512],name:"numsp512t1",type:1,p:[199,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),a:[1].reverse(),d:[239,203,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255].reverse(),order:[109,212,238,27,245,140,70,103,255,236,239,109,120,5,70,42,245,134,182,112,201,216,63,158,186,145,207,47,109,99,240,180,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,63].reverse(),gx:[254,87,236,153,41,171,185,197,21,240,196,124,66,37,229,15,173,4,137,86,146,201,189,120,15,115,70,238,78,193,33,70,71,129,59,39,190,126,161,39,130,163,196,77,159,231,209,47,51,197,211,136,120,203,24,122,156,182,141,18,109,49,142,223].reverse(),gy:[225,245,226,193,192,222,109,50,31,208,241,155,138,211,102,2,253,193,236,42,134,6,26,96,98,53,150,233,242,83,202,32,65,131,158,144,149,107,43,169,34,157,37,216,38,247,118,228,110,37,42,168,119,245,176,152,113,202,73,157,243,191,9,109].reverse(),cf:4};void 0!==y&&(y.curves.NUMSP256D1=v,y.curves.NUMSP384D1=S,y.curves.NUMSP512D1=C,y.curves.NUMSP256T1=b,y.curves.NUMSP384T1=w,y.curves.NUMSP512T1=k);var _=function(e,t,n,r,o,i,s){var a=p,c=n.slice(),l=new Array(o),u=[],d=0;function h(e){for(var t=Math.floor(e.length/o),n=0;n<t;n++)i(e,n,c,r,l);return d+=t,e.slice(t*o)}function f(){if(0!==h(function(e){var t=o-e.length%o;t<=o/8&&(t+=o);var n=a.getVector(t);n[0]=128;for(var r=8*(e.length+d*o),i=1;i<=8;i++)n[t-i]=r%256,r=Math.floor(r/256);return e.concat(n)}(u)).length)throw new Error("buffer.length !== 0");var e=function(){for(var e=[],t=0;t<c.length;t++)e=e.concat(a.int32ToBytes(c[t]));return e.length=s/8,e}();return u=[],c=n.slice(),d=0,e}return{name:e,computeHash:function(e){return u=h(e),f()},process:function(e){(u=u.concat(e)).length>=o&&(u=h(u))},finish:f,der:t,hashLen:s,maxMessageSize:4294967295}},I=function(){function e(e,n,r,o,i){var s,a,c,l,u=4294967295,d=r[0],p=r[1],h=r[2],f=r[3],g=r[4];for(a=0;a<16;a++)i[a]=t.bytesToInt32(e,64*n+4*a);for(s=16;s<80;s++)l=i[s-3]^i[s-8]^i[s-14]^i[s-16],i[s]=l<<1|l>>>31;for(a=0;a<80;a++)c=d<<5|d>>>27,c+=a>=60?p^h^f:a>=40?p&h^p&f^h&f:a>=20?p^h^f:p&h^~p&f,c+=g+o[a]+i[a],g=f,f=h,h=p<<30|p>>>2,p=d,d=c;return r[0]+=d&u,r[1]+=p&u,r[2]+=h&u,r[3]+=f&u,r[4]+=g&u,r}var t=p,n=t.unpackData,r=n("Z0UjAe/Nq4mYutz+EDJUdsPS4fA=",4,1),o=n("WoJ5mVqCeZlagnmZWoJ5mVqCeZlagnmZWoJ5mVqCeZlagnmZWoJ5mVqCeZlagnmZWoJ5mVqCeZlagnmZWoJ5mVqCeZlagnmZWoJ5mVqCeZlu2euhbtnroW7Z66Fu2euhbtnroW7Z66Fu2euhbtnroW7Z66Fu2euhbtnroW7Z66Fu2euhbtnroW7Z66Fu2euhbtnroW7Z66Fu2euhbtnroY8bvNyPG7zcjxu83I8bvNyPG7zcjxu83I8bvNyPG7zcjxu83I8bvNyPG7zcjxu83I8bvNyPG7zcjxu83I8bvNyPG7zcjxu83I8bvNyPG7zcymLB1spiwdbKYsHWymLB1spiwdbKYsHWymLB1spiwdbKYsHWymLB1spiwdbKYsHWymLB1spiwdbKYsHWymLB1spiwdbKYsHWymLB1spiwdY",4,1),i=n("MCEwCQYFKw4DAhoFAAQU");return{sha1:function(){return _("SHA-1",i,r,o,64,e,160)}}}();void 0!==t&&(I.instances={},I.getInstance=function(e){return I.instances[e]||(I.instances[e]=I.sha1())},I.deleteInstance=function(e){I.instances[e]=null,delete I.instances[e]},I.hash=function(e){if("process"!==e.operationSubType)return"finish"===e.operationSubType?I.sha1.finish():I.sha1().computeHash(e.buffer);I.sha1.process(e.buffer)},t.register("digest","SHA-1",I.hash)),d["SHA-1"]=I.sha1;var E=function(){var e=p;function t(t,n,r,o,i){var s,a,c,l,u,d=r[0],p=r[1],h=r[2],f=r[3],g=r[4],m=r[5],y=r[6],v=r[7];for(a=0;a<16;a++)i[a]=e.bytesToInt32(t,64*n+4*a);for(s=16;s<64;s++)l=i[s-15],u=i[s-2],i[s]=((u>>>17|u<<15)^(u>>>19|u<<13)^u>>>10)+i[s-7]+((l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3)+i[s-16],i[s]=4294967295&i[s];for(a=0;a<64;a++)f+=c=v+((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&y)+o[a]+i[a],c+=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&(p^h)^p&h),v=y,y=m,m=g,g=f,f=h,h=p,p=d,d=c;return r[0]=r[0]+d>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+g>>>0,r[5]=r[5]+m>>>0,r[6]=r[6]+y>>>0,r[7]=r[7]+v>>>0,r}var n,r,o,i,s,a=e.unpackData;return r=a("wQWe2DZ81QcwcN0X9w5ZOf/ACzFoWBURZPmPp776T6Q",4,1),o=a("agnmZ7tnroU8bvNypU/1OlEOUn+bBWiMH4PZq1vgzRk",4,1),n=a("QoovmHE3RJG1wPvP6bXbpTlWwltZ8RHxkj+CpKscXtXYB6qYEoNbASQxhb5VDH3Dcr5ddIDesf6b3AanwZvxdOSbacHvvkeGD8GdxiQMocwt6SxvSnSEqlywqdx2+YjamD5RUqgxxm2wAyfIv1l/x8bgC/PVp5FHBspjURQpKWcntwqFLhshOE0sbfxTOA0TZQpzVHZqCruBwskuknIshaK/6KGoGmZLwkuLcMdsUaPRkugZ1pkGJPQONYUQaqBwGaTBFh43bAgnSHdMNLC8tTkcDLNO2KpKW5zKT2gub/N0j4LueKVjb4TIeBSMxwIIkL7/+qRQbOu++aP3xnF48g",4,1),i=a("MC0wDQYJYIZIAWUDBAIEBQAEHA"),s=a("MDEwDQYJYIZIAWUDBAIBBQAEIA"),{sha224:function(){return _("SHA-224",i,r,n,64,t,224)},sha256:function(){return _("SHA-256",s,o,n,64,t,256)}}}();void 0!==t&&(E.instance224=E.instance224||E.sha224(),E.instance256=E.instance256||E.sha256(),E.instances={},E.getInstance224=function(e){return E.instances[e]||(E.instances[e]=E.sha224())},E.getInstance256=function(e){return E.instances[e]||(E.instances[e]=E.sha256())},E.deleteInstance=function(e){E.instances[e]=null,delete E.instances[e]},E.hash256=function(e){if("process"===e.operationSubType)return E.getInstance256(e.workerid).process(e.buffer),null;if("finish"===e.operationSubType){var t=E.getInstance256(e.workerid).finish();return E.deleteInstance(e.workerid),t}if("abort"!==e.operationSubType)return E.instance256.computeHash(e.buffer);E.deleteInstance(e.workerid)},E.hash224=function(e){if("process"!==e.operationSubType){if("finish"===e.operationSubType&&E.getInstance224(e.workerid).finish(),"abort"!==e.operationSubType)return E.instance224.computeHash(e.buffer);msrcryptoSha224.deleteInstance(e.workerid)}else E.getInstance224(e.workerid).process(e.buffer)},t.register("digest","SHA-224",E.hash224),t.register("digest","SHA-256",E.hash256)),d["SHA-224"]=E.sha224,d["SHA-256"]=E.sha256;var P=function(){function e(e,t,n,r,o){var i=t+r|0,s=i>>>0<r>>>0;o[0]=e+n+s|0,o[1]=i}function t(t,n,r,o,i){var s,a,c,l,u,d,p,h,f,g=[],m=[],y=[],v=r[0],b=r[1],S=r[2],w=r[3],C=r[4],k=r[5],_=r[6],I=r[7],E=r[8],P=r[9],D=r[10],T=r[11],x=r[12],j=r[13],M=r[14],N=r[15];for(s=0;s<32;s++)f=128*n+4*s,i[s]=t.slice(f,f+4),i[s]=i[s][0]<<24|i[s][1]<<16|i[s][2]<<8|i[s][3];for(s=32;s<160;s+=2)c=((p=i[s-30])>>>1|(h=i[s-29])<<31)^(p>>>8|h<<24)^p>>>7,l=(h>>>1|p<<31)^(h>>>8|p<<24)^(h>>>7|p<<25),e(u=((p=i[s-4])>>>19|(h=i[s-3])<<13)^(h>>>29|p<<3)^p>>>6,d=(h>>>19|p<<13)^(p>>>29|h<<3)^(h>>>6|p<<26),i[s-14],i[s-13],g),e(c,l,g[0],g[1],g),e(i[s-32],i[s-31],g[0],g[1],g),i[s]=g[0],i[s+1]=g[1];for(a=0;a<160;a+=2)u=E&D^x&~E,d=P&T^j&~P,e(M,N,c=(E>>>14|P<<18)^(E>>>18|P<<14)^(P>>>9|E<<23),l=(P>>>14|E<<18)^(P>>>18|E<<14)^(E>>>9|P<<23),g),e(u,d,o[a],o[a+1],m),e(g[0],g[1],i[a],i[a+1],y),e(m[0],m[1],y[0],y[1],y),e(y[0],y[1],_,I,g),_=g[0],I=g[1],d=b&(w^k)^w&k,u=v&(S^C)^S&C,e(y[0],y[1],c=(v>>>28|b<<4)^(b>>>2|v<<30)^(b>>>7|v<<25),l=(b>>>28|v<<4)^(v>>>2|b<<30)^(v>>>7|b<<25),g),e(u,d,c=g[0],l=g[1],g),M=x,N=j,x=D,j=T,D=E,T=P,E=_,P=I,_=C,I=k,C=S,k=w,S=v,w=b,v=c=g[0],b=l=g[1];return e(r[0],r[1],v,b,g),r[0]=g[0],r[1]=g[1],e(r[2],r[3],S,w,g),r[2]=g[0],r[3]=g[1],e(r[4],r[5],C,k,g),r[4]=g[0],r[5]=g[1],e(r[6],r[7],_,I,g),r[6]=g[0],r[7]=g[1],e(r[8],r[9],E,P,g),r[8]=g[0],r[9]=g[1],e(r[10],r[11],D,T,g),r[10]=g[0],r[11]=g[1],e(r[12],r[13],x,j,g),r[12]=g[0],r[13]=g[1],e(r[14],r[15],M,N,g),r[14]=g[0],r[15]=g[1],r}var n,r,o,i,s,a,c,l=p.unpackData;return n=l("y7udXcEFnthimikqNnzVB5FZAVowcN0XFS/s2PcOWTlnMyZn/8ALMY60SodoWBUR2wwuDWT5j6dHtUgdvvpPpA==",4,1),r=l("agnmZ/O8yQi7Z66FhMqnOzxu83L+lPgrpU/1Ol8dNvFRDlJ/reaC0ZsFaIwrPmwfH4PZq/tBvWtb4M0ZE34heQ",4,1),o=l("QoovmNcoriJxN0SRI+9lzbXA+8/sTTsv6bXbpYGJ27w5VsJb80i1OFnxEfG2BdAZkj+CpK8ZT5urHF7V2m2BGNgHqpijAwJCEoNbAUVwb74kMYW+TuSyjFUMfcPV/7Ticr5ddPJ7iW+A3rH+OxaWsZvcBqclxxI1wZvxdM9pJpTkm2nBnvFK0u++R4Y4TyXjD8GdxouM1bUkDKHMd6ycZS3pLG9ZKwJ1SnSEqm6m5INcsKncvUH71Hb5iNqDEVO1mD5RUu5m36uoMcZtLbQyELADJ8iY+yE/v1l/x77vDuTG4AvzPaiPwtWnkUeTCqclBspjUeADgm8UKSlnCg5ucCe3CoVG0i/8LhshOFwmySZNLG38WsQq7VM4DROdlbPfZQpzVIuvY952agq7PHeyqIHCyS5H7a7mknIshRSCNTuiv+ihTPEDZKgaZku8QjABwkuLcND4l5HHbFGjBlS+MNGS6BnW71IY1pkGJFVlqRD0DjWFV3EgKhBqoHAyu9G4GaTBFrjS0MgeN2wIUUGrUydId0zfjuuZNLC8teGbSKg5HAyzxclaY07YqkrjQYrLW5zKT3dj43NoLm/z1rK4o3SPgu5d77L8eKVjb0MXL2CEyHgUofCrcozHAggaZDnskL7/+iNjHiikUGzr3oK96b75o/eyxnkVxnF48uNyUyvKJz7O6iZhnNGGuMchwMIH6tp91s3g6x71fU9/7m7ReAbwZ6pyF2+6CmN9xaLImKYRP5gEvvkNrhtxCzUTHEcbKNt39SMEfYQyyqt7QMckkzyevgoVyb68Qx1nxJwQDUxMxdS+yz5Ctll/KZz8ZX4qX8tvqzrW+uxsRBmMSkdYFw==",4,1),i=l("MEEwDQYJYIZIAWUDBAICBQAEMA"),s=l("MFEwDQYJYIZIAWUDBAIDBQAEQA"),a=l("MC0wDQYJYIZIAWUDBAIFBQAEHA"),c=l("MDEwDQYJYIZIAWUDBAIGBQAEIA"),{sha384:function(){return _("SHA-384",i,n,o,128,t,384)},sha512:function(){return _("SHA-512",s,r,o,128,t,512)},sha512_224:function(){return _("SHA-512.224",a,r,o,128,t,224)},sha512_256:function(){return _("SHA-512.256",c,r,o,128,t,256)}}}();void 0!==t&&(P.instances={},P.getInstance384=function(e){return P.instances[e]||(P.instances[e]=P.sha384())},P.getInstance512=function(e){return P.instances[e]||(P.instances[e]=P.sha512())},P.deleteInstance=function(e){P.instances[e]=null,delete P.instances[e]},P.hash384=function(e){if("process"!==e.operationSubType)return"finish"===e.operationSubType?P.sha384.finish():P.sha384().computeHash(e.buffer);P.sha384.process(e.buffer)},P.hash512=function(e){if("process"!==e.operationSubType)return"finish"===e.operationSubType?P.sha512.finish():P.sha512().computeHash(e.buffer);P.sha512.process(e.buffer)},t.register("digest","SHA-384",P.hash384),t.register("digest","SHA-512",P.hash512)),d["SHA-384"]=P.sha384,d["SHA-512"]=P.sha512;var D=function(e,t){var n,r,o,i,s,a={384:128,512:128}[t.name.replace(/SHA-/,"")]||64,c=e.length===a?e:e.length>a?u(t.computeHash(e),a):u(e,a);function l(e,t){for(var n=new Array(e),r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function u(e,t){for(var n=e.slice(),r=e.length;r<t;r++)n.push(0);return n}function d(e){s?t.process(e):(s=i.concat(e),t.process(s))}function p(){var e=t.finish(),n=o.concat(e);return t.computeHash(n)}function h(){e=null,t=null,c=null}n=new Array(a),r=new Array(a);for(var f=0;f<a;f++)n[f]=54,r[f]=92;return i=l(c,n),o=l(c,r),{computeHmac:function(e,t,n){d(e);var r=p();return h(),r},process:function(e,t,n){return d(e),null},finish:function(e,t){var n=p();return h(),n}}};if(void 0!==t){var T={};D.signHmac=function(e){var t,n=e.keyHandle.algorithm.hash.name.toUpperCase(),r=d[n](),o=e.workerid;return T[o]||(T[o]=D(e.keyData,r)),"process"===e.operationSubType?(T[o].process(e.buffer),null):"finish"===e.operationSubType?(t=T[o].finish(),T[o]=null,t):(t=T[o].computeHmac(e.buffer),T[o]=null,t)},D.verifyHmac=function(e){var t,n=e.keyHandle.algorithm.hash.name.toUpperCase(),r=d[n](),o=e.workerid;return T[o]||(T[o]=D(e.keyData,r)),"process"===e.operationSubType?(T[o].process(e.buffer),null):"finish"===e.operationSubType?(t=T[o].finish(),t=p.arraysEqual(t,e.signature),T[o]=null,t):(t=T[o].computeHmac(e.buffer),t=p.arraysEqual(t,e.signature),T[o]=null,t)},D.generateKey=function(e){var t=e.algorithm.length;return t||(t={"SHA-1":64,"SHA-224":64,"SHA-256":64,"SHA-384":128,"SHA-512":128}[e.algorithm.hash.name.toUpperCase()]),{type:"keyGeneration",keyData:$.getBytes(t),keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:e.usages,type:"secret"}}},D.importKey=function(e){var t;if(e.keyData.length,"jwk"===e.format)(t=g.jwkToKey(e.keyData,e.algorithm,["k"])).alg=t.alg.replace("HS","SHA-");else{if("raw"!==e.format)throw new Error("unsupported import format");t={k:p.toArray(e.keyData)}}return{type:"keyImport",keyData:t.k,keyHandle:{algorithm:{name:"HMAC",hash:{name:e.algorithm.hash.name}},extractable:e.extractable||t.extractable,usages:e.usages,type:"secret"}}},D.exportKey=function(e){if("jwk"===e.format)return{type:"keyExport",keyHandle:g.keyToJwk(e.keyHandle,e.keyData)};if("raw"===e.format)return{type:"keyExport",keyHandle:e.keyData};throw new Error("unsupported export format")},t.register("importKey","HMAC",D.importKey),t.register("exportKey","HMAC",D.exportKey),t.register("generateKey","HMAC",D.generateKey),t.register("sign","HMAC",D.signHmac),t.register("verify","HMAC",D.verifyHmac)}var x,j,M,N,O,A,R,L,F,U,K=function(e){x||(x=p.unpackData("AAIEBggKDA4QEhQWGBocHiAiJCYoKiwuMDI0Njg6PD5AQkRGSEpMTlBSVFZYWlxeYGJkZmhqbG5wcnR2eHp8foCChIaIioyOkJKUlpianJ6goqSmqKqsrrCytLa4ury+wMLExsjKzM7Q0tTW2Nrc3uDi5Obo6uzu8PL09vj6/P4bGR8dExEXFQsJDw0DAQcFOzk/PTMxNzUrKS8tIyEnJVtZX11TUVdVS0lPTUNBR0V7eX99c3F3dWtpb21jYWdlm5mfnZORl5WLiY+Ng4GHhbu5v72zsbe1q6mvraOhp6Xb2d/d09HX1cvJz83DwcfF+/n//fPx9/Xr6e/t4+Hn5QADBgUMDwoJGBseHRQXEhEwMzY1PD86OSgrLi0kJyIhYGNmZWxvaml4e359dHdycVBTVlVcX1pZSEtOTURHQkHAw8bFzM/Kydjb3t3U19LR8PP29fz/+vno6+7t5Ofi4aCjpqWsr6qpuLu+vbS3srGQk5aVnJ+amYiLjo2Eh4KBm5idnpeUkZKDgIWGj4yJiquora6npKGis7C1tr+8ubr7+P3+9/Tx8uPg5ebv7Onqy8jNzsfEwcLT0NXW39zZ2ltYXV5XVFFSQ0BFRk9MSUpraG1uZ2RhYnNwdXZ/fHl6Ozg9Pjc0MTIjICUmLywpKgsIDQ4HBAECExAVFh8cGRoADhwSODYkKnB+bGJIRlRa4O788tjWxMqQnoyCqKa0utvVx8nj7f/xq6W3uZOdj4E7NScpAw0fEUtFV1lzfW9hraOxv5WbiYfd08HP5ev5901DUV91e2lnPTMhLwULGRd2eGpkTkBSXAYIGhQ+MCIslpiKhK6gsrzm6Pr03tDCzEFPXVN5d2VrMT8tIwkHFRuhr72zmZeFi9HfzcPp5/X7mpSGiKKsvrDq5Pb40tzOwHp0ZmhCTF5QCgQWGDI8LiDs4vD+1NrIxpySgI6kqri2DAIQHjQ6KCZ8cmBuREpYVjc5KyUPARMdR0lbVX9xY23X2cvF7+Hz/aepu7WfkYONAA0aFzQ5LiNoZXJ/XFFGS9Ddysfk6f7zuLWir4yBlpu7tqGsj4KVmNPeycTn6v3wa2ZxfF9SRUgDDhkUNzotIG1gd3pZVENOBQgfEjE8Kya9sKeqiYSTntXYz8Lh7Pv21tvMweLv+PW+s6SpioeQnQYLHBEyPyglbmN0eVpXQE3a18DN7uP0+bK/qKWGi5yRCgcQHT4zJClib3h1VltMQWFse3ZVWE9CCQQTHj0wJyqxvKumhYifktnUw87t4Pf6t7qtoIOOmZTf0sXI6+bx/GdqfXBTXklEDwIVGDs2ISwMARYbODUiL2RpfnNQXUpH3NHGy+jl8v+0ua6jgI2alwALFh0sJzoxWFNORXR/Ymmwu6atnJeKgejj/vXEz9LZe3BtZldcQUojKDU+DwQZEsvA3dbn7PH6k5iFjr+0qaL2/eDr2tHMx66luLOCiZSfRk1QW2phfHceFQgDMjkkL42Gm5Chqre81d7DyPny7+Q9NisgERoHDGVuc3hJQl9U9/zh6tvQzcavpLmyg4iVnkdMUVprYH12HxQJAjM4JS6Mh5qRoKu2vdTfwsn48+7lPDcqIRAbBg1kb3J5SENeVQEKFxwtJjswWVJPRHV+Y2ixuqesnZaLgOni//TFztPYenFsZ1ZdQEsiKTQ/DgUYE8rB3Nfm7fD7kpmEj761qKMACRIbJC02P0hBWlNsZX53kJmCi7S9pq/Y0crD/PXu5zsyKSAfFg0Ec3phaFdeRUyrormwj4adlOPq8fjHztXcdn9kbVJbQEk+NywlGhMIAebv9P3Cy9DZrqe8tYqDmJFNRF9WaWB7cgUMFx4hKDM63dTPxvnw6+KVnIeOsbijquzl/vfIwdrTpK22v4CJkpt8dW5nWFFKQzQ9Ji8QGQIL197FzPP64eiflo2Eu7KpoEdOVVxjanF4DwYdFCsiOTCak4iBvrespdLbwMn2/+TtCgMYES4nPDVCS1BZZm90faGos7qFjJee6eD78s3E39YxOCMqFRwHDnlwa2JdVE9GY3x3e/Jrb8UwAWcr/terdsqCyX36WUfwrdSir5ykcsC3/ZMmNj/3zDSl5fFx2DEVBMcjwxiWBZoHEoDi6yeydQmDLBobblqgUjvWsynjL4RT0QDtIPyxW2rLvjlKTFjP0O+q+0NNM4VF+QJ/UDyfqFGjQI+SnTj1vLbaIRD/89LNDBPsX5dEF8Snfj1kXRlzYIFP3CIqkIhG7rgU3l4L2+AyOgpJBiRcwtOsYpGV5HnnyDdtjdVOqWxW9Opleq4IunglLhymtMbo3XQfS72LinA+tWZIA/YOYTVXuYbBHZ7h+JgRadmOlJseh+nOVSjfjKGJDb/mQmhBmS0PsFS7FlIJatUwNqU4v0CjnoHz1/t84zmCmy//hzSOQ0TE3unLVHuUMqbCIz3uTJULQvrDTgguoWYo2SSydluiSW2L0SVy+PZkhmiYFtSkXMxdZbaSbHBIUP3tudpeFUZXp42dhJDYqwCMvNMK9+RYBbizRQbQLB6Pyj8PAsGvvQMBE4prOpERQU9n3OqX8s/O8LTmc5asdCLnrTWF4vk36Bx1325H8RpxHSnFiW+3Yg6qGL4b/FY+S8bSeSCa28D+eM1a9B/dqDOIB8cxsRIQWSeA7F9gUX+pGbVKDS3lep+TyZzvoOA7Ta4q9bDI67s8g1OZYRcrBH66d9Ym4WkUY1UhDH2NAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuN",256,!1),j=x[0],M=x[1],N=x[2],O=x[3],A=x[4],R=x[5],L=x[6],F=x[7],U=x[8]);var t,n,r,o;switch(t=8*e.length){case 128:case 192:case 256:break;default:throw new Error("Unsupported keyLength")}r=6+(n=t/32);var i=function(e){var t=e[1];e[1]=e[5],e[5]=e[9],e[9]=e[13],e[13]=t,t=e[2],e[2]=e[10],e[10]=t,t=e[6],e[6]=e[14],e[14]=t,t=e[15],e[15]=e[11],e[11]=e[7],e[7]=e[3],e[3]=t},s=function(e){var t=e[13];e[13]=e[9],e[9]=e[5],e[5]=e[1],e[1]=t,t=e[10],e[10]=e[2],e[2]=t,t=e[14],e[14]=e[6],e[6]=t,t=e[3],e[3]=e[7],e[7]=e[11],e[11]=e[15],e[15]=t},a=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],s=e[5],a=e[6],c=e[7],l=e[8],u=e[9],d=e[10],p=e[11],h=e[12],f=e[13],g=e[14],m=e[15];e[0]=j[t]^M[n]^r^o,e[1]=t^j[n]^M[r]^o,e[2]=t^n^j[r]^M[o],e[3]=M[t]^n^r^j[o],e[4]=j[i]^M[s]^a^c,e[5]=i^j[s]^M[a]^c,e[6]=i^s^j[a]^M[c],e[7]=M[i]^s^a^j[c],e[8]=j[l]^M[u]^d^p,e[9]=l^j[u]^M[d]^p,e[10]=l^u^j[d]^M[p],e[11]=M[l]^u^d^j[p],e[12]=j[h]^M[f]^g^m,e[13]=h^j[f]^M[g]^m,e[14]=h^f^j[g]^M[m],e[15]=M[h]^f^g^j[m]},c=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],s=e[5],a=e[6],c=e[7],l=e[8],u=e[9],d=e[10],p=e[11],h=e[12],f=e[13],g=e[14],m=e[15];e[0]=N[t]^A[n]^O[r]^R[o],e[1]=R[t]^N[n]^A[r]^O[o],e[2]=O[t]^R[n]^N[r]^A[o],e[3]=A[t]^O[n]^R[r]^N[o],e[4]=N[i]^A[s]^O[a]^R[c],e[5]=R[i]^N[s]^A[a]^O[c],e[6]=O[i]^R[s]^N[a]^A[c],e[7]=A[i]^O[s]^R[a]^N[c],e[8]=N[l]^A[u]^O[d]^R[p],e[9]=R[l]^N[u]^A[d]^O[p],e[10]=O[l]^R[u]^N[d]^A[p],e[11]=A[l]^O[u]^R[d]^N[p],e[12]=N[h]^A[f]^O[g]^R[m],e[13]=R[h]^N[f]^A[g]^O[m],e[14]=O[h]^R[f]^N[g]^A[m],e[15]=A[h]^O[f]^R[g]^N[m]},l=function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},u=function(e,t,n){for(var r=0;r<e.length;r+=1)e[r]^=t[r+n]},d=function(e){for(var t=0;t<e.length;t+=1)e[t]=L[e[t]]},h=function(e){for(var t=0;t<e.length;t+=1)e[t]=F[e[t]]},f=function(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]};return o=function(e){for(var t,o=[],i=0;i<4*n;)o.push(e[i++]);for(i=n;i<4*(r+1);){if(t=f(o,i-1),i%n==0){var s=[U[i/n],0,0,0];m=void 0,m=(g=t)[0],g[0]=g[1],g[1]=g[2],g[2]=g[3],g[3]=m,d(t),t=l(t,s)}else n>6&&i%n==4&&d(t);var a=l(f(o,i-n),t);u=a,h=0,(c=o)[4*(p=i)]=u[4*h],c[4*p+1]=u[4*h+1],c[4*p+2]=u[4*h+2],c[4*p+3]=u[4*h+3],i+=1}var c,u,p,h,g,m;return o}(e),{encrypt:function(e){var t,n=e;for(u(n,o,0),t=1;t<=r-1;t+=1)d(n),i(n),a(n),u(n,o,4*t*4);return d(n),i(n),u(n,o,4*r*4),n},decrypt:function(e){var t,n=e;for(u(n,o,4*r*4),t=r-1;t>=1;t-=1)s(n),h(n),u(n,o,4*t*4),c(n);return s(n),h(n),u(n,o,0),n},clear:function(){},keyLength:t,blockSize:128}},W=W||{};W.pkcsv7=function(e){return{pad:function(t){var n=t[t.length-1>=0?t.length-1:0],r=n.length;if(r===e){var o,i=[];for(o=0;o<e;o+=1)i.push(e);t.push(i)}else for(var s=e-r&255;n.length!==e;)n.push(s)},unpad:function(t){var n=!0;t.length%e!=0&&(n=!1);for(var r=t.slice(-e),o=r[r.length-1],i=0;i<e;i++){var s=e-i<=o,a=r[i]===o;n=(!s||a)&&n}var c=n?o:0;return t.length-=c,n}}};var V=function(e){var t=e.blockSize/8,n=W.pkcsv7(t),r=function(e){var t,n,r=[];for(t=0;t<e.length;t+=1){var o=e[t];for(n=0;n<o.length;n+=1)r.push(o[n])}return r};function o(e){var n=[];c=c.concat(e);for(var r=Math.floor(c.length/t),o=0;o<r;o++)n.push(c.slice(o*t,(o+1)*t));return c=c.slice(r*t),n}function i(t){for(var n,r=[],o=0;o<t.length;o++)n=p.xorVectors(a,t[o]),r.push(e.encrypt(n)),a=r[o];return r}function s(){c=[],l=[],a=null}var a,c=[],l=[];return{init:function(e){if(e.length!==t)throw new Error("Invalid iv size");a=e.slice()},encrypt:function(e){var t=i(o(e));return l=l.concat(r(t)),this.finishEncrypt()},processEncrypt:function(e){return r(i(o(e)))},finishEncrypt:function(){var e=1===c.length?[[c[0]]]:[c];n.pad(e);var t=l.concat(r(i(e)));return s(),t},decrypt:function(e){return this.processDecrypt(e),this.finishDecrypt()},processDecrypt:function(t){var n=function(t){for(var n,r,o=[],i=0;i<t.length;i+=1)n=t[i].slice(0,t[i].length),r=e.decrypt(n),o.push(p.xorVectors(a,r)),a=t[i];return o}(o(t));l=l.concat(r(n))},finishDecrypt:function(){var e=l;return n.unpad(e),s(),e}}};if(void 0!==t){var B={};V.workerEncrypt=function(e){var t,n=e.workerid;return B[n]||(B[n]=V(K(e.keyData)),B[n].init(e.algorithm.iv)),"process"===e.operationSubType?B[n].processEncrypt(e.buffer):"finish"===e.operationSubType?(t=B[n].finishEncrypt(),B[n]=null,t):(t=B[n].encrypt(e.buffer),B[n]=null,t)},V.workerDecrypt=function(e){var t,n=e.workerid;if(B[n]||(B[n]=V(K(e.keyData)),B[n].init(e.algorithm.iv)),"process"!==e.operationSubType)return"finish"===e.operationSubType?(t=B[n].finishDecrypt(),B[n]=null,t):(t=B[n].decrypt(e.buffer),B[n]=null,t);B[n].processDecrypt(e.buffer)},V.generateKey=function(e){if(e.algorithm.length%8!=0)throw new Error;return{type:"keyGeneration",keyData:$.getBytes(Math.floor(e.algorithm.length/8)),keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:e.usages,type:"secret"}}},V.importKey=function(e){var t,n=8*e.keyData.length;if("jwk"===e.format)t=g.jwkToKey(e.keyData,e.algorithm,["k"]);else{if("raw"!==e.format)throw new Error("unsupported import format");if(128!==n&&192!==n&&256!==n)throw new Error("invalid key length (should be 128, 192, or 256 bits)");t={k:p.toArray(e.keyData)}}return e.algorithm.length=8*t.k.length,{keyData:t.k,keyHandle:{algorithm:e.algorithm,extractable:e.extractable||t.extractable,usages:e.usages,type:"secret"},type:"keyImport"}},V.exportKey=function(e){if("jwk"===e.format)return{type:"keyExport",keyHandle:g.keyToJwk(e.keyHandle,e.keyData)};if("raw"===e.format)return{type:"keyExport",keyHandle:e.keyData};throw new Error("unsupported export format")},t.register("importKey","AES-CBC",V.importKey),t.register("exportKey","AES-CBC",V.exportKey),t.register("generateKey","AES-CBC",V.generateKey),t.register("encrypt","AES-CBC",V.workerEncrypt),t.register("decrypt","AES-CBC",V.workerDecrypt)}var H=function(e){var t,n,r,o,i,s,a=p,c=[],l=e.encrypt(a.getVector(16)),u=a.getVector(16),d=[],h=[],f=0;function g(e,t){for(var n,r=Math.floor(t.length/16),o=0;o<r;o++)n=t.slice(16*o,16*o+16),u=y(a.xorVectors(u,n),e);return d=t.slice(16*r),u}function m(){var e=16*Math.ceil(f/16)-f,t=w(8*n.length),r=w(8*f),o=d.concat(a.getVector(e)).concat(t).concat(r);return g(l,o)}function y(e,t){var n,r,o,i,s=a.getVector(16),c=t.slice(0);for(o=0;o<128;o++){for(n=255&(i=o,-(e[Math.floor(i/8)]>>7-i%8&1)),r=0;r<16;r++)s[r]=s[r]^c[r]&n;n=255&-(1&c[15]),v(c),c[0]^=225&n}return s}function v(e){for(var t=e.length-1;t>0;t--)e[t]=(1&e[t-1])<<7|e[t]>>>1;return e[0]=e[0]>>>1,e}function b(e){for(var t=256,n=1;n<=4;n++)t=(t>>>8)+e[e.length-n],e[e.length-n]=255&t;return e}function S(t,n){var r,o=Math.ceil(n.length/16),i=[];s!==t&&(s=t.slice());for(var c=0;c<o;c++){r=n.slice(16*c,16*c+16);var l=e.encrypt(s.slice());i=i.concat(a.xorVectors(r,l)),s=b(s)}return i}function w(e){return[0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e]}function C(){f=0,c=[],h=[],u=a.getVector(16),d=[],s=t=n=null}return{init:function(e,s,c){if(n=s||[],(r=isNaN(c)?128:c)%8!=0)throw new Error("DataError");if(12===(t=e).length)o=t.concat([0,0,0,1]);else{var d=16*Math.ceil(t.length/16)-t.length;o=g(l,t.concat(a.getVector(d+8)).concat(w(8*t.length))),u=a.getVector(16)}var p,h;i=b(o.slice()),g(l,(p=n,h=16*Math.ceil(n.length/16)-n.length,p.concat(a.getVector(h))))},encrypt:function(e){f=e.length;var t=S(i,e);g(l,t);var n=m(),s=S(o,n).slice(0,r/8);return C(),t.slice().concat(s)},decrypt:function(e,t){f=e.length;var n=S(i,e);g(l,e);var s=m(),c=S(o,s).slice(0,r/8);return C(),a.arraysEqual(c,t)?n:null},processEncrypt:function(e){var t=(c=c.concat(e)).slice(0,16*Math.floor(c.length/16));f+=t.length,c=c.slice(t.length);var n=S(s||i,t);h=h.concat(n),g(l,n)},processDecrypt:function(e){var t=(c=c.concat(e)).slice(0,16*Math.floor((c.length-r/8)/16));f+=t.length,c=c.slice(t.length);var n=S(s||i,t);h=h.concat(n),g(l,t)},finishEncrypt:function(){var e=S(s,c);h=h.concat(e),f+=c.length;var t=m(),n=S(o,t).slice(0,r/8),i=h.slice().concat(n);return C(),i},finishDecrypt:function(){var e=Math.floor(r/8),t=c.slice(-e);c=c.slice(0,c.length-e);var n=S(s,c);h=h.concat(n),f+=c.length;var i=m(),l=S(o,i).slice(0,r/8),u=h.slice();return C(),a.arraysEqual(l,t)?u:null}}};if(void 0!==t){var J={};H.encrypt=function(e){var t,n=e.workerid;if(J[n]||(J[n]=H(K(e.keyData)),J[n].init(e.algorithm.iv,e.algorithm.additionalData,e.algorithm.tagLength)),"process"!==e.operationSubType)return"finish"===e.operationSubType?(t=J[n].finishEncrypt(),J[n]=null,t):(t=J[n].encrypt(e.buffer),J[n]=null,t);J[n].processEncrypt(e.buffer)},H.decrypt=function(e){var t,n=e.workerid;if(J[n]||(J[n]=H(K(e.keyData)),J[n].init(e.algorithm.iv,e.algorithm.additionalData,e.algorithm.tagLength)),"process"!==e.operationSubType){if("finish"===e.operationSubType){if(t=J[n].finishDecrypt(),J[n]=null,null===t)throw new Error("OperationError");return t}var r=e.algorithm.tagLength?Math.floor(e.algorithm.tagLength/8):16,o=e.buffer.slice(0,e.buffer.length-r),i=e.buffer.slice(-r);if(t=J[n].decrypt(o,i),J[n]=null,null===t)throw new Error("OperationError");return t}J[n].processDecrypt(e.buffer)},H.generateKey=function(e){if(e.algorithm.length%8!=0)throw new Error;return{type:"keyGeneration",keyData:$.getBytes(Math.floor(e.algorithm.length/8)),keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:e.usages,type:"secret"}}},H.importKey=function(e){var t,n=8*e.keyData.length;if("jwk"===e.format)t=g.jwkToKey(e.keyData,e.algorithm,["k"]);else{if("raw"!==e.format)throw new Error("unsupported import format");if(128!==n&&192!==n&&256!==n)throw new Error("invalid key length (should be 128, 192, or 256 bits)");t={k:p.toArray(e.keyData)}}return{type:"keyImport",keyData:t.k,keyHandle:{algorithm:e.algorithm,extractable:e.extractable||t.extractable,usages:e.usages,type:"secret"}}},H.exportKey=function(e){if("jwk"===e.format)return{type:"keyExport",keyHandle:g.keyToJwk(e.keyHandle,e.keyData)};if("raw"===e.format)return{type:"keyExport",keyHandle:e.keyData};throw new Error("unsupported export format")},t.register("importKey","AES-GCM",H.importKey),t.register("exportKey","AES-GCM",H.exportKey),t.register("generateKey","AES-GCM",H.generateKey),t.register("encrypt","AES-GCM",H.encrypt),t.register("decrypt","AES-GCM",H.decrypt)}function q(){if(!(this instanceof q))throw new Error("create MsrcryptoPrng object with new keyword");var e,t,n,r,o=!1,i=1,s=Math.pow(2,48);function a(e){var t;for(t=e.length-1;t>=0&&(e[t]+=1,e[t]>=256&&(e[t]=0),!e[t]);t-=1);}function c(){e=p.getVector(32),t=p.getVector(16),n=32,r=48,i=1}function l(e,t){if((t=t||[0]).length>r)throw new Error("Incorrect entropy or additionalEntropy length");t=t.concat(p.getVector(r-t.length)),e=e.concat(p.getVector((r-e.length%r)%r));for(var n=0;n<e.length;n+=r)u(p.xorVectors(e.slice(n,n+r),t));i=1}function u(o){for(var i=[],s=new K(e);i.length<r;){a(t);var c=t.slice(0,16),l=s.encrypt(c);i=i.concat(l)}i=p.xorVectors(i,o),e=i.slice(0,n),t=i.slice(n)}function d(n,o){if(n>=65536)throw new Error("too much random requested");if(i>s)throw new Error("Reseeding is required");if(o&&o.length>0){for(;o.length<r;)o=o.concat(p.getVector(r-o.length));u(o)}else o=p.getVector(r);for(var c=[],l=new K(e);c.length<n;){a(t);var d=t.slice(0,t.length),h=l.encrypt(d);c=c.concat(h)}return c=c.slice(0,n),u(o),i+=1,c}return c(),{reseed:l,getBytes:function(e,t){if(!o)throw new Error("can't get randomness before initialization");return d(e,t)},getNonZeroBytes:function(e,t){if(!o)throw new Error("can't get randomness before initialization");for(var n,r=[];r.length<e;){n=d(e,t);for(var i=0;i<n.length;i+=1)0!==n[i]&&r.push(n[i])}return r.slice(0,e)},init:function(e,t){if(e.length<r)throw new Error("Initial entropy length too short");c(),l(e,t),o=!0}}}var $=new q;var G,z=function(){var e=[],t=[];function n(n){var r,o=t.length;for(r=0;r<o;r++)if((t[r]+n)%e[r]==0)return!1;return!0}function r(n){var r,o,i,s,a,c,l=n.length-1,u=m.DIGIT_BASE,d=n[l];for(0===e.length&&(e=function(e){var t,n,r=new Array(e+1),o=[],i=0|Math.sqrt(e);for(t=3;t<=i;t+=2)for(n=t*t;n<=e;n+=2*t)r[n]=0;for(t=3;t<=e;t+=2)0!==r[t]&&o.push(t);return o}(16384)),c=e.length,t=new Array(c),r=0;r<c;r++){for(o=l,d<(a=e[r])?(i=d,o--):i=0;o>=0;)i=(s=i*u+n[o--])-(s/a|0)*a;t[r]=i}}function o(e,t){var n=e,r=[];m.subtract(n,[1],r);var o=function(e){var t,n=0,r=0;if(m.isZero(e))return 0;for(n=0;0===e[n];n++);for(r=0,t=2;e[n]%t==0;t*=2,r++);return n*m.DIGIT_BITS+r}(r),s=[];m.shiftRight(r,s,o);for(var a,c=function(e){var t=0,n=0,r=0;if(m.isZero(e))return 0;for(t=e.length-1;0===e[t];t--);for(r=1<<(n=m.DIGIT_BITS-1);n>0&&0==(e[t]&r);r>>>=1,n--);return t*m.DIGIT_BITS+n}(n),l=m.MontgomeryMultiplier(n),u=1;u<=t;u++){var d=!1;do{a=i(c)}while(m.compareDigits(a,r)>=0);var p=[];if(l.modExp(a,s,p,!0),0!==m.compareDigits(p,[1])&&0!==m.compareDigits(p,r)){for(var h=1;h<o;h++){if(l.montgomeryMultiply(p,p,p),0===m.compareDigits(p,r)){d=!0;break}if(0===m.compareDigits(p,[1]))return!1}if(!1===d)return!1}}return!0}function i(e){var t=Math.ceil(e/8),n=$.getBytes(t);return n[0]|=128,n[n.length-1]|=1,m.bytesToDigits(n)}return{generatePrime:function(e){var t=i(e),s=0,a=[];for(r(t);;){if(n(s)&&(m.add(t,[s],a),!0===o(a,6)))return a;s+=2}}}}(),Y=function(e){var t=p,n=e.hasOwnProperty("n")&&e.hasOwnProperty("d"),r=e.hasOwnProperty("p")&&e.hasOwnProperty("q"),o=e.n.length;function i(e){var n=m.digitsToBytes(e);return t.padFront(n,0,o),n}function s(e,t,n){var r=m.bytesToDigits(t),o=m.IntegerGroup(n),i=o.createElementFromBytes(e);return o.modexp(i,r).m_digits}return{encrypt:function(t){return i(s(t,e.e,e.n))},decrypt:function(t){if(r)return function(t){var n=m.bytesToDigits,r=e.p,o=e.q,s=e.dp,a=e.dq,c=e.qi,l=n(r),u=n(o),d=new Array(l.length+u.length),p=new Array(l.length+1),h=new Array(u.length+1),f=n(t),g=m.MontgomeryMultiplier,y=new g(e.ctxp?void 0:l,e.ctxp),v=new g(e.ctxq?void 0:u,e.ctxq);y.reduce(f,d),y.modExp(d,n(s),p),v.reduce(f,d),v.modExp(d,n(a),h);var b=m.subtract(p,h,d);return 0!==b&&m.subtract(h,p,d),m.modMul(d,n(c),l,f),0!==b&&m.subtract(l,f,f),m.multiply(f,u,d),m.add(h,d,p),i(p)}(t);if(n)return function(t){return i(s(t,e.d,e.n))}(t);throw new Error("missing private key")}}},Q=function(e,t,n){var r,o,i,s=[],a=n.hashLen/8;for(i=0;i<=Math.floor(t/a);i+=1)r=[i>>>24&255,i>>>16&255,i>>>8&255,255&i],o=n.computeHash(e.concat(r)),s=s.concat(o);return s.slice(0,t)};(G=G||{}).oaep=function(e,t){var n=p,r=$,o=e.n.length;if(null===t)throw new Error("must supply hashFunction");return{pad:function(e,i){return function(e,i){var s,a,c,l,u,d,p,h,f;if(e.length>o-t.hashLen/8*2-2)throw new Error("Message too long.");return null==i&&(i=[]),s=t.computeHash(i),a=o-e.length-2*s.length-2,c=n.getVector(a),l=s.concat(c,[1],e),u=r.getBytes(s.length),d=Q(u,o-s.length-1,t),p=n.xorVectors(l,d),h=Q(p,s.length,t),f=n.xorVectors(u,h),[0].concat(f).concat(p).slice()}(e,i)},unpad:function(e,r){return function(e,r){var i,s,a,c,l,u,d,p,h=0,f=0===e[0];for(r||(r=[]),i=t.computeHash(r),s=e.slice(1,i.length+1),a=e.slice(i.length+1),c=Q(a,i.length,t),l=n.xorVectors(s,c),u=Q(l,o-i.length-1,t),p=(d=n.xorVectors(a,u)).slice(0,i.length),f=f&&n.arraysEqual(i,p),d=d.slice(i.length);!d[h++];);return{valid:f,data:d.slice(h)}}(e,r)}}},(G=G||{}).pkcs1Encrypt=function(e){var t=$,n=e.n.length;return{pad:function(e){return function(e){var r;if(e.length>n-11)throw new Error("message too long");return r=t.getNonZeroBytes(n-e.length-3),[0,2].concat(r,[0],e)}(e)},unpad:function(e){return function(e){var t,n=function(e){for(var t=0===e[0]&&2===e[1],n=2;n<10;n++)t=t&&!!e[n];return t}(e),r=0;for(t=1;t<e.length;t+=1)r=r||+!e[t]&&t+1;return r=-n&&r,{data:e.slice(r),valid:n}}(e)}}},G.pkcs1Sign=function(e,t){var n=p,r=e.n.length;function o(e){var o,i,s;if(i=t.computeHash(e.slice()),s=(o=t.der.concat(i)).length,r<s+11)throw new Error("intended encoded message length too short");return[0,1].concat(n.getVector(r-s-3,255),[0],o)}return{sign:function(e){return o(e)},verify:function(e,t){var r=o(t);return n.arraysEqual(e,r)}}},(G=G||{}).pss=function(e,t){var n=p,r=$;return{sign:function(o,i,s){return function(o,i,s){var a=m.bitLength(e.n)-1,c=Math.ceil(a/8),l=t.computeHash(o);if(i=s?s.length:null==i?l.length:i,c<l.length+i+2)throw new Error("encoding error");s=s||r.getBytes(i);for(var u=[0,0,0,0,0,0,0,0].concat(l,s),d=t.computeHash(u),p=n.getVector(c-s.length-d.length-2).concat([1],s),h=Q(d,c-d.length-1,t),f=n.xorVectors(p,h),g=0,y=0;y<8-(8*c-a);y++)g+=1<<y;return f[0]&=g,f.concat(d,[188])}(o,i,s)},verify:function(r,o,i){return function(r,o,i){var s=m.bitLength(e.n)-1,a=Math.ceil(s/8),c=t.computeHash(o),l=c.length;if(a<l+(i=null==i?l:i)+2)return!1;var u=r.slice(0,a-l-1),d=r.slice(u.length,u.length+l),p=Q(d,a-l-1,t),h=n.xorVectors(u,p);h[0]&=255>>>8-(8*a-s);for(var f=0;f<a-l-i-2;f++)if(0!==h[f])return!1;if(1!==h[a-l-i-2])return!1;var g=h.slice(h.length-i),y=[0,0,0,0,0,0,0,0].concat(c,g),v=t.computeHash(y);return n.arraysEqual(v,d)}(r,o,i)}}};var Z=function(e,t,n){var r=Y(e);if(!t)throw new Error("padding mode");function o(){if(!n||!n.computeHash)throw new Error("missing hash function")}var i,s=null,a=null;switch(t){case"RSAES-PKCS1-V1_5":i=G.pkcs1Encrypt(e);break;case"RSASSA-PKCS1-V1_5":o(),i=G.pkcs1Sign(e,n);break;case"RSA-OAEP":o(),i=G.oaep(e,n);break;case"RSA-PSS":o(),i=G.pss(e,n);break;case"raw":i={pad:function(e){return e},unpad:function(e){return e}};break;default:throw new Error("invalid mode")}return i&&(s=i.pad||i.sign,a=i.unpad||i.verify),{encrypt:function(e,t){var n;return n=null!==s?s(e,t):e.slice(),r.encrypt(n)},decrypt:function(e,t){var n=r.decrypt(e);if(null!==a){if(!1===(n=a(n,t)).valid)throw new Error("OperationError");n=n.data}else n=n.slice(0);return n},signData:function(e,t,n){return r.decrypt(s(e,t,n))},verifySignature:function(e,t,n){var o=r.encrypt(e);return a(o,t,n)},generateKeyPair:function(e){genRsaKeyFromRandom(e)},mode:t}};void 0!==t&&(Z.sign=function(e){var t=e.keyHandle.algorithm.hash.name,n=d[t.toUpperCase()](),r=e.algorithm.saltLength,o=e.algorithm.salt;return Z(e.keyData,e.algorithm.name,n).signData(e.buffer,r,o)},Z.verify=function(e){var t=e.keyHandle.algorithm.hash.name,n=d[t.toUpperCase()](),r=e.algorithm.saltLength;return Z(e.keyData,e.algorithm.name,n).verifySignature(e.signature,e.buffer,r)},Z.workerEncrypt=function(e){var t,n,r;switch(e.algorithm.name){case"RSAES-PKCS1-V1_5":t=Z(e.keyData,e.algorithm.name).encrypt(e.buffer);break;case"RSA-OAEP":if(!(r=e.keyHandle.algorithm.hash.name))throw new Error("unsupported hash algorithm");n=d[r.toUpperCase()](),t=Z(e.keyData,e.algorithm.name,n).encrypt(e.buffer);break;default:throw new Error("unsupported algorithm")}return t},Z.workerDecrypt=function(e){var t,n;switch(e.algorithm.name){case"RSAES-PKCS1-V1_5":t=Z(e.keyData,e.algorithm.name).decrypt(e.buffer);break;case"RSA-OAEP":var r=e.keyHandle.algorithm.hash.name;if(!r)throw new Error("unsupported hash algorithm");n=d[r.toUpperCase()](),t=Z(e.keyData,e.algorithm.name,n).decrypt(e.buffer);break;default:throw new Error("unsupported algorithm")}return t},Z.importKey=function(e){var t;if("jwk"===e.format)(t=g.jwkToKey(e.keyData,e.algorithm,["n","e","d","q","p","dq","dp","qi"])).d&&(t.ctxp=new m.MontgomeryMultiplier(m.bytesToDigits(t.p)).ctx,t.ctxq=new m.MontgomeryMultiplier(m.bytesToDigits(t.q)).ctx);else{if("spki"!==e.format)throw new Error("unsupported key import format.");var n=h.parse(e.keyData);if(null==n)throw new Error("invalid key data.");var r=n[1],o=h.parse(r.data.slice(r.header+1),!0);if(null==o)throw new Error("invalid key data.");var i=o[0],s=o[1];if("INTEGER"!==i.type||"INTEGER"!==s.type)throw new Error("invalid key data.");i=i.data.slice(i.header),s=s.data.slice(s.header),0===i[0]&&128&i[1]&&(i=i.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),t={n:i,e:s}}return{type:"keyImport",keyData:t,keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:e.usages,type:t.d||t.dq?"private":"public"}}},Z.exportKey=function(e){return{type:"keyExport",keyHandle:g.keyToJwk(e.keyHandle,e.keyData)}},Z.genRsaKeyFromRandom=function(e,t){var n=t?m.bytesToDigits(t):[65537];do{var r=z.generatePrime(e/2),o=z.generatePrime(e/2);if(m.compareDigits(o,r)>0){var i=r;r=o,o=i}var s=[];m.multiply(r,o,s);var a=[];m.subtract(r,[1],a);var c=[];m.subtract(o,[1],c);var l=[];m.multiply(a,c,l);var u=[];m.gcd(n,l,u);var d=0===m.compareDigits(u,m.One)}while(!d);var p=[];m.modInv(n,l,p);var h=[];m.reduce(p,a,h);var f=[];m.reduce(p,c,f);var g=[];m.modInv(o,r,g);var y=m.digitsToBytes;return{privateKey:{n:y(s),e:y(n),d:y(p),p:y(r),q:y(o),dp:y(h),dq:y(f),qi:y(g)},publicKey:{n:y(s),e:y(n)}}},Z.generateKeyPair=function(e){if(void 0===e.algorithm.modulusLength)throw new Error("missing modulusLength");var t,n=m.bytesToDigits;switch(e.algorithm.modulusLength){case 1024:case 2048:case 4096:t=Z.genRsaKeyFromRandom(e.algorithm.modulusLength,e.algorithm.publicExponent);break;default:throw new Error("invalid modulusLength")}var r=t.privateKey;r.ctxp=new m.MontgomeryMultiplier(n(r.p)).ctx,r.ctxq=new m.MontgomeryMultiplier(n(r.q)).ctx;var o,i,s=e.algorithm.name;return s.slice(s.indexOf("-")+1).toUpperCase(),"RSASSA-PKCS1-V1_5"===s||"RSA-PSS"===s?(o=["verify"],i=["sign"]):(o=["encrypt"],i=["decrypt"]),{type:"keyGeneration",keyPair:{publicKey:{keyData:t.publicKey,keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:o,type:"public"}},privateKey:{keyData:t.privateKey,keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:i,type:"private"}}}}},t.register("sign","RSASSA-PKCS1-V1_5",Z.sign),t.register("sign","RSA-PSS",Z.sign),t.register("verify","RSASSA-PKCS1-V1_5",Z.verify),t.register("verify","RSA-PSS",Z.verify),t.register("encrypt","RSAES-PKCS1-V1_5",Z.workerEncrypt),t.register("decrypt","RSAES-PKCS1-V1_5",Z.workerDecrypt),t.register("encrypt","RSA-OAEP",Z.workerEncrypt),t.register("decrypt","RSA-OAEP",Z.workerDecrypt),t.register("importKey","RSA-OAEP",Z.importKey),t.register("importKey","RSAES-PKCS1-V1_5",Z.importKey),t.register("importKey","RSASSA-PKCS1-V1_5",Z.importKey),t.register("importKey","RSA-PSS",Z.importKey),t.register("exportKey","RSA-OAEP",Z.exportKey),t.register("exportKey","RSAES-PKCS1-V1_5",Z.exportKey),t.register("exportKey","RSASSA-PKCS1-V1_5",Z.exportKey),t.register("exportKey","RSA-PSS",Z.exportKey),t.register("generateKey","RSA-OAEP",Z.generateKeyPair),t.register("generateKey","RSAES-PKCS1-V1_5",Z.generateKeyPair),t.register("generateKey","RSASSA-PKCS1-V1_5",Z.generateKeyPair),t.register("generateKey","RSA-PSS",Z.generateKeyPair));var X={deriveBits:function(e){for(var t=e.algorithm.hash.name,n=d[t.toUpperCase()](),r=e.algorithm,o=se.toArray(r.algorithmId).concat(se.toArray(r.partyUInfo),se.toArray(r.partyVInfo),se.toArray(r.publicInfo)||[],se.toArray(r.privateInfo)||[]),i=Math.ceil(e.length/n.hashLen),s=1,a=e.keyData.concat(o),c=[],l=0;l<i;l++){var u=se.int32ToBytes(s++).concat(a),p=n.computeHash(u);c=c.concat(p)}return c.slice(0,e.length/8)}};void 0!==t&&(X.importKey=function(e){var t;if("raw"!==e.format)throw new Error("unsupported import format");if(t=p.toArray(e.keyData),!1!==e.extractable)throw new Error("only extractable=false is supported.");return{type:"keyImport",keyData:t,keyHandle:{algorithm:{name:"CONCAT"},extractable:!1,usages:e.usages,type:"secret"}}},t.register("deriveBits","CONCAT",X.deriveBits),t.register("importKey","CONCAT",X.importKey));var ee={deriveBits:function(e){var t,n,r=e.algorithm,o=e.keyData,i=e.length,s=r.iterations,a=Array.apply(null,r.salt),c=Math.ceil(i/8),l=[];switch(r.hash.name.toUpperCase()){case"SHA-1":t=20;break;case"SHA-256":t=32;break;case"SHA-384":t=48;break;case"SHA-512":t=64;break;default:throw new Error("Unsupported hash algorithm")}n=Math.ceil(c/t);var u=D.importKey({format:"raw",keyData:o,algorithm:{name:"HMAC",hash:r.hash}}),d={algorithm:r,keyHandle:u.keyHandle,keyData:u.keyData,workerid:0,buffer:null};function p(e,n,r){for(var o=[],i=e.concat([r>>>24&255,r>>>16&255,r>>>8&255,255&r]),s=0;s<n;s++){d.buffer=i,i=D.signHmac(d);for(var a=0;a<t;a++)o[a]=~~o[a]^i[a]}return o}for(var h=1;h<=n;h++)l=l.concat(p(a,s,h));return l.length=c,l}};void 0!==t&&(ee.importKey=function(e){var t;if("raw"!==e.format)throw new Error("unsupported import format");if(t=p.toArray(e.keyData),!1!==e.extractable)throw new Error("only extractable=false is supported.");return{type:"keyImport",keyData:t,keyHandle:{algorithm:{name:"PBKDF2"},extractable:!1,usages:e.usages,type:"secret"}}},t.register("deriveBits","PBKDF2",ee.deriveBits),t.register("importKey","PBKDF2",ee.importKey));var te={deriveBits:function(e){var t,n,r,o=e.algorithm,i=e.keyData,s=e.length,a=o.salt,c=Math.ceil(s/8),l=[],u=p.toArray(o.info),d=[];switch(o.hash.name.toUpperCase()){case"SHA-1":t=20;break;case"SHA-256":t=32;break;case"SHA-384":t=48;break;case"SHA-512":t=64;break;default:throw new Error("Unsupported hash algorithm.")}if(null==o.salt)throw new Error("HkdfParams: salt: Missing required property.");if(null==o.info)throw new Error("HkdfParams: info: Missing required property.");if(s%8!=0)throw new Error("The length provided for HKDF is not a multiple of 8 bits.");if(c>255*t)throw new Error("The length provided for HKDF is too large.");for(0===a.length&&(a=p.getVector(t)),(r={workerid:0,keyHandle:{algorithm:o},keyData:a,buffer:i}).keyData=D.signHmac(r),n=0;n<Math.ceil(c/t);n++)r.buffer=d.concat(u).concat([1+n]),d=D.signHmac(r),l=l.concat(d);return l.slice(0,c)}};void 0!==t&&(te.importKey=function(e){var t;if("raw"!==e.format)throw new Error("unsupported import format");if(t=p.toArray(e.keyData),!1!==e.extractable)throw new Error("only extractable=false is supported.");return{type:"keyImport",keyData:t,keyHandle:{algorithm:{name:"HKDF"},extractable:!1,usages:e.usages,type:"secret"}}},t.register("deriveBits","HKDF",te.deriveBits),t.register("importKey","HKDF",te.importKey));var ne={deriveBits:function(e){var t,n,r,o=e.algorithm,i=e.keyData,s=e.length,a=o.label,c=o.context,l=Math.ceil(s/8),u=[];switch(o.hash.name.toUpperCase()){case"SHA-1":t=20;break;case"SHA-256":t=32;break;case"SHA-384":t=48;break;case"SHA-512":t=64;break;default:throw new Error("Unsupported hash algorithm.")}if(null==o.label)throw new Error("HkdfCtrParams: label: Missing required property.");if(null==o.context)throw new Error("HkdfCtrParams: context: Missing required property.");if(s%8!=0)throw new Error("The length provided for HKDF-CTR is not a multiple of 8 bits.");if(l>255*t)throw new Error("The length provided for HKDF-CTR is too large.");r={workerid:0,keyHandle:{algorithm:o},keyData:i,buffer:i};var d=a.concat([0],c,se.int32ToBytes(s));for(n=1;n<=Math.ceil(l/t);n++)r.buffer=se.int32ToBytes(n).concat(d),u=u.concat(D.signHmac(r));return u.slice(0,l)}};void 0!==t&&(ne.importKey=function(e){var t;if("raw"!==e.format)throw new Error("unsupported import format");if(t=p.toArray(e.keyData),!1!==e.extractable)throw new Error("only extractable=false is supported.");return{type:"keyImport",keyData:t,keyHandle:{algorithm:{name:"HKDF-CTR"},extractable:!1,usages:e.usages,type:"secret"}}},t.register("deriveBits","HKDF-CTR",ne.deriveBits),t.register("importKey","HKDF-CTR",ne.importKey));var re=function(e){var t=m.bytesToDigits,n=m.digitsToBytes,r=e,o=new y.EllipticCurveOperatorFp(e);return{generateKey:function(t){var i=[],s=$.getBytes(e.order.length*m.DIGIT_NUM_BYTES);m.reduce(m.bytesToDigits(s),r.order,i);var a=r.allocatePointStorage();return o.scalarMultiply(i,r.generator,a),{privateKey:{x:n(a.x),y:n(a.y),d:n(i)},publicKey:{x:n(a.x),y:n(a.y)}}},deriveBits:function(e,n,i){var s=new y.EllipticCurvePointFp(r,!1,t(n.x),t(n.y),null,!1),a=r.allocatePointStorage();o.convertToJacobianForm(a),o.convertToMontgomeryForm(a),o.scalarMultiply(t(e.d),s,a),o.convertToAffineForm(a),o.convertToStandardForm(a);var c=m.digitsToBytes(a.x,!0,n.x.length);if(i&&8*c.length<i)throw new Error("DataError");var l=i%8,u=0===l?255:65280>>>l;return(c=i?c.slice(0,Math.ceil(i/8)):c)[c.length-1]=c[c.length-1]&u,c},computePublicKey:function(e){r.generator.isInMontgomeryForm||o.convertToMontgomeryForm(r.generator);var i=r.allocatePointStorage();return o.convertToJacobianForm(i),o.convertToMontgomeryForm(i),o.scalarMultiply(t(e),r.generator,i),{x:n(i.x),y:n(i.y)}}}};void 0!==t&&(re.deriveBits=function(e){var t=y.createCurve(e.algorithm.namedCurve.toUpperCase()),n=e.keyData,r=e.additionalKeyData;return re(t).deriveBits(n,r,e.length)},re.deriveKey=function(e){throw new Error("not supported")},re.generateKey=function(e){var t=y.createCurve(e.algorithm.namedCurve.toUpperCase()),n=re(t).generateKey();return{type:"keyPairGeneration",keyPair:{publicKey:{keyData:n.publicKey,keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:[],type:"public"}},privateKey:{keyData:n.privateKey,keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:e.usages,type:"private"}}}}},re.importKey=function(e){if("raw"===e.format){var t=e.keyData;if(4!==t[0])throw new Error("DataError");var n=~~((t.length-1)/2),r=e.algorithm.namedCurve.toUpperCase(),o=t.slice(1,n+1),i=t.slice(n+1);if(!1===y.validatePoint(r,o,i))throw new Error("DataError");return{type:"keyImport",keyData:{x:o,y:i},keyHandle:{algorithm:e.algorithm,extractable:e.extractable||!1,usages:e.usages,type:"public"}}}if("jwk"===e.format){var s=g.jwkToKey(e.keyData,e.algorithm,["x","y","d","crv"]);if(s.d&&(!s.x||!s.y)){var a=y.createCurve(e.algorithm.namedCurve.toUpperCase()),c=re(a).computePublicKey(s.d);s.x=c.x,s.y=c.y}if(!1===y.validatePoint(e.algorithm.namedCurve.toUpperCase(),s.x,s.y))throw new Error("DataError");return{type:"keyImport",keyData:s,keyHandle:{algorithm:e.algorithm,extractable:e.extractable||s.extractable,usages:e.usages,type:s.d?"private":"public"}}}},re.exportKey=function(e){if("raw"===e.format&&"public"===e.keyHandle.type)return{type:"keyExport",keyHandle:[4].concat(e.keyData.x,e.keyData.y)};if("jwk"===e.format)return{type:"keyExport",keyHandle:g.keyToJwk(e.keyHandle,e.keyData)};throw new Error("unsupported export format.")},t.register("importKey","ECDH",re.importKey),t.register("exportKey","ECDH",re.exportKey),t.register("generateKey","ECDH",re.generateKey),t.register("deriveBits","ECDH",re.deriveBits),t.register("deriveKey","ECDH",re.deriveKey));var oe,ie=function(e){var t=m.bytesToDigits,n=m.digitsToBytes,r=new y.EllipticCurveOperatorFp(e),o=n(e.order).length,i=1===e.type;function s(t){var n=e.allocatePointStorage();return r.scalarMultiply(t,e.generator,n),{publicKey:n,privateKey:t}}function a(t){var n=[];return t||(t=$.getBytes(e.order.length*m.DIGIT_NUM_BYTES)),m.reduce(m.bytesToDigits(t),e.order,n),s(n)}function c(n){n.length>o&&(n.length=o);var r=t(n);if(i){var s=8-e.rbits%8;m.shiftRight(r,r,s)}return m.reduce(r,e.order,r),r}return{createKey:function(e){return s(t(e))},generateKey:a,sign:function(r,i,s){s||(s=a());var l=s.publicKey.x,u=s.privateKey,d=t(r.d),h=c(i.slice()),f=[],g=[];m.reduce(l,e.order,l),m.modMul(l,d,e.order,f),m.add(f,h,f),m.reduce(f,e.order,f),m.modInvCT(u,e.order,g),m.modMul(f,g,e.order,f);var y=p.padFront(n(l,!0,o),0,o),v=p.padFront(n(f,!0,o),0,o);return y.concat(v)},verify:function(n,o,s){var a=Math.floor(o.length/2),l=t(o.slice(0,a)),u=t(o.slice(a)),d=c(s.slice()),p=[],h=[],f=new y.EllipticCurvePointFp(e,!1,t(n.x),t(n.y),null,!1);m.modInv(u,e.order,u),m.modMul(d,u,e.order,p),m.modMul(l,u,e.order,h);var g=e.allocatePointStorage(),v=e.allocatePointStorage();return i?(m.add(p,p,p),m.add(p,p,p),m.reduce(p,e.order,p),r.scalarMultiply(p,e.generator,g,!1),r.scalarMultiply(h,f,v,!1),r.convertToExtendedProjective(g),r.convertToExtendedProjective(v),r.add(v,g,g),r.normalize(g)):(r.scalarMultiply(p,e.generator,g),r.scalarMultiply(h,f,v),r.convertToJacobianForm(g),r.convertToMontgomeryForm(g),r.convertToMontgomeryForm(v),r.mixedAdd(g,v,g),r.convertToAffineForm(g),r.convertToStandardForm(g)),!g.isInfinity&&(m.reduce(g.x,e.order,g.x),0===m.compareDigits(g.x,l))}}};void 0!==t&&(ie.sign=function(e){p.checkParam(e.algorithm.hash,"Object","algorithm.hash"),p.checkParam(e.algorithm.hash.name,"String","algorithm.hash.name"),p.checkParam(e.keyHandle.algorithm.namedCurve,"String","p.keyHandle.algorithm.namedCurve");var t=e.algorithm.hash.name,n=y.createCurve(e.keyHandle.algorithm.namedCurve.toUpperCase()),r=d[t.toUpperCase()]().computeHash(e.buffer);return ie(n).sign(e.keyData,r)},ie.verify=function(e){var t=e.algorithm.hash.name,n=y.createCurve(e.keyHandle.algorithm.namedCurve.toUpperCase()),r=d[t.toUpperCase()]().computeHash(e.buffer);return ie(n).verify(e.keyData,e.signature,r)},ie.generateKey=function(e){var t=y.createCurve(e.algorithm.namedCurve.toUpperCase()),n=ie(t).generateKey(),r=m.digitsToBytes;var o=r(n.publicKey.x),i=r(n.publicKey.y),s=r(n.privateKey);return{type:"keyPairGeneration",keyPair:{publicKey:{keyData:{x:o,y:i},keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:["verify"],type:"public"}},privateKey:{keyData:{x:o,y:i,d:s},keyHandle:{algorithm:e.algorithm,extractable:e.extractable,usages:["sign"],type:"private"}}}}},ie.importKey=function(e){if("raw"===e.format){var t=e.keyData;if(4!==t[0])throw new Error("DataError");var n=~~((t.length-1)/2),r=e.algorithm.namedCurve.toUpperCase(),o=t.slice(1,n+1),i=t.slice(n+1);if(!1===y.validatePoint(r,o,i))throw new Error("DataError");return{type:"keyImport",keyData:{x:o,y:i},keyHandle:{algorithm:e.algorithm,extractable:e.extractable||!1,usages:e.usages,type:"public"}}}if("jwk"===e.format){var s=g.jwkToKey(e.keyData,e.algorithm,["x","y","d","crv"]);if(s.d&&(!s.x||!s.y)){var a=ie.curves[e.algorithm.namedCurve](),c=ie(a).computePublicKey(s.d);s.x=c.x,s.y=c.y}if(!1===y.validatePoint(e.algorithm.namedCurve.toUpperCase(),s.x,s.y))throw new Error("DataError");return{type:"keyImport",keyData:s,keyHandle:{algorithm:e.algorithm,extractable:e.extractable||s.extractable,usages:e.usages,type:s.d?"private":"public"}}}},ie.exportKey=function(e){if("raw"===e.format&&"public"===e.keyHandle.type)return{type:"keyExport",keyHandle:[4].concat(e.keyData.x,e.keyData.y)};if("jwk"===e.format)return{type:"keyExport",keyHandle:g.keyToJwk(e.keyHandle,e.keyData)};throw new Error("unsupported export format.")},t.register("sign","ECDSA",ie.sign),t.register("verify","ECDSA",ie.verify),t.register("generateKey","ECDSA",ie.generateKey),t.register("importKey","ECDSA",ie.importKey),t.register("exportKey","ECDSA",ie.exportKey));var se=p;oe=function(){function e(){var e;return{postMessage:function(t){try{t.workerid=this.id,e=f.jsCryptoRunner({data:t})}catch(e){return void this.onerror({data:e,type:"error"})}this.onmessage({data:e})},onmessage:null,onerror:null,terminate:function(){}}}function o(e){var t,n,r;return{dispatchEvent:function(o){"error"!==o.type?"process"!==o.data.type&&"finish"!==o.data.type?(this.result=e(o.data),n.apply(t,[this.result])):e(o.data.result,!0):r&&r.apply(t,[o])},promise:t=new Promise((function(e,t){n=e,r=t})),result:null}}function i(e){var t=[],n=o((function(e,n){if(e=e&&(r=e,a&&r.pop?new Uint8Array(r).buffer:r),!n)return e;var r;t.resolve(e)}));return n.stream=e.algorithm.stream,t.add=function(e){var n,r,o=new Promise((function(e,t){n=e,r=t}));return o.label=e,t.push({resolve:n,reject:r,promise:o}),o},t.resolve=function(e){var n=t.shift();n.resolve.apply(n.promise,[e])},n.process=function(n){return e.operationSubType="process",e.buffer=se.toArray(n),c.continueJob(this,se.clone(e)),t.add("process")},n.finish=function(){return e.operationSubType="finish",e.buffer=[],c.continueJob(this,se.clone(e)),t.add("finish")},n.abort=function(){c.abortJob(this)},n.algorithm=e.algorithm||null,n.key=e.keyHandle||null,n}var s=[];s.add=function(e,t){s.push({keyHandle:e,keyData:t})},s.remove=function(e){for(var t=0;t<s.length;t+=1)if(s[t].keyHandle===e)return void(s=s.splice(t,1))},s.lookup=function(e){for(var t=0;t<s.length;t+=1)if(s[t].keyHandle===e)return s[t].keyData;return null};var c=function(){var t=[],o=[],i=0,s=0,a=[],c="undefined"==typeof setImmediate?setTimeout:setImmediate;function u(){a.shift()()}var d=r?"available":"unavailable";function p(){!function(e){for(var n=t.length-1;n>=0;n-=1)t[n].isWebWorker===e&&(t[n].terminate(),t.splice(n,1))}(!l);for(var e=0;e<t.length;e++)if(!t[e].busy)return t[e];return null}function h(e){for(var n=0;n<t.length;n++)if(t[n]===e)return e.terminate(),void t.splice(n,1)}function f(e){for(var n=0;n<t.length;n++)if(t[n].operation===e)return t[n];return null}function g(e,t){o.push({operation:e,data:t,id:i++})}function m(e){if(e.busy=!1,l)if(o.length>0){var n,r=o.shift();if(b(r.operation,r.data),"process"===r.data.operationSubType){for(n=0;n<o.length;n++)r.operation===o[n].operation&&b(o[n].operation,o[n].data);for(n=o.length-1;n>=0;n--)r.operation===o[n].operation&&o.splice(n,1)}}else(function(){for(var e=0,n=0;n<t.length;n++)t[n].busy||(e+=1);return e})()>2&&h(e)}function y(r){var i;if("pending"===d)throw new Error("Creating new worker while workerstatus=pending");if("ready"===d)try{(i=new Worker(n)).postMessage({prngSeed:$.getBytes(48)}),i.isWebWorker=!0}catch(t){l=!1,d="failed",i.terminate(),(i=e()).isWebWorker=!1}else(i=e()).isWebWorker=!1;return i.operation=r,i.id=s++,i.busy=!1,i.onmessage=function(e){if(!0!==e.data.initialized){var t=i.operation;e.target||(e.target={data:i.data});for(var n=0;n<o.length;n++)if(o[n].operation===i.operation){var r=o[n];return o.splice(n,1),void S(i,r.data)}e.data.hasOwnProperty("type")&&"process"===e.data.type||m(i),t.dispatchEvent(e)}},i.onerror=function(e){var t=i.operation;m(i),t.dispatchEvent(e)},function(e){t.push(e)}(i),i}function v(e,n){var r=null;if("pending"!==d)if(r=p(),l&&null===r&&t.length>=12)g(e,n);else{if(null===r&&(r=y(e)),null===r)throw g(e,n),new Error("could not create new worker");r.operation=e,r.busy=!0,n.workerid=r.id,S(r,n)}else g(e,n)}function b(e,t){var n=f(e);n?S(n,t):v(e,t)}function S(e,t){var n,r;t.workerid=e.id,l?e.postMessage(t):(n=t,r=function(){return e.postMessage(n)},a.push(r),c(u,0))}return{runJob:v,continueJob:b,abortJob:function(e){var t=f(e);t&&h(t)},useWebWorkers:function(e){if("unavailable"!==d){if(!(!0===e&&"ready"===d||!1===e&&"available"===d)){if(!1===e&&"ready"===d)return l=!1,d="available",void se.consoleLog("web workers disabled.");if("pending"!==d){d="pending";var t=new Worker(n);t.addEventListener("message",r,!1),t.addEventListener("error",r,!1),t.postMessage({prngSeed:$.getBytes(48)})}}}else se.consoleLog("web workers not available in this browser.");function r(e){var n=!(!e.data||!0!==e.data.initialized);if(t.removeEventListener("message",r,!1),t.removeEventListener("error",r,!1),t.terminate(),d=n?"ready":"failed",l=n,se.consoleLog("web worker initialization "+(n?"succeeded. Now using web workers.":"failed. running synchronously."+(e.message||""))),o.length>0){var i=o.shift();v(i.operation,i.data)}}}}}();var u=[{name:"algorithm",type:"Object",required:!0},{name:"keyHandle",type:"Object",required:!0},{name:"buffer",type:"Array",required:!1},{name:"signature",type:"Array",required:!0},{name:"format",type:"String",required:!0},{name:"keyData",type:"Object",required:!0},{name:"extractable",type:"Boolean",required:!1},{name:"usages",type:"Array",required:!1},{name:"derivedKeyType",type:"Object",required:!0},{name:"length",type:"Number",required:!1},{name:"extractable",type:"Boolean",required:!0},{name:"usages",type:"Array",required:!0},{name:"keyData",type:"Array",required:!0}],d={encrypt:[0,1,2],decrypt:[0,1,2],sign:[0,1,2],verify:[0,1,3,2],digest:[0,2],generateKey:[0,6,7],importKeyRaw:[4,12,0,10,11],importKeyJwk:[4,5,0,10,11],exportKey:[0,4,1,6,7],deriveKey:[0,1,8,6,7],deriveBits:[0,1,9],wrapKey:[1,1,0],unwrapKey:[2,0,1,6,7]};function h(e){var t=s.lookup(e);if(!t)throw new Error("key not found");return t}function g(e,n,r){var a=function(e,t){var n,r,o,i,s={operationType:e};for("importKey"!==e||"raw"!==t[0]&&"spki"!==t[0]||(e="importKeyRaw"),"importKey"===e&&"jwk"===t[0]&&(e="importKeyJwk"),n=d[e],i=0;i<n.length;i+=1)if(r=u[n[i]],null!=(o=t[i])){if(o.subarray&&(o=se.toArray(o)),"ArrayBuffer"===se.getObjectType(o)&&(o=se.toArray(o)),p.getObjectType(o)!==r.type)throw new Error(r.name);"algorithm"===r.name&&(o.name=o.name.toUpperCase(),o.iv&&(o.iv=se.toArray(o.iv)),o.publicExponent&&(o.publicExponent=se.toArray(o.publicExponent)),o.salt&&(o.salt=se.toArray(o.salt)),o.additionalData&&(o.additionalData=se.toArray(o.additionalData)),o.hash&&!o.hash.name&&"String"===se.getObjectType(o.hash)&&(o.hash={name:o.hash})),s.hasOwnProperty(r.name)?s[r.name+"1"]=o:s[r.name]=o}else if(r.required)throw new Error(r.name);return s}(e,n);(function(e,n){if(!t.exists(e,n))throw new Error("unsupported algorithm")})(e,a.algorithm.name),a.keyHandle&&(a.keyData=h(a.keyHandle)),a.keyHandle1&&(a.keyData1=h(a.keyHandle1)),a.algorithm&&a.algorithm.public&&(a.additionalKeyData=h(a.algorithm.public));var l=r?o((function(e){var t,n;switch(e.type){case"keyGeneration":case"keyImport":case"keyDerive":return e.keyPair?(s.add(e.keyPair.publicKey.keyHandle,e.keyPair.publicKey.keyData),s.add(e.keyPair.privateKey.keyHandle,e.keyPair.privateKey.keyData),{publicKey:e.keyPair.publicKey.keyHandle,privateKey:e.keyPair.privateKey.keyHandle}):(s.add(e.keyHandle,e.keyData),e.keyHandle);case"keyExport":return e.keyHandle;case"keyPairGeneration":return n=e.keyPair.privateKey,t=e.keyPair.publicKey,s.add(t.keyHandle,t.keyData),s.add(n.keyHandle,n.keyData),{publicKey:t.keyHandle,privateKey:n.keyHandle};default:throw new Error("Unknown key operation")}})):i(a);return(r||a.buffer||"deriveBits"===e||"wrapKey"===e)&&c.runJob(l,a),l.stream?Promise.resolve(function(e){return{process:function(t){return e.process(t)},finish:function(){return e.finish()},abort:function(){return e.abort()}}}(l)):l.promise}var m={encrypt:function(e,t,n){return g("encrypt",arguments,0)},decrypt:function(e,t,n){return g("decrypt",arguments,0)},sign:function(e,t,n){return g("sign",arguments,0)},verify:function(e,t,n,r){return g("verify",arguments,0)},digest:function(e,t){return g("digest",arguments,0)},generateKey:function(e,t,n){return g("generateKey",arguments,1)},deriveKey:function(e,t,n,r,o){var i=this.deriveBits,s=this.importKey;return new Promise((function(a,c){var l;switch(n.name.toUpperCase()){case"AES-CBC":case"AES-GCM":l=n.length;break;case"HMAC":l=n.length||{"SHA-1":512,"SHA-224":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[n.hash.name.toUpperCase()];break;default:return void c(new Error("No Supported"))}i(e,t,l).then((function(e){return s("raw",e,n,r,o)})).then((function(e){a(e)})).catch((function(e){c(e)}))}))},deriveBits:function(e,t,n){return g("deriveBits",arguments,0)},importKey:function(e,t,n,r,o){return g("importKey",arguments,1)},exportKey:function(e,t){return g("exportKey",[t.algorithm,e,t],1)},wrapKey:function(e,t,n,r){var o=this.encrypt,i=this.exportKey;return new Promise((function(s,a){!1===t.extractable||t.usages.indexOf("wrapKey")<0||n.algorithm.name.toUpperCase()!==r.name?a(new Error("InvalidAccessError")):i(e,t).then((function(t){return o(r,n,"jwk"===e?se.stringToBytes(JSON.stringify(t,null,0)):t)})).then((function(e){s(e)})).catch((function(e){a(e)}))}))},unwrapKey:function(e,t,n,r,o,i,s){var a=this.decrypt,c=this.importKey;return new Promise((function(l,u){n.usages.indexOf("unwrapKey")<0||n.algorithm.name.toUpperCase()!==r.name?u(new Error("InvalidAccessError")):a(r,n,t).then((function(t){return c(e,"jwk"===e?JSON.parse(se.bytesToString(t)):t,o,i,s)})).then((function(e){l(e)})).catch((function(e){u(e)}))}))}};return{publicMethods:m,internalMethods:{useWebWorkers:c.useWebWorkers}}}();var ae=function(){var e=p;return{wrapKey:function(t){var n=Z(t.keyData1,t.keyHandle1.algorithm.name,d["SHA-1"])(),r=g.keyToJwkOld(t.keyHandle,t.keyData),o={alg:t.keyHandle1.algorithm.name.toUpperCase(),enc:"A128GCM"},i=e.toBase64(JSON.stringify(o),!0),s=$.getBytes(32),a=n.encrypt(s),c=e.toBase64(a,!0),l=$.getBytes(12),u=e.toBase64(l,!0),p=i.concat(".",c,".",u),h=H(K(s));h.init(l,e.stringToBytes(p),128);var f=h.encrypt(r),m=f.slice(-16),y={recipients:[{header:i,encrypted_key:c,integrity_value:e.toBase64(m,!0)}],initialization_vector:u,ciphertext:e.toBase64(f.slice(0,f.length-m.length),!0)};return e.stringToBytes(JSON.stringify(y))},unwrapKey:function(t){var n=e.fromBase64,r=JSON.parse(String.fromCharCode.apply(null,t.buffer)),o=(e.fromBase64(r.recipients[0].header),n(r.recipients[0].encrypted_key)),i=n(r.recipients[0].integrity_value),s=n(r.initialization_vector),a=n(r.ciphertext),c=d["SHA-1"](),l=Z(t.keyData,t.keyHandle.algorithm.name,c).decrypt(o),u=r.recipients[0].header.concat(".",r.recipients[0].encrypted_key,".",r.initialization_vector),p=H(K(l));p.init(s,e.stringToBytes(u),128);var h=p.decrypt(a,i),f=g.jwkToKey(h,t.algorithm,["k"]);return{type:"keyImport",keyData:f.k,keyHandle:{algorithm:{name:t.algorithm.name},extractable:t.extractable||f.extractable,usages:t.usages,type:"secret"}}}}}();void 0!==t&&(t.register("wrapKey","AES-GCM",ae.wrapKey),t.register("unwrapKey","AES-CBC",ae.unwrapKey));var ce,le={subtle:oe?oe.publicMethods:null,getRandomValues:function(e){var t,n=$.getBytes(e.length);for(t=0;t<e.length;t+=1)e[t]=n[t];return e},initPrng:function(e){var t=Object.prototype.toString.call(e);if("[object Array]"!==t&&"[object Uint8Array]"!==t)throw new Error("entropyData must be a Array or Uint8Array");ce&&ce.reseed(e),$.reseed(ce.read(48))},toBase64:function(e,t){return p.toBase64(e,t)},fromBase64:function(e){return p.fromBase64(e)},textToBytes:function(e){return p.stringToBytes(e)},bytesToText:function(e){return p.bytesToString(e)},asn1:h,url:n,version:"1.6.5",useWebWorkers:function(e){return oe?oe.internalMethods.useWebWorkers(e):null}};(ce=ce||new function(e){var t=[],n=new q,r=!1,o=!1,i=e;function s(){var s,a=["Cookie","RedirectUri","ETag","x-ms-client-antiforgery-id","x-ms-client-request-id","x-ms-client-session-id","SubscriptionPool"],u=[];for(s=0;s<48;s+=1)u[s]=Math.floor(256*Math.random());var d=i.crypto||i.msCrypto;if(d&&"function"==typeof d.getRandomValues&&e.Uint8Array){var h=new e.Uint8Array(48);d.getRandomValues(h),u=u.concat(Array.apply(null,h)),o=!0}if("undefined"!=typeof XMLHttpRequest){var f=new XMLHttpRequest;for(s=0;s<a.length;s+=1)try{var g=f.getResponseHeader(a[s]);if(g){var m=p.stringToBytes(g);u=u.concat(m)}}catch(e){}}!o&&c&&(u=u.concat(t.splice(0,t.length)),l.startCollectors()),r?n.reseed(u):n.init(u),r=!0}function a(e){for(var n=0;n<e.length;++n)t.push(e[n]);t.length>=128&&l.stopCollectors()}var c=e&&e.addEventListener||"undefined"!=typeof document&&document.attachEvent,l={startCollectors:function(){if(!this.collectorsRegistered){if(e.addEventListener)e.addEventListener("mousemove",this.MouseEventCallBack,!0),e.addEventListener("load",this.LoadTimeCallBack,!0);else{if(!document.attachEvent)throw new Error("Can't attach events for entropy collection");document.attachEvent("onmousemove",this.MouseEventCallBack),document.attachEvent("onload",this.LoadTimeCallBack)}this.collectorsRegistered=1}},stopCollectors:function(){this.collectorsRegistered&&(e.removeEventListener?(e.removeEventListener("mousemove",this.MouseEventCallBack,1),e.removeEventListener("load",this.LoadTimeCallBack,1)):e.detachEvent&&(e.detachEvent("onmousemove",this.MouseEventCallBack),e.detachEvent("onload",this.LoadTimeCallBack)),this.collectorsRegistered=0)},MouseEventCallBack:function(e){var t=(new Date).valueOf(),n=e.x||e.clientX||e.offsetX||0,r=e.y||e.clientY||e.offsetY||0;a([255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,255&r,r>>8&255])},LoadTimeCallBack:function(){var e=(new Date).valueOf();a([255&e,e>>8&255,e>>16&255,e>>24&255])}};return{init:function(){if(s(),!o&&c)try{l.startCollectors()}catch(e){}},reseed:function(e){n.reseed(e)},read:function(e){if(!r)throw new Error("Entropy pool is not initialized.");var t=n.getBytes(e);return s(),t}}}(e)).init();var ue=ce.read(48);return $.init(ue),le}()}(r)}.apply(t,[]),void 0===n||(e.exports=n),function(e,t){"undefined"==typeof Promise&&(e.Promise=function(){var e=function(t,n){if(!(this instanceof e))throw new Error("use 'new' keyword with Promise constructor");var r=null,o=null,i=[],s=[],a=[],c=[];this.then=function(t,n){var l;return r?(l=t(r.result))&&l.then?l:e.resolve(l):o?(l=n?n(o.result):o.result)&&l.then?l:e.resolve(l):(i.push(t),n&&s.push(n),new e((function(e,t){c.push(e),a.push(t)})))},this.catch=function(t){var n;return o?(n=t(o.result))&&n.then?n:e.resolve(n):(s.push(t),new e((function(e,t){c.push(e),a.push(t)})))},t((function(e){var t,n;for(n=0;n<i.length;n+=1)(t=i[n](e))&&t.then?(t.then(c[n]),a[n]&&t.catch(a[n])):c[n]&&c[n](t);r={result:e}}),(function(e){var t,n;for(n=0;n<s.length;n+=1)(t=s[n](e))&&t.then?t.then(c[n],a[n]):c[n]&&c[n](t);o={result:e}}))};return e.all=function(t){var n=[],r=0;function o(e,o){return function(i){n[e]=i,(r+=1)===t.length&&o(n)}}return new e((function(n,r){var i;function s(e){r(e)}for(i=0;i<t.length;i+=1)t[i].then?(t[i].then(o(i,n)),t[i].catch(s)):e.resolve(t[i]).then(o(i,n))}))},e.race=function(t){var n=!1;function r(e){return function(t){n||(n=!0,e(t))}}return new e((function(e,n){for(var o=0;o<t.length;o+=1)t[o].then(r(e),r(n))}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.resolve=function(t){return new e((function(e,n){e(t)}))},e}())}(this)},66828:e=>{"use strict";e.exports=require("vscode")},21763:()=>{},47990:()=>{},38497:()=>{},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"jupyter","displayName":"Jupyter","version":"2022.10.110","description":"Jupyter notebook support, interactive programming and computing that supports Intellisense, debugging and more.","publisher":"ms-toolsai","author":{"name":"Microsoft Corporation"},"extensionPack":["ms-toolsai.jupyter-keymap","ms-toolsai.jupyter-renderers","ms-toolsai.vscode-jupyter-slideshow","ms-toolsai.vscode-jupyter-cell-tags"],"license":"MIT","homepage":"https://github.com/Microsoft/vscode-jupyter","repository":{"type":"git","url":"https://github.com/Microsoft/vscode-jupyter"},"bugs":{"url":"https://github.com/Microsoft/vscode-jupyter/issues"},"qna":"https://github.com/microsoft/vscode-jupyter/discussions","icon":"icon.png","galleryBanner":{"color":"#ffffff","theme":"light"},"engines":{"vscode":"^1.72.0"},"keywords":["jupyter","notebook","ipynb","notebookKernelJupyterNotebook","multi-root ready","python"],"categories":["Programming Languages","Other","Extension Packs","Data Science","Machine Learning","Notebooks","Visualization"],"activationEvents":["onLanguage:python","onLanguage:jupyter","onCommand:jupyter.viewOutput","onCommand:jupyter.export","onCommand:jupyter.exportAsPythonScript","onCommand:jupyter.exportToHTML","onCommand:jupyter.exportToPDF","onCommand:jupyter.notebookeditor.export","onCommand:jupyter.createnewnotebook","onCommand:jupyter.createnewinteractive","onCommand:jupyter.importnotebook","onCommand:jupyter.importnotebookfile","onCommand:jupyter.selectjupyteruri","onCommand:jupyter.exportfileasnotebook","onCommand:jupyter.exportfileandoutputasnotebook","onCommand:jupyter.selectJupyterInterpreter","onCommand:jupyter.selectjupytercommandline","onCommand:jupyter.openVariableView","onCommand:jupyter.selectNativeJupyterUriFromToolBar","onCommand:jupyter.clearSavedJupyterUris","onCommand:jupyter.filterKernels","onCommand:jupyter.runInDedicatedExtensionHost","onWalkthrough:jupyterWelcome","onNotebook:jupyter-notebook","onNotebook:interactive","onView:jupyterViewVariables","onWebviewPanel:jupyter-variables","onWebviewPanel:jupyter"],"main":"./out/extension.node.js","browser":"./out/extension.web.bundle.js","capabilities":{"virtualWorkspaces":true,"untrustedWorkspaces":{"supported":"limited","description":"%capabilities.untrustedWorkspace.description%"}},"contributes":{"walkthroughs":[{"id":"jupyterWelcome","title":"%contributes.walkthroughs.jupyterWelcome.title%","description":"%contributes.walkthroughs.jupyterWelcome.description%","when":"workspacePlatform != webworker","steps":[{"id":"ipynb.newUntitledIpynb","title":"%contributes.walkthroughs.jupyterWelcome.steps.ipynb.newUntitledIpynb.title%","description":"%contributes.walkthroughs.jupyterWelcome.steps.ipynb.newUntitledIpynb.description%","media":{"svg":"resources/walkthroughs/opennotebook.svg","altText":"%contributes.walkthroughs.jupyterWelcome.steps.ipynb.newUntitledIpynb.media.altText%"},"completionEvents":["onCommand:ipynb.newUntitledIpynb","onCommand:jupyter.createnewinteractive","onCommand:workbench.action.files.openFolder","onCommand:workbench.action.files.openFileFolder"]},{"id":"jupyter.selectKernel","title":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.selectKernel.title%","description":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.selectKernel.description%","media":{"svg":"resources/walkthroughs/kernel.svg","altText":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.selectKernel.media.altText%"},"completionEvents":["onCommand:notebook.selectKernel"]},{"id":"jupyter.exploreAndDebug","title":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.exploreAndDebug.title%","description":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.exploreAndDebug.description%","media":{"svg":"resources/walkthroughs/data.svg","altText":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.exploreAndDebug.media.altText%"}},{"id":"jupyter.dataScienceLearnMore","title":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.dataScienceLearnMore.title%","description":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.dataScienceLearnMore.description%","media":{"svg":"resources/walkthroughs/learnmore.svg","altText":"%contributes.walkthroughs.jupyterWelcome.steps.jupyter.dataScienceLearnMore.media.altText%"}}]}],"keybindings":[{"command":"jupyter.execSelectionInteractive","key":"shift+enter","when":"editorTextFocus && editorLangId == python && !findInputFocussed && !replaceInputFocussed && jupyter.ownsSelection && !notebookEditorFocused"},{"command":"jupyter.runcurrentcelladvance","key":"shift+enter","when":"editorTextFocus && !editorHasSelection && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.runcurrentcell","key":"ctrl+enter","when":"editorTextFocus && !editorHasSelection && jupyter.hascodecells && !notebookEditorFocused && !jupyter.havenativecells"},{"command":"jupyter.runcurrentcellandaddbelow","key":"alt+enter","when":"editorTextFocus && !editorHasSelection && jupyter.hascodecells && !notebookEditorFocused"},{"key":"shift+enter","when":"resourceScheme == \'vscode-interactive\' && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || resourceScheme == \'vscode-interactive\' && !notebookKernel","command":"interactive.execute"},{"key":"escape","when":"resourceScheme == \'vscode-interactive\' && !editorHoverVisible && !suggestWidgetVisible && !isComposing && !inSnippetMode && !exceptionWidgetVisible && !selectionAnchorSet && !LinkedEditingInputVisible && !renameInputVisible && !editorHasSelection && !accessibilityHelpWidgetVisible && !breakpointWidgetVisible && !findWidgetVisible && !markersNavigationVisible && !parameterHintsVisible && !editorHasMultipleSelections && !notificationToastsVisible","command":"interactive.input.clear"},{"command":"jupyter.insertCellBelowPosition","key":"ctrl+; s","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.insertCellBelow","key":"ctrl+; b","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.insertCellAbove","key":"ctrl+; a","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.deleteCells","key":"ctrl+; x","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.extendSelectionByCellAbove","key":"ctrl+alt+shift+[","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.extendSelectionByCellBelow","key":"ctrl+alt+shift+]","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.moveCellsUp","key":"ctrl+; u","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.moveCellsDown","key":"ctrl+; d","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.changeCellToMarkdown","key":"ctrl+; m","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.changeCellToCode","key":"ctrl+; c","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.gotoNextCellInFile","key":"ctrl+alt+]","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.gotoPrevCellInFile","key":"ctrl+alt+[","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.selectCellContents","key":"ctrl+alt+\\\\","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.selectCell","key":"ctrl+alt+shift+\\\\","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.refreshDataViewer","key":"ctrl+r","mac":"cmd+r","when":"jupyter.dataViewerActive"},{"command":"jupyter.runAndDebugCell","key":"ctrl+alt+shift+enter","mac":"ctrl+shift+enter"},{"command":"jupyter.runByLine","key":"f10"},{"command":"jupyter.runByLineNext","key":"f10"},{"command":"jupyter.runByLineStop","key":"ctrl+enter"}],"commands":[{"command":"dataScience.ClearCache","title":"%jupyter.command.dataScience.clearCache.title%","category":"Jupyter (Dev)","enablement":"jupyter.development"},{"command":"jupyter.replayPylanceLog","title":"%jupyter.command.jupyter.replayPylanceLog.title%","category":"Jupyter (Dev)","enablement":"jupyter.development && notebookType == jupyter-notebook && isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.replayPylanceLogStep","title":"%jupyter.command.jupyter.replayPylanceLogStep.title%","category":"Jupyter (Dev)","icon":"$(debug-start)","enablement":"jupyter.development && notebookType == jupyter-notebook && isWorkspaceTrusted && jupyter.replayLogLoaded && !jupyter.webExtension"},{"command":"jupyter.debugNotebook","title":"%jupyter.command.jupyter.debug.title%","icon":"$(bug)","category":"Jupyter","enablement":"notebookKernelCount > 0 && resource not in jupyter.notebookeditor.runByLineDocuments"},{"command":"jupyter.filterKernels","title":"%jupyter.command.jupyter.filterKernels.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.runByLine","title":"%jupyter.command.jupyter.runByLine.title%","icon":"$(debug-line-by-line)","category":"Jupyter","enablement":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted && resource not in jupyter.notebookeditor.debugDocuments || !notebookKernel && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted"},{"command":"jupyter.runAndDebugCell","title":"%jupyter.command.jupyter.debugCell.title%","icon":"$(debug-alt-small)","category":"Jupyter","enablement":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted && resource not in jupyter.notebookeditor.debugDocuments || !notebookKernel && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted"},{"command":"jupyter.runByLineNext","title":"%jupyter.command.jupyter.runByLineNext.title%","icon":"$(debug-line-by-line)","category":"Jupyter","enablement":"notebookCellResource in jupyter.notebookeditor.runByLineCells"},{"command":"jupyter.runByLineStop","title":"%jupyter.command.jupyter.runByLineStop.title%","icon":"$(debug-continue-small)","category":"Jupyter","enablement":"notebookCellResource in jupyter.notebookeditor.runByLineCells"},{"command":"jupyter.viewOutput","title":"%jupyter.command.jupyter.viewOutput.title%","category":"Jupyter"},{"command":"jupyter.notebookeditor.export","title":"%DataScience.notebookExportAs%","shortTitle":"%DataScience.notebookExportAs.shorttitle%","category":"Notebook","icon":{"light":"resources/light/export_to_python.svg","dark":"resources/dark/export_to_python.svg"},"enablement":"notebookType == jupyter-notebook && isWorkspaceTrusted && !jupyter.webExtension || notebookType == jupyter-notebook && isWorkspaceTrusted && jupyter.webExtension && notebookKernel =~ /^ms-toolsai.jupyter\\\\//"},{"command":"jupyter.export","title":"%DataScience.notebookExportAs%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension || isWorkspaceTrusted && jupyter.webExtension && notebookKernel =~ /^ms-toolsai.jupyter\\\\//"},{"command":"jupyter.exportAsPythonScript","title":"%jupyter.command.jupyter.exportAsPythonScript.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension || isWorkspaceTrusted && jupyter.webExtension && notebookKernel =~ /^ms-toolsai.jupyter\\\\//"},{"command":"jupyter.exportToHTML","title":"%jupyter.command.jupyter.exportToHTML.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension || isWorkspaceTrusted && jupyter.webExtension && notebookKernel =~ /^ms-toolsai.jupyter\\\\//"},{"command":"jupyter.exportToPDF","title":"%jupyter.command.jupyter.exportToPDF.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension || isWorkspaceTrusted && jupyter.webExtension && notebookKernel =~ /^ms-toolsai.jupyter\\\\//"},{"command":"jupyter.selectJupyterInterpreter","title":"%jupyter.command.jupyter.selectJupyterInterpreter.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.runcurrentcell","title":"%jupyter.command.jupyter.runcurrentcell.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugcell","title":"%jupyter.command.jupyter.debugcell.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugstepover","title":"%jupyter.command.jupyter.debugstepover.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugstop","title":"%jupyter.command.jupyter.debugstop.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugcontinue","title":"%jupyter.command.jupyter.debugcontinue.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.insertCellBelowPosition","title":"%jupyter.command.jupyter.insertCellBelowPosition.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.insertCellBelow","title":"%jupyter.command.jupyter.insertCellBelow.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.insertCellAbove","title":"%jupyter.command.jupyter.insertCellAbove.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.deleteCells","title":"%jupyter.command.jupyter.deleteCells.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.selectCell","title":"%jupyter.command.jupyter.selectCell.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.selectCellContents","title":"%jupyter.command.jupyter.selectCellContents.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.extendSelectionByCellAbove","title":"%jupyter.command.jupyter.extendSelectionByCellAbove.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.extendSelectionByCellBelow","title":"%jupyter.command.jupyter.extendSelectionByCellBelow.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.moveCellsUp","title":"%jupyter.command.jupyter.moveCellsUp.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.moveCellsDown","title":"%jupyter.command.jupyter.moveCellsDown.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.changeCellToMarkdown","title":"%jupyter.command.jupyter.changeCellToMarkdown.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.changeCellToCode","title":"%jupyter.command.jupyter.changeCellToCode.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.gotoNextCellInFile","title":"%jupyter.command.jupyter.gotoNextCellInFile.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.gotoPrevCellInFile","title":"%jupyter.command.jupyter.gotoPrevCellInFile.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.runcurrentcelladvance","title":"%jupyter.command.jupyter.runcurrentcelladvance.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runcurrentcellandallbelow.palette","title":"%jupyter.command.jupyter.runcurrentcellandallbelow.palette.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runallcellsabove.palette","title":"%jupyter.command.jupyter.runallcellsabove.palette.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugcurrentcell.palette","title":"%jupyter.command.jupyter.debugcurrentcell.palette.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.execSelectionInteractive","title":"%jupyter.command.jupyter.execSelectionInteractive.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.createnewinteractive","title":"%jupyter.command.jupyter.createnewinteractive.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runFileInteractive","title":"%jupyter.command.jupyter.runFileInteractive.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugFileInteractive","title":"%jupyter.command.jupyter.debugFileInteractive.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.runallcells","title":"%jupyter.command.jupyter.runallcells.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runallcellsabove","title":"%jupyter.command.jupyter.runallcellsabove.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runcellandallbelow","title":"%jupyter.command.jupyter.runcellandallbelow.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runcell","title":"%jupyter.command.jupyter.runcell.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runtoline","title":"%jupyter.command.jupyter.runtoline.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.runfromline","title":"%jupyter.command.jupyter.runfromline.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.selectjupyteruri","title":"%jupyter.command.jupyter.selectjupyteruri.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.selectjupytercommandline","title":"%jupyter.command.jupyter.selectjupytercommandline.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.importnotebook","title":"%jupyter.command.jupyter.importnotebook.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.importnotebookfile","title":"%jupyter.command.jupyter.importnotebookfile.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.exportoutputasnotebook","title":"%jupyter.command.jupyter.exportoutputasnotebook.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.exportfileasnotebook","title":"%jupyter.command.jupyter.exportfileasnotebook.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.exportfileandoutputasnotebook","title":"%jupyter.command.jupyter.exportfileandoutputasnotebook.title%","category":"Jupyter","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.notebookeditor.undocells","title":"%jupyter.command.jupyter.undocells.title%","category":"Notebook","enablement":"!jupyter.webExtension"},{"command":"jupyter.notebookeditor.redocells","title":"%jupyter.command.jupyter.redocells.title%","category":"Notebook","enablement":"!jupyter.webExtension"},{"command":"jupyter.interruptkernel","title":"%jupyter.command.jupyter.interruptkernel.title%","shortTitle":"%jupyter.command.jupyter.interruptkernel.shorttitle%","category":"Jupyter","icon":{"light":"resources/light/interrupt.svg","dark":"resources/dark/interrupt.svg"},"enablement":"isWorkspaceTrusted && jupyter.interactive.canInterruptNotebookKernel"},{"command":"jupyter.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","shortTitle":"%jupyter.command.jupyter.restartkernel.shorttitle%","category":"Jupyter","icon":{"light":"resources/light/restart-kernel.svg","dark":"resources/dark/restart-kernel.svg"},"enablement":"isWorkspaceTrusted && jupyter.interactive.canRestartNotebookKernel"},{"command":"jupyter.notebookeditor.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","shortTitle":"%jupyter.command.jupyter.restartkernel.shorttitle%","category":"Notebook","icon":{"light":"resources/light/restart-kernel.svg","dark":"resources/dark/restart-kernel.svg"},"enablement":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && jupyter.notebookeditor.canrestartNotebookkernel && isWorkspaceTrusted"},{"command":"jupyter.selectNativeJupyterUriFromToolBar","title":"%jupyter.command.jupyter.selectjupyteruri.title%","category":"Jupyter","icon":"$(debug-disconnect)","enablement":"isWorkspaceTrusted && !jupyter.webExtension"},{"command":"jupyter.notebookeditor.addcellbelow","title":"%jupyter.command.jupyter.notebookeditor.addcellbelow.title%","category":"Notebook","enablement":"!jupyter.webExtension"},{"command":"jupyter.notebookeditor.removeallcells","title":"%jupyter.command.jupyter.notebookeditor.removeallcells.title%","category":"Notebook","enablement":"!jupyter.webExtension"},{"command":"jupyter.notebookeditor.expandallcells","title":"%jupyter.command.jupyter.notebookeditor.expandallcells.title%","category":"Notebook","enablement":"!jupyter.webExtension"},{"command":"jupyter.notebookeditor.collapseallcells","title":"%jupyter.command.jupyter.notebookeditor.collapseallcells.title%","category":"Notebook","enablement":"!jupyter.webExtension"},{"command":"jupyter.expandallcells","title":"%jupyter.command.jupyter.expandallcells.title%","shortTitle":"%jupyter.command.jupyter.expandallcells.shorttitle%","category":"Jupyter","icon":"$(expand-all)"},{"command":"jupyter.collapseallcells","title":"%jupyter.command.jupyter.collapseallcells.title%","shortTitle":"%jupyter.command.jupyter.collapseallcells.shorttitle%","category":"Jupyter","icon":"$(collapse-all)"},{"command":"jupyter.addcellbelow","title":"%jupyter.command.jupyter.addcellbelow.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.createnewnotebook","title":"%jupyter.command.jupyter.createnewnotebook.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.scrolltocell","title":"%jupyter.command.jupyter.scrolltocell.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.latestExtension","title":"DataScience.latestExtension","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.enableDebugLogging","title":"%jupyter.command.jupyter.enableDebugLogging.title%","category":"Jupyter","enablement":"!jupyter.webExtension"},{"command":"jupyter.resetLoggingLevel","title":"%jupyter.command.jupyter.resetLoggingLevel.title%","enablement":"!jupyter.webExtension","category":"Jupyter"},{"command":"jupyter.showDataViewer","title":"%jupyter.command.jupyter.showDataViewer.title%","enablement":"!jupyter.webExtension","category":"Jupyter"},{"command":"jupyter.clearSavedJupyterUris","title":"%jupyter.command.jupyter.clearSavedJupyterUris.title%","category":"Jupyter"},{"command":"jupyter.openVariableView","title":"%jupyter.command.jupyter.openVariableView.title%","shortTitle":"%jupyter.command.jupyter.openVariableView.shorttitle%","icon":"$(variable-group)","category":"Jupyter","enablement":"notebookType == jupyter-notebook && isWorkspaceTrusted || notebookType == interactive && isWorkspaceTrusted"},{"command":"jupyter.openOutlineView","title":"%jupyter.command.jupyter.openOutlineView.title%","shortTitle":"%jupyter.command.jupyter.openOutlineView.shorttitle%","icon":"$(list-unordered)","category":"Jupyter","enablement":"notebookType == jupyter-notebook"},{"command":"jupyter.refreshDataViewer","title":"%DataScience.refreshDataViewerCommandPalette%","category":"Jupyter","enablement":"jupyter.dataViewerActive && isWorkspaceTrusted"},{"command":"jupyter.interactive.clearAllCells","title":"%DataScience.interactiveClearAllCells%","icon":"$(close)","category":"Jupyter"},{"command":"jupyter.interactive.goToCode","title":"%DataScience.interactiveGoToCode%","icon":"$(go-to-file)","category":"Jupyter"},{"command":"jupyter.interactive.exportasnotebook","title":"%DataScience.exportDialogTitle%","shortTitle":"%DataScience.exportAsNotebook.shorttitle%","icon":"$(save-as)","enablement":"notebookType == interactive","category":"Jupyter"},{"command":"jupyter.interactive.exportas","title":"%DataScience.notebookExport%","icon":{"light":"resources/light/export_to_python.svg","dark":"resources/dark/export_to_python.svg"},"enablement":"notebookType == interactive","category":"Jupyter"},{"command":"jupyter.interactive.copyCell","title":"%DataScience.interactiveCopyCell%","icon":"$(copy)","category":"Jupyter"},{"command":"jupyter.runInDedicatedExtensionHost","title":"%DataScience.runInDedicatedExtensionHost%","enablement":"!jupyter.webExtension","category":"Jupyter"},{"command":"jupyter.installPythonExtensionViaKernelPicker","title":"%DataScience.installPythonExtensionViaKernelPickerTitle%"},{"command":"jupyter.installPythonViaKernelPicker","title":"%DataScience.installPythonTitle%"},{"command":"jupyter.switchToLocalKernels","title":"%DataScience.switchToLocalKernelsTitle%"},{"command":"jupyter.switchToRemoteKernels","title":"%DataScience.switchToRemoteKernelsTitle%"},{"command":"jupyter.switchToAnotherRemoteKernels","title":"%DataScience.switchToAnotherRemoteKernelsTitle%"},{"command":"jupyter.pickDocumentKernelSource","title":"%DataScience.pickDocumentKernelSourceTitle%"}],"menus":{"editor/context":[{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.runallcells","group":"Jupyter2"},{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.runcurrentcell","group":"Jupyter2"},{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.runcurrentcelladvance","group":"Jupyter2"},{"command":"jupyter.runFileInteractive","group":"Jupyter2","when":"editorFocus && editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.runfromline","group":"Jupyter2","when":"editorFocus && editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.runtoline","group":"Jupyter2","when":"editorFocus && editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.execSelectionInteractive","group":"Jupyter2","when":"editorFocus && editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"when":"editorFocus && editorLangId == python && resourceExtname == .ipynb && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.importnotebook","group":"Jupyter3@1"},{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.exportfileasnotebook","group":"Jupyter3@2"},{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.exportfileandoutputasnotebook","group":"Jupyter3@3"}],"editor/title":[{"command":"jupyter.notebookeditor.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","group":"navigation@1","when":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && jupyter.notebookeditor.canrestartNotebookkernel && config.notebook.globalToolbar != true"},{"command":"jupyter.openVariableView","title":"%jupyter.command.jupyter.openVariableView.title%","group":"navigation@2","when":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && config.notebook.globalToolbar != true && jupyter.ispythonnotebook"},{"command":"jupyter.openOutlineView","title":"%jupyter.command.jupyter.openOutlineView.title%","group":"navigation@3","when":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && notebookType == \'jupyter-notebook\' && config.jupyter.showOutlineButtonInNotebookToolbar && config.notebook.globalToolbar != true"},{"command":"jupyter.notebookeditor.export","title":"%DataScience.notebookExportAs%","group":"navigation@4","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && config.notebook.globalToolbar != true"},{"command":"jupyter.selectNativeJupyterUriFromToolBar","title":"%jupyter.command.jupyter.selectjupyteruri.title%","group":"overflow@1000","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && config.notebook.globalToolbar != true"}],"notebook/toolbar":[{"command":"jupyter.notebookeditor.restartkernel","group":"navigation/execute@1","when":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && jupyter.kernel.isjupyter"},{"command":"jupyter.openVariableView","group":"navigation@1","when":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && jupyter.ispythonnotebook && jupyter.kernel.isjupyter"},{"command":"jupyter.openOutlineView","group":"navigation@2","when":"notebookType == \'jupyter-notebook\' && config.jupyter.showOutlineButtonInNotebookToolbar"},{"command":"jupyter.notebookeditor.export","group":"Jupyter","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted"},{"command":"jupyter.replayPylanceLogStep","group":"navigation@1","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && jupyter.replayLogLoaded"}],"notebook/cell/title":[{"command":"jupyter.runByLine","when":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && notebookType == jupyter-notebook && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted && resource not in jupyter.notebookeditor.runByLineDocuments || !notebookKernel && notebookType == jupyter-notebook && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted","group":"inline/cell@0"},{"command":"jupyter.runByLineNext","when":"notebookCellResource in jupyter.notebookeditor.runByLineCells","group":"inline/cell@0"},{"command":"jupyter.runByLineStop","when":"notebookCellResource in jupyter.notebookeditor.runByLineCells && notebookCellToolbarLocation == left","group":"inline/cell@1"},{"command":"jupyter.runByLineStop","when":"notebookCellResource in jupyter.notebookeditor.runByLineCells && notebookCellToolbarLocation == right","group":"inline/cell@0"}],"notebook/cell/execute":[{"command":"jupyter.runAndDebugCell","when":"notebookKernel =~ /^ms-toolsai.jupyter\\\\// && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted && resource not in jupyter.notebookeditor.debugDocuments || !notebookKernel && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted"}],"notebook/kernelSource":[{"command":"jupyter.installPythonExtensionViaKernelPicker","when":"jupyter.showInstallPythonExtensionCommand && jupyter.controllersLoaded"},{"command":"jupyter.installPythonViaKernelPicker","when":"jupyter.showInstallPythonCommand && jupyter.controllersLoaded"},{"command":"jupyter.switchToLocalKernels","when":"jupyter.showingRemoteNotWeb"},{"command":"jupyter.switchToRemoteKernels","when":"jupyter.showingLocalOrWebEmpty"},{"command":"jupyter.switchToAnotherRemoteKernels","when":"jupyter.showingRemoteKernels"},{"command":"jupyter.pickDocumentKernelSource","when":"jupyter.pickDocumentKernelSourceContext"}],"interactive/toolbar":[{"command":"jupyter.interactive.clearAllCells","group":"navigation@0","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"},{"command":"jupyter.restartkernel","group":"navigation@1","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"},{"command":"jupyter.interruptkernel","group":"navigation@2","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"},{"command":"jupyter.openVariableView","group":"navigation@3","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"},{"command":"jupyter.interactive.exportasnotebook","group":"navigation@4","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"},{"command":"jupyter.interactive.exportas","group":"navigation@5","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"},{"command":"jupyter.expandallcells","group":"navigation@6","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"},{"command":"jupyter.collapseallcells","group":"navigation@7","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"}],"interactive/cell/title":[{"command":"jupyter.interactive.copyCell","group":"inline@0","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"},{"command":"jupyter.interactive.goToCode","group":"inline@1","when":"isWorkspaceTrusted && notebookKernel =~ /^ms-toolsai.jupyter\\\\// || isWorkspaceTrusted && !notebookKernel"}],"explorer/context":[{"when":"resourceLangId == python && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.runFileInteractive","group":"Jupyter2"},{"when":"resourceExtname == .ipynb && isWorkspaceTrusted","command":"jupyter.importnotebookfile","group":"Jupyter"}],"commandPalette":[{"command":"jupyter.installPythonExtensionViaKernelPicker","when":"false"},{"command":"jupyter.installPythonViaKernelPicker","when":"false"},{"command":"jupyter.switchToLocalKernels","when":"false"},{"command":"jupyter.switchToRemoteKernels","when":"false"},{"command":"jupyter.switchToAnotherRemoteKernels","when":"false"},{"command":"jupyter.replayPylanceLog","title":"%jupyter.commandPalette.jupyter.replayPylanceLog.title%","when":"jupyter.development && isWorkspaceTrusted"},{"command":"jupyter.debugNotebook","title":"%jupyter.command.jupyter.debug.title%","when":"false"},{"command":"jupyter.interactive.copyCell","when":"false"},{"command":"jupyter.exportAsPythonScript","title":"%jupyter.command.jupyter.exportAsPythonScript.title%","category":"Jupyter","when":"jupyter.isnativeactive && isWorkspaceTrusted && jupyter.ispythonnotebook && isWorkspaceTrusted"},{"command":"jupyter.refreshDataViewer","category":"Jupyter","when":"isWorkspaceTrusted"},{"command":"jupyter.exportToHTML","title":"%jupyter.command.jupyter.exportToHTML.title%","category":"Jupyter","when":"jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.exportToPDF","title":"%jupyter.command.jupyter.exportToPDF.title%","category":"Jupyter","when":"jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.insertCellBelowPosition","title":"%jupyter.command.jupyter.insertCellBelowPosition.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.insertCellBelow","title":"%jupyter.command.jupyter.insertCellBelow.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.insertCellAbove","title":"%jupyter.command.jupyter.insertCellAbove.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.deleteCells","title":"%jupyter.command.jupyter.deleteCells.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.selectCell","title":"%jupyter.command.jupyter.selectCell.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.selectCellContents","title":"%jupyter.command.jupyter.selectCellContents.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.extendSelectionByCellAbove","title":"%jupyter.command.jupyter.extendSelectionByCellAbove.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.extendSelectionByCellBelow","title":"%jupyter.command.jupyter.extendSelectionByCellBelow.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.moveCellsUp","title":"%jupyter.command.jupyter.moveCellsUp.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.moveCellsDown","title":"%jupyter.command.jupyter.moveCellsDown.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.changeCellToMarkdown","title":"%jupyter.command.jupyter.changeCellToMarkdown.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.changeCellToCode","title":"%jupyter.command.jupyter.changeCellToCode.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.gotoNextCellInFile","title":"%jupyter.command.jupyter.gotoNextCellInFile.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.gotoPrevCellInFile","title":"%jupyter.command.jupyter.gotoPrevCellInFile.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.runcurrentcell","title":"%jupyter.command.jupyter.runcurrentcell.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && !jupyter.havenativecells && isWorkspaceTrusted"},{"command":"jupyter.runcurrentcelladvance","title":"%jupyter.command.jupyter.runcurrentcelladvance.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && !jupyter.havenativecells && isWorkspaceTrusted"},{"command":"jupyter.runcurrentcellandallbelow.palette","title":"%jupyter.command.jupyter.runcurrentcellandallbelow.palette.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && !jupyter.havenativecells && isWorkspaceTrusted"},{"command":"jupyter.runallcellsabove.palette","title":"%jupyter.command.jupyter.runallcellsabove.palette.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && !jupyter.havenativecells && isWorkspaceTrusted"},{"command":"jupyter.debugcurrentcell.palette","title":"%jupyter.command.jupyter.debugcurrentcell.palette.title%","category":"Jupyter","when":"editorLangId == python && jupyter.hascodecells && isWorkspaceTrusted"},{"command":"jupyter.createnewinteractive","title":"%jupyter.command.jupyter.createnewinteractive.title%","category":"Jupyter","when":"isWorkspaceTrusted"},{"command":"jupyter.runallcells","title":"%jupyter.command.jupyter.runallcells.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && isWorkspaceTrusted"},{"command":"jupyter.scrolltocell","title":"%jupyter.command.jupyter.scrolltocell.title%","category":"Jupyter","when":"false"},{"command":"jupyter.debugcell","title":"%jupyter.command.jupyter.debugcell.title%","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.runcell","title":"%jupyter.command.jupyter.runcell.title%","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.runFileInteractive","title":"%jupyter.command.jupyter.runFileInteractive.title%","category":"Jupyter","when":"editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.debugFileInteractive","title":"%jupyter.command.jupyter.debugFileInteractive.title%","category":"Jupyter","when":"editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.importnotebook","title":"%jupyter.command.jupyter.importnotebook.title%","category":"Jupyter","when":"isWorkspaceTrusted"},{"command":"jupyter.exportfileasnotebook","title":"%jupyter.command.jupyter.exportfileasnotebook.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonorinteractiveeactive && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.exportfileandoutputasnotebook","title":"%jupyter.command.jupyter.exportfileandoutputasnotebook.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonorinteractiveeactive && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.interruptkernel","title":"%jupyter.command.jupyter.interruptkernel.title%","category":"Jupyter","when":"jupyter.ispythonorinteractiveeactive && isWorkspaceTrusted"},{"command":"jupyter.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","category":"Jupyter","when":"jupyter.ispythonorinteractiveeactive && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.undocells","title":"%jupyter.command.jupyter.undocells.title%","category":"Notebook","when":"jupyter.haveinteractivecells && jupyter.isnativeactive && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.redocells","title":"%jupyter.command.jupyter.redocells.title%","category":"Notebook","when":"jupyter.havenativeredoablecells && jupyter.isnativeactive && !notebookEditorFocused&& isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.removeallcells","title":"%jupyter.command.jupyter.notebookeditor.removeallcells.title%","category":"Notebook","when":"jupyter.havenativecells && jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","category":"Notebook","when":"jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.addcellbelow","title":"%jupyter.command.jupyter.notebookeditor.addcellbelow.title%","category":"Notebook","when":"jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.expandallcells","title":"%jupyter.command.jupyter.expandallcells.title%","category":"Notebook","when":"notebookEditorFocused && notebookType == \'jupyter-notebook\'"},{"command":"jupyter.notebookeditor.collapseallcells","title":"%jupyter.command.jupyter.collapseallcells.title%","category":"Notebook","when":"notebookEditorFocused && notebookType == \'jupyter-notebook\'"},{"command":"jupyter.expandallcells","title":"%jupyter.command.jupyter.expandallcells.title%","shortTitle":"%jupyter.command.jupyter.expandallcells.shorttitle%","category":"Jupyter","when":"jupyter.isinteractiveactive"},{"command":"jupyter.collapseallcells","title":"%jupyter.command.jupyter.collapseallcells.title%","shortTitle":"%jupyter.command.jupyter.collapseallcells.shorttitle%","category":"Jupyter","when":"jupyter.isinteractiveactive"},{"command":"jupyter.exportoutputasnotebook","title":"%jupyter.command.jupyter.exportoutputasnotebook.title%","category":"Jupyter","when":"jupyter.isinteractiveactive"},{"command":"jupyter.runcellandallbelow","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.runallcellsabove","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.debugcontinue","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.debugstop","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.debugstepover","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.debugcell","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.addcellbelow","title":"%jupyter.command.jupyter.addcellbelow.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive"},{"command":"jupyter.createnewnotebook","category":"Jupyter","when":"false"},{"command":"jupyter.runtoline","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.selectjupytercommandline","category":"Jupyter","when":"!jupyter.zmqavailable"},{"command":"jupyter.runfromline","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.execSelectionInteractive","category":"Jupyter","when":"editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.latestExtension","title":"%DataScience.latestExtension%","category":"Jupyter","when":"false"},{"command":"jupyter.export","title":"%DataScience.notebookExportAs%","category":"Jupyter","when":"false"},{"command":"jupyter.notebookeditor.export","title":"%DataScience.notebookExportAs%","category":"Notebook","when":"false"},{"command":"jupyter.resetLoggingLevel","title":"%jupyter.command.jupyter.resetLoggingLevel.title%","category":"Jupyter","when":"config.jupyter.logging.level != error"},{"command":"jupyter.enableDebugLogging","title":"%jupyter.command.jupyter.enableDebugLogging.title%","category":"Jupyter","when":"config.jupyter.logging.level != debug"},{"command":"jupyter.showDataViewer","category":"Jupyter","when":"false"},{"command":"jupyter.openVariableView","title":"%jupyter.command.jupyter.openVariableView.title%","category":"Jupyter","when":"notebookType == jupyter-notebook && isWorkspaceTrusted"},{"command":"jupyter.openOutlineView","title":"%jupyter.command.jupyter.openOutlineView.title%","category":"Jupyter","when":"notebookType == jupyter-notebook && isWorkspaceTrusted"},{"command":"jupyter.selectNativeJupyterUriFromToolBar","title":"%jupyter.command.jupyter.selectjupyteruri.title%","when":"false"},{"command":"jupyter.interactive.goToCode","when":"false"},{"command":"jupyter.interactive.clearAllCells","when":"activeEditor == \'workbench.editor.interactive\' && isWorkspaceTrusted"},{"command":"jupyter.pickDocumentKernelSource","when":"false"}],"debug/variables/context":[{"command":"jupyter.showDataViewer","group":"1_view","when":"debugProtocolVariableMenuContext == \'viewableInDataViewer\'"}]},"configuration":{"type":"object","title":"Jupyter","properties":{"jupyter.experiments.enabled":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.experiments.enabled.description%","scope":"machine"},"jupyter.showVariableViewWhenDebugging":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.showVariableViewWhenDebugging.description%","scope":"application"},"jupyter.logging.level":{"type":"string","default":"debug","enum":["off","error","warn","info","debug","verbose","everything"],"description":"%jupyter.configuration.jupyter.logging.level.description%","scope":"machine"},"jupyter.experiments.optInto":{"type":"array","default":[],"items":{"enum":[]},"markdownDescription":"%jupyter.configuration.jupyter.experiments.optInto.markdownDescription%","scope":"application"},"jupyter.experiments.optOutFrom":{"type":"array","default":[],"items":{"enum":[]},"markdownDescription":"%jupyter.configuration.jupyter.experiments.optOutFrom.markdownDescription%","scope":"application"},"jupyter.enableKeyboardShortcuts":{"type":"boolean","default":true,"deprecationMessage":"%jupyter.configuration.jupyter.enableKeyboardShortcuts.deprecationMessage%","description":"%jupyter.configuration.jupyter.enableKeyboardShortcuts.description%","scope":"application"},"jupyter.allowImportFromNotebook":{"type":"boolean","default":true,"deprecationMessage":"%jupyter.configuration.jupyter.allowImportFromNotebook.deprecationMessage%","description":"%jupyter.configuration.jupyter.allowImportFromNotebook.description%","scope":"resource"},"jupyter.widgetScriptSources":{"type":"array","default":[],"items":{"type":"string","enum":["jsdelivr.com","unpkg.com"],"enumDescriptions":["%jupyter.configuration.jupyter.widgetScriptSources.items.enumDescriptions.0%","%jupyter.configuration.jupyter.widgetScriptSources.items.enumDescriptions.1%"]},"uniqueItems":true,"markdownDescription":"%jupyter.configuration.jupyter.widgetScriptSources.markdownDescription%","scope":"machine"},"jupyter.askForLargeDataFrames":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.askForLargeDataFrames.description%","scope":"application"},"jupyter.askForKernelRestart":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.askForKernelRestart.description%","scope":"application"},"jupyter.exportWithOutputEnabled":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.exportWithOutputEnabled.description%","scope":"resource"},"jupyter.jupyterLaunchTimeout":{"type":"number","default":60000,"description":"%jupyter.configuration.jupyter.jupyterLaunchTimeout.description%","scope":"resource"},"jupyter.jupyterLaunchRetries":{"type":"number","default":3,"description":"%jupyter.configuration.jupyter.jupyterLaunchRetries.description%","scope":"resource"},"jupyter.jupyterCommandLineArguments":{"type":"array","default":[],"description":"%jupyter.configuration.jupyter.jupyterCommandLineArguments.description%","scope":"resource"},"jupyter.notebookFileRoot":{"type":"string","default":"${fileDirname}","description":"%jupyter.configuration.jupyter.notebookFileRoot.description%","scope":"resource"},"jupyter.searchForJupyter":{"type":"boolean","default":true,"deprecationMessage":"%jupyter.configuration.jupyter.searchForJupyter.deprecationMessage%","description":"%jupyter.configuration.jupyter.searchForJupyter.description%","scope":"resource"},"jupyter.useDefaultConfigForJupyter":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.useDefaultConfigForJupyter.description%","scope":"resource"},"jupyter.jupyterInterruptTimeout":{"type":"number","default":10000,"description":"%jupyter.configuration.jupyter.jupyterInterruptTimeout.description%","scope":"resource"},"jupyter.allowInput":{"type":"boolean","default":true,"deprecationMessage":"%jupyter.configuration.jupyter.allowInput.deprecationMessage%","description":"%jupyter.configuration.jupyter.allowInput.description%"},"jupyter.showCellInputCode":{"type":"boolean","default":true,"deprecationMessage":"%jupyter.configuration.jupyter.showCellInputCode.deprecationMessage%","description":"%jupyter.configuration.jupyter.showCellInputCode.description%","scope":"resource"},"jupyter.collapseCellInputCodeByDefault":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.collapseCellInputCodeByDefault.description%","markdownDeprecationMessage":"%jupyter.configuration.jupyter.collapseCellInputCodeByDefault.markdownDeprecationMessage%","scope":"resource"},"jupyter.maxOutputSize":{"type":"number","default":400,"deprecationMessage":"%jupyter.configuration.jupyter.maxOutputSize.deprecationMessage%","description":"%jupyter.configuration.jupyter.maxOutputSize.description%","scope":"resource"},"jupyter.alwaysScrollOnNewCell":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.alwaysScrollOnNewCell.description%","scope":"resource","deprecationMessage":"%jupyter.configuration.jupyter.alwaysScrollOnNewCell.deprecationMessage%"},"jupyter.enableScrollingForCellOutputs":{"type":"boolean","default":true,"deprecationMessage":"%jupyter.configuration.jupyter.enableScrollingForCellOutputs.deprecationMessage%","description":"%jupyter.configuration.jupyter.enableScrollingForCellOutputs.description%","scope":"resource"},"jupyter.sendSelectionToInteractiveWindow":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.sendSelectionToInteractiveWindow.description%","scope":"resource"},"jupyter.variableExplorerExclude":{"type":"string","default":"module;function;builtin_function_or_method;ABCMeta;type","description":"%jupyter.configuration.jupyter.variableExplorerExclude.description%","scope":"resource"},"jupyter.codeRegularExpression":{"type":"string","default":"^(#\\\\s*%%|#\\\\s*\\\\<codecell\\\\>|#\\\\s*In\\\\[\\\\d*?\\\\]|#\\\\s*In\\\\[ \\\\])","description":"%jupyter.configuration.jupyter.codeRegularExpression.description%","scope":"resource"},"jupyter.defaultCellMarker":{"type":"string","default":"# %%","description":"%jupyter.configuration.jupyter.defaultCellMarker.description%","scope":"resource"},"jupyter.markdownRegularExpression":{"type":"string","default":"^(#\\\\s*%%\\\\s*\\\\[markdown\\\\]|#\\\\s*\\\\<markdowncell\\\\>)","description":"%jupyter.configuration.jupyter.markdownRegularExpression.description%","scope":"resource"},"jupyter.allowLiveShare":{"type":"boolean","default":true,"deprecationMessage":"%jupyter.configuration.jupyter.allowLiveShare.deprecationMessage%","description":"%jupyter.configuration.jupyter.allowLiveShare.description%","scope":"resource"},"jupyter.ignoreVscodeTheme":{"type":"boolean","default":false,"deprecationMessage":"%jupyter.configuration.jupyter.ignoreVscodeTheme.deprecationMessage%","description":"%jupyter.configuration.jupyter.ignoreVscodeTheme.description%","scope":"resource"},"jupyter.themeMatplotlibPlots":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.themeMatplotlibPlots.description%","scope":"resource"},"jupyter.liveShareConnectionTimeout":{"type":"number","default":1000,"deprecationMessage":"%jupyter.configuration.jupyter.liveShareConnectionTimeout.deprecationMessage%","description":"%jupyter.configuration.jupyter.liveShareConnectionTimeout.description%","scope":"application"},"jupyter.decorateCells":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.decorateCells.description%","scope":"resource"},"jupyter.enableCellCodeLens":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.enableCellCodeLens.description%","scope":"resource"},"jupyter.enableAutoMoveToNextCell":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.enableAutoMoveToNextCell.description%","scope":"resource"},"jupyter.allowUnauthorizedRemoteConnection":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.allowUnauthorizedRemoteConnection.description%","scope":"resource"},"jupyter.generateSVGPlots":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.generateSVGPlots.description%","scope":"resource"},"jupyter.codeLenses":{"type":"string","default":"jupyter.runcell, jupyter.runallcellsabove, jupyter.debugcell","description":"%jupyter.configuration.jupyter.codeLenses.description%","scope":"resource"},"jupyter.debugCodeLenses":{"type":"string","default":"jupyter.debugcontinue, jupyter.debugstop, jupyter.debugstepover","description":"%jupyter.configuration.jupyter.debugCodeLenses.description%","scope":"resource"},"jupyter.debugpyDistPath":{"type":"string","default":"","description":"%jupyter.configuration.jupyter.debugpyDistPath.description%","scope":"resource"},"jupyter.stopOnFirstLineWhileDebugging":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.stopOnFirstLineWhileDebugging.description%","scope":"resource"},"jupyter.remoteDebuggerPort":{"type":"number","default":-1,"description":"%jupyter.configuration.jupyter.remoteDebuggerPort.description%","scope":"resource"},"jupyter.disableJupyterAutoStart":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.disableJupyterAutoStart.description%","scope":"resource"},"jupyter.textOutputLimit":{"type":"number","default":20000,"deprecationMessage":"%jupyter.configuration.jupyter.textOutputLimit.deprecationMessage%","description":"%jupyter.configuration.jupyter.textOutputLimit.description%","scope":"resource"},"jupyter.colorizeInputBox":{"type":"boolean","default":true,"deprecationMessage":"%jupyter.configuration.jupyter.colorizeInputBox.deprecationMessage%","description":"%jupyter.configuration.jupyter.colorizeInputBox.description%","scope":"resource"},"jupyter.stopOnError":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.stopOnError.description%","scope":"resource"},"jupyter.addGotoCodeLenses":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.addGotoCodeLenses.description%","scope":"resource"},"jupyter.variableQueries":{"type":"array","markdownDescription":"%jupyter.configuration.jupyter.variableQueries.markdownDescription%","scope":"machine","examples":[[{"language":"python","query":"_rwho_ls = %who_ls\\\\nprint(_rwho_ls)","parseExpr":"\'(\\\\w+)\'"},{"language":"julia","query":"whos","parseExpr":"\'(\\\\w+)\'"}]]},"jupyter.kernels.filter":{"type":"array","items":{"type":"object","properties":{"type":{"enum":["jupyterKernelspec","pythonEnvironment"]},"path":{"type":"string","markdownDescription":"%jupyter.configuration.jupyter.kernels.filter.items.markdownDescription%"},"required":["type","path"]}},"markdownDescription":"%jupyter.configuration.jupyter.kernels.filter.markdownDescription%","scope":"machine-overridable","examples":[[{"type":"jupyterKernelspec","path":"/usr/share/jupyter/kernels/sample/kernelspec.json"},{"type":"jupyterKernelspec","path":"~/miniconda3/envs/sample/scripts/python.exe"}]]},"jupyter.kernels.trusted":{"type":"array","items":{"type":"string"},"default":[],"markdownDescription":"%jupyter.configuration.jupyter.kernels.trusted.markdownDescription%","scope":"machine"},"jupyter.interactiveWindowMode":{"type":"string","enum":["perFile","single","multiple"],"scope":"resource","description":"%jupyter.configuration.jupyter.interactiveWindowMode.description%","default":"multiple"},"jupyter.interactiveWindowViewColumn":{"type":"string","enum":["beside","active","secondGroup"],"scope":"resource","description":"%jupyter.configuration.jupyter.interactiveWindowViewColumn.description%","default":"secondGroup"},"jupyter.magicCommandsAsComments":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.magicCommandsAsComments.description%","scope":"resource"},"jupyter.pythonExportMethod":{"type":"string","enum":["direct","commentMagics","nbconvert"],"default":"direct","description":"%jupyter.configuration.jupyter.pythonExportMethod.description%","scope":"application"},"jupyter.runStartupCommands":{"type":"array","default":"","description":"%jupyter.configuration.jupyter.runStartupCommands.description%","scope":"application"},"jupyter.debugJustMyCode":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.debugJustMyCode.description%","scope":"resource"},"jupyter.showOutlineButtonInNotebookToolbar":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.showOutlineButtonInNotebookToolbar.description%","scope":"resource"},"jupyter.newCellOnRunLast":{"type":"boolean","default":true,"description":"%jupyter.configuration.jupyter.newCellOnRunLast.description%","scope":"resource"},"jupyter.pythonCompletionTriggerCharacters":{"type":"string","default":".%\'\\"","description":"%jupyter.configuration.jupyter.pythonCompletionTriggerCharacters.description%","scope":"machine"},"jupyter.logKernelOutputSeparately":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.logKernelOutputSeparately.description%","scope":"machine"},"jupyter.excludeUserSitePackages":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.excludeUserSitePackages.description%","scope":"machine"},"jupyter.enableExtendedKernelCompletions":{"type":"boolean","default":false,"markdownDescription":"%jupyter.configuration.jupyter.enableExtendedKernelCompletions.markdownDescription%","scope":"machine"},"jupyter.showOnlyOneTypeOfKernel":{"type":"boolean","default":false,"description":"%jupyter.configuration.jupyter.showOnlyOneTypeOfKernel.markdownDescription%","scope":"application","tags":["experimental"]},"jupyter.experimental.kernelPickerType":{"type":"string","enum":["Stable","OnlyOneTypeOfKernel","Insiders"],"scope":"resource","description":"%jupyter.configuration.jupyter.experimental.kernelPickerType.description%","enumDescriptions":["%jupyter.configuration.jupyter.experimental.kernelPickerType.items.enumDescriptions.stable%","%jupyter.configuration.jupyter.experimental.kernelPickerType.items.enumDescriptions.onlyonetypeofkernel%","%jupyter.configuration.jupyter.experimental.kernelPickerType.items.enumDescriptions.insiders%"],"default":"Stable"}}},"languages":[{"id":"raw"},{"id":"julia","aliases":["Julia","julia"],"extensions":[".jl"]}],"notebookRenderer":[{"id":"jupyter-ipywidget-renderer","entrypoint":"./out/webviews/webview-side/ipywidgetsRenderer/ipywidgetsRenderer.js","displayName":"%jupyter.notebookRenderer.IPyWidget.displayName%","mimeTypes":["application/vnd.jupyter.widget-view+json"],"requiresMessaging":"optional"},{"id":"jupyter-error-renderer","entrypoint":"./out/webviews/webview-side/errorRenderer/errorRenderer.js","displayName":"%jupyter.notebookRenderer.Error.displayName%","requiresMessaging":"always","mimeTypes":["application/vnd.code.notebook.error"]}],"viewsContainers":{"activitybar":[{"id":"jupyter","title":"Jupyter","icon":"$(notebook)"}],"panel":[{"id":"jupyter-variables","title":"Jupyter","icon":"$(notebook)"}]},"views":{"jupyter-variables":[{"type":"webview","id":"jupyterViewVariables","name":"Variables"}]},"debuggers":[{"type":"Python Kernel Debug Adapter","label":"%jupyter.debuggers.kernel%"},{"type":"Python Interactive Window Debug Adapter","label":"%jupyter.debuggers.interactive%"}],"markdown.previewStyles":["resources/jupyter-markdown-style.css"]},"enabledApiProposals":["notebookControllerKind","notebookDeprecated","notebookMessaging","notebookMime","notebookCellExecutionState","portsAttributes","quickPickSortByLabel","notebookKernelSource","interactiveWindow","notebookControllerAffinityHidden"],"scripts":{"package":"gulp clean && gulp prePublishBundle && vsce package -o ms-toolsai-jupyter-insiders.vsix","packagePreRelease":"gulp clean && gulp prePublishBundle && vsce package --pre-release -o ms-toolsai-jupyter-insiders.vsix","prePublishBundleStable":"cross-env BUILD_WITH_VSCODE_NLS=true IS_PRE_RELEASE_VERSION_OF_JUPYTER_EXTENSION=false gulp prePublishBundle","prePublishBundlePreRelease":"cross-env BUILD_WITH_VSCODE_NLS=true IS_PRE_RELEASE_VERSION_OF_JUPYTER_EXTENSION=true gulp prePublishBundle","prePublishNonBundle":"gulp clean && gulp prePublishNonBundle","createNycFolder":"gulp createNycFolder","validateTranslationFiles":"gulp validateTranslationFiles","compile":"tsc -watch -p ./","compile-no-watch":"tsc -p ./","compiled":"deemon npm run compile","kill-compiled":"deemon --kill npm run compile","compile-webviews-watch":"webpack --config ./build/webpack/webpack.datascience-ui.config.js --watch","compile-web-watch":"webpack --mode development --config ./build/webpack/webpack.extension.web.config.js --stats-error-details --watch --progress","compile-web":"webpack --mode development --config ./build/webpack/webpack.extension.web.config.js","compile-web-test":"cross-env VSC_TEST_BUNDLE=true npm run compile-web","compile-web-test-watch":"cross-env VSC_TEST_BUNDLE=true npm run compile-web-watch","compile-webviews-watchd":"deemon npm run compile-webviews-watch","compile-widgetTester":"cross-env NODE_OPTIONS=--max_old_space_size=9096 webpack --config ./build/webpack/webpack.datascience-ui-widgetTester.config.js --watch","kill-compile-webviews-watchd":"deemon --kill npm run compile-webviews-watch","checkDependencies":"gulp checkDependencies","postinstall":"npm run download-api && node ./build/ci/postInstall.js","installPythonLibs":"gulp installPythonLibs","test:unittests":"mocha --config ./build/.mocha.unittests.js.json ./out/**/*.unit.test.js","test:functional":"mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:perf":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.perf.json","test:functional:memleak":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:parallel":"cross-env VSC_JUPYTER_CI_TEST_PARALLEL=1 node ./build/ci/scripts/runFunctionalTests.js","test:cover:report":"nyc report --reporter=text --reporter=html --reporter=text-summary --reporter=cobertura","preTestJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js","testJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js && cross-env CODE_TESTS_WORKSPACE=src/test VSC_JUPYTER_CI_TEST_GREP=\'Language Server:\' node ./out/test/testBootstrap.node.js ./out/test/standardTest.node.js && node ./out/test/languageServers/jedi/lspTeardown.node.js","pretestNativeNotebooksInVSCode":"cross-env VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders node ./out/test/datascience/dsTestSetup.js","testNativeNotebooksInVSCode":"cross-env CODE_TESTS_WORKSPACE=src/test/datascience VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders TEST_FILES_SUFFIX=*.vscode.test,*.vscode.common.test VSC_JUPYTER_FORCE_LOGGING=1 VSC_JUPYTER_LOAD_EXPERIMENTS_FROM_FILE=true node ./out/test/testBootstrap.node.js ./out/test/standardTest.node.js","testNativeNotebooksInVSCodeWithoutTestSuffix":"cross-env CODE_TESTS_WORKSPACE=src/test/datascience VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders VSC_JUPYTER_FORCE_LOGGING=1 VSC_JUPYTER_LOAD_EXPERIMENTS_FROM_FILE=true node ./out/test/testBootstrap.node.js ./out/test/standardTest.node.js","pretestNativeNotebooksWithoutPythonInVSCode":"cross-env VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders node ./out/test/datascience/dsTestSetup.js","testNativeNotebooksWithoutPythonInVSCode":"cross-env CODE_TESTS_WORKSPACE=src/test/datascience VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders TEST_FILES_SUFFIX=*.vscode.test,*.vscode.common.test VSC_JUPYTER_FORCE_LOGGING=1 VSC_JUPYTER_LOAD_EXPERIMENTS_FROM_FILE=true VSC_JUPYTER_CI_TEST_GREP=non-python-kernel VSC_JUPYTER_CI_TEST_DO_NOT_INSTALL_PYTHON_EXT=true node ./out/test/testBootstrap.node.js ./out/test/standardTest.node.js","testNativeNotebooksAndWebviews":"cross-env CODE_TESTS_WORKSPACE=src/test/datascience VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders TEST_FILES_SUFFIX=*.vscode.test,*.vscode.common.test VSC_JUPYTER_FORCE_LOGGING=1 VSC_JUPYTER_CI_TEST_GREP=webview-test VSC_JUPYTER_LOAD_EXPERIMENTS_FROM_FILE=true node ./out/test/testBootstrap.node.js ./out/test/standardTest.node.js","testWebExtension":"node ./build/launchWebTest.js","launchWebExtension":"node ./build/launchWeb.js","testPerformance":"node ./out/test/perfTest.node.js","testSmoke":"node ./out/test/testBootstrap.node.js ./out/test/smokeTest.node.js","testSmokeLogged":"cross-env VSC_JUPYTER_FORCE_LOGGING=true VSC_JUPYTER_LOG_FILE=smoke-test.log node --no-force-async-hooks-checks ./out/test/testBootstrap.node.js ./out/test/smokeTest.node.js","lint":"eslint -c .eslintrc.js --ext .ts --ext .tsx src","prettier-fix":"prettier \'src/**/*.ts*\' --write && prettier \'build/**/*.js\' --write","clean":"gulp clean","updateBuildNumber":"gulp updateBuildNumber","webpack":"webpack","download-api":"vscode-dts dev","postdownload-api":"vscode-dts main","generateTelemetry":"gulp generateTelemetryMd","openInBrowser":"vscode-test-web --extensionDevelopmentPath=. ./src/test/datascience","startJupyterServer":"node build/preDebugWebTest.js","stopJupyterServer":"node build/postDebugWebTest.js","validateTelemetry":"gulp validateTelemetry","verifyUnhandledErrors":"gulp verifyUnhandledErrors","printTestResults":"gulp printTestResults","setup-precommit-hook":"husky install"},"dependencies":{"@enonic/fnv-plus":"^1.3.0","@fluentui/react":"^7.160.1","@jupyter-widgets/base":"4.0.0","@jupyter-widgets/controls":"3.0.0","@jupyter-widgets/schema":"0.4.0","@jupyterlab/coreutils":"5.1.17","@jupyterlab/nbformat":"3.1.17","@jupyterlab/services":"6.1.17","@lumino/widgets":"^1.28.0","@nteract/messaging":"^7.0.0","@vscode/extension-telemetry":"^0.6.2","@vscode/jupyter-ipywidgets":"^1.0.9","@vscode/jupyter-lsp-middleware":"^0.2.50","ajv-keywords":"^3.5.2","ansi-to-html":"^0.6.7","arch":"^2.1.0","bootstrap":"^4.3.1","bootstrap-less":"^3.3.8","cross-fetch":"^3.1.5","decompress-response":"^4.2.0","encoding":"^0.1.13","fast-deep-equal":"^2.0.1","font-awesome":"^4.7.0","format-util":"^1.0.5","fs-extra":"^4.0.3","glob":"^7.1.2","iconv-lite":"^0.4.21","image-size":"^1.0.0","inversify":"^5.0.1","isomorphic-ws":"^4.0.1","jquery":"^3.6.0","jsonc-parser":"^2.0.3","lodash":"^4.17.21","marked":"^4.0.10","named-js-regexp":"^1.3.3","node-fetch":"^2.6.7","node-stream-zip":"^1.6.0","pdfkit":"^0.13.0","pidtree":"^0.6.0","portfinder":"^1.0.25","re-resizable":"~6.5.5","react":"^16.5.2","react-data-grid":"^6.0.2-0","react-dom":"^16.5.2","react-redux":"^7.1.1","react-svg-pan-zoom":"3.9.0","react-svgmt":"1.1.11","react-virtualized":"^9.21.1","redux":"^4.0.4","redux-logger":"^3.0.6","reflect-metadata":"^0.1.12","requirejs":"^2.3.6","rxjs":"^6.5.4","rxjs-compat":"^6.5.4","safe-buffer":"^5.2.1","sanitize-filename":"^1.6.3","semver":"^5.5.0","setimmediate":"^1.0.5","slickgrid":"^2.4.17","source-map":"^0.7.3","stack-trace":"0.0.10","string-argv":"^0.3.1","strip-comments":"^2.0.1","styled-components":"^5.2.1","sudo-prompt":"^9.2.1","svg-inline-react":"^3.1.0","svg-to-pdfkit":"^0.1.8","tcp-port-used":"^1.0.1","tmp":"^0.0.29","uint64be":"^1.0.1","underscore":"^1.12.1","unicode":"^10.0.0","untildify":"^3.0.2","url-parse":"^1.5.10","uuid":"^3.3.2","vscode-debugprotocol":"^1.41.0","vscode-jsonrpc":"8.0.2-next.1","vscode-languageclient":"8.0.2-next.5","vscode-languageserver":"8.0.2-next.5","vscode-languageserver-protocol":"3.17.2-next.6","vscode-nls":"^5.0.1","vscode-tas-client":"^0.1.27","ws":"^6.2.2","zeromq":"^6.0.0-beta.6"},"devDependencies":{"@actions/core":"^1.9.1","@actions/github":"^4.0.0","@actions/glob":"^0.3.0","@babel/cli":"^7.15.4","@babel/core":"^7.4.4","@babel/plugin-transform-runtime":"^7.4.4","@babel/polyfill":"^7.4.4","@babel/preset-env":"^7.1.0","@babel/preset-react":"^7.0.0","@babel/register":"^7.9.0","@istanbuljs/nyc-config-typescript":"^0.1.3","@octokit/core":"^3.2.4","@octokit/plugin-paginate-rest":"^2.7.0","@octokit/webhooks":"^7.21.0","@sinonjs/fake-timers":"^6.0.1","@types/ansi-regex":"^4.0.0","@types/chai":"^4.1.2","@types/chai-arrays":"^1.0.2","@types/chai-as-promised":"^7.1.0","@types/copy-webpack-plugin":"^6.0.0","@types/cors":"^2.8.6","@types/debug":"^4.1.5","@types/dedent":"^0.7.0","@types/del":"^4.0.0","@types/enzyme":"^3.1.14","@types/enzyme-adapter-react-16":"^1.0.3","@types/event-stream":"^3.3.33","@types/format-util":"^1.0.2","@types/fs-extra":"^5.0.1","@types/get-port":"^3.2.0","@types/glob":"^5.0.35","@types/html-webpack-plugin":"^3.2.0","@types/iconv-lite":"^0.0.1","@types/jsdom":"^16.2.13","@types/json2csv":"^5.0.3","@types/loadable__component":"^5.10.0","@types/loader-utils":"^1.1.3","@types/lodash":"^4.14.104","@types/md5":"^2.1.32","@types/memoize-one":"^4.1.1","@types/mocha":"^9.1.0","@types/nock":"^10.0.3","@types/node":"^14.17.4","@types/node-fetch":"^2.5.7","@types/pdfkit":"^0.11.0","@types/promisify-node":"^0.4.0","@types/react":"^16.4.14","@types/react-dom":"^16.0.8","@types/react-json-tree":"^0.6.8","@types/react-redux":"^7.1.5","@types/react-virtualized":"^9.21.2","@types/redux-logger":"^3.0.7","@types/semver":"^5.5.0","@types/shortid":"^0.0.29","@types/sinon":"^7.5.1","@types/sinonjs__fake-timers":"^6.0.1","@types/stack-trace":"0.0.29","@types/strip-comments":"^2.0.1","@types/tcp-port-used":"^1.0.0","@types/temp":"^0.8.32","@types/tmp":"^0.2.3","@types/untildify":"^3.0.0","@types/url-parse":"^1.4.8","@types/uuid":"^3.4.3","@types/uuid-to-hex":"^1.1.0","@types/vscode-notebook-renderer":"^1.60.0","@types/webpack-bundle-analyzer":"^2.13.0","@types/webpack-env":"^1.16.3","@types/ws":"^6.0.1","@types/xml2js":"^0.4.2","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/eslint-plugin-tslint":"^5.13.0","@typescript-eslint/parser":"^5.13.0","@vscode/test-electron":"^2.1.5","@vscode/test-web":"^0.0.29","acorn":"^6.4.1","babel-polyfill":"^6.26.0","bufferutil":"^4.0.6","chai":"^4.3.0","chai-arrays":"^2.0.0","chai-as-promised":"^7.1.1","chai-exclude":"^2.0.2","clean-terminal-webpack-plugin":"^3.0.0","codecov":"^3.7.1","colors":"^1.2.1","copy-webpack-plugin":"^10.2.4","cors":"^2.8.5","cross-env":"^6.0.3","cross-spawn":"^6.0.5","css-loader":"^6.6.0","dedent":"^0.7.0","deemon":"^1.4.0","del":"^3.0.0","enzyme":"^3.7.0","enzyme-adapter-react-16":"^1.6.0","es-abstract":"^1.19.1","es5-ext":"^0.10.53","eslint":"^7.32.0","eslint-config-airbnb":"^18.2.0","eslint-config-prettier":"^6.15.0","eslint-plugin-header":"^3.1.1","eslint-plugin-import":"^2.25.4","eslint-plugin-jsdoc":"^31.0.4","eslint-plugin-jsx-a11y":"^6.3.1","eslint-plugin-local-rules":"file:build/eslint-rules","eslint-plugin-no-null":"^1.0.2","eslint-plugin-no-only-tests":"^2.6.0","eslint-plugin-prefer-arrow":"^1.2.2","eslint-plugin-prettier":"^3.1.2","eslint-plugin-react":"^7.22.0","eslint-plugin-react-hooks":"^4.0.0","expose-gc":"^1.0.0","expose-loader":"^3.1.0","express":"^4.17.1","fast-xml-parser":"^3.16.0","flat":"^4.0.0","fork-ts-checker-webpack-plugin":"^7.0.0","get-port":"^3.2.0","glob-parent":"^6.0.2","gulp":"^4.0.2","gulp-filter":"^5.1.0","gulp-rename":"^1.4.0","gulp-typescript":"^6.0.0-alpha.1","html-webpack-plugin":"^5.5.0","husky":"^7.0.0","jsdom":"^20.0.0","json2csv":"^5.0.7","jsonschema":"^1.4.1","keyv":"^4.1.0","less":"^3.9.0","less-loader":"^10.2.0","less-plugin-inline-urls":"^1.2.0","lolex":"^5.1.2","lru-cache":"^6.0.0","md5":"^2.3.0","mimic-response":"^4.0.0","mocha":"^9.2.2","mocha-junit-reporter":"^2.0.2","mocha-multi-reporters":"^1.1.7","nocache":"^2.1.0","nock":"^10.0.6","node-gyp-build":"^4.2.3","node-has-native-dependencies":"^1.0.2","node-html-parser":"^1.1.13","nyc":"^15.0.0","path-browserify":"^1.0.1","popper.js":"^1.16.1","postcss":"^8.4.6","postcss-import":"^14.0.2","postcss-loader":"^6.2.1","postcss-preset-env":"^7.3.1","prettier":"^2.0.2","process-nextick-args":"^2.0.1","range-inclusive":"^1.0.2","relative":"^3.0.2","remove-files-webpack-plugin":"^1.4.0","rewiremock":"^3.13.0","rimraf":"^3.0.2","screenshot-desktop":"^1.12.7","sinon":"^8.0.1","source-map-support":"^0.5.12","string_decoder":"~1.1.1","style-loader":"^3.3.1","svg-inline-loader":"^0.8.0","thread-loader":"^3.0.4","transform-loader":"^0.2.4","ts-loader":"^9.2.8","ts-mock-imports":"^1.3.0","ts-mockito":"^2.5.0","ts-node":"^8.3.0","tsconfig-paths-webpack-plugin":"^3.2.0","tslib":"^2.3.0","typemoq":"^2.1.0","typescript":"^4.7.4","unicode-properties":"^1.3.1","utf-8-validate":"^5.0.8","util":"^0.12.4","uuid-to-hex":"^1.1.1","vscode-dts":"^0.3.2","vscode-nls-dev":"^4.0.0","webpack":"^5.68.0","webpack-bundle-analyzer":"^4.5.0","webpack-cli":"^4.9.2","why-is-node-running":"^2.0.3","xml-js":"^1.6.11","yargs":"^17.3.1","yargs-parser":"^13.1.2"},"optionalDependencies":{"canvas":"^2.7.0","fsevents":"^2.3.2"},"overrides":{"simple-get@<3.1.1":"3.1.1","validator@<13.7.0":"13.7.0","jpeg-js@<0.4.4":"0.4.4","playwright-core":{"jpeg-js":"0.4.4"},"terser@<5.14.2":"5.14.2","glob-parent@<5.1.2":"5.1.2","jquery-ui@<1.13.2":"1.13.2","@jupyterlab/coreutils":{"url-parse":"$url-parse"},"d3-color":"3.1.0"}}')},41616:e=>{"use strict";e.exports=JSON.parse('{"ExtensionSurveyBanner.bannerLabelYes":"Sì, prenderò il sondaggio ora"}')},83888:e=>{"use strict";e.exports=JSON.parse('{"products.installingModule":"Installing {0}","capabilities.untrustedWorkspace.description":"Execution of cells in Interactive Window and Notebooks is not supported in untrusted workspaces.","contributes.walkthroughs.jupyterWelcome.title":"Get started with Jupyter Notebooks","contributes.walkthroughs.jupyterWelcome.description":"Your first steps to set up a Jupyter project with all the powerful tools and features that the Jupyter Extension has to offer!","contributes.walkthroughs.jupyterWelcome.steps.ipynb.newUntitledIpynb.title":"Create or open a Jupyter Notebook","contributes.walkthroughs.jupyterWelcome.steps.ipynb.newUntitledIpynb.description":{"message":"Right click in the file explorer and create a new file with an .ipynb extension. Or, open the [Command Palette](command:workbench.action.showCommands) and run the command \\n``Create: New Jupyter Notebook``.\\n[Create New Jupyter Notebook](command:toSide:ipynb.newUntitledIpynb)\\n If you have an existing project, you can also [open a folder](command:toSide:workbench.action.files.openFolder) and/or clone a project from GitHub: [clone a Git repository](command:toSide:git.clone).","comment":["{Locked=\'command:workbench.action.showCommands\'}","{Locked=\'command:toSide:ipynb.newUntitledIpynb\'}","{Locked=\'command:toSide:workbench.action.files.openFolder\'}","{Locked=\'command:toSide:git.clone\'}"]},"contributes.walkthroughs.jupyterWelcome.steps.ipynb.newUntitledIpynb.media.altText":"Creating a new Jupyter notebook","contributes.walkthroughs.jupyterWelcome.steps.jupyter.selectKernel.title":"Select a Jupyter kernel","contributes.walkthroughs.jupyterWelcome.steps.jupyter.selectKernel.description":{"message":"Click Select Kernel at the top right of the notebook and choose the environment in which to run your kernel. Or, with a notebook opened and in focus, open the [Command Palette](command:workbench.action.showCommands) and run the command: \\n``Notebook: Select Notebook Kernel``. \\n[Open Command Palette to Select a Jupyter Kernel](command:workbench.action.showCommands)","comment":["{Locked=\'command:workbench.action.showCommands\'}"]},"contributes.walkthroughs.jupyterWelcome.steps.jupyter.selectKernel.media.altText":"Selecting or changing a notebook kernel","contributes.walkthroughs.jupyterWelcome.steps.jupyter.exploreAndDebug.title":"Explore data and debug","contributes.walkthroughs.jupyterWelcome.steps.jupyter.exploreAndDebug.description":"📅 You can use the [Data Viewer](https://code.visualstudio.com/docs/datascience/data-science-tutorial#_prepare-the-data) to view, sort, and filter the rows of data. After loading your data, click \\"Variables\\" at the top right of notebook and click the Data Viewer icon to the left of the data table. \\n \\n[Learn about Data Viewer](https://code.visualstudio.com/docs/datascience/data-science-tutorial#_prepare-the-data)\\n \\n📒 Debug your notebook using the [Run by Line](https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_run-by-line) mode to execute a cell one line at a time. Click the Run by Line icon from your cell (play button with lines) or hit F10. \\n \\n[Learn about Run by Line](https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_run-by-line)","contributes.walkthroughs.jupyterWelcome.steps.jupyter.exploreAndDebug.media.altText":"Opening data viewer","contributes.walkthroughs.jupyterWelcome.steps.jupyter.dataScienceLearnMore.title":"Find out more!","contributes.walkthroughs.jupyterWelcome.steps.jupyter.dataScienceLearnMore.description":{"message":"🎨 Explore all the features the Jupyter Extension has to offer by looking for \\"Jupyter\\" in the [Command Palette](command:workbench.action.showCommands). \\n 📈 Learn more about getting started with data science in [Python](command:workbench.action.openWalkthrough?%7B%22category%22%3A%22ms-python.python%23pythonDataScienceWelcome%22%2C%22step%22%3A%22ms-python.python%23python.createNewNotebook%22%7D) by installing the Python Extension ([search Python extension](command:workbench.extensions.search?\\"ms-python.python\\")). \\n 📃 Find out more features in our [Tutorials](https://code.visualstudio.com/docs/datascience/jupyter-notebooks).  \\n[Learn more](https://aka.ms/AAdar6q)","comment":["{Locked=\'command:workbench.action.showCommands\'}","{Locked=\'command:workbench.action.openWalkthrough?%7B%22category%22%3A%22ms-python.python%23pythonDataScienceWelcome%22%2C%22step%22%3A%22ms-python.python%23python.createNewNotebook%22%7D\'}","{Locked=\'command:workbench.extensions.search?\\"ms-python.python\\")\'}","{Locked=\'docs/datascience/jupyter-notebooks\'}"]},"contributes.walkthroughs.jupyterWelcome.steps.jupyter.dataScienceLearnMore.media.altText":"Image representing our documentation page and mailing list resources.","jupyter.command.dataScience.clearCache.title":"Clear Cache","jupyter.command.jupyter.replayPylanceLog.title":"Replay Pylance Log","jupyter.command.jupyter.replayPylanceLogStep.title":"Step Pylance Log","jupyter.command.jupyter.exportAsPythonScript.title":"Export to Python Script","jupyter.command.jupyter.exportToHTML.title":"Export to HTML","jupyter.command.jupyter.exportToPDF.title":"Export to PDF","jupyter.command.jupyter.debug.title":"Debug","jupyter.command.jupyter.filterKernels.title":"Filter Kernels","jupyter.command.jupyter.runByLine.title":"Run by Line","jupyter.command.jupyter.debugCell.title":"Debug Cell","jupyter.command.jupyter.runByLineNext.title":"Run Next Line","jupyter.command.jupyter.runByLineStop.title":"Continue Execution","DataScience.checkingIfImportIsSupported":{"message":"Checking if \\"import\\" is supported","comment":["{Locked=\'import\'}"]},"DataScience.validatingKernelDependencies":{"message":"Validating kernel dependencies","comment":["{Locked=\'kernel\'}"]},"DataScience.installingMissingDependencies":"Installing missing dependencies","DataScience.exportNotebookToPython":{"message":"Exporting Notebook to Python","comment":["{Locked=\'Notebook\'}"]},"DataScience.performingExport":"Performing Export","DataScience.convertingToPDF":"Converting to PDF","DataScience.exportHTMLQuickPickLabel":"HTML","DataScience.exportPDFQuickPickLabel":"PDF","DataScience.openExportedFileMessage":"Would you like to open the exported file?","DataScience.openExportFileYes":"Yes","DataScience.openExportFileNo":"No","DataScience.failedExportMessage":"Export failed.","DataScience.validationErrorMessageForRemoteUrlProtocolNeedsToBeHttpOrHttps":"Has to be http(s)","DataScience.exportFailedGeneralMessage":{"message":"Please check the \'Jupyter\' [output](command:jupyter.viewOutput) panel for further details.","comment":["{Locked=\'command:jupyter.viewOutput\'}"]},"DataScience.exportToPDFDependencyMessage":"If you have not installed xelatex (TeX) you will need to do so before you can export to PDF, for further instructions go to https://nbconvert.readthedocs.io/en/latest/install.html#installing-tex. \\r\\nTo avoid installing xelatex (TeX) you might want to try exporting to HTML and using your browsers \\"Print to PDF\\" feature.","DataScience.insecureSessionMessage":"Connecting over HTTP without a token may be an insecure connection. Do you want to connect to a possibly insecure server?","DataScience.insecureSessionDenied":"Denied connection to insecure server.","DataScience.pythonNotInstalled":"Python is not installed. \\nPlease download and install Python in order to execute cells in this notebook.","DataScience.installKernel":{"message":"The Jupyter Kernel \'{0}\' could not be found and needs to be installed in order to execute cells in this notebook.","comment":["{Locked=\'Kernel\'}"]},"DataScience.customizeLayout":"Customize Layout","DataScience.warnWhenSelectingKernelWithUnSupportedPythonVersion":{"message":"The version of Python associated with the selected kernel is no longer supported. Please consider selecting a different kernel.","comment":["{Locked=\'kernel\'}"]},"DataScience.activatingPythonEnvironment":"Activating Python Environment \'{0}\'","jupyter.kernel.percentPipCondaInstallInsteadOfBang":{"message":"Use \'%{0} install\' instead of \'!{0} install\'","comment":["{Locked=\'{0} install\'}"]},"jupyter.kernel.pipCondaInstallHoverWarning":{"message":"\'!{0} install\' could install packages into the wrong environment. [More info]({1})","comment":["{Locked=\'{0} install\'}"]},"jupyter.kernel.replacePipCondaInstallCodeAction":{"message":"Replace with \'%{0} install\'","comment":["{Locked=\'{0} install\'}"]},"jupyter.kernel.filter.placeholder":{"message":"Choose the kernels that are available in the kernel picker.","comment":["{Locked=\'kernel\'}"]},"jupyter.kernel.category.jupyterSession":"({0}) Jupyter Session","jupyter.kernel.category.jupyterKernel":{"message":"Jupyter Kernel","comment":["{Locked=\'Kernel\'}"]},"jupyter.kernel.category.jupyterRemoteKernel":{"message":"({0}) Jupyter Kernel","comment":["{Locked=\'Kernel\'}"]},"DataScience.kernelDefaultRemoteDisplayName":{"message":"Remote"},"jupyter.kernel.category.conda":"Conda Env","jupyter.kernel.category.poetry":{"message":"Poetry Env","comment":["{Locked=\'Poetry\'}"]},"jupyter.kernel.category.pipenv":"Pipenv Env","jupyter.kernel.category.pyenv":"PyEnv Env","jupyter.kernel.category.global":"Global Env","jupyter.kernel.category.virtual":"Virtual Env","jupyter.command.jupyter.viewLanguageServerOutput.title":"Show Language Server Output","jupyter.command.jupyter.selectAndRunTestMethod.title":"Run Test Method ...","jupyter.command.jupyter.selectAndDebugTestMethod.title":"Debug Test Method ...","jupyter.command.jupyter.selectAndRunTestFile.title":"Run Test File ...","jupyter.command.jupyter.runCurrentTestFile.title":"Run Current Test File","jupyter.command.jupyter.runFailedTests.title":"Run Failed Tests","jupyter.command.jupyter.discoverTests.title":"Discover Tests","jupyter.command.jupyter.discoveringTests.title":"Discovering...","jupyter.command.jupyter.stopTests.title":"Stop","jupyter.command.jupyter.configureTests.title":"Configure Tests","jupyter.command.jupyter.execSelectionInTerminal.title":"Run Selection/Line in Python Terminal","jupyter.command.jupyter.execSelectionInDjangoShell.title":"Run Selection/Line in Django Shell","jupyter.command.jupyter.goToPythonObject.title":"Go to Python Object","jupyter.command.jupyter.setLinter.title":"Select Linter","jupyter.command.jupyter.enableLinting.title":"Enable Linting","jupyter.command.jupyter.runLinting.title":"Run Linting","jupyter.command.jupyter.runFileInteractive.title":"Run Current File in Interactive Window","jupyter.command.jupyter.debugFileInteractive.title":"Debug Current File in Interactive Window","jupyter.command.jupyter.runallcells.title":"Run All Cells","jupyter.command.jupyter.notebookeditor.expandallcells.title":{"message":"Expand All Notebook Cells","comment":["{Locked=\'Notebook\'}"]},"jupyter.command.jupyter.notebookeditor.collapseallcells.title":{"message":"Collapse All Notebook Cells","comment":["{Locked=\'Notebook\'}"]},"jupyter.command.jupyter.runallcellsabove.title":"Run Above","jupyter.command.jupyter.runcellandallbelow.title":"Run Below","jupyter.command.jupyter.runallcellsabove.palette.title":"Run Cells Above Current Cell","jupyter.command.jupyter.runcurrentcellandallbelow.palette.title":"Run Current Cell and Below","jupyter.command.jupyter.debugcurrentcell.palette.title":"Debug Current Cell","jupyter.command.jupyter.debugcell.title":"Debug Cell","jupyter.command.jupyter.debugstepover.title":"Step Over","jupyter.command.jupyter.debugcontinue.title":"Continue","jupyter.command.jupyter.debugstop.title":"Stop","jupyter.command.jupyter.runtoline.title":"Run To Line in Interactive Window","jupyter.command.jupyter.runfromline.title":"Run From Line in Interactive Window","jupyter.command.jupyter.runcurrentcell.title":"Run Current Cell","jupyter.command.jupyter.runcurrentcelladvance.title":"Run Current Cell And Advance","jupyter.command.jupyter.execSelectionInteractive.title":"Run Selection/Line in Interactive Window","jupyter.command.jupyter.runcell.title":"Run Cell","jupyter.command.jupyter.insertCellBelowPosition.title":"Insert Cell Below Position","jupyter.command.jupyter.insertCellBelow.title":"Insert Cell Below","jupyter.command.jupyter.insertCellAbove.title":"Insert Cell Above","jupyter.command.jupyter.deleteCells.title":"Delete Selected Cells","jupyter.command.jupyter.selectCell.title":"Select Cell","jupyter.command.jupyter.selectCellContents.title":"Select Cell Contents","jupyter.command.jupyter.extendSelectionByCellAbove.title":"Extend Selection By Cell Above","jupyter.command.jupyter.extendSelectionByCellBelow.title":"Extend Selection By Cell Below","jupyter.command.jupyter.moveCellsUp.title":"Move Selected Cells Up","jupyter.command.jupyter.moveCellsDown.title":"Move Selected Cells Down","jupyter.command.jupyter.changeCellToMarkdown.title":"Change Cell to Markdown","jupyter.command.jupyter.changeCellToCode.title":"Change Cell to Code","jupyter.command.jupyter.gotoNextCellInFile.title":"Go to Next Cell","jupyter.command.jupyter.gotoPrevCellInFile.title":"Go to Previous Cell","jupyter.command.jupyter.showhistorypane.title":"Show Interactive Window","jupyter.command.jupyter.createnewinteractive.title":"Create Interactive Window","jupyter.command.jupyter.selectjupyteruri.title":"Specify Jupyter Server for Connections","DataScience.jupyterNativeNotebookUriStatusLabelForLocal":"Jupyter Server: Local","DataScience.jupyterNativeNotebookUriStatusLabelForRemote":"Jupyter Server: Remote","jupyter.command.jupyter.selectjupytercommandline.title":"Specify Jupyter Command Line Arguments","jupyter.command.jupyter.importnotebook.title":{"message":"Import Jupyter Notebook","comment":["{Locked=\'Notebook\'}"]},"jupyter.command.jupyter.importnotebookfile.title":"Import Notebook to Script","jupyter.command.jupyter.exportoutputasnotebook.title":{"message":"Export Interactive Window as Jupyter Notebook","comment":["{Locked=\'Notebook\'}"]},"jupyter.command.jupyter.exportfileasnotebook.title":{"message":"Export Current Python File as Jupyter Notebook","comment":["{Locked=\'Notebook\'}"]},"jupyter.command.jupyter.exportfileandoutputasnotebook.title":{"message":"Export Current Python File and Output as Jupyter Notebook","comment":["{Locked=\'Notebook\'}"]},"jupyter.command.jupyter.undocells.title":"Undo Last Interactive Action","jupyter.command.jupyter.redocells.title":"Redo Last Interactive Action","jupyter.command.jupyter.removeallcells.title":"Delete All Interactive Cells","jupyter.command.jupyter.notebookeditor.removeallcells.title":{"message":"Delete All Notebook Editor Cells","comment":["{Locked=\'Notebook\'}"]},"jupyter.command.jupyter.notebookeditor.addcellbelow.title":{"message":"Add Empty Cell to Notebook File","comment":["{Locked=\'Notebook\'}"]},"jupyter.command.jupyter.notebookeditor.keybind.undo.title":"Undo","jupyter.command.jupyter.notebookeditor.keybind.save.title":"Save","jupyter.command.jupyter.interruptkernel.title":{"message":"Interrupt Kernel","comment":["{Locked=\'Kernel\'}"]},"jupyter.command.jupyter.interruptkernel.shorttitle":"Interrupt","DataScience.restartKernel":{"message":"Restart Kernel","comment":["{Locked=\'Kernel\'}"]},"jupyter.command.jupyter.restartkernel.title":{"message":"Restart Kernel","comment":["{Locked=\'Kernel\'}"]},"jupyter.command.jupyter.restartkernel.shorttitle":"Restart","jupyter.command.jupyter.expandallcells.title":"Expand All Interactive Cells","jupyter.command.jupyter.collapseallcells.title":"Collapse All Interactive Cells","jupyter.command.jupyter.expandallcells.shorttitle":"Expand","jupyter.command.jupyter.collapseallcells.shorttitle":"Collapse","jupyter.command.jupyter.addcellbelow.title":"Add Empty Cell to File","jupyter.command.jupyter.createnewnotebook.title":"Create New Jupyter Notebook","jupyter.command.jupyter.scrolltocell.title":"Scroll Cell Into View","jupyter.command.jupyter.selectJupyterInterpreter.title":"Select Interpreter to Start Jupyter Server","jupyter.command.jupyter.enableDebugLogging.title":"Enable Debug Logging","jupyter.command.jupyter.resetLoggingLevel.title":"Reset Logging Level","jupyter.command.jupyter.showDataViewer.title":"View Value in Data Viewer","jupyter.command.jupyter.viewOutput.title":"Show Output","DataScience.viewJupyterLogForFurtherInfo":{"message":"View Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'command:jupyter.viewOutput\'}"]},"jupyter.showJupyterLogs":"Show Jupyter Logs","jupyter.command.jupyter.clearSavedJupyterUris.title":"Clear Jupyter Remote Server List","jupyter.command.jupyter.openVariableView.title":"Open Variables View","jupyter.command.jupyter.openVariableView.shorttitle":"Variables","jupyter.command.jupyter.openOutlineView.title":"Show Table Of Contents (Outline View)","jupyter.command.jupyter.openOutlineView.shorttitle":"Outline","DataScience.currentlySelectedJupyterInterpreterForPlaceholder":"current: {0}","jupyter.command.jupyter.analysis.clearCache.title":"Clear Module Analysis Cache","jupyter.command.jupyter.analysis.restartLanguageServer.title":"Restart Language Server","jupyter.commandPalette.jupyter.replayPylanceLog.title":"Replay Pylance Log","jupyter.notebookRenderer.IPyWidget.displayName":"Jupyter IPyWidget Renderer","jupyter.notebookRenderer.Error.displayName":"Jupyter Error Renderer","jupyter.debuggers.kernel":"Python Kernel Debug Adapter","jupyter.debuggers.interactive":"Python Interactive Window","jupyter.configuration.jupyter.experiments.enabled.description":"Enables/disables A/B tests.","jupyter.configuration.jupyter.showVariableViewWhenDebugging.description":"Bring up the Variable View when starting a Run by Line session.","jupyter.configuration.jupyter.logging.level.description":"The logging level the extension logs at.","jupyter.configuration.jupyter.experiments.optInto.markdownDescription":"List of experiment to opt into. If empty, user is assigned the default experiment groups. [Learn more](https://github.com/microsoft/vscode-jupyter/wiki/Experiments).","jupyter.configuration.jupyter.experiments.optOutFrom.markdownDescription":"List of experiment to opt out of. If empty, user is assigned the default experiment groups. [Learn more](https://github.com/microsoft/vscode-jupyter/wiki/Experiments).","jupyter.configuration.jupyter.enableKeyboardShortcuts.deprecationMessage":"This setting has been deprecated as Jupyter keyboard shortcuts have been moved into the ms-toolsai.jupyter-keymap extension. If you would like to disable Jupyter keyboard shortcuts, please uninstall or disable that extension instead.","jupyter.configuration.jupyter.enableKeyboardShortcuts.description":"Enables Jupyter style keyboard shortcuts for Notebooks.","jupyter.configuration.jupyter.allowImportFromNotebook.deprecationMessage":"This setting is deprecated and will be removed in the next release.","jupyter.configuration.jupyter.allowImportFromNotebook.description":"Allows a user to import a jupyter notebook into a python file anytime one is opened.","jupyter.configuration.jupyter.widgetScriptSources.items.enumDescriptions.0":"Loads widget (javascript) scripts from https://www.jsdelivr.com/","jupyter.configuration.jupyter.widgetScriptSources.items.enumDescriptions.1":"Loads widget (javascript) scripts from https://unpkg.com/","jupyter.configuration.jupyter.widgetScriptSources.markdownDescription":"Defines the location and order of the sources where scripts files for Widgets are downloaded from (e.g. ipywidgest, bqplot, beakerx, ipyleaflet, etc). Not selecting any of these could result in widgets not rendering or function correctly. See [here](https://aka.ms/PVSCIPyWidgets) for more information. Once updated you will need to restart the Kernel.","jupyter.configuration.jupyter.askForLargeDataFrames.description":"Warn the user before trying to open really large data frames.","jupyter.configuration.jupyter.askForKernelRestart.description":"Warn the user before restarting a kernel.","jupyter.configuration.jupyter.exportWithOutputEnabled.description":"Enable exporting a python file into a jupyter notebook and run all cells when doing so.","jupyter.configuration.jupyter.jupyterLaunchTimeout.description":"Amount of time (in ms) to wait for the Jupyter Notebook server to start.","jupyter.configuration.jupyter.jupyterLaunchRetries.description":"Number of times to attempt to connect to the Jupyter Notebook","jupyter.configuration.jupyter.jupyterCommandLineArguments.description":"When a Notebook Editor or Interactive Window Jupyter server is started, these arguments will be passed to it. By default this list is generated by the Jupyter Extension.","jupyter.configuration.jupyter.notebookFileRoot.description":"Set the root directory for running notebooks and the Interactive window.","jupyter.configuration.jupyter.searchForJupyter.deprecationMessage":"This setting is deprecated and will be removed in the next release.","jupyter.configuration.jupyter.searchForJupyter.description":"Search all installed Python interpreters for a Jupyter installation when starting the Interactive window","jupyter.configuration.jupyter.useDefaultConfigForJupyter.description":"When running Jupyter locally, create a default empty Jupyter config for the Interactive window","jupyter.configuration.jupyter.jupyterInterruptTimeout.description":"Amount of time (in ms) to wait for an interrupt before asking to restart the Jupyter kernel.","jupyter.configuration.jupyter.allowInput.deprecationMessage":"This setting is deprecated and will be removed in the next release.","jupyter.configuration.jupyter.allowInput.description":"Allow the inputting of python code directly into the Interactive window","jupyter.configuration.jupyter.showCellInputCode.deprecationMessage":"This setting is deprecated and will be removed in the next release.","jupyter.configuration.jupyter.showCellInputCode.description":"Show cell input code.","jupyter.configuration.jupyter.collapseCellInputCodeByDefault.description":"Collapse cell input code by default.","jupyter.configuration.jupyter.collapseCellInputCodeByDefault.markdownDeprecationMessage":{"message":"This setting has been deprecated, please use `#interactiveWindow.collapseCellInputCode#` instead.","comment":["{Locked=\'interactiveWindow.collapseCellInputCode\'}"]},"jupyter.configuration.jupyter.maxOutputSize.deprecationMessage":"This setting is deprecated and will be removed in the next release.","jupyter.configuration.jupyter.maxOutputSize.description":"Maximum size (in pixels) of text output in the Notebook Editor before a scrollbar appears. First enable scrolling for cell outputs in settings.","jupyter.configuration.jupyter.alwaysScrollOnNewCell.description":"Automatically scroll the interactive window to show the output of the last statement executed. If false, the interactive window will only automatically scroll if the bottom of the prior cell is visible.","jupyter.configuration.jupyter.alwaysScrollOnNewCell.deprecationMessage":{"message":"This setting is obsolete. Use the \'interactiveWindow.alwaysScrollOnNewCell\' setting instead.","comment":["{Locked=\'interactiveWindow.alwaysScrollOnNewCell\'}"]},"jupyter.configuration.jupyter.enableScrollingForCellOutputs.deprecationMessage":"This setting is deprecated and will be removed in the next release.","jupyter.configuration.jupyter.enableScrollingForCellOutputs.description":"Enables scrolling for large cell outputs in the Notebook Editor. This setting does not apply to the Interactive Window.","jupyter.configuration.jupyter.sendSelectionToInteractiveWindow.description":"When pressing shift+enter, send selected code in a Python file to the Jupyter interactive window as opposed to the Python terminal.","jupyter.configuration.jupyter.variableExplorerExclude.description":"Types to exclude from showing in the Interactive variable explorer","jupyter.configuration.jupyter.codeRegularExpression.description":"Regular expression used to identify code cells. All code until the next match is considered part of this cell.","jupyter.configuration.jupyter.defaultCellMarker.description":"Cell marker used for delineating a cell in a python file.","jupyter.configuration.jupyter.markdownRegularExpression.description":"Regular expression used to identify markdown cells. All comments after this expression are considered part of the markdown.","jupyter.configuration.jupyter.allowLiveShare.deprecationMessage":"This setting is deprecated as Live Share support for the interactive window no longer exists in the Jupyter Extension.","jupyter.configuration.jupyter.allowLiveShare.description":"Allow the Interactive window to be shared during a Live Share session","jupyter.configuration.jupyter.ignoreVscodeTheme.deprecationMessage":"This setting is deprecated and will be removed in the next release.","jupyter.configuration.jupyter.ignoreVscodeTheme.description":"Don\'t use the VS Code theme in the Interactive window (requires reload of VS Code). This forces the Interactive window to use \'Light +(default light)\' and disables matplotlib defaults.","jupyter.configuration.jupyter.themeMatplotlibPlots.description":"In the Interactive window and Notebook Editor theme matplotlib outputs to match the VS Code editor theme.","jupyter.configuration.jupyter.liveShareConnectionTimeout.deprecationMessage":"This setting is deprecated and will be removed in the next release.","jupyter.configuration.jupyter.liveShareConnectionTimeout.description":"Amount of time to wait for guest connections to verify they have the Python Extension installed.","jupyter.configuration.jupyter.decorateCells.description":"Draw a highlight behind the currently active cell.","jupyter.configuration.jupyter.enableCellCodeLens.description":"Enables code lens for \'cells\' in a python file.","jupyter.configuration.jupyter.enableAutoMoveToNextCell.description":"Enables moving to the next cell when clicking on a \'Run Cell\' code lens.","jupyter.configuration.jupyter.allowUnauthorizedRemoteConnection.description":"Allow for connecting the Interactive window to a https Jupyter server that does not have valid certificates. This can be a security risk, so only use for known and trusted servers.","jupyter.configuration.jupyter.generateSVGPlots.description":"Generate SVG output for notebook plots. This allows for better display in the plot viewer at the cost of generation speed and file size.","jupyter.configuration.jupyter.codeLenses.description":"Set of commands to put as code lens above a cell.","jupyter.configuration.jupyter.debugCodeLenses.description":"Set of debug commands to put as code lens above a cell while debugging.","jupyter.configuration.jupyter.debugpyDistPath.description":"Path to debugpy bits for debugging cells.","jupyter.configuration.jupyter.stopOnFirstLineWhileDebugging.description":"When debugging a cell, stop on the first line.","jupyter.configuration.jupyter.remoteDebuggerPort.description":"When debugging a cell, open this port on the remote box. If -1 is specified, a random port between 8889 and 9000 will be attempted.","jupyter.configuration.jupyter.disableJupyterAutoStart.description":"When true, disables Jupyter from being automatically started for you. You must instead run a cell to start Jupyter.","jupyter.configuration.jupyter.textOutputLimit.deprecationMessage":{"message":"This setting is deprecated in favor of `notebook.output.textLineLimit`. This setting will be removed in an upcoming release.","comment":["{Locked=\'notebook.output.textLineLimit\'}"]},"jupyter.configuration.jupyter.textOutputLimit.description":"Limit the amount of text in Interactive cell text output to this value. 0 to allow any amount of characters.","jupyter.configuration.jupyter.colorizeInputBox.deprecationMessage":"This setting is deprecated and will be removed in an upcoming release.","jupyter.configuration.jupyter.colorizeInputBox.description":"Whether or not to use the theme\'s peek color as the background for the input box.","jupyter.configuration.jupyter.stopOnError.description":"Stop running cells if a cell throws an exception.","jupyter.configuration.jupyter.addGotoCodeLenses.description":{"message":"After running a cell, add a \'Goto\' code lens on the cell. Note, disabling all code lenses disables this code lens as well.","comment":["{Locked=\'Goto\'}"]},"jupyter.configuration.jupyter.variableQueries.markdownDescription":{"message":"Language to query mapping for returning the list of active variables in a Jupyter kernel. Used by the Variable Explorer in both the Interactive Window and Notebooks. Example:\\n```\\n[\\n  {\\n    \\"language\\": \\"python\\",\\n    \\"query\\": \\"%who_ls\\",\\n    \\"parseExpr\\": \\"\'(\\\\\\\\w+)\'\\"\\n  }\\n]\\n```","comment":["{Locked=\'language\\": \\"python\\",\\n    \\"query\\": \\"%who_ls\\",\\n    \\"parseExpr\'}"]},"jupyter.configuration.jupyter.kernels.filter.items.markdownDescription":"Fully qualified path to the kernel spec or the Python environment. \\nE.g. `~/miniconda3/envs/sample/bin/python`.","jupyter.configuration.jupyter.kernels.filter.markdownDescription":"List of Jupyter Kernels and/or Python environments that are to be excluded from the Kernel picker.","jupyter.configuration.jupyter.interactiveWindowMode.description":{"message":"Behavior of the Interactive Window. \'perFile\' will create a new interactive window for every file that runs a cell. \'single\' allows a single window. \'multiple\' allows the creation of multiple.","comment":["{Locked=\'perFile\'}","{Locked=\\"\'single\'\\"}","{Locked=\\"\'multiple\'\\"}"]},"jupyter.configuration.jupyter.interactiveWindowViewColumn.description":{"message":"Where to open an Interactive Window that is not associated with a python file. \'beside\' will open the interactive window to the right of the active editor. \'active\' will open the interactive window in place of the active editor. \'secondGroup\' will open the interactive window in the second editor group.","comment":["{Locked=\'beside\'}","{Locked=\\"\'active\'\\"}","{Locked=\\"\'secondGroup\'\\"}"]},"jupyter.configuration.jupyter.magicCommandsAsComments.description":"Uncomment shell assignments (#!), line magic (#!%) and cell magic (#!%%) when parsing code cells.","jupyter.configuration.jupyter.pythonExportMethod.description":{"message":"The method to use when exporting a notebook to a Python file. \'direct\' will copy over the code directly as is. \'commentMagics\' will comment out lines starting with line magics (%), cell magics (%%), and shell commands(!). \'nbconvert\' will install nbconvert and use that for the conversion which can translate iPython syntax into Python syntax.","comment":["{Locked=\\"\'direct\'\\"}","{Locked=\\"\'commentMagics\'\\"}","{Locked=\\"\'nbconvert\'\\"}"]},"jupyter.configuration.jupyter.runStartupCommands.description":{"message":"A series of Python instructions or iPython magic commands. Can be either an array of strings or a single string with commands separated by \'\\\\n\'. Commands will be silently executed whenever the interactive window loads. For instance, set this to \'%load_ext autoreload\\\\n%autoreload 2\' to automatically reload changes made to imported files without having to restart the interactive session.","comment":["{Locked=\'%load_ext autoreload\\\\n%autoreload 2\'}"]},"jupyter.configuration.jupyter.debugJustMyCode.description":"When debugging, debug just my code.","jupyter.configuration.jupyter.showOutlineButtonInNotebookToolbar.description":"Show the Outline button in the Jupyter notebook toolbar.","jupyter.configuration.jupyter.newCellOnRunLast.description":"Append a new empty cell to an interactive window file on running the currently last cell.","jupyter.configuration.jupyter.pythonCompletionTriggerCharacters.description":"Characters which trigger auto completion on a python jupyter kernel.","jupyter.configuration.jupyter.logKernelOutputSeparately.description":"Creates separate output panels for kernels/jupyter server console output","jupyter.configuration.jupyter.excludeUserSitePackages.description":{"message":"Add PYTHONNOUSERSITE to kernels before starting. This prevents global/user site-packages from being used in the PYTHONPATH of the kernel.","comment":["{Locked=\'PYTHONNOUSERSITE\'}","{Locked=\'PYTHONPATH\'}"]},"jupyter.configuration.jupyter.enableExtendedKernelCompletions.markdownDescription":"Enables Jedi support for extended IntelliSense completions in running Jupyter kernels (see this [setting](https://ipython.readthedocs.io/en/stable/config/options/terminal.html?highlight=use_jedi#configtrait-Completer.use_jedi)). This can greatly impact notebook cell execution performance. Use with caution.","jupyter.configuration.jupyter.showOnlyOneTypeOfKernel.markdownDescription":"Show only one type of kernel in the kernel picker. This prevents local kernels and remote kernels from being shown at the same time in the kernel picker. Takes precedence over kernelPickerType if specified.","jupyter.configuration.jupyter.experimental.kernelPickerType.description":"Choose the type of kernel picker to use.","jupyter.configuration.jupyter.experimental.kernelPickerType.items.enumDescriptions.stable":"The current shipping kernel picker.","jupyter.configuration.jupyter.experimental.kernelPickerType.items.enumDescriptions.onlyonetypeofkernel":"Makes it so the picker will only show remote or local kernels, not both. And provides options to switch between local and remote kernels in the picker.","jupyter.configuration.jupyter.experimental.kernelPickerType.items.enumDescriptions.insiders":"Insiders is the newest experimental version in development.","Pylance.proposePylanceMessage":"Try out a new faster, feature-rich language server for Python by Microsoft, Pylance! Install the extension now.","Pylance.tryItNow":"Try it now","Pylance.remindMeLater":"Remind me later","Pylance.installPylanceMessage":"Pylance extension is not installed. Click Yes to open Pylance installation page.","Pylance.pylanceNotInstalledMessage":"Pylance extension is not installed.","Pylance.pylanceInstalledReloadPromptMessage":"Pylance extension is now installed. Reload window to activate?","DataScience.unknownMimeTypeFormat":"Mime type {0} is not currently supported.","DataScience.historyTitle":"Interactive","DataScience.dataExplorerTitle":"Data Viewer","DataScience.badWebPanelFormatString":{"message":"<html><body><h1>{0} is not a valid file name</h1></body></html>","comment":["{Locked=\'body\'}"]},"DataScience.sessionDisposed":"Cannot execute code, session has been disposed.","DataScience.rawKernelProcessNotStarted":{"message":"Raw kernel process was not able to start.","comment":["{Locked=\'kernel\'}"]},"DataScience.rawKernelProcessExitBeforeConnect":{"message":"Raw kernel process exited before connecting.","comment":["{Locked=\'kernel\'}"]},"DataScience.passwordFailure":"Failed to connect to password protected server. Check that password is correct.","DataScience.exportDialogTitle":{"message":"Export to Jupyter Notebook","comment":["{Locked=\'Notebook\'}"]},"DataScience.exportDialogFilter":{"message":"Jupyter Notebooks","comment":["{Locked=\'Notebook\'}"]},"DataScience.exportDialogComplete":{"message":"Notebook written to {0}","comment":["{Locked=\'Notebook\'}"]},"DataScience.exportDialogFailed":"Failed to export notebook. {0}","DataScience.exportOpenQuestion1":"Open in editor","DataScience.notebookExport":"Export","DataScience.exportAsNotebook.shorttitle":"Save","DataScience.exportAs":"Export As","DataScience.notebookExportAs":"Export As","DataScience.notebookExportAs.shorttitle":"Export","DataScience.exportAsQuickPickPlaceholder":"Export As...","DataScience.exportPythonQuickPickLabel":"Python Script","DataScience.collapseInputTooltip":"Collapse input block","DataScience.collapseVariableExplorerTooltip":{"message":"Hide variables active in Jupyter kernel","comment":["{Locked=\'kernel\'}"]},"DataScience.collapseVariableExplorerLabel":"Variables","DataScience.expandVariableExplorerTooltip":{"message":"Show variables active in Jupyter kernel","comment":["{Locked=\'kernel\'}"]},"DataScience.close":"Close","DataScience.interactiveCopyCell":"Copy Cell","DataScience.runInDedicatedExtensionHost":"Run in Dedicated Extension Host","DataScience.variableLoadingValue":"Loading...","DataScience.importDialogTitle":{"message":"Import Jupyter Notebook","comment":["{Locked=\'Notebook\'}"]},"DataScience.importDialogFilter":{"message":"Jupyter Notebooks","comment":["{Locked=\'Notebook\'}"]},"DataScience.notebookCheckForImportYes":"Import","DataScience.reloadRequired":"Please reload the window for new settings to take effect.","DataScience.notebookCheckForImportNo":"Later","DataScience.notebookCheckForImportDontAskAgain":"Don\'t Ask Again","DataScience.notebookCheckForImportTitle":{"message":"Do you want to import the Jupyter Notebook into Python code?","comment":["{Locked=\'Notebook\'}"]},"DataScience.jupyterNotSupported":"Jupyter cannot be started. Error attempting to locate Jupyter: {0}","DataScience.jupyterNotSupportedBecauseOfEnvironment":"Activating {0} to run Jupyter failed with {1}.","DataScience.jupyterNbConvertNotSupported":"Importing notebooks requires Jupyter nbconvert to be installed.","DataScience.removeRemoteJupyterConnectionButtonText":"Forget Connection","DataScience.changeRemoteJupyterConnectionButtonText":"Manage Connections","DataScience.jupyterLaunchNoURL":"Failed to find the URL of the launched Jupyter notebook server","DataScience.jupyterLaunchTimedOut":"The Jupyter notebook server failed to launch in time","DataScience.jupyterSelfCertFail":"The security certificate used by server {0} was not issued by a trusted certificate authority.\\r\\nThis may indicate an attempt to steal your information.\\r\\nDo you want to enable the Allow Unauthorized Remote Connection setting for this workspace to allow you to connect?","DataScience.jupyterExpiredCertFail":"The security certificate used by server {0} has expired.\\r\\nThis may indicate an attempt to steal your information.\\r\\nDo you want to enable the Allow Unauthorized Remote Connection setting for this workspace to allow you to connect?","DataScience.jupyterSelfCertFailErrorMessageOnly":"The security certificate used by server was not issued by a trusted certificate authority.\\r\\nThis may indicate an attempt to steal your information.","DataScience.jupyterSelfCertExpiredErrorMessageOnly":"The security certificate used by server has expired.\\r\\nThis may indicate an attempt to steal your information.","DataScience.jupyterSelfCertEnable":"Yes, connect anyways","DataScience.jupyterSelfCertClose":"No, close the connection","DataScience.jupyterServerCrashed":"Jupyter server crashed. Unable to connect. \\r\\nError code from Jupyter: {0}","DataScience.rawConnectionDisplayName":{"message":"Direct kernel connection","comment":["{Locked=\'kernel\'}"]},"DataScience.rawConnectionBrokenError":{"message":"Direct kernel connection broken","comment":["{Locked=\'kernel\'}"]},"DataScience.pythonInteractiveHelpLink":"Get more help","DataScience.markdownHelpInstallingMissingDependencies":"See [https://aka.ms/pyaiinstall](https://aka.ms/pyaiinstall) for help on installing Jupyter and related dependencies.","DataScience.importingFormat":"Importing {0}","DataScience.startingJupyter":"Starting Jupyter server","DataScience.connectingToJupyter":"Connecting to Jupyter server","DataScience.connectingToKernel":{"message":"Connecting to kernel: {0}","comment":["{Locked=\'kernel\'}"]},"DataScience.connectedToKernel":"Connected.","DataScience.connected":"Connected","DataScience.disconnected":"Disconnected","Experiments.inGroup":"User belongs to experiment group \'{0}\'","Logging.CurrentWorkingDirectory":"cwd:","Logging.WarnUserAboutDebugLoggingSetting":"You have enabled debug logging for the Jupyter Extension, which will continue to write logs to disk. Would you like to turn debug logging off?","Logging.YesTurnOffDebugLogging":"Yes, turn off debug logging","Logging.NoResponse":"No","Logging.NoAndDontAskAgain":"No, and don\'t ask again","GitHubIssue.Failure":{"message":"We encountered an error while submitting your GitHub Issue. Would you still like to report an issue?","comment":["{Locked=\'Issue\'}"]},"GitHubIssue.copyToClipboardAndOpenIssue":"Yes, copy content to clipboard and open issue","GitHubIssue.pleaseFillThisOut":"Please fill this section out and delete this comment before submitting an issue!","GitHubIssue.missingFields":{"message":"Please provide details of the issue you encountered before clicking Submit GitHub Issue.","comment":["{Locked=\'Issue\'}"]},"GitHubIssue.askForIssueTitle":"Please provide a descriptive title summarizing your issue.","GitHubIssue.titlePlaceholder":{"message":"E.g.: Unable to start a local kernel session","comment":["{Locked=\'kernel\'}"]},"DataScience.allowExtensionToUseJupyterKernelApi":{"message":"Do you want to give the extension \'{0}\' access to the Jupyter Kernels? Clicking \'{1}\' would allow this extension to execute code against the Jupyter Kernels.","comment":["{Locked=\'Kernels\'}"]},"DataScience.thanksForUsingJupyterKernelApiPleaseRegisterWithUs":"Thanks for trying the Jupyter API. Please file an issue on our repo to use this API in production. This would prevent us from breaking your extension when updating the API (as it is still a work in progress).","Common.bannerLabelYes":"Yes","Common.bannerLabelNo":"No","Common.doNotShowAgain":"Do not show again","Common.reload":"Reload","Common.moreInfo":"More Info","Common.and":"and","Common.download":"Download","Common.ok":"Ok","Common.install":"Install","Common.learnMore":"Learn more","Common.reportThisIssue":"Report this issue","CommonSurvey.remindMeLaterLabel":"Remind me later","CommonSurvey.yesLabel":"Yes, take survey now","CommonSurvey.noLabel":"No, thanks","Common.clickHereForMoreInfoWithHtml":"Click <a href=\'{0}\'>here</a> for more info.","OutputChannelNames.languageServer":"Python Language Server","OutputChannelNames.python":"Python","OutputChannelNames.pythonTest":"Python Test Log","OutputChannelNames.jupyter":"Jupyter","ExtensionSurveyBanner.bannerMessage":"Can you please take 2 minutes to tell us how the Jupyter Extension is working for you?","ExtensionSurveyBanner.bannerLabelYes":"Yes, take survey now","ExtensionSurveyBanner.bannerLabelNo":"No, thanks","ExtensionSurveyBanner.maybeLater":"Maybe later","DataScience.restartKernelMessage":{"message":"Do you want to restart the Jupyter kernel? All variables will be lost.","comment":["{Locked=\'kernel\'}"]},"DataScience.restartKernelMessageYes":"Yes","DataScience.restartingKernelFailed":{"message":"Kernel restart failed. Jupyter server is hung. Please reload VS Code.","comment":["{Locked=\'Kernel\'}"]},"DataScience.interruptingKernelFailed":{"message":"Kernel interrupt failed. Jupyter server is hung. Please reload VS Code.","comment":["{Locked=\'Kernel\'}"]},"DataScienceSurveyBanner.bannerMessage":"Can you please take 2 minutes to tell us how the Data Science features are working for you?","DataScienceSurveyBanner.bannerLabelYes":"Yes, take survey now","DataScienceSurveyBanner.bannerLabelNo":"No, thanks","InteractiveShiftEnterBanner.bannerMessage":"Would you like to run code in the \'Interactive\' window (an IPython console) for \'shift-enter\'? Select \'No\' to continue to run code in the Python Terminal. This can be changed later in settings.","DataScience.automaticallyReconnectingToAKernelProgressMessage":"Reconnecting to the kernel {0}","DataScience.restartingKernelStatus":{"message":"Restarting Kernel {0}","comment":["{Locked=\'Kernel\'}"]},"DataScience.executingCode":"Executing Cell","DataScience.collapseAll":"Collapse all cell inputs","DataScience.expandAll":"Expand all cell inputs","DataScience.export":"Export as Jupyter notebook","DataScience.restartServer":{"message":"Restart Jupyter kernel","comment":["{Locked=\'kernel\'}"]},"DataScience.undo":"Undo","DataScience.redo":"Redo","DataScience.clearAll":"Remove all cells","DataScience.restartedKernelHeader":{"message":"Restarted \'{0}\' kernel","comment":["{Locked=\'kernel\'}"]},"DataScience.restartingKernelCustomHeader":"_Restarting {0}..._","DataScience.restartingKernelHeader":{"message":"_Restarting kernel..._","comment":["{Locked=\'kernel\'}"]},"DataScience.startedNewKernelHeader":{"message":"Started \'{0}\' kernel","comment":["{Locked=\'kernel\'}"]},"DataScience.connectKernelHeader":{"message":"Connected to \'{0}\' kernel","comment":["{Locked=\'kernel\'}"]},"DataScience.executingCodeFailure":"Executing code failed : {0}","DataScience.inputWatermark":"Type code here and press shift-enter to run","DataScience.gotoCodeButtonTooltip":"Go to code","DataScience.copyBackToSourceButtonTooltip":"Paste code into file","DataScience.copyToClipboardButtonTooltip":"Copy source to clipboard","DataScience.plotOpen":"Expand image","DataScience.libraryNotInstalled":"Data Science library {0} is not installed. Install?","DataScience.libraryNotInstalledCorrectlyOrOutdated":"Data Science library {0} is not installed correctly or is outdated. Re-Install?","DataScience.libraryRequiredToLaunchJupyterNotInstalled":"Running cells requires {0} package.","DataScience.librariesRequiredToLaunchJupyterNotInstalled":"Running cells requires {0} package.","DataScience.libraryRequiredToLaunchJupyterNotInstalledInterpreter":"Running cells with \'{0}\' requires {1} package.","DataScience.librariesRequiredToLaunchJupyterNotInstalledInterpreter":"Running cells with \'{0}\' requires {1} package.","DataScience.jupyterInstall":"Install","DataScience.jupyterSelectURIPrompt":"Enter the URI of the running Jupyter server","DataScience.jupyterSelectURIInvalidURI":"Invalid URI specified","DataScience.jupyterSelectUserAndPasswordTitle":"Enter your user name and password to connect to Jupyter Hub","DataScience.jupyterSelectUserPrompt":"Enter your user name","DataScience.jupyterSelectPasswordPrompt":"Enter your password","DataScience.jupyterRenameServer":"Change Server Display Name (Leave Blank To Use URI)","DataScience.removeRemoteJupyterServerEntryInQuickPick":"Remove","DataScience.jupyterNotebookFailure":"Jupyter notebook failed to launch. \\r\\n{0}","DataScience.remoteJupyterServerProvidedBy3rdPartyExtensionNoLongerValid":"The remote Jupyter Server contributed by the extension \'{0}\' is no longer available.","DataScience.remoteJupyterConnectionFailedWithServer":"Failed to connect to the remote Jupyter Server \'{0}\'. Verify the server is running and reachable.","DataScience.remoteJupyterConnectionFailedWithServerWithError":"Failed to connect to the remote Jupyter Server \'{0}\'. Verify the server is running and reachable. ({1}).","DataScience.remoteJupyterConnectionFailedWithoutServerWithError":"Connection failure. Verify the server is running and reachable. ({0}).","DataScience.remoteJupyterConnectionFailedWithoutServerWithErrorWeb":"Connection failure. Verify the server is running and reachable from a browser. ({0}). When connecting from vscode.dev Jupyter servers must be started with specific options to connect. See [here](https://aka.ms/vscjremoteweb) for more information.","DataScience.remoteJupyterConnectionFailedWebExtension":"When connecting from vscode.dev Jupyter servers must be started with specific options to connect. See [here](https://aka.ms/vscjremoteweb) for more information.","DataScience.jupyterNotebookRemoteConnectFailedWeb":"Failed to connect to remote Jupyter server.\\r\\nCheck that the Jupyter Server URI can be reached from a browser.\\r\\n{0}. Click [here](https://aka.ms/vscjremoteweb) for more information.","DataScience.jupyterNotebookRemoteConnectSelfCertsFailed":"Failed to connect to remote Jupyter notebook.\\r\\nSpecified server is using self signed certs. Enable Allow Unauthorized Remote Connection setting to connect anyways\\r\\n{0}\\r\\n{1}","DataScience.changeJupyterRemoteConnection":"Change Jupyter Server connection.","DataScience.notebookVersionFormat":{"message":"Jupyter Notebook Version: {0}","comment":["{Locked=\'Notebook\'}"]},"DataScience.jupyterKernelSpecNotFound":{"message":"Cannot create a Jupyter kernel spec and none are available for use","comment":["{Locked=\'kernel\'}"]},"DataScience.jupyterKernelSpecModuleNotFound":{"message":"\'Kernelspec\' module not installed in the selected interpreter ({0}).\\n Please re-install or update \'jupyter\'.","comment":["{Locked=\'Kernelspec\'}"]},"DataScience.jupyterGetVariablesBadResults":"Failed to fetch variable info from the Jupyter server.","DataScience.liveShareConnectFailure":"Cannot connect to host Jupyter session. URI not found.","DataScience.liveShareCannotSpawnNotebooks":"Spawning Jupyter notebooks is not supported over a live share connection","DataScience.liveShareCannotImportNotebooks":"Importing notebooks is not currently supported over a live share connection","DataScience.liveShareHostFormat":"{0} Jupyter Server","DataScience.liveShareSyncFailure":"Synchronization failure during live share startup.","DataScience.liveShareServiceFailure":"Failure starting \'{0}\' service during live share connection.","DataScience.documentMismatch":"Cannot run cells, duplicate documents for {0} found.","DataScience.pythonInteractiveCreateFailed":"Failure to create a \'Interactive\' window. Try reinstalling the Jupyter Extension.","DataScience.interruptKernel":{"message":"Interrupt Jupyter kernel","comment":["{Locked=\'kernel\'}"]},"DataScience.clearAllOutput":"Clear All Output","DataScience.exportingFormat":"Exporting {0}","DataScience.exportCancel":"Cancel","Common.canceled":"Canceled","Common.cancel":"Cancel","Common.yesPlease":"Yes, please","DataScience.interruptKernelStatus":{"message":"Interrupting Jupyter Kernel","comment":["{Locked=\'Kernel\'}"]},"DataScience.restartKernelAfterInterruptMessage":{"message":"Interrupting the kernel timed out. Do you want to restart the kernel instead? All variables will be lost.","comment":["{Locked=\'kernel\'}"]},"DataScience.pythonInterruptFailedHeader":{"message":"Keyboard interrupt crashed the kernel. Kernel restarted.","comment":["{Locked=\'Kernel\'}"]},"DataScience.sysInfoURILabel":"Jupyter Server URI: ","DataScience.jupyterStartTimedout":"Starting Jupyter has timed out. Please check the \'Jupyter\' output panel for further details.","DataScience.startingJupyterLogMessage":"Starting Jupyter from {0} with command line {1}","DataScience.jupyterCommandLineDefaultLabel":"Default (recommended)","DataScience.jupyterCommandLineDefaultDetail":"The Jupyter Extension will determine the appropriate command line for Jupyter","DataScience.jupyterCommandLineCustomLabel":"Custom","DataScience.jupyterCommandLineCustomDetail":"Customize the command line passed to Jupyter on startup","DataScience.jupyterCommandLineReloadQuestion":"Please reload the window when changing the Jupyter command line.","DataScience.jupyterCommandLineReloadAnswer":"Reload","DataScience.jupyterCommandLineQuickPickPlaceholder":"Choose an option","DataScience.jupyterCommandLineQuickPickTitle":"Pick command line for Jupyter","DataScience.jupyterCommandLinePrompt":"Enter your custom command line for Jupyter","Common.loadingExtension":"Jupyter Extension loading...","Common.openOutputPanel":"Show output","DataScience.variableExplorerNameColumn":"Name","DataScience.variableExplorerTypeColumn":"Type","DataScience.variableExplorerCountColumn":"Size","DataScience.variableExplorerValueColumn":"Value","DataScience.showDataExplorerTooltip":"Show variable snapshot in data viewer","DataScience.dataExplorerInvalidVariableFormat":"\'{0}\' is not an active variable.","DataScience.jupyterGetVariablesExecutionError":"Failure during variable extraction:\\r\\n{0}","DataScience.loadingMessage":"loading ...","DataScience.fetchingDataViewer":"Fetching data ...","DataScience.noRowsInDataViewer":"No rows match current filter","DataScience.jupyterServer":"Jupyter Server","DataScience.noKernel":{"message":"No Kernel","comment":["{Locked=\'Kernel\'}"]},"DataScience.serverNotStarted":"Not Started","DataScience.localJupyterServer":"local","DataScience.pandasTooOldForViewingFormat":"Python package \'pandas\' is version {0}. Version {1} or greater is required for viewing data.","DataScience.pandasRequiredForViewing":"Python package \'pandas\' version {0} (or above) is required for viewing data.","DataScience.failedToGetVersionOfPandas":"Failed to get version of Pandas to use the Data Viewer.","DataScience.valuesColumn":"values","DataScience.liveShareInvalid":"One or more guests in the session do not have the Jupyter [extension](https://marketplace.visualstudio.com/itemdetails?itemName=ms-toolsai.jupyter) installed.\\r\\nYour Live Share session cannot continue and will be closed.","Common.noIWillDoItLater":"No, I will do it later","Common.notNow":"Not now","Common.gotIt":"Got it!","DataScience.noRowsInVariableExplorer":"No variables defined","DataScience.loadingRowsInVariableExplorer":"Loading variables","DataScience.tooManyColumnsMessage":"Variables with over a 1000 columns may take a long time to display. Are you sure you wish to continue?","DataScience.tooManyColumnsYes":"Yes","DataScience.tooManyColumnsNo":"No","DataScience.tooManyColumnsDontAskAgain":"Don\'t Ask Again","DataScience.filterRowsTooltip":"Allows filtering multiple rows. Use =, >, or < signs to filter numeric values.","DataScience.previewHeader":"--- Begin preview of {0} ---","DataScience.previewFooter":"--- End preview of {0} ---","DataScience.previewStatusMessage":"Generating preview of {0}","DataScience.plotViewerTitle":"Plots","DataScience.exportPlotTitle":"Save plot image","DataScience.pdfFilter":"PDF","DataScience.pngFilter":"PNG","DataScience.svgFilter":"SVG","DataScience.previousPlot":"Previous","DataScience.nextPlot":"Next","DataScience.panPlot":"Pan","DataScience.zoomInPlot":"Zoom in","DataScience.zoomOutPlot":"Zoom out","DataScience.exportPlot":"Export to different formats","DataScience.deletePlot":"Remove","DataScience.collapseSingle":"Collapse","DataScience.expandSingle":"Expand","DataScience.editSection":"Input new cells here.","DataScience.restartKernelMessageDontAskAgain":"Yes, and Don\'t Ask Again","DataScience.selectedImageListLabel":"Selected Image","DataScience.imageListLabel":"Image","DataScience.exportImageFailed":"Error exporting image: {0}","downloading.file":"Downloading {0}...","downloading.file.progress":"{0}{1} of {2} KB ({3}%)","DataScience.jupyterDataRateExceeded":{"message":"Cannot view variable because data rate exceeded. Please restart your server with a higher data rate limit. For example, --NotebookApp.iopub_data_rate_limit=10000000000.0","comment":["{Locked=\'NotebookApp.iopub_data_rate_limit\'}"]},"DataScience.addCellBelowCommandTitle":"Add cell","DataScience.debugCellCommandTitle":"Debug Cell","DataScience.debugStepOverCommandTitle":"Step over","DataScience.debugContinueCommandTitle":"Continue","DataScience.debugStopCommandTitle":"Stop","DataScience.runCurrentCellAndAddBelow":"Run current cell and add empty cell below","DataScience.jupyterDebuggerNotInstalledError":"Pip module {0} is required for debugging cells. You will need to install it to debug cells.","DataScience.jupyterDebuggerOutputParseError":"Unable to parse {0} output, please log an issue with https://github.com/microsoft/vscode-jupyter","DataScience.jupyterDebuggerPortNotAvailableError":{"message":"Port {0} cannot be opened for debugging. Please specify a different port in the remoteDebuggerPort setting.","comment":["{Locked=\'remoteDebuggerPort\'}"]},"DataScience.jupyterDebuggerPortBlockedError":"Port {0} cannot be connected to for debugging. Please let port {0} through your firewall.","DataScience.jupyterDebuggerPortNotAvailableSearchError":{"message":"Ports in the range {0}-{1} cannot be found for debugging. Please specify a port in the remoteDebuggerPort setting.","comment":["{Locked=\'remoteDebuggerPort\'}"]},"DataScience.jupyterDebuggerPortBlockedSearchError":"A port cannot be connected to for debugging. Please let ports {0}-{1} through your firewall.","DataScience.jupyterDebuggerInstallNew":"Pip module {0} is required for debugging cells. Install {0} and continue to debug cell?","DataScience.jupyterDebuggerInstallNewRunByLine":"Pip module {0} is required for running by line. Install {0} and continue to run by line?","DataScience.jupyterDebuggerInstallUpdate":"The version of {0} installed does not support debugging cells. Update {0} to newest version and continue to debug cell?","DataScience.jupyterDebuggerInstallUpdateRunByLine":"The version of {0} installed does not support running by line. Update {0} to newest version and continue to run by line?","DataScience.jupyterDebuggerInstallYes":"Yes","DataScience.jupyterDebuggerInstallNo":"No","DataScience.cellStopOnErrorMessage":"Cell was canceled due to an error in a previous cell.","DataScience.instructionComments":"# To add a new cell, type \'{0}\'\\n# To add a new markdown cell, type \'{0} [markdown]\'\\n","DataScience.scrollToCellTitleFormatMessage":"Go to [{0}]","DataScience.save":"Save notebook","DataScience.nativeEditorTitle":{"message":"Notebook Editor","comment":["{Locked=\'Notebook\'}"]},"DataScience.untitledNotebookFileName":"Untitled","DataScience.dirtyNotebookMessage1":"Do you want to save the changes you made to {0}?","DataScience.dirtyNotebookMessage2":"Your changes will be lost if you don\'t save them.","DataScience.dirtyNotebookYes":"Save","DataScience.dirtyNotebookNo":"Don\'t Save","DataScience.dirtyNotebookCancel":"Cancel","DataScience.dirtyNotebookDialogTitle":"Save","DataScience.dirtyNotebookDialogFilter":{"message":"Jupyter Notebooks","comment":["{Locked=\'Notebook\'}"]},"DataScience.exportAsPythonFileTooltip":"Convert and save to a Python script","DataScience.exportAsPythonFileTitle":"Save as Python File","DataScience.exportButtonTitle":"Export","DataScience.runCell":"Run cell","DataScience.deleteCell":"Delete cell","DataScience.moveCellUp":"Move cell up","DataScience.moveCellDown":"Move cell down","DataScience.moveSelectedCellUp":"Move selected cell up","DataScience.insertBelow":"Insert cell below","DataScience.insertAbove":"Insert cell above","DataScience.addCell":"Add cell","DataScience.runAll":"Run all cells","DataScience.toggleCellOutput":"Toggle Cell Output","DataScience.convertingToPythonFile":"Converting ipynb to python file","DataScience.untitledNotebookMessage":"Your changes will be lost if you don\'t save them.","DataScience.untitledNotebookYes":"Save","DataScience.untitledNotebookNo":"Cancel","DataScience.noInterpreter":"No python selected","DataScience.notebookNotFound":{"message":"python -m jupyter notebook --version is not running","comment":["{Locked=\'python -m jupyter notebook --version\'}"]},"DataScience.savePngTitle":"Save Image","DataScience.jupyterSelectURIQuickPickTitle":"Enter the URI of the running Jupyter server","DataScience.jupyterSelectURIQuickPickTitleOld":"Pick how to connect to Jupyter","DataScience.jupyterSelectURIQuickPickPlaceholder":"Choose an option","DataScience.jupyterSelectURIQuickPickCurrent":"Current: {0}","DataScience.jupyterSelectURINoneLabel":"None","DataScience.jupyterSelectURINoneDetail":"Do not connect to any remote Jupyter server","DataScience.jupyterSelectURINewLabel":"Existing","DataScience.jupyterSelectURINewDetail":"Specify the URI of an existing server","DataScience.jupyterSelectURIMRUDetail":"Last Connection: {0}","DataScience.jupyterSelectURIRunningDetailFormat":"Last connection {0}. {1} existing connections.","DataScience.jupyterSelectURINotRunningDetail":"Cannot connect at this time. Status unknown.","DataScience.fallbackToUseActiveInterpreterAsKernel":{"message":"Couldn\'t find kernel \'{0}\' that the notebook was created with. Using the current interpreter.","comment":["{Locked=\'kernel\'}"]},"DataScience.fallBackToRegisterAndUseActiveInterpreterAsKernel":{"message":"Couldn\'t find kernel \'{0}\' that the notebook was created with. Registering a new kernel using the current interpreter.","comment":["{Locked=\'kernel\'}"]},"DataScience.fallBackToPromptToUseActiveInterpreterOrSelectAKernel":{"message":"Couldn\'t find kernel \'{0}\' that the notebook was created with.","comment":["{Locked=\'kernel\'}"]},"DataScience.selectKernel":{"message":"Change Kernel","comment":["{Locked=\'Kernel\'}"]},"DataScience.selectDifferentKernel":{"message":"Select a different Kernel","comment":["{Locked=\'Kernel\'}"]},"DataScience.selectDifferentJupyterInterpreter":"Change Interpreter","DataScience.selectJupyterInterpreter":"Select an Interpreter to start Jupyter","DataScience.switchingKernelProgress":{"message":"Switching kernel to \'{0}\'","comment":["{Locked=\'kernel\'}"]},"DataScience.sessionStartFailedWithKernel":{"message":"Failed to start the Kernel \'{0}\'. \\nView Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'Kernel\'}","{Locked=\'command:jupyter.viewOutput\'}"]},"DataScience.failedToStartKernel":{"message":"Failed to start the Kernel.","comment":["{Locked=\'Kernel\'}"]},"DataScience.failedToRestartKernel":{"message":"Failed to restart the Kernel.","comment":["{Locked=\'Kernel\'}"]},"DataScience.failedToInterruptKernel":{"message":"Failed to interrupt the Kernel.","comment":["{Locked=\'Kernel\'}"]},"DataScience.failedToStartAnUntrustedKernelSpec":"The kernel \'{0}\' was not started as it is located in an insecure location \'{1}\'.  \\nClick [here](https://aka.ms/JupyterTrustedKernelPaths) for further details, optionally update the setting [jupyter.kernels.trusted](command:workbench.action.openSettings?[\\"jupyter.kernels.trusted\\"]) to trust the kernel.","jupyter.configuration.jupyter.kernels.trusted.markdownDescription":"Enter fully qualified paths to Kernel specification files that are to be trusted. E.g. \'C:\\\\Program Data\\\\Jupyter\\\\kernels\\\\python3\\\\kernel.json\'.  \\n**Note**: Kernels can execute code with user privileges. Click [here](https://aka.ms/JupyterTrustedKernelPaths) for further details.","DataScience.kernelDied":{"message":"The kernel died. View Jupyter [log](command:jupyter.viewOutput) for further details. \\nError: {0}...","comment":["{Locked=\'command:jupyter.viewOutput\'}"]},"DataScience.kernelDiedWithoutError":{"message":"The kernel \'{0}\' died. Click [here](https://aka.ms/vscodeJupyterKernelCrash) for more info. View Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'Kernel\'}","{Locked=\'command:jupyter.viewOutput\'}","{Locked=\'vscodeJupyterKernelCrash\'}"]},"DataScience.kernelDiedWithoutErrorAndAutoRestarting":{"message":"The kernel \'{0}\' died and is being automatically restarted by Jupyter. Click [here](https://aka.ms/vscodeJupyterKernelCrash) for more info. View Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'Kernel\'}","{Locked=\'command:jupyter.viewOutput\'}","{Locked=\'vscodeJupyterKernelCrash\'}"]},"DataScience.kernelDisconnected":"Unable to connect to the kernel \'{0}\', please verify the Jupyter Server connection. View Jupyter [log](command:jupyter.viewOutput) for further details.","DataScience.kernelCrashedDueToCodeInCurrentOrPreviousCell":{"message":"The Kernel crashed while executing code in the the current cell or a previous cell. Please review the code in the cell(s) to identify a possible cause of the failure. Click <a href=\'https://aka.ms/vscodeJupyterKernelCrash\'>here</a> for more info. View Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'Kernel\'}","{Locked=\'command:jupyter.viewOutput\'}","{Locked=\'vscodeJupyterKernelCrash\'}"]},"DataScience.fileSeemsToBeInterferingWithKernelStartup":{"message":"The file \'{0}\' seems to be overriding built in modules and interfering with the startup of the kernel. Consider renaming the file and starting the kernel again.","comment":["{Locked=\'kernel\'}"]},"DataScience.DataScience.moduleSeemsToBeInterferingWithKernelStartup":{"message":"The module \'{0}\' seems to be overriding built in modules and interfering with the startup of the kernel. Consider renaming the folder and starting the kernel again.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToMissingModule":{"message":"The kernel failed to start due to the missing module \'{0}\'. Consider installing this module.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToImportFailure":{"message":"The kernel failed to start as the module \'{0}\' could not be imported.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToImportFromFileFailure":{"message":"The kernel failed to start as \'{0}\' could not be imported from \'{1}\'.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToUnknownDllLoadFailure":{"message":"The kernel failed to start as a dll could not be loaded.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToDllLoadFailure":{"message":"The kernel failed to start as the dll \'{0}\' could not be loaded.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToWin32APIFailure":{"message":"The kernel failed to start due to an error with the Win32api module. Consider (re) installing this module.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToPyZmqFailure":{"message":"The kernel failed to start due to an error with the \'pyzmq\' module. Consider re-installing this module.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToOldIPython":{"message":"The kernel failed to start due to an outdated version of IPython. Consider updating this module to the latest version.","comment":["{Locked=\'kernel\'}"]},"DataScience.failedToStartKernelDueToOldIPyKernel":{"message":"The kernel failed to start due to an outdated version of IPyKernel. Consider updating this module to the latest version.","comment":["{Locked=\'Kernel\'}"]},"DataScience.failedToStartJupyter":{"message":"Failed to start Jupyter in the environment \'{0}\'. \\nView Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'command:jupyter.viewOutput\'}"]},"DataScience.failedToStartJupyterWithErrorInfo":{"message":"Failed to start Jupyter in the environment \'{0}\'. \\n{1} \\nView Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'command:jupyter.viewOutput\'}"]},"DataScience.failedToStartJupyterDueToOutdatedTraitlets":{"message":"Failed to start Jupyter in the environment \'{0}\' possibly due to an outdated version of \'traitlets\'. \\n{1} \\nConsider updating the \'traitlets\' module to \'5.1.1\' or later. \\nView Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'command:jupyter.viewOutput\'}","{Locked=\'traitlets\'}"]},"DataScience.installPackageInstructions":"Run the following command to install \'{0}\' into the Python environment. \\nCommand: \'{1}\'","DataScience.cannotRunCellKernelIsDead":{"message":"Cannot run cells, as the kernel \'{0}\' is dead.","comment":["{Locked=\'kernel\'}"]},"DataScience.waitingForJupyterSessionToBeIdle":"Waiting for Jupyter Session to be idle","DataScience.gettingListOfKernelsForLocalConnection":{"message":"Fetching Kernels","comment":["{Locked=\'Kernels\'}"]},"DataScience.gettingListOfKernelsForRemoteConnection":{"message":"Fetching Kernels","comment":["{Locked=\'Kernels\'}"]},"DataScience.gettingListOfKernelSpecs":{"message":"Fetching Kernel specs","comment":["{Locked=\'Kernel\'}"]},"DataScience.startingJupyterNotebook":{"message":"Starting Jupyter Notebook","comment":["{Locked=\'Notebook\'}"]},"DataScience.registeringKernel":{"message":"Registering Kernel","comment":["{Locked=\'Kernel\'}"]},"DataScience.trimmedOutput":{"message":"Output was trimmed for performance reasons.\\nTo see the full output set the setting \\"jupyter.textOutputLimit\\" to 0.","comment":["{Locked=\'textOutputLimit\'}"]},"DataScience.connectingToJupyterUri":"Connecting to Jupyter server at {0}","DataScience.createdNewNotebook":"{0}: Creating new notebook ","DataScience.createdNewKernel":{"message":"{0}: Kernel started: {1}","comment":["{Locked=\'Kernel\'}"]},"DataScience.kernelInvalid":{"message":"Kernel {0} is not usable. Check the Jupyter output tab for more information.","comment":["{Locked=\'Kernel\'}"]},"DataScience.nativeDependencyFail":"We cannot launch a Jupyter server because your OS is not supported. Select an already running server if you wish to continue. {0}","DataScience.selectNewServer":"Pick Running Server","DataScience.jupyterSelectURIRemoteLabel":"Existing","DataScience.jupyterSelectURIQuickPickTitleRemoteOnly":"Pick an already running Jupyter server","DataScience.jupyterSelectURIRemoteDetail":"Specify the URI of an existing server","DataScience.latestExtension":"Download the latest version of the Jupyter Extension","DataScience.loadClassFailedWithNoInternet":"Error loading {0}:{1}. Internet connection required for loading 3rd party widgets.","DataScience.useCDNForWidgets":"Widgets require us to download supporting files from a 3rd party website. Click [here](https://aka.ms/PVSCIPyWidgets) for more information.","DataScience.useCDNForWidgetsNoInformation":"Widgets require us to download supporting files from a 3rd party website.","DataScience.enableCDNForWidgetsSettingHtml":"Widgets require us to download supporting files from a 3rd party website. Click <a href=\'https://command:jupyter.enableLoadingWidgetScriptsFromThirdPartySource\'>here</a> to enable this or click <a href=\'https://aka.ms/PVSCIPyWidgets\'>here</a> for more information. (Error loading {0}:{1}).","DataScience.enableCDNForWidgetsSetting":"Widgets require us to download supporting files from a 3rd party website. (Error loading {0}:{1}).","DataScience.enableCDNForWidgetsButton":"Enable Downloads","DataScience.widgetScriptNotFoundOnCDNWidgetMightNotWork":"Unable to find widget \'{0}\' version \'{1}\' from configured widget sources {2}. Expected behavior may be affected. Click [here](https://aka.ms/PVSCIPyWidgets) for more information.","DataScience.cdnWidgetScriptNotAccessibleWarningMessage":"Unable to download widget \'{0}\' from 3rd party website {1}, due to network access. Expected behavior may be affected. Click [here](https://aka.ms/PVSCIPyWidgets) for more information.","DataScience.unhandledMessage":{"message":"Unhandled kernel message from a widget: {0} : {1}","comment":["{Locked=\'kernel\'}"]},"DataScience.qgridWidgetScriptVersionCompatibilityWarning":"Unable to load a compatible version of the widget \'qgrid\'. Consider downgrading to version 1.1.1.","DataScience.kernelStarting":{"message":"_Connecting to kernel..._","comment":["{Locked=\'kernel\'}"]},"DataScience.kernelStartingCustom":"_Connecting to {0}..._","DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreter":"Running cells with \'{0}\' requires {1} package.","DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreterAndRequiresUpdate":"Running cells with \'{0}\' requires {1} package installed or requires an update.","DataScience.runByLine":"Run by line (F10)","DataScience.stopRunByLine":"Stop","DataScience.couldNotInstallLibrary":"Could not install {0} package. If pip is not available, please use the package manager of your choice to manually install this library into your Python environment.","DataScience.rawKernelSessionFailed":{"message":"Unable to start session for kernel {0}. Select another kernel to launch with.","comment":["{Locked=\'kernel\'}"]},"DataScience.rawKernelStartFailedDueToTimeout":{"message":"Unable to start Kernel \'{0}\' due to connection timeout. \\nView Jupyter [log](command:jupyter.viewOutput) for further details.","comment":["{Locked=\'Kernel\'}","{Locked=\'command:jupyter.viewOutput\'}"]},"DataScience.rawKernelConnectingSession":{"message":"Connecting to kernel {0}","comment":["{Locked=\'kernel\'}"]},"DataScience.reloadCustomEditor":"Please reload VS Code to use the custom editor API","DataScience.reloadVSCodeNotebookEditor":{"message":"Please reload VS Code to use the Notebook Editor","comment":["{Locked=\'Notebook\'}"]},"DataScience.step":"Run next line (F10)","DataScience.usingPreviewNotebookWithOtherNotebookWarning":{"message":"Opening the same file in the Preview Notebook Editor and stable Notebook Editor is not recommended. Doing so could result in data loss or corruption of notebooks.","comment":["{Locked=\'Notebook\'}"]},"DataScience.unknownServerUri":"Server URI cannot be used. Did you uninstall an extension that provided a Jupyter server connection?","DataScienceRendererExtension.installingExtension":{"message":"Installing Notebook Renderers extension...","comment":["{Locked=\'Notebook\'}"]},"DataScienceRendererExtension.installationCompleteMessage":"complete.","DataScienceRendererExtension.startingDownloadOutputMessage":{"message":"Starting download of Notebook Renderers extension.","comment":["{Locked=\'Notebook\'}"]},"DataScienceRendererExtension.downloadingMessage":{"message":"Downloading Notebook Renderers Extension...","comment":["{Locked=\'Notebook\'}"]},"DataScienceRendererExtension.downloadCompletedOutputMessage":{"message":"Notebook Renderers extension download complete.","comment":["{Locked=\'Notebook\'}"]},"DataScience.uriProviderDescriptionFormat":"{0} (From {1} extension)","DataScience.unknownPackage":"unknown","DataScience.interactiveWindowTitle":"Interactive","DataScience.interactiveWindowTitleFormat":"Interactive - {0}","DataScience.interactiveWindowModeBannerTitle":{"message":"Do you want to open a new Interactive window for this file? [More Information](command:workbench.action.openSettings?%5B%22jupyter.interactiveWindowMode%22%5D).","comment":["{Locked=\'workbench.action.openSettings?%5B%22jupyter.interactiveWindowMode\'}"]},"DataScience.interactiveWindowModeBannerSwitchYes":"Yes","DataScience.interactiveWindowModeBannerSwitchAlways":"Always","DataScience.interactiveWindowModeBannerSwitchNo":"No","DataScience.noKernelsSpecifyRemote":{"message":"No kernel available for cell execution, please [specify a Jupyter server for connections](command:jupyter.selectjupyteruri)","comment":["{Locked=\'kernel\'}","{Locked=\'command:jupyter.selectjupyteruri\'}"]},"DataScience.ipykernelNotInstalled":{"message":"IPyKernel not installed into interpreter {0}","comment":["{Locked=\'Kernel\'}"]},"DataScience.ipykernelNotInstalledBecauseCanceled":{"message":"IPyKernel not installed into interpreter. Installation canceled.","comment":["{Locked=\'Kernel\'}"]},"DataScience.needIpykernel6":{"message":"Ipykernel setup required for this feature","comment":["{Locked=\'kernel\'}"]},"DataScience.setup":"Setup","DataScience.startingRunByLine":"Starting Run by Line","DataScience.illegalEditorConfig":{"message":"CustomEditor and NativeNotebook experiments cannot be turned on together","comment":["{Locked=\'Notebook\'}"]},"DataScience.pythonExtensionRequired":"The Python Extension is required to perform that task. Click Yes to open Python Extension installation page.","DataScience.pythonExtensionRequiredToRunNotebook":"Python Extension required to run Python notebooks.","DataScience.installingPythonExtension":"Installing Python extension and locating kernels.","DataScience.pythonExtensionInstalled":"Python Extension is now installed. Some features might not be available until a notebook or interactive window session is restarted.","DataScience.showDataViewerFail":"Failed to create the Data Viewer. Check the Jupyter tab of the Output window for more info.","DataScience.notebookCreationPickerPlaceHolder":"Select an option to create a blank notebook","DataScience.refreshDataViewer":"Refresh data viewer","DataScience.refreshDataViewerCommandPalette":"Refresh Data Viewer","DataScience.sliceDropdownAxisLabel":"Axis","DataScience.sliceDropdownIndexLabel":"Index","DataScience.sliceSubmitButton":"Apply","DataScience.sliceSummaryTitle":"SLICING","DataScience.dataViewerShowFilters":"Show filters","DataScience.dataViewerHideFilters":"Hide filters","DataScience.sliceData":"Slice Data","DataScience.sliceIndexError":"Index {0} out of range for axis {1} with {2} elements","DataScience.sliceMismatchedAxesError":"Expected {0} axes, got {1} in slice expression","DataScience.clearFilters":"Clear all filters","DataScience.defaultNotebookName":"default","DataScience.recommendExtensionForNotebook":"The {0} extension is recommended for notebooks targeting the language \'{1}\'","DataScience.interactiveClearAllCells":"Clear All","DataScience.interactiveGoToCode":"Go to code","DataScience.kernelWasNotStarted":{"message":"Kernel was not started. A kernel session is needed to start debugging.","comment":["{Locked=\'Kernel\'}"]},"DataScience.noNotebookToDebug":"No active notebook document to debug.","DataScience.cantStartDebugging":"Can\'t start debugging.","DataScience.customEditorBanner":{"message":"This editor is deprecated and we\'ll remove it after 1.59 of VS Code.  [Learn more about our new notebook editor](https://aka.ms/vscodeNotebookEditorBanner).","comment":["{Locked=\'Notebook\'}","{Locked=\'vscodeNotebookEditorBanner\'}"]},"DataScience.importingIpynb":"Importing notebook file.","DataScience.exportingToFormat":"Exporting to {0}.","DataScience.matplotlibWidgetInsteadOfOther":"\'%matplotlib widget\' or \'%matplotlib inline\' works best in VS Code notebooks.","DataScience.matplotlibWidgetCodeActionTitle":"More information","DataScience.cellAtFormat":"{0} Cell {1}\'","DataScience.jupyterServerConsoleOutputChannel":"Jupyter Server Console","DataScience.kernelConsoleOutputChannel":{"message":"{0} Kernel Console Output","comment":["{Locked=\'Kernel\'}"]},"Installer.noCondaOrPipInstaller":"There is no Conda or Pip installer available in the selected environment.","Installer.noPipInstaller":"There is no Pip installer available in the selected environment.","Installer.searchForHelp":"Search for help","Installer.couldNotInstallLibrary":"Could not install {0}. If pip is not available, please use the package manager of your choice to manually install this library into your Python environment.","Installer.dataScienceInstallPrompt":"Data Science library {0} is not installed. Install?","Products.installingModule":"Installing {0}","DataScience.webNotSupported":"Operation not supported in web version of Jupyter Extension.","DataScience.outputSizeExceedLimit":"Output exceeds the <a href={0}>size limit</a>. Open the full output data <a href={1}>in a text editor</a>","DataScience.installPythonTitle":"Install Python","DataScience.installPythonExtensionViaKernelPickerTitle":"Install Python Extension","DataScience.switchToLocalKernelsTitle":"Connect to Local Kernels","DataScience.switchToRemoteKernelsTitle":"Connect to a Jupyter Server","DataScience.switchToAnotherRemoteKernelsTitle":"Connect to Another Jupyter Server","DataScience.pickDocumentKernelSourceTitle":"Select Kernel Source","DataScience.failedToInstallPythonExtension":"Failed to install the Python Extension.","DataScience.kernelPrefixForRemote":"(Remote)","DataScience.pythonFileOverridesPythonPackage":"This file could potentially override an existing Python package and interfere with kernel execution, consider renaming it.","DataScience.alwaysIgnoreWarningsAboutOverridingPythonPackages":"Always ignore warnings about overriding Python packages","DataScience.ignoreWarningAboutOverridingPythonPackage":"Ignore warning for \'{0}\'","DataScience.moreInfoAboutFileNamesOverridingPythonPackages":"More information on overriding Python packages","DataScience.reservedPythonFileNamesDiagnosticCollectionName":"Reserved Python Filenames","DataScience.filesPossiblyOverridingPythonModulesMayHavePreventedKernelFromStarting":"Some of the following files found in the working directory may have prevented the Kernel from starting. Consider renaming them.","DataScience.listOfFilesWithLinksThatMightNeedToBeRenamed":"File(s): {0} might need to be renamed.","jupyter.configuration.jupyter.diagnostics.reservedPythonNames.enabled.markdownDescription":"Whether to show warnings about Python file names that could potentially [override Python packages](https://aka.ms/JupyterKernelStartFailureOverrideReservedName).","jupyter.configuration.jupyter.diagnostics.reservedPythonNames.exclude.markdownDescription":"Configure [glob patterns](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options) for excluding files and folders from from being warned about [overriding Python packages](https://aka.ms/JupyterKernelStartFailureOverrideReservedName).","DataScience.localKernelFinderDisplayName":"Local Kernels","DataScience.universalRemoteKernelFinderDisplayName":"Remote - {0}","DataScience.remoteKernelFinderDisplayName":"Current Remote"}')},76572:e=>{"use strict";e.exports=JSON.parse('{"jupyter.command.jupyter.runallcells.title":"Alle cellen uitvoeren","jupyter.command.jupyter.runcurrentcell.title":"Huidige cel uitvoeren","jupyter.command.jupyter.runcurrentcelladvance.title":"Huidige cel uitvoeren en doorgaan","jupyter.command.jupyter.runcell.title":"Cel uitvoeren","jupyter.command.jupyter.selectjupyteruri.title":"Jupyter-server-URI specificeren","jupyter.command.jupyter.importnotebook.title":"Jupyter-notebook importeren","jupyter.command.jupyter.importnotebookonfile.title":"Jupyter-notebook importeren","jupyter.command.jupyter.exportoutputasnotebook.title":"Interactief Python-venster als Jupyter-notebook exporteren","jupyter.command.jupyter.exportfileasnotebook.title":"Huidige Python-bestand als Jupyter-notebook exporteren","jupyter.command.jupyter.exportfileandoutputasnotebook.title":"Huidige Python-bestand exporteren en outputten als Jupyter-notebook","jupyter.command.jupyter.undocells.title":"Laatste interactieve Python-actie ongedaan maken","jupyter.command.jupyter.redocells.title":"Laatste interactieve Python-actie opnieuw uitvoeren","jupyter.command.jupyter.removeallcells.title":"Alle interactieve Python-cellen verwijderen","jupyter.command.jupyter.interruptkernel.title":"IPython-kernel onderbreken","jupyter.command.jupyter.restartkernel.title":"IPython-kernel herstarten","jupyter.command.jupyter.expandallcells.title":"Alle interactieve Python-vensters openen","jupyter.command.jupyter.collapseallcells.title":"Alle interactieve Python-vensters sluiten","ExtensionSurveyBanner.bannerLabelYes":"Ja, neem nu deel aan het onderzoek","ExtensionSurveyBanner.bannerLabelNo":"Nee, bedankt","DataScience.unknownMimeTypeFormat":"Mime type {0} wordt momenteel niet ondersteund.","DataScience.historyTitle":"Interactieve Python","DataScience.badWebPanelFormatString":"<html><body><h1>{0} is geen geldige bestandsnaam</h1></body></html>","DataScience.sessionDisposed":"Kan code niet uitvoeren, de sessie is gesloten.","DataScience.exportDialogTitle":"Exporteren naar Jupyter-notebook","DataScience.exportDialogFilter":"Jupyter-notebooks","DataScience.exportDialogComplete":"Notebook geschreven naar {0}","DataScience.exportDialogFailed":"Niet gelukt om te exporteren naar Jupyter-notebook. {0}","DataScience.collapseInputTooltip":"Invoerblok sluiten","DataScience.importDialogTitle":"Jupyter-notebook importeren","DataScience.importDialogFilter":"Jupyter-notebooks","DataScience.notebookCheckForImportYes":"Importeer","DataScience.notebookCheckForImportNo":"Later","DataScience.notebookCheckForImportDontAskAgain":"Niet opnieuw vragen","DataScience.notebookCheckForImportTitle":"Wil je het Jupyter-notebook importeren als Python-code?","DataScience.jupyterNbConvertNotSupported":"Notebooks importeren vereist Jupyter-nbconvert geinstalleerd.","DataScience.jupyterLaunchTimedOut":"Het is niet gelukt de Jupyter-notebook-server op tijd te starten","DataScience.jupyterLaunchNoURL":"Het is niet gelukt de URL van de gestarte Jupyter-notebook-server te vinden","DataScience.pythonInteractiveHelpLink":"Krijg meer hulp","DataScience.importingFormat":"Aan het importeren {0}","DataScience.startingJupyter":"Jupyter-server starten","DataScience.connectingToJupyter":"Met Jupyter-server verbinden","DataScience.restartKernelMessage":"Wil je de IPython-kernel herstarten? Alle variabelen zullen verloren gaan.","DataScience.restartKernelMessageYes":"Herstarten","DataScience.restartKernelMessageNo":"Annuleren","DataScienceSurveyBanner.bannerMessage":"Zou je alsjeblieft 2 minuten kunnen nemen om ons te vertellen hoe de Python-data-science-functionaliteiten voor jou werkt?","DataScienceSurveyBanner.bannerLabelYes":"Ja, neem nu deel aan het onderzoek","DataScienceSurveyBanner.bannerLabelNo":"Nee, bedankt","DataScience.restartingKernelStatus":"IPython-Kernel herstarten {0}","DataScience.executingCode":"Cel aan het uitvoeren","DataScience.collapseAll":"Alle cel-invoeren sluiten","DataScience.expandAll":"Alle cel-invoeren openen","DataScience.export":"Als Jupyter-Notebook exporteren","DataScience.restartServer":"IPython-kernel herstarten","DataScience.undo":"Herhaal","DataScience.redo":"Opnieuw uitvoeren","DataScience.clearAll":"Alle cellen verwijderen","DataScience.pythonVersionHeader":"Python versie:","DataScience.pythonRestartHeader":"Kernel herstart:","DataScience.jupyterNotebookFailure":"Jupyter-notebook kon niet starten. \\r\\n{0}","DataScience.notebookVersionFormat":"Jupyter-notebook versie: {0}","DataScience.jupyterKernelSpecNotFound":"Kan geen Jupyter-kernel-spec aanmaken en er zijn er geen beschikbaar voor gebruik","DataScience.interruptKernel":"IPython-kernel onderbreken","DataScience.exportingFormat":"Aan het exporteren {0}","DataScience.exportCancel":"Annuleren","Common.canceled":"Geannuleerd","DataScience.importChangeDirectoryComment":"{0} De werkmap van de werkruimte root naar de ipynb-bestandslocatie veranderen. Schakel deze toevoeging uit met de instelling DataScience.changeDirOnImportExport","DataScience.exportChangeDirectoryComment":"# De map wijzigen naar de VSCode-werktuimte root zodat de relatieve pad-ladingen correct werken. Schakel deze toevoeging uit met de instelling DataScience.changeDirOnImportExport","DataScience.interruptKernelStatus":"IPython-kernel onderbreken","DataScience.restartKernelAfterInterruptMessage":"Het onderbreken van de kernel duurde te lang. Wil je de kernel in plaats daarvan herstarten? Alle variabelen zullen verloren gaan.","DataScience.pythonInterruptFailedHeader":"Toetsenbord-interrupt liet de kernel crashen. Kernel herstart.","DataScience.sysInfoURILabel":"Jupyter-server URI: "}')},98443:e=>{"use strict";e.exports=JSON.parse('{"jupyter.command.jupyter.runallcells.title":"Uruchom wszystkie komórki","jupyter.command.jupyter.runcurrentcell.title":"Uruchom bieżącą komórkę","jupyter.command.jupyter.runcurrentcelladvance.title":"Uruchom bieżące komórki i pokaż","jupyter.command.jupyter.execSelectionInteractive.title":"Uruchom zaznaczony obszar w oknie IPythona","jupyter.command.jupyter.runcell.title":"Uruchom komórki","jupyter.command.jupyter.selectjupyteruri.title":"Podaj identyfikator URI serwera Jupyter","jupyter.command.jupyter.importnotebook.title":"Importuj notatnik Jupyter","jupyter.command.jupyter.importnotebookonfile.title":"Importuj notatnik Jupyter","jupyter.command.jupyter.exportoutputasnotebook.title":"Eksportuj okno IPython jako notatnik Jupyter","jupyter.command.jupyter.exportfileasnotebook.title":"Eksportuj bieżący plik Pythona jako notatnik Jupytera","jupyter.command.jupyter.exportfileandoutputasnotebook.title":"Eksportuj bieżący plik Pythona i jego wyniki jako notatnik Jupytera","jupyter.command.jupyter.undocells.title":"Cofnij ostatnią akcję IPythona","jupyter.command.jupyter.redocells.title":"Ponów ostatnią akcję IPythona","jupyter.command.jupyter.removeallcells.title":"Usuń wszystkie komórki IPythona","jupyter.command.jupyter.interruptkernel.title":"Przerwij Jupyter Kernel","jupyter.command.jupyter.restartkernel.title":"Restartuj Jupyter Kernel","jupyter.command.jupyter.expandallcells.title":"Rozwiń wszystkie komórki IPythona","jupyter.command.jupyter.collapseallcells.title":"Zwiń wszystkie komórki IPythona"}')},14114:e=>{"use strict";e.exports=JSON.parse('{"ExtensionSurveyBanner.bannerLabelYes":"Да, открыть опрос сейчас","ExtensionSurveyBanner.bannerLabelNo":"Нет, спасибо","ExtensionSurveyBanner.maybeLater":"Может быть, позже","ExtensionSurveyBanner.bannerMessage":"Не могли бы вы потратить пару минут на опрос о языковом сервере Pylance?","Pylance.proposePylanceMessage":"Попробуйте новый языковый сервер для Python от Microsoft: Pylance! Установите расширение Pylance.","Pylance.tryItNow":"Да, хочу","Pylance.remindMeLater":"Напомните позже","Pylance.installPylanceMessage":"Расширение Pylance не установлено. Нажмите Да чтобы открыть страницу установки Pylance.","Pylance.pylanceNotInstalledMessage":"Расширение Pylance не установлено.","Pylance.pylanceInstalledReloadPromptMessage":"Расширение Pylance установлено. Перезагрузить окно для его активации?"}')},75647:e=>{"use strict";e.exports=JSON.parse('{"jupyter.command.jupyter.exportAsPythonScript.title":"导出为 Python 脚本","jupyter.command.jupyter.exportToHTML.title":"导出为 HTML","jupyter.command.jupyter.exportToPDF.title":"导出为 PDF","DataScience.checkingIfImportIsSupported":"检查是否支持 import","DataScience.installingMissingDependencies":"安装缺失的依赖","DataScience.exportNotebookToPython":"导出笔记本到 Python","DataScience.performingExport":"执行导出","DataScience.convertingToPDF":"转换为 PDF","DataScience.exportHTMLQuickPickLabel":"HTML","DataScience.exportPDFQuickPickLabel":"PDF","DataScience.openExportedFileMessage":"是否打开导出的文件？","DataScience.openExportFileYes":"是","DataScience.openExportFileNo":"否","DataScience.failedExportMessage":"导出失败。","DataScience.exportFailedGeneralMessage":"详情请查看 \'Jupyter\' [输出](command:jupyter.viewOutput)面板。","DataScience.exportToPDFDependencyMessage":"如果还没有安装 xelatex (TeX)，你需要在导出到 PDF 之前安装它，更多说明请访问 https://nbconvert.readthedocs.io/en/latest/install.html#installing-tex。\\r\\n如果不想安装 xelatex (TeX)，可以尝试导出为 HTML，并使用浏览器的\\"打印至 PDF\\"功能。","DataScience.insecureSessionMessage":"不使用 token 的 HTTP 连接可能是不安全的连接。是否连接到一个可能不安全的服务器？","DataScience.insecureSessionDenied":"拒绝连接到不安全的服务器。","DataScience.installPython":"Python 未安装。\\n请[下载](https://www.python.org/downloads)并安装 Python 以运行本笔记本中的单元。","DataScience.installPythonNonMarkdown":"Python 未安装。\\n请从 https://www.python.org/downloads 下载并安装 Python 以运行本笔记本中的单元。","DataScience.installKernel":"需要安装 Jupyter 内核 \'{0}\' 以运行本笔记本中的单元。","DataScience.customizeLayout":"自定义布局","jupyter.command.jupyter.viewLanguageServerOutput.title":"显示语言服务器输出","jupyter.command.jupyter.selectAndRunTestMethod.title":"运行测试方法...","jupyter.command.jupyter.selectAndDebugTestMethod.title":"调试测试方法...","jupyter.command.jupyter.selectAndRunTestFile.title":"运行测试文件...","jupyter.command.jupyter.runCurrentTestFile.title":"运行当前测试文件","jupyter.command.jupyter.runFailedTests.title":"运行失败的测试","jupyter.command.jupyter.discoverTests.title":"导入测试","jupyter.command.jupyter.discoveringTests.title":"导入中...","jupyter.command.jupyter.stopTests.title":"停止","jupyter.command.jupyter.configureTests.title":"配置测试","jupyter.command.jupyter.execSelectionInTerminal.title":"在 Python 终端中运行选择部分/行","jupyter.command.jupyter.execSelectionInDjangoShell.title":"在 Django Shell 中运行选择部分/行","jupyter.command.jupyter.goToPythonObject.title":"转到 Python 对象","jupyter.command.jupyter.setLinter.title":"选择代码检查器","jupyter.command.jupyter.enableLinting.title":"启用代码检查器","jupyter.command.jupyter.runLinting.title":"运行代码检查","jupyter.command.jupyter.runFileInteractive.title":"在交互式窗口中运行当前文件","jupyter.command.jupyter.debugFileInteractive.title":"在交互式窗口中调试当前文件","jupyter.command.jupyter.runallcells.title":"运行所有单元","jupyter.command.jupyter.notebookeditor.expandallcells.title":"展开所有笔记本单元","jupyter.command.jupyter.notebookeditor.collapseallcells.title":"折叠所有笔记本单元","jupyter.command.jupyter.runallcellsabove.title":"运行本单元上方单元","jupyter.command.jupyter.runcellandallbelow.title":"运行本单元及下方单元","jupyter.command.jupyter.runallcellsabove.palette.title":"运行本单元上方的所有单元","jupyter.command.jupyter.runcurrentcellandallbelow.palette.title":"运行本单元及下方的所有单元","jupyter.command.jupyter.debugcurrentcell.palette.title":"调试当前单元","jupyter.command.jupyter.debugcell.title":"调试单元","jupyter.command.jupyter.debugstepover.title":"运行至下一行","jupyter.command.jupyter.debugcontinue.title":"继续","jupyter.command.jupyter.debugstop.title":"停止","jupyter.command.jupyter.runtoline.title":"在交互式窗口中运行到此行","jupyter.command.jupyter.runfromline.title":"在交互式窗口中从此行运行","jupyter.command.jupyter.runcurrentcell.title":"运行当前单元","jupyter.command.jupyter.runcurrentcelladvance.title":"运行当前单元并跳转到下一单元","jupyter.command.jupyter.execSelectionInteractive.title":"在交互式窗口中运行选择部分/行","jupyter.command.jupyter.runcell.title":"运行单元","jupyter.command.jupyter.insertCellBelowPosition.title":"在某位置下方插入单元","jupyter.command.jupyter.insertCellBelow.title":"在下方插入单元","jupyter.command.jupyter.insertCellAbove.title":"在上方插入单元","jupyter.command.jupyter.deleteCells.title":"删除所选单元","jupyter.command.jupyter.selectCell.title":"选择单元","jupyter.command.jupyter.selectCellContents.title":"选择单元内容","jupyter.command.jupyter.extendSelectionByCellAbove.title":"展开所选上方单元","jupyter.command.jupyter.extendSelectionByCellBelow.title":"展开所选下方单元","jupyter.command.jupyter.moveCellsUp.title":"向上移动所选单元","jupyter.command.jupyter.moveCellsDown.title":"向下移动所选单元","jupyter.command.jupyter.changeCellToMarkdown.title":"将单元改为 Markdown","jupyter.command.jupyter.changeCellToCode.title":"将单元改为代码","jupyter.command.jupyter.gotoNextCellInFile.title":"转到下一个单元","jupyter.command.jupyter.gotoPrevCellInFile.title":"转到上一个单元","jupyter.command.jupyter.showhistorypane.title":"显示互动窗口","jupyter.command.jupyter.createnewinteractive.title":"创建交互式窗口","jupyter.command.jupyter.selectjupyteruri.title":"指定本地或远程 Jupyter 服务器的连接","DataScience.jupyterNativeNotebookUriStatusLabelForLocal":"Jupyter 服务器：本地","DataScience.jupyterNativeNotebookUriStatusLabelForRemote":"Jupyter 服务器：远程","jupyter.command.jupyter.selectjupytercommandline.title":"指定 Jupyter 命令行参数","jupyter.command.jupyter.importnotebook.title":"导入 Jupyter 笔记本","jupyter.command.jupyter.importnotebookfile.title":"转换为 Python 脚本","jupyter.command.jupyter.exportoutputasnotebook.title":"将交互式窗口导出为 Jupyter Notebook","jupyter.command.jupyter.exportfileasnotebook.title":"将当前的 Python 文件导出为 Jupyter Notebook","jupyter.command.jupyter.exportfileandoutputasnotebook.title":"将当前的 Python 文件和输出导出为 Jupyter Notebook","jupyter.command.jupyter.undocells.title":"撤消最后一个互动性动作","jupyter.command.jupyter.redocells.title":"重做最后一个互动性动作","jupyter.command.jupyter.removeallcells.title":"删除所有交互式单元","jupyter.command.jupyter.notebookeditor.removeallcells.title":"删除所有笔记本编辑器单元","jupyter.command.jupyter.notebookeditor.addcellbelow.title":"添加空单元到笔记本文件","jupyter.command.jupyter.notebookeditor.keybind.undo.title":"撤销","jupyter.command.jupyter.notebookeditor.keybind.save.title":"保存","jupyter.command.jupyter.interruptkernel.title":"中止 Jupyter 内核","jupyter.command.jupyter.interruptkernel.shorttitle":"中止","jupyter.command.jupyter.restartkernel.title":"重新启动 Jupyter 内核","jupyter.command.jupyter.restartkernel.shorttitle":"重启","jupyter.command.jupyter.expandallcells.title":"展开所有交互式单元","jupyter.command.jupyter.collapseallcells.title":"折叠所有交互式单元","jupyter.command.jupyter.expandallcells.shorttitle":"展开","jupyter.command.jupyter.collapseallcells.shorttitle":"折叠","jupyter.command.jupyter.addcellbelow.title":"添加空单元到文件","jupyter.command.jupyter.scrolltocell.title":"滚动至单元","jupyter.command.jupyter.selectJupyterInterpreter.title":"选择解释器来启动 Jupyter 服务器","jupyter.command.jupyter.enableDebugLogging.title":"启用调试日志","jupyter.command.jupyter.resetLoggingLevel.title":"重置记录级别","jupyter.command.jupyter.showDataViewer.title":"在数据查看器中查看数据","jupyter.command.jupyter.viewOutput.title":"显示输出","jupyter.command.jupyter.clearSavedJupyterUris.title":"清除 Jupyter 服务器列表","jupyter.command.jupyter.openVariableView.title":"打开 Jupyter 变量视图","jupyter.command.jupyter.openVariableView.shorttitle":"变量表","Datascience.currentlySelectedJupyterInterpreterForPlaceholder":"当前：{0}","jupyter.command.jupyter.analysis.clearCache.title":"清除模块分析缓存","jupyter.command.jupyter.analysis.restartLanguageServer.title":"重新启动语言服务器","Pylance.proposePylanceMessage":"试试微软新的更快、功能丰富的 Python 语言服务器 Pylance！立即安装该扩展。","Pylance.tryItNow":"立即安装","Pylance.remindMeLater":"以后提醒","Pylance.installPylanceMessage":"Pylance 扩展未安装。点击\\"是\\"打开 Pylance 安装页面。","Pylance.pylanceNotInstalledMessage":"Pylance 扩展未安装。","Pylance.pylanceInstalledReloadPromptMessage":"Pylance 扩展现已安装。重新加载窗口以激活？","DataScience.unknownMimeTypeFormat":"目前不支持 MIME 类型 {0}。","DataScience.historyTitle":"互动式","DataScience.dataExplorerTitle":"数据查看器","DataScience.badWebPanelFormatString":"<html><body><h1>{0} 不是一个有效的文件名</h1></body></html>","DataScience.sessionDisposed":"无法执行代码，会话已被销毁。","DataScience.rawKernelProcessNotStarted":"原始内核进程无法启动。","DataScience.rawKernelProcessExitBeforeConnect":"原始内核进程在连接前退出。","DataScience.passwordFailure":"连接到受密码保护的服务器失败。请检查密码是否正确。","DataScience.exportDialogTitle":"导出到 Jupyter Notebook","DataScience.exportDialogFilter":"Jupyter 笔记本","DataScience.exportDialogComplete":"笔记本已写入 {0}","DataScience.exportDialogFailed":"笔记本导出失败。 {0}","DataScience.exportOpenQuestion1":"在编辑器中打开","DataScience.notebookExport":"导出","DataScience.exportAsNotebook.shorttitle":"保存","DataScience.exportAs":"导出为","DataScience.notebookExportAs":"导出为","DataScience.notebookExportAs.shorttitle":"导出","DataScience.exportAsQuickPickPlaceholder":"导出为...","DataScience.exportPythonQuickPickLabel":"Python 脚本","DataScience.collapseInputTooltip":"折叠输入","DataScience.collapseVariableExplorerTooltip":"隐藏 jupyter 内核中的活跃变量","DataScience.collapseVariableExplorerLabel":"变量","DataScience.expandVariableExplorerTooltip":"在 jupyter 内核中显示活跃的变量","DataScience.close":"关闭","DataScience.interactiveCopyCell":"复制单元","DataScience.variableLoadingValue":"正在加载...","DataScience.importDialogTitle":"导入 Jupyter 笔记本","DataScience.importDialogFilter":"Jupyter 笔记本","DataScience.notebookCheckForImportYes":"导入","DataScience.reloadRequired":"请重新加载窗口以使新设置生效。","DataScience.notebookCheckForImportNo":"以后提醒","DataScience.notebookCheckForImportDontAskAgain":"不再提醒","DataScience.notebookCheckForImportTitle":"是否把 Jupyter Notebook 导入到 Python 代码中？","DataScience.jupyterNotSupported":"无法启动 Jupyter。试图定位jupyter时出错：{0}","DataScience.jupyterNotSupportedBecauseOfEnvironment":"激活 {0} 以运行 Jupyter 失败，{1}。","DataScience.jupyterNbConvertNotSupported":"导入笔记本需要安装 Jupyter nbconvert。","DataScience.jupyterLaunchNoURL":"找不到打开的 Jupyter 笔记本服务器的 URL","DataScience.jupyterLaunchTimedOut":"Jupyter 笔记本服务器未能及时启动","DataScience.jupyterSelfCertFail":"服务器 {0} 使用的安全证书不是由受信任的证书颁发机构颁发的。\\r\\n这表明可能有人试图窃取你的信息。\\r\\n是否为这个工作区启用 Allow Unauthorized Remote Connection 设置以允许连接？","DataScience.jupyterSelfCertEnable":"是，始终连接","DataScience.jupyterSelfCertClose":"否，关闭连接","DataScience.jupyterServerCrashed":"Jupyter 服务器崩溃，无法连接。\\r\\n来自 jupyter 的错误代码：{0}","DataScience.rawConnectionDisplayName":"直接内核连接","DataScience.rawConnectionBrokenError":"直接内核连接中断","DataScience.pythonInteractiveHelpLink":"获取更多帮助","DataScience.markdownHelpInstallingMissingDependencies":"请参阅 [https://aka.ms/pyaiinstall](https://aka.ms/pyaiinstall) 获取安装 Jupyter 和相关依赖关系的帮助。","DataScience.importingFormat":"导入 {0}","DataScience.startingJupyter":"启动 Jupyter 服务器","DataScience.connectingToJupyter":"连接到 Jupyter 服务器","DataScience.connectingToKernel":"连接到内核：{0}","DataScience.connectedToKernel":"已连接。","DataScience.connected":"已连接","DataScience.disconnected":"连接断开","Experiments.inGroup":"用户属于实验组 \'{0}\'","Logging.CurrentWorkingDirectory":"cwd:","Logging.WarnUserAboutDebugLoggingSetting":"您已经为 Jupyter 扩展启用了调试日志，它将继续向磁盘写入日志。是否关闭调试日志？","Logging.YesTurnOffDebugLogging":"是，关闭调试日志","Logging.NoResponse":"否","Logging.NoAndDontAskAgain":"否，不再询问","GitHubIssue.Failure":"提交 GitHub issue 时出错。是否继续报告 issue？","GitHubIssue.copyToClipboardAndOpenIssue":"是，将内容复制到剪贴板并打开 issue","GitHubIssue.pleaseFillThisOut":"在提交 issue 前，请填写此部分内容并删除此评论！","GitHubIssue.missingFields":"在点击提交 GitHub Issue 之前，请提供问题的详细信息。","GitHubIssue.askForIssueTitle":"请提供一个概述问题的描述性标题。","GitHubIssue.titlePlaceholder":"例：无法启动本地内核会话","Common.bannerLabelYes":"是","Common.bannerLabelNo":"否","Common.doNotShowAgain":"不再显示","Common.reload":"重新加载","Common.moreInfo":"更多信息","Common.and":"和","Common.download":"下载","Common.ok":"好的","Common.install":"安装","Common.reInstall":"重新安装","Common.learnMore":"了解更多","Common.reportThisIssue":"报告 issue","CommonSurvey.remindMeLaterLabel":"以后提醒","CommonSurvey.yesLabel":"是，现在就接受调查","CommonSurvey.noLabel":"不，谢谢","OutputChannelNames.languageServer":"Python 语言服务器","OutputChannelNames.python":"Python","OutputChannelNames.pythonTest":"Python 测试日志","OutputChannelNames.jupyter":"Jupyter","ExtensionSurveyBanner.bannerMessage":"请您花2分钟时间告诉我们 Python 扩展是否为您工作？","ExtensionSurveyBanner.bannerLabelYes":"是，现在就接受调查","ExtensionSurveyBanner.bannerLabelNo":"不，谢谢","ExtensionSurveyBanner.maybeLater":"以后再说","DataScience.restartKernelMessage":"是否重新启动 Jupyter 内核？所有的变量都会丢失。","DataScience.restartKernelMessageYes":"是","DataScience.restartKernelMessageNo":"否","DataScience.restartingKernelFailed":"内核重启失败。Jupyter服务器被挂起。请重新加载VS代码。","DataScience.interruptingKernelFailed":"内核中止失败。Jupyter服务器被挂起。请重新加载VS代码。","DataScienceSurveyBanner.bannerMessage":"请您花2分钟时间告诉我们Python数据科学功能对您的作用如何？","DataScienceSurveyBanner.bannerLabelYes":"是，现在就接受调查","DataScienceSurveyBanner.bannerLabelNo":"不，谢谢","InteractiveShiftEnterBanner.bannerMessage":"是否在按下 \'shift-enter\' 时在\'交互式\'窗口（IPython 控制台）中运行代码？选择 \'No\' 继续在 Python 终端中运行代码。这可以之后在设置中更改。","DataScience.restartingKernelStatus":"正在重新启动 内核 {0}","DataScience.executingCode":"正在执行单元","DataScience.collapseAll":"折叠所有单元输入","DataScience.expandAll":"展开所有单元输入","DataScience.export":"导出为 Jupyter 笔记本","DataScience.restartServer":"重新启动 Jupyter 内核","DataScience.undo":"撤销","DataScience.redo":"重做","DataScience.clearAll":"移除所有单元","DataScience.restartedKernelHeader":"已重新启动 \'{0}\' 内核","DataScience.startedNewKernelHeader":"已开启 \'{0}\' 内核","DataScience.connectKernelHeader":"已连接到 \'{0}\' 内核","DataScience.executingCodeFailure":"执行代码失败：{0}","DataScience.inputWatermark":"在这里输入代码并按 shift-enter 运行","DataScience.deleteButtonTooltip":"移除单元","DataScience.gotoCodeButtonTooltip":"转到代码","DataScience.copyBackToSourceButtonTooltip":"将代码粘贴到文件中","DataScience.copyToClipboardButtonTooltip":"将来源复制到剪贴板","DataScience.plotOpen":"展开图片","DataScience.libraryNotInstalled":"数据科学库 {0} 未安装。是否安装？","DataScience.libraryNotInstalledCorrectlyOrOutdated":"数据科学库 {0} 未安装或已过时。是否重新安装？","DataScience.libraryRequiredToLaunchJupyterNotInstalled":"数据科学库 {0} 未安装。","DataScience.librariesRequiredToLaunchJupyterNotInstalled":"数据科学库 {0} 未安装。","DataScience.libraryRequiredToLaunchJupyterNotInstalledInterpreter":"在解释器 {0} 中没有安装数据科学库 {1}。","DataScience.librariesRequiredToLaunchJupyterNotInstalledInterpreter":"在解释器 {0} 中没有安装数据科学库 {1}。","DataScience.jupyterInstall":"安装","DataScience.jupyterSelectURIPrompt":"输入正在运行的 Jupyter 服务器的 URI","DataScience.jupyterSelectURIInvalidURI":"无效的 URI","DataScience.jupyterSelectUserAndPasswordTitle":"请输入用户名和密码以连接到 Jupyter Hub","DataScience.jupyterSelectUserPrompt":"请输入用户名","DataScience.jupyterSelectPasswordPrompt":"请输入密码","DataScience.jupyterNotebookFailure":"Jupyter 笔记本启动失败。\\r\\n{0}","DataScience.jupyterNotebookRemoteConnectSelfCertsFailed":"连接远程 Jupyter 笔记本失败。\\r\\n指定的服务器正在使用自签名的证书。启用 Allow Unauthorized Remote Connection 设置以连接\\r\\n{0}\\r\\n{1}","DataScience.notebookVersionFormat":"Jupyter 笔记本版本：{0}","DataScience.jupyterKernelSpecNotFound":"无法创建 Jupyter kernel spec，没有可用的内核","DataScience.jupyterKernelSpecModuleNotFound":"\'Kernelspec\' 模块在所选解释器 ({0}) 中未安装。\\n请重新安装或更新 \'jupyter\'。","DataScience.jupyterGetVariablesBadResults":"从 Jupyter 服务器获取变量信息失败。","DataScience.liveShareConnectFailure":"无法连接到服务器 Jupyter 会话。未找到 URI。","DataScience.liveShareCannotSpawnNotebooks":"不支持通过实时共享连接生成 Jupyter 笔记本","DataScience.liveShareCannotImportNotebooks":"目前不支持通过实时共享连接导入笔记本","DataScience.liveShareHostFormat":"{0} Jupyter 服务器","DataScience.liveShareSyncFailure":"实时共享启动过程中同步失败。","DataScience.liveShareServiceFailure":"实时共享连接的 \'{0}\' 服务启动失败。","DataScience.documentMismatch":"无法运行单元，发现 {0} 的重复文件。","DataScience.pythonInteractiveCreateFailed":"无法创建\\"交互式\\"窗口。尝试重新安装 Python 扩展。","DataScience.interruptKernel":"中止 Jupyter 内核","DataScience.clearAllOutput":"清除所有输出","DataScience.exportingFormat":"正在导出 {0}","DataScience.exportCancel":"取消","Common.canceled":"已取消","Common.cancel":"取消","Common.yesPlease":"是","DataScience.importChangeDirectoryComment":"{0} 工作目录将从工作区根目录改为 ipynb 文件位置。使用 DataScience.changeDirOnImportExport 设置关闭此功能","DataScience.exportChangeDirectoryComment":"# 将目录改为 VSCode 工作区根目录，以便相对路径加载正确工作。使用 DataScience.changeDirOnImportExport 设置关闭此功能","DataScience.interruptKernelStatus":"中止 Jupyter 内核","DataScience.restartKernelAfterInterruptMessage":"中止内核超时。是否重新启动内核？所有的变量都会丢失。","DataScience.pythonInterruptFailedHeader":"键盘中断使内核崩溃。内核已重新启动。","DataScience.sysInfoURILabel":"Jupyter 服务器 URI： ","DataScience.jupyterStartTimedout":"启动 Jupyter 超时。请检查 \'Jupyter\' 输出面板以了解更多细节。","DataScience.startingJupyterLogMessage":"用命令行 {1} 从 {0} 启动 Jupyter","DataScience.jupyterCommandLineDefaultLabel":"默认(建议)","DataScience.jupyterCommandLineDefaultDetail":"Python 扩展将为 Jupyter 确定适当的命令行","DataScience.jupyterCommandLineCustomLabel":"自定义","DataScience.jupyterCommandLineCustomDetail":"自定义启动时传递给 Jupyter 的命令行","DataScience.jupyterCommandLineReloadQuestion":"更改 Jupyter 命令行时，请重新加载窗口。","DataScience.jupyterCommandLineReloadAnswer":"重新加载","DataScience.jupyterCommandLineQuickPickPlaceholder":"选择一个选项","DataScience.jupyterCommandLineQuickPickTitle":"选择 Jupyter 的命令行","DataScience.jupyterCommandLinePrompt":"输入 Jupyter 的自定义命令行","Common.loadingExtension":"Jupyter 扩展加载中...","Common.openOutputPanel":"显示输出","DataScience.variableExplorerNameColumn":"名称","DataScience.variableExplorerTypeColumn":"种类","DataScience.variableExplorerCountColumn":"大小","DataScience.variableExplorerValueColumn":"值","DataScience.showDataExplorerTooltip":"在数据查看器中显示变量。","DataScience.dataExplorerInvalidVariableFormat":"\'{0}\' 不是活跃变量。","DataScience.jupyterGetVariablesExecutionError":"变量提取失败：\\r\\n{0}","DataScience.loadingMessage":"正在加载...","DataScience.fetchingDataViewer":"正在获取数据...","DataScience.noRowsInDataViewer":"没有符合当前过滤器的记录","DataScience.jupyterServer":"Jupyter 服务器","DataScience.noKernel":"无内核","DataScience.serverNotStarted":"未开始","DataScience.localJupyterServer":"本地","DataScience.pandasTooOldForViewingFormat":"Python 包 \'pandas\' 是 {0} 版本。查看数据需要 0.20 或更高版本。","DataScience.pandasRequiredForViewing":"查看数据需要 Python 包 \'pandas\'。","DataScience.valuesColumn":"值","DataScience.liveShareInvalid":"会话中的一个或多个客户端没有安装 Python [扩展](https://marketplace.visualstudio.com/itemdetails?itemName=ms-toolsai.jupyter)。\\r\\n您的实时共享会话无法继续，将被关闭。","Common.noIWillDoItLater":"不了，以后再做","Common.notNow":"不是现在","Common.gotIt":"知道了！","DataScience.noRowsInVariableExplorer":"没有定义变量","DataScience.tooManyColumnsMessage":"超过 1000 列的变量可能需要很长时间才能显示。是否继续？","DataScience.tooManyColumnsYes":"是","DataScience.tooManyColumnsNo":"否","DataScience.tooManyColumnsDontAskAgain":"不再询问","DataScience.filterRowsTooltip":"可多行过滤。使用 =, >, 或 < 符号来过滤数值。","DataScience.previewHeader":"--- 开始预览 {0} ---","DataScience.previewFooter":"--- 结束预览 {0} ---","DataScience.previewStatusMessage":"生成 {0} 的预览","DataScience.plotViewerTitle":"绘图","DataScience.exportPlotTitle":"保存绘图","DataScience.pdfFilter":"PDF","DataScience.pngFilter":"PNG","DataScience.svgFilter":"SVG","DataScience.previousPlot":"上一个","DataScience.nextPlot":"下一个","DataScience.panPlot":"平面绘图","DataScience.zoomInPlot":"放大","DataScience.zoomOutPlot":"缩小","DataScience.exportPlot":"导出为不同的格式","DataScience.deletePlot":"移除","DataScience.collapseSingle":"折叠","DataScience.expandSingle":"展开","DataScience.editSection":"在这里输入新单元。","DataScience.restartKernelMessageDontAskAgain":"是，不再询问","DataScience.selectedImageListLabel":"选择的图像","DataScience.imageListLabel":"图像","DataScience.exportImageFailed":"导出图像时出错：{0}","downloading.file":"正在下载 {0}...","downloading.file.progress":"{2} 中的 {0}{1} KB ({3}%)","DataScience.jupyterDataRateExceeded":"因为超过了数据频率，所以无法查看变量。请用更高的数据频率限制重新启动服务器。例如 --NotebookApp.iopub_data_rate_limit=10000000000.0","DataScience.addCellBelowCommandTitle":"添加单元","DataScience.debugCellCommandTitle":"调试单元","DataScience.debugStepOverCommandTitle":"运行至下一行","DataScience.debugContinueCommandTitle":"继续","DataScience.debugStopCommandTitle":"停止","DataScience.runCurrentCellAndAddBelow":"运行此单元并在下面添加单元","DataScience.jupyterDebuggerNotInstalledError":"调试单元时需要用到 {0} 模块。您需要安装它来调试单元。","DataScience.jupyterDebuggerOutputParseError":"无法解析 {0} 输出，请打开 https://github.com/microsoft/vscode-jupyter 提交 issue","DataScience.jupyterDebuggerPortNotAvailableError":"端口 {0} 不能被打开进行调试。请在 remoteDebuggerPort 设置中指定不同的端口。","DataScience.jupyterDebuggerPortBlockedError":"不能连接到 {0} 端口进行调试，请允许 {0} 端口通过您的防火墙。","DataScience.jupyterDebuggerPortNotAvailableSearchError":"在 {0}-{1} 范围内的端口无法找到调试用的端口，请在 remoteDebuggerPort 设置中指定端口。","DataScience.jupyterDebuggerPortBlockedSearchError":"不能连接到某个端口进行调试，请让 {0}-{1} 端口通过防火墙。","DataScience.jupyterDebuggerInstallNew":"调试单元时需要用到 {0} 模块。安装 {0} 并继续调试单元？","DataScience.jupyterDebuggerInstallNewRunByLine":"按行运行需要 {0} 模块。安装 {0} 后继续按行运行？","DataScience.jupyterDebuggerInstallUpdate":"安装的 {0} 版本不支持调试单元。更新 {0} 到最新版本，继续调试单元？","DataScience.jupyterDebuggerInstallUpdateRunByLine":"安装的 {0} 版本不支持按行运行。更新 {0} 到最新版本，并继续按行运行？","DataScience.jupyterDebuggerInstallYes":"是","DataScience.jupyterDebuggerInstallNo":"否","DataScience.instructionComments":"# 要添加一个新单元，输入 \'{0}\'\\n# 要添加一个新的标记单元，输入 \'{0} [markdown]\'\\n","DataScience.scrollToCellTitleFormatMessage":"转到 [{0}]","DataScience.save":"保存笔记本","DataScience.nativeEditorTitle":"笔记本编辑器","DataScience.untitledNotebookFileName":"Untitled","DataScience.dirtyNotebookMessage1":"是否保存对 {0} 的修改？","DataScience.dirtyNotebookMessage2":"如果不保存，所有更改将会丢失。","DataScience.dirtyNotebookYes":"保存","DataScience.dirtyNotebookNo":"不保存","DataScience.dirtyNotebookCancel":"取消","DataScience.dirtyNotebookDialogTitle":"保存","DataScience.dirtyNotebookDialogFilter":"Jupyter 笔记本","DataScience.exportAsPythonFileTooltip":"转换并保存为 python 脚本","DataScience.exportAsPythonFileTitle":"保存为 Python 文件","DataScience.exportButtonTitle":"导出","DataScience.runCell":"运行单元","DataScience.deleteCell":"删除单元","DataScience.moveCellUp":"向上移动单元","DataScience.moveCellDown":"向下移动单元","DataScience.moveSelectedCellUp":"向上移动所选单元","DataScience.insertBelow":"在下方插入单元","DataScience.insertAbove":"在上方插入单元","DataScience.addCell":"添加单元","DataScience.runAll":"运行所有单元","DataScience.toggleCellOutput":"切换单元输出","DataScience.convertingToPythonFile":"将 ipynb 转换为 python 文件","DataScience.untitledNotebookMessage":"如果不保存，所有更改将会丢失。","DataScience.untitledNotebookYes":"保存","DataScience.untitledNotebookNo":"取消","DataScience.noInterpreter":"未选择 python","DataScience.notebookNotFound":"python -m jupyter notebook --version 无法运行","DataScience.savePngTitle":"保存图像","DataScience.jupyterSelectURIQuickPickTitle":"选择如何连接到 Jupyter","DataScience.jupyterSelectURIQuickPickPlaceholder":"选择一个选项","DataScience.jupyterSelectURIQuickPickCurrent":"当前：{0}","DataScience.jupyterSelectURINewLabel":"现有的","DataScience.jupyterSelectURINewDetail":"指定一个现有服务器的 URI","DataScience.jupyterSelectURIMRUDetail":"最后连接：{0}","DataScience.jupyterSelectURIRunningDetailFormat":"最后活动 {0}。{1} 现有连接。","DataScience.jupyterSelectURINotRunningDetail":"目前无法连接。状态不明。","DataScience.fallbackToUseActiveInterpeterAsKernel":"找不到笔记本创建时使用的内核 \'{0}\'。切换使用当前解释器。","DataScience.fallBackToRegisterAndUseActiveInterpeterAsKernel":"找不到笔记本创建时使用的内核 \'{0}\'。切换使用当前解释器注册的新内核。","DataScience.fallBackToPromptToUseActiveInterpreterOrSelectAKernel":"找不到创建笔记本的内核 \'{0}\'。","DataScience.selectKernel":"选择一个内核","DataScience.selectDifferentKernel":"选择不同的内核","DataScience.selectDifferentJupyterInterpreter":"选择不同的解释器","DataScience.selectJupyterInterpreter":"选择一个解释器来启动 Jupyter","DataScience.switchingKernelProgress":"将内核切换到 \'{0}\'","DataScience.sessionStartFailedWithKernel":"内核 \'{0}\' 会话启动失败。\\n查看 Jupyter [日志](command:jupyter.viewOutput)了解更多细节。","DataScience.kernelDied":"内核已被中止。查看 Jupyter [日志](command:jupyter.viewOutput)了解更多细节。\\n错误：{0}...","DataScience.waitingForJupyterSessionToBeIdle":"等待 Jupyter Session 闲置","DataScience.gettingListOfKernelsForLocalConnection":"正在获取内核","DataScience.gettingListOfKernelsForRemoteConnection":"正在获取内核","DataScience.gettingListOfKernelSpecs":"正在获取内核 spec","DataScience.startingJupyterNotebook":"正在启动 Jupyter 笔记本","DataScience.registeringKernel":"正在注册内核","DataScience.trimmedOutput":"\\n要查看完整的输出，请将 \\"jupyter.textOutputLimit\\" 设置为 0。","DataScience.connectingToJupyterUri":"连接到位于 {0} 的 Jupyter 服务器","DataScience.createdNewNotebook":"{0}：创建新的笔记本 ","DataScience.createdNewKernel":"{0}：内核已启动：{1}","DataScience.kernelInvalid":"内核 {0} 不能使用。查看 Jupyter 输出标签页了解更多信息。","DataScience.nativeDependencyFail":"无法启动 jupyter 服务器，不支持该操作系统。若想继续，请选择一个正在运行的服务器。{0}","DataScience.selectNewServer":"选择正在运行的服务器","DataScience.jupyterSelectURIRemoteLabel":"现有的","DataScience.jupyterSelectURIQuickPickTitleRemoteOnly":"选择一个正在运行的 jupyter 服务器","DataScience.jupyterSelectURIRemoteDetail":"指定一个现有服务器的 URI","DataScience.latestExtension":"下载最新版本的 Jupyter 扩展","DataScience.loadClassFailedWithNoInternet":"加载错误 {0}:{1}。需要连接互联网才能加载第三方控件。","DataScience.useCDNForWidgets":"控件需要从第三方网站下载支持文件。点击[这里](https://aka.ms/PVSCIPyWidgets)获取更多信息。","DataScience.loadThirdPartyWidgetScriptsPostEnabled":"改变 \\"jupyter.widgetScriptSources\\" 的设置后请重新启动内核。","DataScience.enableCDNForWidgetsSettingHtml":"控件需要从第三方网站下载支持文件。点击<a href=\'https://command:jupyter.enableLoadingWidgetScriptsFromThirdPartySource\'>这里</a>启用此功能，或点击<a href=\'https://aka.ms/PVSCIPyWidgets\'>这里</a>获取更多信息。（加载错误 {0}:{1}）。","DataScience.enableCDNForWidgetsSetting":"控件需要从第三方网站下载支持文件。（加载错误 {0}:{1}）。","DataScience.enableCDNForWidgetsButton":"启用下载","DataScience.unhandledMessage":"来自控件未处理的内核消息：{0} : {1}","DataScience.qgridWidgetScriptVersionCompatibilityWarning":"无法加载 \'qgrid\' 控件的兼容版本，请考虑降级到 1.1.1 版本。","DataScience.kernelStarted":"启动内核 {0}","DataScience.kernelStarting":"_正在连接到内核..._","DataScience.kernelStartingCustom":"_正在连接到 {0}..._","DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreter":"{0} 需要安装 {1}。","DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreterAndRequiresUpdate":"运行含有 \'{0}\' 的单元需要安装或更新 {1}。","DataScience.runByLine":"逐行运行 (F10)","DataScience.stopRunByLine":"停止","DataScience.couldNotInstallLibrary":"无法安装 {0}。如果 pip 不可用，请使用你所选择的包管理器来手动安装这个库到你的 Python 环境中。","DataScience.rawKernelSessionFailed":"无法为内核 {0} 启动会话。请选择另一个内核来启动。","DataScience.rawKernelConnectingSession":"连接到内核 {0}","DataScience.reloadCustomEditor":"请重新加载 VS Code 以使用自定义编辑器 API","DataScience.reloadVSCodeNotebookEditor":"请重新加载 VS Code 来使用笔记本编辑器","DataScience.step":"运行下一行 (F10)","DataScience.usingPreviewNotebookWithOtherNotebookWarning":"不建议在预览笔记本编辑器和稳定笔记本编辑器中打开同一个文件。这样做可能导致数据丢失或笔记本损坏。","DataScience.unknownServerUri":"不能使用服务器 URI。您是否卸载了提供 Jupyter 服务器连接的扩展？","DataScienceRendererExtension.installingExtension":"正在安装笔记本渲染器扩展...","DataScienceRendererExtension.installationCompleteMessage":"完成。","DataScienceRendererExtension.startingDownloadOutputMessage":"开始下载笔记本渲染器扩展。","DataScienceRendererExtension.downloadingMessage":"正在下载笔记本渲染器扩展...","DataScienceRendererExtension.downloadCompletedOutputMessage":"笔记本渲染器扩展下载完成。","DataScience.uriProviderDescriptionFormat":"{0} （来自 {1} 扩展）","DataScience.unknownPackage":"未知","DataScience.interactiveWindowTitle":"Interactive","DataScience.interactiveWindowTitleFormat":"Interactive - {0}","DataScience.interactiveWindowModeBannerTitle":"是否为这个文件打开一个新的交互式窗口？[更多信息](command:workbench.action.openSettings?%5B%22jupyter.interactiveWindowMode%22%5D)。","DataScience.interactiveWindowModeBannerSwitchYes":"是","DataScience.interactiveWindowModeBannerSwitchAlways":"总是","DataScience.interactiveWindowModeBannerSwitchNo":"否","DataScience.ipykernelNotInstalled":"IPyKernel 没有安装到解释器 {0}","DataScience.needIpykernel6":"此功能需安装 IPyKernel","DataScience.setup":"安装","DataScience.startingRunByLine":"开始按行运行","DataScience.illegalEditorConfig":"CustomEditor 和 NativeNotebook 实验不能同时开启","DataScience.pythonExtensionRequired":"执行该任务需要 Python 扩展。点击 \\"是\\" 打开 Python 扩展的安装页面。","DataScience.pythonExtensionRequiredToRunNotebook":"需要安装 Python 扩展来运行 Python 笔记本。","DataScience.pythonExtensionInstalled":"Python 扩展已安装。在笔记本或交互式窗口会话重新启动之前，某些功能可能无法使用。","DataScience.showDataViewerFail":"创建数据查看器失败。查看输出窗口的 Jupyter 标签页了解更多信息。","DataScience.notebookCreationPickerPlaceHolder":"选择创建新笔记本的方式","DataScience.refreshDataViewer":"刷新数据浏览器","DataScience.refreshDataViewerCommandPalette":"刷新数据浏览器","DataScience.sliceDropdownAxisLabel":"Axis","DataScience.sliceDropdownIndexLabel":"Index","DataScience.sliceSubmitButton":"应用","DataScience.sliceSummaryTitle":"SLICING","DataScience.dataViewerShowFilters":"显示过滤器","DataScience.dataViewerHideFilters":"隐藏过滤器","DataScience.sliceData":"切分数据","DataScience.sliceIndexError":"Index {0} 超出了含有 {2} 个元素的 axis {1} 的范围","DataScience.sliceMismatchedAxesError":"应有 {0} 轴，但在切片表达式中得到了 {1}","DataScience.clearFilters":"清空过滤器","DataScience.defaultNotebookName":"default","DataScience.recommendExtensionForNotebook":"建议给含有 \'{1}\' 语言的笔记本安装 {0} 扩展","DataScience.interactiveClearAllCells":"删除所有单元","DataScience.interactiveRemoveCell":"删除单元","DataScience.interactiveGoToCode":"跳转到代码","DataScience.kernelWasNotStarted":"内核未启动，调试需要一个会话。","DataScience.noNotebookToDebug":"没有激活的笔记本可供调试。","DataScience.cantStartDebugging":"无法开始调试。","DataScience.customEditorBanner":"此编辑器已废弃并将在 VS Code 1.59 中移除。 [了解更多新笔记本编辑器的内容](https://aka.ms/vscodeNotebookEditorBanner)."}')},17063:e=>{"use strict";e.exports=JSON.parse('{"jupyter.command.jupyter.viewOutput.title":"顯示輸出","Experiments.inGroup":"使用者屬於 \\"{0}\\" 實驗性群組","Logging.CurrentWorkingDirectory":"cwd:","Common.doNotShowAgain":"不再顯示","Common.reload":"重新載入","Common.moreInfo":"更多資訊","OutputChannelNames.jupyter":"Jupyter","ExtensionSurveyBanner.bannerMessage":"請問您是否可以用兩分鐘的時間，告訴我們 Python 延伸模組在您環境中的運作情況？","ExtensionSurveyBanner.bannerLabelYes":"是，現在填寫調查","ExtensionSurveyBanner.bannerLabelNo":"不了，謝謝","ExtensionSurveyBanner.maybeLater":"等一下","InteractiveShiftEnterBanner.bannerMessage":"您想在按下 shift+enter 時於互動式視窗（IPython控制台）中執行程式碼嗎？選擇 No 以繼續在 Python 終端機執行。這項設定可稍後在設定中修改","InteractiveShiftEnterBanner.bannerLabelYes":"是","InteractiveShiftEnterBanner.bannerLabelNo":"否","Common.canceled":"已取消","Common.cancel":"取消","Common.openOutputPanel":"顯示輸出","Common.noIWillDoItLater":"否，我稍候再做","Common.notNow":"先不要","Common.gotIt":"懂了！","downloading.file":"正在下載 {0}...","downloading.file.progress":"目前 {0}{1}，總共 {2} KB ({3}%)","DataScience.restartingKernelStatus":"正在重新啟動 核心 {0}","DataScience.collapseVariableExplorerLabel":"變數","DataScience.notebookExport":"匯出","DataScience.notebookExportAs.shorttitle":"匯出","DataScience.exportButtonTitle":"匯出","DataScience.exportAs":"匯出為","DataScience.notebookExportAs":"匯出為","DataScience.exportAsQuickPickPlaceholder":"匯出為...","DataScience.runByLine":"逐行執行 (F10)","DataScience.debugCellCommandTitle":"偵錯儲存格","DataScience.exportPythonQuickPickLabel":"Python 指令碼","DataScience.variableExplorerNameColumn":"名稱","DataScience.variableExplorerTypeColumn":"類型","DataScience.variableExplorerCountColumn":"大小","DataScience.variableExplorerValueColumn":"值","DataScience.noRowsInVariableExplorer":"尚未宣告變數","DataScience.clearAllOutput":"清除所有輸出","DataScience.jupyterSelectURIQuickPickTitle":"選擇如何連線到 Jupyter","Datascience.currentlySelectedJupyterInterpreterForPlaceholder":"目前: {0}","DataScience.jupyterSelectURIQuickPickCurrent":"目前: {0}","DataScience.jupyterSelectURIQuickPickPlaceholder":"選擇一個選項","DataScience.jupyterSelectURINewLabel":"現有","DataScience.jupyterSelectURINewDetail":"指定現有伺服器的 URI","DataScience.jupyterSelectURIMRUDetail":"上次連線: {0}","DataScience.jupyterNativeNotebookUriStatusLabelForLocal":"Jupyter 伺服器：本機","DataScience.jupyterNativeNotebookUriStatusLabelForRemote":"Jupyter 伺服器：遠端","DataScience.jupyterSelectURIPrompt":"輸入正在執行的 Jupyter 伺服器 URI","DataScience.importingFormat":"匯入 {0}","DataScience.startingJupyter":"啟動 Jupyter 伺服器","DataScience.connectingToJupyter":"正在連線到 Jupyter 伺服器","DataScience.connectingToKernel":"正在連線到核心：{0}","DataScience.connectedToKernel":"已連線","DataScience.connected":"已連線","DataScience.disconnected":"已中斷連線","DataScience.connectingToJupyterUri":"正在連線到位於 {0} 的 Jupyter 伺服器","DataScience.rawKernelSessionFailed":"無法啟動 {0} 核心的工作階段，請選擇另一個核心以啟動。","DataScience.rawKernelConnectingSession":"正在連線到核心：{0}","jupyter.command.jupyter.interruptkernel.title":"中斷核心","jupyter.command.jupyter.interruptkernel.shorttitle":"中斷","jupyter.command.jupyter.restartkernel.title":"重新啟動核心","jupyter.command.jupyter.restartkernel.shorttitle":"重新啟動","jupyter.command.jupyter.openVariableView.shorttitle":"變數","jupyter.command.jupyter.openVariableView.title":"開啟變數面板","jupyter.command.jupyter.debugcontinue.title":"繼續","jupyter.command.jupyter.debugcell.title":"偵錯儲存格","jupyter.command.jupyter.debugCell.title":"偵錯儲存格","jupyter.command.jupyter.importnotebookfile.title":"將筆記本轉換為 Python 指令碼","jupyter.command.jupyter.exportAsPythonScript.title":"匯出 Python 指令碼","jupyter.command.jupyter.exportToHTML.title":"匯出 HTML","jupyter.command.jupyter.exportToPDF.title":"匯出 PDF","jupyter.command.jupyter.runFileInteractive.title":"在互動式視窗中執行目前檔案","jupyter.command.jupyter.debugFileInteractive.title":"在互動式視窗中偵錯目前檔案","jupyter.command.jupyter.runtoline.title":"在互動式視窗中從此行執行","jupyter.command.jupyter.runfromline.title":"在互動式視窗中執行到此行","jupyter.command.jupyter.execSelectionInteractive.title":"在互動式視窗中執行選取內容/行","jupyter.command.jupyter.clearSavedJupyterUris.title":"清除遠端 Jupyter 伺服器清單","jupyter.command.jupyter.openOutlineView.title":"顯示目錄（大綱欄位）","jupyter.command.jupyter.openOutlineView.shorttitle":"大綱","jupyter.command.jupyter.debug.title":"偵錯","jupyter.command.jupyter.runByLine.title":"逐行執行","jupyter.command.jupyter.runByLineNext.title":"執行下一行","jupyter.command.jupyter.runByLineStop.title":"繼續執行","jupyter.command.jupyter.createnewinteractive.title":"新增互動式視窗","jupyter.command.jupyter.importnotebook.title":"匯入 Jupyter Notebook","jupyter.command.jupyter.resetLoggingLevel.title":"重設紀錄層級","jupyter.command.jupyter.selectJupyterInterpreter.title":"選擇直譯器以啟動 Jupyter 伺服器","jupyter.command.jupyter.selectjupytercommandline.title":"指定 Jupyter 命令列參數","jupyter.command.jupyter.selectjupyteruri.title":"指定本機或遠端 Jupyter 伺服器連線"}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0,void 0===Reflect.metadata&&__webpack_require__(28660),__webpack_require__(24889),__webpack_require__(11642);const t={totalActivateTime:0,codeLoadingTime:0,startActivateTime:0,endActivateTime:0,workspaceFolderCount:0},n=new(__webpack_require__(11386).StopWatch),r=__webpack_require__(66828),o=__webpack_require__(34383),i=__webpack_require__(10053),s=__webpack_require__(11642),a=__webpack_require__(42080),c=__webpack_require__(43138),l=__webpack_require__(25251),u=__webpack_require__(41778),d=__webpack_require__(80772),p=__webpack_require__(58681),h=__webpack_require__(11311),f=__webpack_require__(9086),g=__webpack_require__(24411),m=__webpack_require__(95247),y=__webpack_require__(12234),v=__webpack_require__(63521),b=__webpack_require__(61480),S=__webpack_require__(52064),w=__webpack_require__(15925),C=__webpack_require__(22913),k=__webpack_require__(11642),_=__webpack_require__(51389),I=__webpack_require__(5337),E=__webpack_require__(33796),P=__webpack_require__(75409),D=__webpack_require__(91057),T=__webpack_require__(10499);let x;t.codeLoadingTime=n.elapsedTime,e.activate=async function(e){try{let s,j,M;return[s,j,M]=await async function(e,t,n){const s=(0,c.createDeferred)();try{!function(e){const t={location:r.ProgressLocation.Window,title:l.Common.loadingExtension()};r.window.withProgress(t,(()=>e)).then(p.noop,p.noop)}(s.promise),n.startActivateTime=t.elapsedTime;const[c,d]=function(e){const t=new _.Container({skipBaseClassChecks:!0}),n=new E.ServiceManager(t),r=new I.ServiceContainer(t);return n.addSingletonInstance(u.IServiceContainer,r),n.addSingletonInstance(u.IServiceManager,n),n.addSingletonInstance(a.IDisposableRegistry,e.subscriptions),n.addSingletonInstance(a.IMemento,e.globalState,a.GLOBAL_MEMENTO),n.addSingletonInstance(a.IMemento,e.workspaceState,a.WORKSPACE_MEMENTO),n.addSingletonInstance(a.IExtensionContext,e),[n,r]}(e);x=d,(0,T.initializeGlobals)((()=>Promise.resolve(new Map)));const j=async function(e,t,n){return async function(e,t,n){const o=e.extensionMode===r.ExtensionMode.Development||r.workspace.getConfiguration("jupyter").get("development",!1);t.addSingletonInstance(a.IsDevMode,o),t.addSingletonInstance(a.IsWebExtension,!0),o&&r.commands.executeCommand("setContext","jupyter.development",!0).then(p.noop,p.noop),r.commands.executeCommand("setContext","jupyter.webExtension",!0).then(p.noop,p.noop),function(e,t,n){const o=r.window.createOutputChannel(l.OutputChannelNames.jupyter());(0,k.registerLogger)(new P.OutputChannelLogger(o)),t.addSingletonInstance(a.IOutputChannel,o,w.STANDARD_OUTPUT_CHANNEL),t.addSingletonInstance(a.IOutputChannel,(0,C.getJupyterOutputChannel)(n,e.subscriptions,o),w.JUPYTER_OUTPUT_CHANNEL),t.addSingletonInstance(a.IsCodeSpace,r.env.uiKind==r.UIKind.Web),o.appendLine(`${r.env.appName} (${r.version}, ${r.env.remoteName}, ${r.env.appHost})`),o.appendLine(`Jupyter Extension Version: ${e.extension.packageJSON.version}.`);const i=r.extensions.getExtension(w.PythonExtension);i?o.appendLine(`Python Extension Version: ${i.packageJSON.version}.`):o.appendLine("Python Extension not installed."),r.workspace.workspaceFolders&&0!==r.workspace.workspaceFolders.length?o.appendLine("Opened workspace folder."):o.appendLine("No workspace folder opened.")}(e,t,o),function(){if((0,w.isTestExecution)()){let e;w.isCI||(e="Jupyter Extension:"),(0,k.registerLogger)(new D.ConsoleLogger(e))}}(),(0,h.registerTypes)(t),(0,g.registerTypes)(t,o),(0,f.registerTypes)(t,o),(0,m.registerTypes)(t),(0,y.registerTypes)(t),(0,v.registerTypes)(e,t,o),(0,b.registerTypes)(t);const s=n.get(a.IExperimentService);await s.activate(),s.logExperiments();const c=t.get(i.IApplicationEnvironment),u=t.get(a.IConfigurationService).getSettings();(0,k.setLoggingLevel)(u.logging.level),u.onDidChange((()=>{(0,k.setLoggingLevel)(u.logging.level)})),n.get(i.ICommandManager).executeCommand("setContext","jupyter.vscode.channel",c.channel).then(p.noop,p.noop);const d=n.get(S.IExtensionActivationManager);e.subscriptions.push(d),d.activateSync();const _=d.activate(),I=n.get(a.IFeatureDeprecationManager);return I.initialize(),e.subscriptions.push(I),_}(e,t,n)}(e,c,d);return n.endActivateTime=t.elapsedTime,s.resolve(),[(0,o.buildApi)(j,c,d,e),j,d]}finally{s.completed||s.reject()}}(e,n,t),(0,d.sendStartupTelemetry)(j,t,n,M).ignoreErrors(),await j,s}catch(e){return await async function(e,t){(function(e){try{r.window.showErrorMessage(e).then(p.noop,p.noop)}catch(e){(0,s.traceError)("failed to notify user",e)}})(l.Common.handleExtensionActivationError()),console.error("extension activation failed",e),(0,s.traceError)("extension activation failed",e),await(0,d.sendErrorTelemetry)(e,t,x)}(e,t),(0,s.traceError)("Failed to active the Jupyter Extension",e),{ready:Promise.resolve(),registerPythonApi:p.noop,registerRemoteServerProvider:p.noop,showDataViewer:()=>Promise.resolve(),getKernelService:()=>Promise.resolve(void 0),getSuggestedController:()=>Promise.resolve(void 0),addRemoteJupyterServer:()=>Promise.resolve(void 0)}}},e.deactivate=function(){if(x){const e=x.get(a.IAsyncDisposableRegistry);if(e)return e.dispose()}return Promise.resolve()}})(),module.exports=__webpack_exports__})();
//# sourceMappingURL=extension.web.bundle.js.map